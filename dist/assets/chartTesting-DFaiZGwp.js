import{g as P_}from"./_commonjsHelpers-Cpj98o6Y.js";import{r as E7,j as P7,L as C7,M as k7,N as C_}from"./index-_R1B7CQy.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $1=function(t,e){return $1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},$1(t,e)};function it(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var J=function(){return J=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},J.apply(this,arguments)};function yn(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ch(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function pt(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||e)}function vy(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}var L7=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),D7=function(){function t(){this.browser=new L7,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),kt=new D7;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(kt.wxa=!0,kt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?kt.worker=!0:typeof navigator>"u"||navigator.userAgent.indexOf("Node.js")===0?(kt.node=!0,kt.svgSupported=!0):I7(navigator.userAgent,kt);function I7(t,e){var n=e.browser,r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),a&&(n.edge=!0,n.version=a[1],n.newEdge=+a[1].split(".")[0]>18),o&&(n.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}var k_=12,HL="sans-serif",xo=k_+"px "+HL,R7=20,N7=100,B7="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function F7(t){var e={};if(typeof JSON>"u")return e;for(var n=0;n<t.length;n++){var r=String.fromCharCode(n+32),i=(t.charCodeAt(n)-R7)/N7;e[r]=i}return e}var j7=F7(B7),kh={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(n,r){if(!t){var i=kh.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==r&&(e=t.font=r||xo),t.measureText(n);n=n||"",r=r||xo;var a=/((?:\d+)?\.?\d*)px/.exec(r),o=a&&+a[1]||k_,s=0;if(r.indexOf("mono")>=0)s=o*n.length;else for(var l=0;l<n.length;l++){var c=j7[n[l]];s+=c==null?o:c*o}return{width:s}}}(),loadImage:function(t,e,n){var r=new Image;return r.onload=e,r.onerror=n,r.src=t,r}},YL=Bc(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),VL=Bc(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),Lh=Object.prototype.toString,zg=Array.prototype,z7=zg.forEach,$7=zg.filter,L_=zg.slice,G7=zg.map,wO=(function(){}).constructor,fd=wO?wO.prototype:null,D_="__proto__",W7=2311;function XL(){return W7++}function UL(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function Yt(t){if(t==null||typeof t!="object")return t;var e=t,n=Lh.call(t);if(n==="[object Array]"){if(!af(t)){e=[];for(var r=0,i=t.length;r<i;r++)e[r]=Yt(t[r])}}else if(VL[n]){if(!af(t)){var a=t.constructor;if(a.from)e=a.from(t);else{e=new a(t.length);for(var r=0,i=t.length;r<i;r++)e[r]=t[r]}}}else if(!YL[n]&&!af(t)&&!Lf(t)){e={};for(var o in t)t.hasOwnProperty(o)&&o!==D_&&(e[o]=Yt(t[o]))}return e}function Ee(t,e,n){if(!Mt(e)||!Mt(t))return n?Yt(e):t;for(var r in e)if(e.hasOwnProperty(r)&&r!==D_){var i=t[r],a=e[r];Mt(a)&&Mt(i)&&!ht(a)&&!ht(i)&&!Lf(a)&&!Lf(i)&&!SO(a)&&!SO(i)&&!af(a)&&!af(i)?Ee(i,a,n):(n||!(r in t))&&(t[r]=Yt(e[r]))}return t}function lt(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==D_&&(t[n]=e[n]);return t}function _e(t,e,n){for(var r=Ut(e),i=0;i<r.length;i++){var a=r[i];t[a]==null&&(t[a]=e[a])}return t}function be(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function H7(t,e){var n=t.prototype;function r(){}r.prototype=e.prototype,t.prototype=new r;for(var i in n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);t.prototype.constructor=t,t.superClass=e}function ta(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var a=r[i];a!=="constructor"&&t[a]==null&&(t[a]=e[a])}else _e(t,e)}function vr(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function $(t,e,n){if(t&&e)if(t.forEach&&t.forEach===z7)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function yt(t,e,n){if(!t)return[];if(!e)return R_(t);if(t.map&&t.map===G7)return t.map(e,n);for(var r=[],i=0,a=t.length;i<a;i++)r.push(e.call(n,t[i],i,t));return r}function Bc(t,e,n,r){if(t&&e){for(var i=0,a=t.length;i<a;i++)n=e.call(r,n,t[i],i,t);return n}}function Rn(t,e,n){if(!t)return[];if(!e)return R_(t);if(t.filter&&t.filter===$7)return t.filter(e,n);for(var r=[],i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}function Ut(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function Y7(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return t.apply(e,n.concat(L_.call(arguments)))}}var Ge=fd&&zt(fd.bind)?fd.call.bind(fd.bind):Y7;function un(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(L_.call(arguments)))}}function ht(t){return Array.isArray?Array.isArray(t):Lh.call(t)==="[object Array]"}function zt(t){return typeof t=="function"}function vt(t){return typeof t=="string"}function G1(t){return Lh.call(t)==="[object String]"}function He(t){return typeof t=="number"}function Mt(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function SO(t){return!!YL[Lh.call(t)]}function gr(t){return!!VL[Lh.call(t)]}function Lf(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function I_(t){return t.colorStops!=null}function vv(t){return t!==t}function Df(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t.length;n<r;n++)if(t[n]!=null)return t[n]}function Pt(t,e){return t??e}function $p(t,e,n){return t??e??n}function R_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return L_.apply(t,e)}function qL(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function xi(t,e){if(!t)throw new Error(e)}function Fi(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var ZL="__ec_primitive__";function W1(t){t[ZL]=!0}function af(t){return t[ZL]}var V7=function(){function t(){this.data={}}return t.prototype.delete=function(e){var n=this.has(e);return n&&delete this.data[e],n},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,n){return this.data[e]=n,this},t.prototype.keys=function(){return Ut(this.data)},t.prototype.forEach=function(e){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&e(n[r],r)},t}(),KL=typeof Map=="function";function X7(){return KL?new Map:new V7}var U7=function(){function t(e){var n=ht(e);this.data=X7();var r=this;e instanceof t?e.each(i):e&&$(e,i);function i(a,o){n?r.set(a,o):r.set(o,a)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,n){return this.data.set(e,n),n},t.prototype.each=function(e,n){this.data.forEach(function(r,i){e.call(n,r,i)})},t.prototype.keys=function(){var e=this.data.keys();return KL?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function jt(t){return new U7(t)}function q7(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];for(var i=t.length,r=0;r<e.length;r++)n[r+i]=e[r];return n}function $g(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}return e&&lt(n,e),n}function sc(t,e){return t.hasOwnProperty(e)}function Un(){}var Gp=180/Math.PI;function Fc(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function Z7(t){return[t[0],t[1]]}function OO(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function K7(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Q7(t){return Math.sqrt(J7(t))}function J7(t){return t[0]*t[0]+t[1]*t[1]}function gy(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function t$(t,e){var n=Q7(e);return n===0?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function H1(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var e$=H1;function n$(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Yl=n$;function Kr(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Il(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Rl(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var ol=function(){function t(e,n){this.target=e,this.topTarget=n&&n.topTarget}return t}(),r$=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var n=e.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new ol(n,e),"dragstart",e.event))},t.prototype._drag=function(e){var n=this._draggingTarget;if(n){var r=e.offsetX,i=e.offsetY,a=r-this._x,o=i-this._y;this._x=r,this._y=i,n.drift(a,o,e),this.handler.dispatchToElement(new ol(n,e),"drag",e.event);var s=this.handler.findHover(r,i,n).target,l=this._dropTarget;this._dropTarget=s,n!==s&&(l&&s!==l&&this.handler.dispatchToElement(new ol(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new ol(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new ol(n,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new ol(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}(),Ra=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,n,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof n=="function"&&(i=r,r=n,n=null),!r||!e)return this;var o=this._$eventProcessor;n!=null&&o&&o.normalizeQuery&&(n=o.normalizeQuery(n)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===r)return this;var l={h:r,query:n,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},c=a[e].length-1,u=a[e][c];return u&&u.callAtLast?a[e].splice(c,0,l):a[e].push(l),this},t.prototype.isSilent=function(e){var n=this._$handlers;return!n||!n[e]||!n[e].length},t.prototype.off=function(e,n){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(n){if(r[e]){for(var i=[],a=0,o=r[e].length;a<o;a++)r[e][a].h!==n&&i.push(r[e][a]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=n.length,s=i.length,l=0;l<s;l++){var c=i[l];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(o){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,n[0]);break;case 2:c.h.call(c.ctx,n[0],n[1]);break;default:c.h.apply(c.ctx,n);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=n.length,s=n[o-1],l=i.length,c=0;c<l;c++){var u=i[c];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(o){case 0:u.h.call(s);break;case 1:u.h.call(s,n[0]);break;case 2:u.h.call(s,n[0],n[1]);break;default:u.h.apply(s,n.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t}(),i$=Math.log(2);function Y1(t,e,n,r,i,a){var o=r+"-"+i,s=t.length;if(a.hasOwnProperty(o))return a[o];if(e===1){var l=Math.round(Math.log((1<<s)-1&~i)/i$);return t[n][l]}for(var c=r|1<<n,u=n+1;r&1<<u;)u++;for(var f=0,h=0,d=0;h<s;h++){var p=1<<h;p&i||(f+=(d%2?-1:1)*t[n][h]*Y1(t,e-1,u,c,i|p,a),d++)}return a[o]=f,f}function MO(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},i=Y1(n,8,0,0,0,r);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*Y1(n,7,o===0?1:0,1<<o,1<<s,r)/i*e[o];return function(l,c,u){var f=c*a[6]+u*a[7]+1;l[0]=(c*a[0]+u*a[1]+a[2])/f,l[1]=(c*a[3]+u*a[4]+a[5])/f}}}var TO="___zrEVENTSAVED",yy=[];function a$(t,e,n,r,i){return V1(yy,e,r,i,!0)&&V1(t,n,yy[0],yy[1])}function V1(t,e,n,r,i){if(e.getBoundingClientRect&&kt.domSupported&&!QL(e)){var a=e[TO]||(e[TO]={}),o=o$(e,a),s=s$(o,a,i);if(s)return s(t,n,r),!0}return!1}function o$(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,l=a%2,c=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[c]+":0",r[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),t.appendChild(o),n.push(o)}return n}function s$(t,e,n){for(var r=n?"invTrans":"trans",i=e[r],a=e.srcCoords,o=[],s=[],l=!0,c=0;c<4;c++){var u=t[c].getBoundingClientRect(),f=2*c,h=u.left,d=u.top;o.push(h,d),l=l&&a&&h===a[f]&&d===a[f+1],s.push(t[c].offsetLeft,t[c].offsetTop)}return l&&i?i:(e.srcCoords=o,e[r]=n?MO(s,o):MO(o,s))}function QL(t){return t.nodeName.toUpperCase()==="CANVAS"}var l$=/([&<>"'])/g,c$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function cr(t){return t==null?"":(t+"").replace(l$,function(e,n){return c$[n]})}var u$=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,my=[],f$=kt.browser.firefox&&+kt.browser.version.split(".")[0]<39;function X1(t,e,n,r){return n=n||{},r?AO(t,e,n):f$&&e.layerX!=null&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):e.offsetX!=null?(n.zrX=e.offsetX,n.zrY=e.offsetY):AO(t,e,n),n}function AO(t,e,n){if(kt.domSupported&&t.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(QL(t)){var a=t.getBoundingClientRect();n.zrX=r-a.left,n.zrY=i-a.top;return}else if(V1(my,t,r,i)){n.zrX=my[0],n.zrY=my[1];return}}n.zrX=n.zrY=0}function N_(t){return t||window.event}function Fr(t,e,n){if(e=N_(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var o=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&X1(t,o,e,n)}else{X1(t,e,e,n);var a=h$(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&u$.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function h$(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,r=t.deltaY;if(n==null||r==null)return e;var i=Math.abs(r!==0?r:n),a=r>0?-1:r<0?1:n>0?-1:1;return 3*i*a}function d$(t,e,n,r){t.addEventListener(e,n,r)}function p$(t,e,n,r){t.removeEventListener(e,n,r)}var JL=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0},v$=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,n,r){return this._doTrack(e,n,r),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,n,r){var i=e.touches;if(i){for(var a={points:[],touches:[],target:n,event:e},o=0,s=i.length;o<s;o++){var l=i[o],c=X1(r,l,{});a.points.push([c.zrX,c.zrY]),a.touches.push(l)}this._track.push(a)}},t.prototype._recognize=function(e){for(var n in by)if(by.hasOwnProperty(n)){var r=by[n](this._track,e);if(r)return r}},t}();function EO(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function g$(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var by={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,i=(t[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=EO(r)/EO(i);!isFinite(a)&&(a=1),e.pinchScale=a;var o=g$(r);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}};function Vl(){return[1,0,0,1,0,0]}function B_(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function y$(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Xl(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t}function U1(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function F_(t,e,n,r){r===void 0&&(r=[0,0]);var i=e[0],a=e[2],o=e[4],s=e[1],l=e[3],c=e[5],u=Math.sin(n),f=Math.cos(n);return t[0]=i*f+s*u,t[1]=-i*u+s*f,t[2]=a*f+l*u,t[3]=-a*u+f*l,t[4]=f*(o-r[0])+u*(c-r[1])+r[0],t[5]=f*(c-r[1])-u*(o-r[0])+r[1],t}function m$(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function j_(t,e){var n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5],l=n*o-a*r;return l?(l=1/l,t[0]=o*l,t[1]=-a*l,t[2]=-r*l,t[3]=n*l,t[4]=(r*s-o*i)*l,t[5]=(a*i-n*s)*l,t):null}var me=function(){function t(e,n){this.x=e||0,this.y=n||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,n){return this.x=e,this.y=n,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,n){this.x+=e.x*n,this.y+=e.y*n},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var n=this.x-e.x,r=this.y-e.y;return Math.sqrt(n*n+r*r)},t.prototype.distanceSquare=function(e){var n=this.x-e.x,r=this.y-e.y;return n*n+r*r},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var n=this.x,r=this.y;return this.x=e[0]*n+e[2]*r+e[4],this.y=e[1]*n+e[3]*r+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,n,r){e.x=n,e.y=r},t.copy=function(e,n){e.x=n.x,e.y=n.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,n){return e.x*n.x+e.y*n.y},t.add=function(e,n,r){e.x=n.x+r.x,e.y=n.y+r.y},t.sub=function(e,n,r){e.x=n.x-r.x,e.y=n.y-r.y},t.scale=function(e,n,r){e.x=n.x*r,e.y=n.y*r},t.scaleAndAdd=function(e,n,r,i){e.x=n.x+r.x*i,e.y=n.y+r.y*i},t.lerp=function(e,n,r,i){var a=1-i;e.x=a*n.x+i*r.x,e.y=a*n.y+i*r.y},t}(),hd=Math.min,dd=Math.max,$o=new me,Go=new me,Wo=new me,Ho=new me,iu=new me,au=new me,Ce=function(){function t(e,n,r,i){r<0&&(e=e+r,r=-r),i<0&&(n=n+i,i=-i),this.x=e,this.y=n,this.width=r,this.height=i}return t.prototype.union=function(e){var n=hd(e.x,this.x),r=hd(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=dd(e.x+e.width,this.x+this.width)-n:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=dd(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=n,this.y=r},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var n=this,r=e.width/n.width,i=e.height/n.height,a=Vl();return U1(a,a,[-n.x,-n.y]),m$(a,a,[r,i]),U1(a,a,[e.x,e.y]),a},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var r=this,i=r.x,a=r.x+r.width,o=r.y,s=r.y+r.height,l=e.x,c=e.x+e.width,u=e.y,f=e.y+e.height,h=!(a<l||c<i||s<u||f<o);if(n){var d=1/0,p=0,v=Math.abs(a-l),g=Math.abs(c-i),y=Math.abs(s-u),m=Math.abs(f-o),b=Math.min(v,g),x=Math.min(y,m);a<l||c<i?b>p&&(p=b,v<g?me.set(au,-v,0):me.set(au,g,0)):b<d&&(d=b,v<g?me.set(iu,v,0):me.set(iu,-g,0)),s<u||f<o?x>p&&(p=x,y<m?me.set(au,0,-y):me.set(au,0,m)):b<d&&(d=b,y<m?me.set(iu,0,y):me.set(iu,0,-m))}return n&&me.copy(n,h?iu:au),h},t.prototype.contain=function(e,n){var r=this;return e>=r.x&&e<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,n){e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height},t.applyTransform=function(e,n,r){if(!r){e!==n&&t.copy(e,n);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],o=r[4],s=r[5];e.x=n.x*i+o,e.y=n.y*a+s,e.width=n.width*i,e.height=n.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}$o.x=Wo.x=n.x,$o.y=Ho.y=n.y,Go.x=Ho.x=n.x+n.width,Go.y=Wo.y=n.y+n.height,$o.transform(r),Ho.transform(r),Go.transform(r),Wo.transform(r),e.x=hd($o.x,Go.x,Wo.x,Ho.x),e.y=hd($o.y,Go.y,Wo.y,Ho.y);var l=dd($o.x,Go.x,Wo.x,Ho.x),c=dd($o.y,Go.y,Wo.y,Ho.y);e.width=l-e.x,e.height=c-e.y},t}(),tD="silent";function b$(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:x$}}function x$(){JL(this.event)}var _$=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handler=null,n}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Ra),ou=function(){function t(e,n){this.x=e,this.y=n}return t}(),w$=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],xy=new Ce(0,0,0,0),eD=function(t){it(e,t);function e(n,r,i,a,o){var s=t.call(this)||this;return s._hovered=new ou(0,0),s.storage=n,s.painter=r,s.painterRoot=a,s._pointerSize=o,i=i||new _$,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new r$(s),s}return e.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&($(w$,function(r){n.on&&n.on(r,this[r],this)},this),n.handler=this),this.proxy=n},e.prototype.mousemove=function(n){var r=n.zrX,i=n.zrY,a=nD(this,r,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=a?new ou(r,i):this.findHover(r,i),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),s&&c!==s&&this.dispatchToElement(o,"mouseout",n),this.dispatchToElement(l,"mousemove",n),c&&c!==s&&this.dispatchToElement(l,"mouseover",n)},e.prototype.mouseout=function(n){var r=n.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},e.prototype.resize=function(){this._hovered=new ou(0,0)},e.prototype.dispatch=function(n,r){var i=this[n];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(n){var r=this.proxy;r.setCursor&&r.setCursor(n)},e.prototype.dispatchToElement=function(n,r,i){n=n||{};var a=n.target;if(!(a&&a.silent)){for(var o="on"+r,s=b$(r,n,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(r,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(r,s)}))}},e.prototype.findHover=function(n,r,i){var a=this.storage.getDisplayList(),o=new ou(n,r);if(PO(a,o,n,r,i),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,c=l/2,u=new Ce(n-c,r-c,l,l),f=a.length-1;f>=0;f--){var h=a[f];h!==i&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(xy.copy(h.getBoundingRect()),h.transform&&xy.applyTransform(h.transform),xy.intersect(u)&&s.push(h))}if(s.length)for(var d=4,p=Math.PI/12,v=Math.PI*2,g=0;g<c;g+=d)for(var y=0;y<v;y+=p){var m=n+g*Math.cos(y),b=r+g*Math.sin(y);if(PO(s,o,m,b,i),o.target)return o}}return o},e.prototype.processGesture=function(n,r){this._gestureMgr||(this._gestureMgr=new v$);var i=this._gestureMgr;r==="start"&&i.clear();var a=i.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),a){var o=a.type;n.gestureEvent=o;var s=new ou;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e}(Ra);$(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){eD.prototype[t]=function(e){var n=e.zrX,r=e.zrY,i=nD(this,n,r),a,o;if((t!=="mouseup"||!i)&&(a=this.findHover(n,r),o=a.target),t==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(t==="mouseup")this._upEl=o;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||e$(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,t,e)}});function S$(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r=t,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var o=r.getClipPath();if(o&&!o.contain(e,n))return!1}r.silent&&(i=!0);var s=r.__hostTarget;r=s||r.parent}return i?tD:!0}return!1}function PO(t,e,n,r,i){for(var a=t.length-1;a>=0;a--){var o=t[a],s=void 0;if(o!==i&&!o.ignore&&(s=S$(o,n,r))&&(!e.topTarget&&(e.topTarget=o),s!==tD)){e.target=o;break}}}function nD(t,e,n){var r=t.painter;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}var rD=32,su=7;function O$(t){for(var e=0;t>=rD;)e|=t&1,t>>=1;return t+e}function CO(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;M$(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function M$(t,e,n){for(n--;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}function kO(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var a=t[r],o=e,s=r,l;o<s;)l=o+s>>>1,i(a,t[l])<0?s=l:o=l+1;var c=r-o;switch(c){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;c>0;)t[o+c]=t[o+c-1],c--}t[o]=a}}function _y(t,e,n,r,i,a){var o=0,s=0,l=1;if(a(t,e[n+i])>0){for(s=r-i;l<s&&a(t,e[n+i+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;l<s&&a(t,e[n+i-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var c=o;o=i-l,l=i-c}for(o++;o<l;){var u=o+(l-o>>>1);a(t,e[n+u])>0?o=u+1:l=u}return l}function wy(t,e,n,r,i,a){var o=0,s=0,l=1;if(a(t,e[n+i])<0){for(s=i+1;l<s&&a(t,e[n+i-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var c=o;o=i-l,l=i-c}else{for(s=r-i;l<s&&a(t,e[n+i+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;o<l;){var u=o+(l-o>>>1);a(t,e[n+u])<0?l=u:o=u+1}return l}function T$(t,e){var n=su,r,i,a=0,o=[];r=[],i=[];function s(d,p){r[a]=d,i[a]=p,a+=1}function l(){for(;a>1;){var d=a-2;if(d>=1&&i[d-1]<=i[d]+i[d+1]||d>=2&&i[d-2]<=i[d]+i[d-1])i[d-1]<i[d+1]&&d--;else if(i[d]>i[d+1])break;u(d)}}function c(){for(;a>1;){var d=a-2;d>0&&i[d-1]<i[d+1]&&d--,u(d)}}function u(d){var p=r[d],v=i[d],g=r[d+1],y=i[d+1];i[d]=v+y,d===a-3&&(r[d+1]=r[d+2],i[d+1]=i[d+2]),a--;var m=wy(t[g],t,p,v,0,e);p+=m,v-=m,v!==0&&(y=_y(t[p+v-1],t,g,y,y-1,e),y!==0&&(v<=y?f(p,v,g,y):h(p,v,g,y)))}function f(d,p,v,g){var y=0;for(y=0;y<p;y++)o[y]=t[d+y];var m=0,b=v,x=d;if(t[x++]=t[b++],--g===0){for(y=0;y<p;y++)t[x+y]=o[m+y];return}if(p===1){for(y=0;y<g;y++)t[x+y]=t[b+y];t[x+g]=o[m];return}for(var _=n,w,S,O;;){w=0,S=0,O=!1;do if(e(t[b],o[m])<0){if(t[x++]=t[b++],S++,w=0,--g===0){O=!0;break}}else if(t[x++]=o[m++],w++,S=0,--p===1){O=!0;break}while((w|S)<_);if(O)break;do{if(w=wy(t[b],o,m,p,0,e),w!==0){for(y=0;y<w;y++)t[x+y]=o[m+y];if(x+=w,m+=w,p-=w,p<=1){O=!0;break}}if(t[x++]=t[b++],--g===0){O=!0;break}if(S=_y(o[m],t,b,g,0,e),S!==0){for(y=0;y<S;y++)t[x+y]=t[b+y];if(x+=S,b+=S,g-=S,g===0){O=!0;break}}if(t[x++]=o[m++],--p===1){O=!0;break}_--}while(w>=su||S>=su);if(O)break;_<0&&(_=0),_+=2}if(n=_,n<1&&(n=1),p===1){for(y=0;y<g;y++)t[x+y]=t[b+y];t[x+g]=o[m]}else{if(p===0)throw new Error;for(y=0;y<p;y++)t[x+y]=o[m+y]}}function h(d,p,v,g){var y=0;for(y=0;y<g;y++)o[y]=t[v+y];var m=d+p-1,b=g-1,x=v+g-1,_=0,w=0;if(t[x--]=t[m--],--p===0){for(_=x-(g-1),y=0;y<g;y++)t[_+y]=o[y];return}if(g===1){for(x-=p,m-=p,w=x+1,_=m+1,y=p-1;y>=0;y--)t[w+y]=t[_+y];t[x]=o[b];return}for(var S=n;;){var O=0,M=0,T=!1;do if(e(o[b],t[m])<0){if(t[x--]=t[m--],O++,M=0,--p===0){T=!0;break}}else if(t[x--]=o[b--],M++,O=0,--g===1){T=!0;break}while((O|M)<S);if(T)break;do{if(O=p-wy(o[b],t,d,p,p-1,e),O!==0){for(x-=O,m-=O,p-=O,w=x+1,_=m+1,y=O-1;y>=0;y--)t[w+y]=t[_+y];if(p===0){T=!0;break}}if(t[x--]=o[b--],--g===1){T=!0;break}if(M=g-_y(t[m],o,0,g,g-1,e),M!==0){for(x-=M,b-=M,g-=M,w=x+1,_=b+1,y=0;y<M;y++)t[w+y]=o[_+y];if(g<=1){T=!0;break}}if(t[x--]=t[m--],--p===0){T=!0;break}S--}while(O>=su||M>=su);if(T)break;S<0&&(S=0),S+=2}if(n=S,n<1&&(n=1),g===1){for(x-=p,m-=p,w=x+1,_=m+1,y=p-1;y>=0;y--)t[w+y]=t[_+y];t[x]=o[b]}else{if(g===0)throw new Error;for(_=x-(g-1),y=0;y<g;y++)t[_+y]=o[y]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:s}}function Wp(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var a=0;if(i<rD){a=CO(t,n,r,e),kO(t,n,r,n+a,e);return}var o=T$(t,e),s=O$(i);do{if(a=CO(t,n,r,e),a<s){var l=i;l>s&&(l=s),kO(t,n,n+l,n+a,e),a=l}o.pushRun(n,a),o.mergeRuns(),i-=a,n+=a}while(i!==0);o.forceMergeRuns()}}var Di=1,Ru=2,El=4,LO=!1;function Sy(){LO||(LO=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function DO(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var A$=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=DO}return t.prototype.traverse=function(e,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,n)},t.prototype.getDisplayList=function(e,n){n=n||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(n),r},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var n=this._roots,r=this._displayList,i=0,a=n.length;i<a;i++)this._updateAndAddDisplayable(n[i],null,e);r.length=this._displayListLen,Wp(r,DO)},t.prototype._updateAndAddDisplayable=function(e,n,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)n=null;else if(i){n?n=n.slice():n=[];for(var a=i,o=e;a;)a.parent=o,a.updateTransform(),n.push(a),o=a,a=a.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),l=0;l<s.length;l++){var c=s[l];e.__dirty&&(c.__dirty|=Di),this._updateAndAddDisplayable(c,n,r)}e.__dirty=0}else{var u=e;n&&n.length?u.__clipPaths=n:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(Sy(),u.z=0),isNaN(u.z2)&&(Sy(),u.z2=0),isNaN(u.zlevel)&&(Sy(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var f=e.getDecalElement&&e.getDecalElement();f&&this._updateAndAddDisplayable(f,n,r);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,n,r);var d=e.getTextContent();d&&this._updateAndAddDisplayable(d,n,r)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var n=0,r=e.length;n<r;n++)this.delRoot(e[n]);return}var i=be(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),q1;q1=kt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var of={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)))},elasticOut:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-of.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?of.bounceIn(t*2)*.5:of.bounceOut(t*2-1)*.5+.5}},pd=Math.pow,co=Math.sqrt,gv=1e-8,iD=1e-4,IO=co(3),vd=1/3,Ii=Fc(),Wr=Fc(),Ul=Fc();function no(t){return t>-gv&&t<gv}function aD(t){return t>gv||t<-gv}function Yn(t,e,n,r,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*r+3*a*n)}function RO(t,e,n,r,i){var a=1-i;return 3*(((e-t)*a+2*(n-e)*i)*a+(r-n)*i*i)}function oD(t,e,n,r,i,a){var o=r+3*(e-n)-t,s=3*(n-e*2+t),l=3*(e-t),c=t-i,u=s*s-3*o*l,f=s*l-9*o*c,h=l*l-3*s*c,d=0;if(no(u)&&no(f))if(no(s))a[0]=0;else{var p=-l/s;p>=0&&p<=1&&(a[d++]=p)}else{var v=f*f-4*u*h;if(no(v)){var g=f/u,p=-s/o+g,y=-g/2;p>=0&&p<=1&&(a[d++]=p),y>=0&&y<=1&&(a[d++]=y)}else if(v>0){var m=co(v),b=u*s+1.5*o*(-f+m),x=u*s+1.5*o*(-f-m);b<0?b=-pd(-b,vd):b=pd(b,vd),x<0?x=-pd(-x,vd):x=pd(x,vd);var p=(-s-(b+x))/(3*o);p>=0&&p<=1&&(a[d++]=p)}else{var _=(2*u*s-3*o*f)/(2*co(u*u*u)),w=Math.acos(_)/3,S=co(u),O=Math.cos(w),p=(-s-2*S*O)/(3*o),y=(-s+S*(O+IO*Math.sin(w)))/(3*o),M=(-s+S*(O-IO*Math.sin(w)))/(3*o);p>=0&&p<=1&&(a[d++]=p),y>=0&&y<=1&&(a[d++]=y),M>=0&&M<=1&&(a[d++]=M)}}return d}function sD(t,e,n,r,i){var a=6*n-12*e+6*t,o=9*e+3*r-3*t-9*n,s=3*e-3*t,l=0;if(no(o)){if(aD(a)){var c=-s/a;c>=0&&c<=1&&(i[l++]=c)}}else{var u=a*a-4*o*s;if(no(u))i[0]=-a/(2*o);else if(u>0){var f=co(u),c=(-a+f)/(2*o),h=(-a-f)/(2*o);c>=0&&c<=1&&(i[l++]=c),h>=0&&h<=1&&(i[l++]=h)}}return l}function yv(t,e,n,r,i,a){var o=(e-t)*i+t,s=(n-e)*i+e,l=(r-n)*i+n,c=(s-o)*i+o,u=(l-s)*i+s,f=(u-c)*i+c;a[0]=t,a[1]=o,a[2]=c,a[3]=f,a[4]=f,a[5]=u,a[6]=l,a[7]=r}function E$(t,e,n,r,i,a,o,s,l,c,u){var f,h=.005,d=1/0,p,v,g,y;Ii[0]=l,Ii[1]=c;for(var m=0;m<1;m+=.05)Wr[0]=Yn(t,n,i,o,m),Wr[1]=Yn(e,r,a,s,m),g=Yl(Ii,Wr),g<d&&(f=m,d=g);d=1/0;for(var b=0;b<32&&!(h<iD);b++)p=f-h,v=f+h,Wr[0]=Yn(t,n,i,o,p),Wr[1]=Yn(e,r,a,s,p),g=Yl(Wr,Ii),p>=0&&g<d?(f=p,d=g):(Ul[0]=Yn(t,n,i,o,v),Ul[1]=Yn(e,r,a,s,v),y=Yl(Ul,Ii),v<=1&&y<d?(f=v,d=y):h*=.5);return co(d)}function P$(t,e,n,r,i,a,o,s,l){for(var c=t,u=e,f=0,h=1/l,d=1;d<=l;d++){var p=d*h,v=Yn(t,n,i,o,p),g=Yn(e,r,a,s,p),y=v-c,m=g-u;f+=Math.sqrt(y*y+m*m),c=v,u=g}return f}function ur(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function NO(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function C$(t,e,n,r,i){var a=t-2*e+n,o=2*(e-t),s=t-r,l=0;if(no(a)){if(aD(o)){var c=-s/o;c>=0&&c<=1&&(i[l++]=c)}}else{var u=o*o-4*a*s;if(no(u)){var c=-o/(2*a);c>=0&&c<=1&&(i[l++]=c)}else if(u>0){var f=co(u),c=(-o+f)/(2*a),h=(-o-f)/(2*a);c>=0&&c<=1&&(i[l++]=c),h>=0&&h<=1&&(i[l++]=h)}}return l}function lD(t,e,n){var r=t+n-2*e;return r===0?.5:(t-e)/r}function mv(t,e,n,r,i){var a=(e-t)*r+t,o=(n-e)*r+e,s=(o-a)*r+a;i[0]=t,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=n}function k$(t,e,n,r,i,a,o,s,l){var c,u=.005,f=1/0;Ii[0]=o,Ii[1]=s;for(var h=0;h<1;h+=.05){Wr[0]=ur(t,n,i,h),Wr[1]=ur(e,r,a,h);var d=Yl(Ii,Wr);d<f&&(c=h,f=d)}f=1/0;for(var p=0;p<32&&!(u<iD);p++){var v=c-u,g=c+u;Wr[0]=ur(t,n,i,v),Wr[1]=ur(e,r,a,v);var d=Yl(Wr,Ii);if(v>=0&&d<f)c=v,f=d;else{Ul[0]=ur(t,n,i,g),Ul[1]=ur(e,r,a,g);var y=Yl(Ul,Ii);g<=1&&y<f?(c=g,f=y):u*=.5}}return co(f)}function L$(t,e,n,r,i,a,o){for(var s=t,l=e,c=0,u=1/o,f=1;f<=o;f++){var h=f*u,d=ur(t,n,i,h),p=ur(e,r,a,h),v=d-s,g=p-l;c+=Math.sqrt(v*v+g*g),s=d,l=p}return c}var D$=/cubic-bezier\(([0-9,\.e ]+)\)/;function z_(t){var e=t&&D$.exec(t);if(e){var n=e[1].split(","),r=+Fi(n[0]),i=+Fi(n[1]),a=+Fi(n[2]),o=+Fi(n[3]);if(isNaN(r+i+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:oD(0,r,a,1,l,s)&&Yn(0,i,o,1,s[0])}}}var I$=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Un,this.ondestroy=e.ondestroy||Un,this.onrestart=e.onrestart||Un,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,n){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var r=this._life,i=e-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var l=i%r;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=zt(e)?e:of[e]||z_(e)},t}(),cD=function(){function t(e){this.value=e}return t}(),R$=function(){function t(){this._len=0}return t.prototype.insert=function(e){var n=new cD(e);return this.insertEntry(n),n},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var n=e.prev,r=e.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),Dh=function(){function t(e){this._list=new R$,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,n){var r=this._list,i=this._map,a=null;if(i[e]==null){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=r.head;r.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=n:s=new cD(n),s.key=e,r.insertEntry(s),i[e]=s}return a},t.prototype.get=function(e){var n=this._map[e],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),BO={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function sf(t){return t=Math.round(t),t<0?0:t>255?255:t}function FO(t){return t<0?0:t>1?1:t}function Oy(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?sf(parseFloat(e)/100*255):sf(parseInt(e,10))}function lf(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?FO(parseFloat(e)/100):FO(parseFloat(e))}function My(t,e,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?t+(e-t)*n*6:n*2<1?e:n*3<2?t+(e-t)*(2/3-n)*6:t}function Br(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Z1(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var uD=new Dh(20),gd=null;function sl(t,e){gd&&Z1(gd,e),gd=uD.put(t,gd||e.slice())}function uo(t,e){if(t){e=e||[];var n=uD.get(t);if(n)return Z1(e,n);t=t+"";var r=t.replace(/ /g,"").toLowerCase();if(r in BO)return Z1(e,BO[r]),sl(t,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(r.slice(1,4),16);if(!(a>=0&&a<=4095)){Br(e,0,0,0,1);return}return Br(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),sl(t,e),e}else if(i===7||i===9){var a=parseInt(r.slice(1,7),16);if(!(a>=0&&a<=16777215)){Br(e,0,0,0,1);return}return Br(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(r.slice(7),16)/255:1),sl(t,e),e}return}var o=r.indexOf("("),s=r.indexOf(")");if(o!==-1&&s+1===i){var l=r.substr(0,o),c=r.substr(o+1,s-(o+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?Br(e,+c[0],+c[1],+c[2],1):Br(e,0,0,0,1);u=lf(c.pop());case"rgb":if(c.length>=3)return Br(e,Oy(c[0]),Oy(c[1]),Oy(c[2]),c.length===3?u:lf(c[3])),sl(t,e),e;Br(e,0,0,0,1);return;case"hsla":if(c.length!==4){Br(e,0,0,0,1);return}return c[3]=lf(c[3]),jO(c,e),sl(t,e),e;case"hsl":if(c.length!==3){Br(e,0,0,0,1);return}return jO(c,e),sl(t,e),e;default:return}}Br(e,0,0,0,1)}}function jO(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=lf(t[1]),i=lf(t[2]),a=i<=.5?i*(r+1):i+r-i*r,o=i*2-a;return e=e||[],Br(e,sf(My(o,a,n+1/3)*255),sf(My(o,a,n)*255),sf(My(o,a,n-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function zO(t,e){var n=uo(t);if(n){for(var r=0;r<3;r++)n[r]=n[r]*(1-e)|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return $_(n,n.length===4?"rgba":"rgb")}}function $_(t,e){if(!(!t||!t.length)){var n=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(n+=","+t[3]),e+"("+n+")"}}function bv(t,e){var n=uo(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}var $O=new Dh(100);function K1(t){if(vt(t)){var e=$O.get(t);return e||(e=zO(t,-.1),$O.put(t,e)),e}else if(I_(t)){var n=lt({},t);return n.colorStops=yt(t.colorStops,function(r){return{offset:r.offset,color:zO(r.color,-.1)}}),n}return t}var xv=Math.round;function If(t){var e;if(!t||t==="transparent")t="none";else if(typeof t=="string"&&t.indexOf("rgba")>-1){var n=uo(t);n&&(t="rgb("+n[0]+","+n[1]+","+n[2]+")",e=n[3])}return{color:t,opacity:e??1}}var GO=1e-4;function ro(t){return t<GO&&t>-GO}function yd(t){return xv(t*1e3)/1e3}function Q1(t){return xv(t*1e4)/1e4}function N$(t){return"matrix("+yd(t[0])+","+yd(t[1])+","+yd(t[2])+","+yd(t[3])+","+Q1(t[4])+","+Q1(t[5])+")"}var B$={left:"start",right:"end",center:"middle",middle:"middle"};function F$(t,e,n){return n==="top"?t+=e/2:n==="bottom"&&(t-=e/2),t}function j$(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function z$(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function fD(t){return t&&!!t.image}function $$(t){return t&&!!t.svgElement}function G_(t){return fD(t)||$$(t)}function hD(t){return t.type==="linear"}function dD(t){return t.type==="radial"}function pD(t){return t&&(t.type==="linear"||t.type==="radial")}function Gg(t){return"url(#"+t+")"}function vD(t){var e=t.getGlobalScale(),n=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function gD(t){var e=t.x||0,n=t.y||0,r=(t.rotation||0)*Gp,i=Pt(t.scaleX,1),a=Pt(t.scaleY,1),o=t.skewX||0,s=t.skewY||0,l=[];return(e||n)&&l.push("translate("+e+"px,"+n+"px)"),r&&l.push("rotate("+r+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(o||s)&&l.push("skew("+xv(o*Gp)+"deg, "+xv(s*Gp)+"deg)"),l.join(" ")}var G$=function(){return kt.hasGlobalWindow&&zt(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}}(),J1=Array.prototype.slice;function pa(t,e,n){return(e-t)*n+t}function Ty(t,e,n,r){for(var i=e.length,a=0;a<i;a++)t[a]=pa(e[a],n[a],r);return t}function W$(t,e,n,r){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=pa(e[o][s],n[o][s],r)}return t}function md(t,e,n,r){for(var i=e.length,a=0;a<i;a++)t[a]=e[a]+n[a]*r;return t}function WO(t,e,n,r){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=e[o][s]+n[o][s]*r}return t}function H$(t,e){for(var n=t.length,r=e.length,i=n>r?e:t,a=Math.min(n,r),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(n,r);s++)i.push({offset:o.offset,color:o.color.slice()})}function Y$(t,e,n){var r=t,i=e;if(!(!r.push||!i.push)){var a=r.length,o=i.length;if(a!==o){var s=a>o;if(s)r.length=o;else for(var l=a;l<o;l++)r.push(n===1?i[l]:J1.call(i[l]))}for(var c=r[0]&&r[0].length,l=0;l<r.length;l++)if(n===1)isNaN(r[l])&&(r[l]=i[l]);else for(var u=0;u<c;u++)isNaN(r[l][u])&&(r[l][u]=i[l][u])}}function Hp(t){if(vr(t)){var e=t.length;if(vr(t[0])){for(var n=[],r=0;r<e;r++)n.push(J1.call(t[r]));return n}return J1.call(t)}return t}function Yp(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function V$(t){return vr(t&&t[0])?2:1}var bd=0,Vp=1,yD=2,Nu=3,tb=4,eb=5,HO=6;function YO(t){return t===tb||t===eb}function xd(t){return t===Vp||t===yD}var lu=[0,0,0,0],X$=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,n,r){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=HO,l=n;if(vr(n)){var c=V$(n);s=c,(c===1&&!He(n[0])||c===2&&!He(n[0][0]))&&(o=!0)}else if(He(n)&&!vv(n))s=bd;else if(vt(n))if(!isNaN(+n))s=bd;else{var u=uo(n);u&&(l=u,s=Nu)}else if(I_(n)){var f=lt({},l);f.colorStops=yt(n.colorStops,function(d){return{offset:d.offset,color:uo(d.color)}}),hD(n)?s=tb:dD(n)&&(s=eb),l=f}a===0?this.valType=s:(s!==this.valType||s===HO)&&(o=!0),this.discrete=this.discrete||o;var h={time:e,value:l,rawValue:n,percent:0};return r&&(h.easing=r,h.easingFunc=zt(r)?r:of[r]||z_(r)),i.push(h),h},t.prototype.prepare=function(e,n){var r=this.keyframes;this._needsSort&&r.sort(function(v,g){return v.time-g.time});for(var i=this.valType,a=r.length,o=r[a-1],s=this.discrete,l=xd(i),c=YO(i),u=0;u<a;u++){var f=r[u],h=f.value,d=o.value;f.percent=f.time/e,s||(l&&u!==a-1?Y$(h,d,i):c&&H$(h.colorStops,d.colorStops))}if(!s&&i!==eb&&n&&this.needsAnimate()&&n.needsAnimate()&&i===n.valType&&!n._finished){this._additiveTrack=n;for(var p=r[0].value,u=0;u<a;u++)i===bd?r[u].additiveValue=r[u].value-p:i===Nu?r[u].additiveValue=md([],r[u].value,p,-1):xd(i)&&(r[u].additiveValue=i===Vp?md([],r[u].value,p,-1):WO([],r[u].value,p,-1))}},t.prototype.step=function(e,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,c=a===Nu,u,f=this._lastFr,h=Math.min,d,p;if(s===1)d=p=o[0];else{if(n<0)u=0;else if(n<this._lastFrP){var v=h(f+1,s-1);for(u=v;u>=0&&!(o[u].percent<=n);u--);u=h(u,s-2)}else{for(u=f;u<s&&!(o[u].percent>n);u++);u=h(u-1,s-2)}p=o[u+1],d=o[u]}if(d&&p){this._lastFr=u,this._lastFrP=n;var g=p.percent-d.percent,y=g===0?1:h((n-d.percent)/g,1);p.easingFunc&&(y=p.easingFunc(y));var m=r?this._additiveValue:c?lu:e[l];if((xd(a)||c)&&!m&&(m=this._additiveValue=[]),this.discrete)e[l]=y<1?d.rawValue:p.rawValue;else if(xd(a))a===Vp?Ty(m,d[i],p[i],y):W$(m,d[i],p[i],y);else if(YO(a)){var b=d[i],x=p[i],_=a===tb;e[l]={type:_?"linear":"radial",x:pa(b.x,x.x,y),y:pa(b.y,x.y,y),colorStops:yt(b.colorStops,function(S,O){var M=x.colorStops[O];return{offset:pa(S.offset,M.offset,y),color:Yp(Ty([],S.color,M.color,y))}}),global:x.global},_?(e[l].x2=pa(b.x2,x.x2,y),e[l].y2=pa(b.y2,x.y2,y)):e[l].r=pa(b.r,x.r,y)}else if(c)Ty(m,d[i],p[i],y),r||(e[l]=Yp(m));else{var w=pa(d[i],p[i],y);r?this._additiveValue=w:e[l]=w}r&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var n=this.valType,r=this.propName,i=this._additiveValue;n===bd?e[r]=e[r]+i:n===Nu?(uo(e[r],lu),md(lu,lu,i,1),e[r]=Yp(lu)):n===Vp?md(e[r],e[r],i,1):n===yD&&WO(e[r],e[r],i,1)},t}(),W_=function(){function t(e,n,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=n,n&&i){UL("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,n,r){return this.whenWithKeys(e,n,Ut(n),r)},t.prototype.whenWithKeys=function(e,n,r,i){for(var a=this._tracks,o=0;o<r.length;o++){var s=r[o],l=a[s];if(!l){l=a[s]=new X$(s);var c=void 0,u=this._getAdditiveTrack(s);if(u){var f=u.keyframes,h=f[f.length-1];c=h&&h.value,u.valType===Nu&&c&&(c=Yp(c))}else c=this._target[s];if(c==null)continue;e>0&&l.addKeyframe(0,Hp(c),i),this._trackKeys.push(s)}l.addKeyframe(e,Hp(n[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var n=e.length,r=0;r<n;r++)e[r].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,n=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)e[n[r]].setFinished()},t.prototype._getAdditiveTrack=function(e){var n,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(e);a&&(n=a)}return n},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var n=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),c=s.keyframes,u=c.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=c[u-1];f&&(n._target[s.propName]=f.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var h=new I$({life:i,loop:this._loop,delay:this._delay||0,onframe:function(d){n._started=2;var p=n._additiveAnimators;if(p){for(var v=!1,g=0;g<p.length;g++)if(p[g]._clip){v=!0;break}v||(n._additiveAnimators=null)}for(var g=0;g<r.length;g++)r[g].step(n._target,d);var y=n._onframeCbs;if(y)for(var g=0;g<y.length;g++)y[g](n._target,d)},ondestroy:function(){n._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var n=this._clip;e&&n.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return yt(this._trackKeys,function(n){return e._tracks[n]})},t.prototype.stopTracks=function(e,n){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var o=r[e[a]];o&&!o.isFinished()&&(n?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!r[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,n,r){if(e){n=n||this._trackKeys;for(var i=0;i<n.length;i++){var a=n[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[r?0:s.length-1];l&&(e[a]=Hp(l.rawValue))}}}},t.prototype.__changeFinalValue=function(e,n){n=n||Ut(e);for(var r=0;r<n.length;r++){var i=n[r],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},t}();function Nl(){return new Date().getTime()}var U$=function(t){it(e,t);function e(n){var r=t.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n=n||{},r.stage=n.stage||{},r}return e.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},e.prototype.addAnimator=function(n){n.animation=this;var r=n.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(n){if(n.animation){var r=n.prev,i=n.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,n.next=n.prev=n.animation=null}},e.prototype.removeAnimator=function(n){var r=n.getClip();r&&this.removeClip(r),n.animation=null},e.prototype.update=function(n){for(var r=Nl()-this._pausedTime,i=r-this._time,a=this._head;a;){var o=a.next,s=a.step(r,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=r,n||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var n=this;this._running=!0;function r(){n._running&&(q1(r),!n._paused&&n.update())}q1(r)},e.prototype.start=function(){this._running||(this._time=Nl(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Nl(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Nl()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var n=this._head;n;){var r=n.next;n.prev=n.next=n.animation=null,n=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(n,r){r=r||{},this.start();var i=new W_(n,r.loop);return this.addAnimator(i),i},e}(Ra),q$=300,Ay=kt.domSupported,Ey=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=yt(t,function(i){var a=i.replace("mouse","pointer");return n.hasOwnProperty(a)?a:i});return{mouse:t,touch:e,pointer:r}}(),VO={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},XO=!1;function nb(t){var e=t.pointerType;return e==="pen"||e==="touch"}function Z$(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function Py(t){t&&(t.zrByTouch=!0)}function K$(t,e){return Fr(t.dom,new Q$(t,e),!0)}function mD(t,e){for(var n=e,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return r}var Q$=function(){function t(e,n){this.stopPropagation=Un,this.stopImmediatePropagation=Un,this.preventDefault=Un,this.type=n.type,this.target=this.currentTarget=e.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return t}(),hi={mousedown:function(t){t=Fr(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Fr(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Fr(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=Fr(this.dom,t);var e=t.toElement||t.relatedTarget;mD(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){XO=!0,t=Fr(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){XO||(t=Fr(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=Fr(this.dom,t),Py(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),hi.mousemove.call(this,t),hi.mousedown.call(this,t)},touchmove:function(t){t=Fr(this.dom,t),Py(t),this.handler.processGesture(t,"change"),hi.mousemove.call(this,t)},touchend:function(t){t=Fr(this.dom,t),Py(t),this.handler.processGesture(t,"end"),hi.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<q$&&hi.click.call(this,t)},pointerdown:function(t){hi.mousedown.call(this,t)},pointermove:function(t){nb(t)||hi.mousemove.call(this,t)},pointerup:function(t){hi.mouseup.call(this,t)},pointerout:function(t){nb(t)||hi.mouseout.call(this,t)}};$(["click","dblclick","contextmenu"],function(t){hi[t]=function(e){e=Fr(this.dom,e),this.trigger(t,e)}});var rb={pointermove:function(t){nb(t)||rb.mousemove.call(this,t)},pointerup:function(t){rb.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function J$(t,e){var n=e.domHandlers;kt.pointerEventsSupported?$(Ey.pointer,function(r){Xp(e,r,function(i){n[r].call(t,i)})}):(kt.touchEventsSupported&&$(Ey.touch,function(r){Xp(e,r,function(i){n[r].call(t,i),Z$(e)})}),$(Ey.mouse,function(r){Xp(e,r,function(i){i=N_(i),e.touching||n[r].call(t,i)})}))}function tG(t,e){kt.pointerEventsSupported?$(VO.pointer,n):kt.touchEventsSupported||$(VO.mouse,n);function n(r){function i(a){a=N_(a),mD(t,a.target)||(a=K$(t,a),e.domHandlers[r].call(t,a))}Xp(e,r,i,{capture:!0})}}function Xp(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,d$(t.domTarget,e,n,r)}function Cy(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&p$(t.domTarget,n,e[n],t.listenerOpts[n]);t.mounted={}}var UO=function(){function t(e,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=n}return t}(),eG=function(t){it(e,t);function e(n,r){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=n,i.painterRoot=r,i._localHandlerScope=new UO(n,hi),Ay&&(i._globalHandlerScope=new UO(document,rb)),J$(i,i._localHandlerScope),i}return e.prototype.dispose=function(){Cy(this._localHandlerScope),Ay&&Cy(this._globalHandlerScope)},e.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},e.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,Ay&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var r=this._globalHandlerScope;n?tG(this,r):Cy(r)}},e}(Ra),bD=1;kt.hasGlobalWindow&&(bD=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var qO=bD,ib=.4,ab="#333",ob="#ccc",nG="#eee",ZO=B_,KO=5e-5;function Yo(t){return t>KO||t<-KO}var Vo=[],ll=[],ky=Vl(),Ly=Math.abs,rG=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return Yo(this.rotation)||Yo(this.x)||Yo(this.y)||Yo(this.scaleX-1)||Yo(this.scaleY-1)||Yo(this.skewX)||Yo(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||e)){r&&(ZO(r),this.invTransform=null);return}r=r||Vl(),n?this.getLocalTransform(r):ZO(r),e&&(n?Xl(r,e,r):y$(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},t.prototype._resolveGlobalScaleRatio=function(e){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(Vo);var r=Vo[0]<0?-1:1,i=Vo[1]<0?-1:1,a=((Vo[0]-r)*n+r)/Vo[0]||0,o=((Vo[1]-i)*n+i)/Vo[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||Vl(),j_(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,n=[];e;)n.push(e),e=e.parent;for(;e=n.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var n=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(a),n=Math.sqrt(n),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,n=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Vl(),Xl(ll,e.invTransform,n),n=ll);var r=this.originX,i=this.originY;(r||i)&&(ky[4]=r,ky[5]=i,Xl(ll,n,ky),ll[4]-=r,ll[5]-=i,n=ll),this.setLocalTransform(n)}},t.prototype.getGlobalScale=function(e){var n=this.transform;return e=e||[],n?(e[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),e[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(e[0]=-e[0]),n[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,n){var r=[e,n],i=this.invTransform;return i&&Kr(r,r,i),r},t.prototype.transformCoordToGlobal=function(e,n){var r=[e,n],i=this.transform;return i&&Kr(r,r,i),r},t.prototype.getLineScale=function(){var e=this.transform;return e&&Ly(e[0]-1)>1e-10&&Ly(e[3]-1)>1e-10?Math.sqrt(Ly(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){xD(this,e)},t.getLocalTransform=function(e,n){n=n||[];var r=e.originX||0,i=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,f=e.y,h=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(r||i||s||l){var p=r+s,v=i+l;n[4]=-p*a-h*v*o,n[5]=-v*o-d*p*a}else n[4]=n[5]=0;return n[0]=a,n[3]=o,n[1]=d*a,n[2]=h*o,c&&F_(n,n,c),n[4]+=r+u,n[5]+=i+f,n},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),Rf=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function xD(t,e){for(var n=0;n<Rf.length;n++){var r=Rf[n];t[r]=e[r]}}const H_=rG;var QO={};function Tr(t,e){e=e||xo;var n=QO[e];n||(n=QO[e]=new Dh(500));var r=n.get(t);return r==null&&(r=kh.measureText(t,e).width,n.put(t,r)),r}function JO(t,e,n,r){var i=Tr(t,e),a=Wg(e),o=Bu(0,i,n),s=Pl(0,a,r),l=new Ce(o,s,i,a);return l}function Y_(t,e,n,r){var i=((t||"")+"").split(`
`),a=i.length;if(a===1)return JO(i[0],e,n,r);for(var o=new Ce(0,0,0,0),s=0;s<i.length;s++){var l=JO(i[s],e,n,r);s===0?o.copy(l):o.union(l)}return o}function Bu(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Pl(t,e,n){return n==="middle"?t-=e/2:n==="bottom"&&(t-=e),t}function Wg(t){return Tr("",t)}function _o(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function _v(t,e,n){var r=e.position||"inside",i=e.distance!=null?e.distance:5,a=n.height,o=n.width,s=a/2,l=n.x,c=n.y,u="left",f="top";if(r instanceof Array)l+=_o(r[0],n.width),c+=_o(r[1],n.height),u=null,f=null;else switch(r){case"left":l-=i,c+=s,u="right",f="middle";break;case"right":l+=i+o,c+=s,f="middle";break;case"top":l+=o/2,c-=i,u="center",f="bottom";break;case"bottom":l+=o/2,c+=a+i,u="center";break;case"inside":l+=o/2,c+=s,u="center",f="middle";break;case"insideLeft":l+=i,c+=s,f="middle";break;case"insideRight":l+=o-i,c+=s,u="right",f="middle";break;case"insideTop":l+=o/2,c+=i,u="center";break;case"insideBottom":l+=o/2,c+=a-i,u="center",f="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=o-i,c+=i,u="right";break;case"insideBottomLeft":l+=i,c+=a-i,f="bottom";break;case"insideBottomRight":l+=o-i,c+=a-i,u="right",f="bottom";break}return t=t||{},t.x=l,t.y=c,t.align=u,t.verticalAlign=f,t}var Dy="__zr_normal__",Iy=Rf.concat(["ignore"]),iG=Bc(Rf,function(t,e){return t[e]=!0,t},{ignore:!1}),cl={},aG=new Ce(0,0,0,0),Hg=function(){function t(e){this.id=XL(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,n,r){switch(this.draggable){case"horizontal":n=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=n,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var n=this._textContent;if(n&&(!n.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=n.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=i?this:null;var c=!1;if(a.copyTransform(n),r.position!=null){var u=aG;r.layoutRect?u.copy(r.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(cl,r,u):_v(cl,r,u),a.x=cl.x,a.y=cl.y,o=cl.align,s=cl.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var h=void 0,d=void 0;f==="center"?(h=u.width*.5,d=u.height*.5):(h=_o(f[0],u.width),d=_o(f[1],u.height)),c=!0,a.originX=-a.x+h+(i?0:u.x),a.originY=-a.y+d+(i?0:u.y)}}r.rotation!=null&&(a.rotation=r.rotation);var p=r.offset;p&&(a.x+=p[0],a.y+=p[1],c||(a.originX=-p[0],a.originY=-p[1]));var v=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,m=void 0,b=void 0;v&&this.canBeInsideText()?(y=r.insideFill,m=r.insideStroke,(y==null||y==="auto")&&(y=this.getInsideTextFill()),(m==null||m==="auto")&&(m=this.getInsideTextStroke(y),b=!0)):(y=r.outsideFill,m=r.outsideStroke,(y==null||y==="auto")&&(y=this.getOutsideFill()),(m==null||m==="auto")&&(m=this.getOutsideStroke(y),b=!0)),y=y||"#000",(y!==g.fill||m!==g.stroke||b!==g.autoStroke||o!==g.align||s!==g.verticalAlign)&&(l=!0,g.fill=y,g.stroke=m,g.autoStroke=b,g.align=o,g.verticalAlign=s,n.setDefaultTextStyle(g)),n.__dirty|=Di,l&&n.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?ob:ab},t.prototype.getOutsideStroke=function(e){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n=="string"&&uo(n);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)r[o]=r[o]*i+(a?0:255)*(1-i);return r[3]=1,$_(r,"rgba")},t.prototype.traverse=function(e,n){},t.prototype.attrKV=function(e,n){e==="textConfig"?this.setTextConfig(n):e==="textContent"?this.setTextContent(n):e==="clipPath"?this.setClipPath(n):e==="extra"?(this.extra=this.extra||{},lt(this.extra,n)):this[e]=n},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,n){if(typeof e=="string")this.attrKV(e,n);else if(Mt(e))for(var r=e,i=Ut(r),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,e[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var n=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==Dy)){var o=i.targetName,s=o?n[o]:n;i.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var n=this._normalState;n||(n=this._normalState={}),e.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(e,n,Iy)},t.prototype._savePrimaryToNormal=function(e,n,r){for(var i=0;i<r.length;i++){var a=r[i];e[a]!=null&&!(a in n)&&(n[a]=this[a])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var n=this.states;return n[e]||(n[e]={}),n[e]},t.prototype.clearStates=function(e){this.useState(Dy,!1,e)},t.prototype.useState=function(e,n,r,i){var a=e===Dy,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,l=this.stateTransition;if(!(be(s,e)>=0&&(n||s.length===1))){var c;if(this.stateProxy&&!a&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!a){UL("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||i);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,n,!r&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,h=this._textGuide;return f&&f.useState(e,n,r,u),h&&h.useState(e,n,r,u),a?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Di),c}}},t.prototype.useStates=function(e,n,r){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,o=e.length,s=o===a.length;if(s){for(var l=0;l<o;l++)if(e[l]!==a[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&i.push(u)}var f=i[o-1],h=!!(f&&f.hoverLayer||r);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!n&&!this.__inHover&&p&&p.duration>0,p);var v=this._textContent,g=this._textGuide;v&&v.useStates(e,n,h),g&&g.useStates(e,n,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Di)}},t.prototype.isSilent=function(){for(var e=this.silent,n=this.parent;!e&&n;){if(n.silent){e=!0;break}n=n.parent}return e},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var n=this.animators[e];n.targetName&&n.changeTarget(this[n.targetName])}},t.prototype.removeState=function(e){var n=be(this.currentStates,e);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},t.prototype.replaceState=function(e,n,r){var i=this.currentStates.slice(),a=be(i,e),o=be(i,n)>=0;a>=0?o?i.splice(a,1):i[a]=n:r&&!o&&i.push(n),this.useStates(i)},t.prototype.toggleState=function(e,n){n?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var n={},r,i=0;i<e.length;i++){var a=e[i];lt(n,a),a.textConfig&&(r=r||{},lt(r,a.textConfig))}return r&&(n.textConfig=r),n},t.prototype._applyStateObj=function(e,n,r,i,a,o){var s=!(n&&i);n&&n.textConfig?(this.textConfig=lt({},i?this.textConfig:r.textConfig),lt(this.textConfig,n.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},c=!1,u=0;u<Iy.length;u++){var f=Iy[u],h=a&&iG[f];n&&n[f]!=null?h?(c=!0,l[f]=n[f]):this[f]=n[f]:s&&r[f]!=null&&(h?(c=!0,l[f]=r[f]):this[f]=r[f])}if(!a)for(var u=0;u<this.animators.length;u++){var d=this.animators[u],p=d.targetName;d.getLoop()||d.__changeFinalValue(p?(n||r)[p]:n||r)}c&&this._transitionState(e,l,o)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var n=this.__zr;n&&e.addSelfToZr(n),e.__zr=n,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var n=this._textContent;n!==e&&(n&&n!==e&&this.removeTextContent(),e.innerTransformable=new H_,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),lt(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=Di;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=e),r&&(r.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var n=this.animators;if(n)for(var r=0;r<n.length;r++)e.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)e.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,n,r){var i=e?this[e]:this,a=new W_(i,n,r);return e&&(a.targetName=e),this.addAnimator(a,e),a},t.prototype.addAnimator=function(e,n){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(n)}).done(function(){var a=i.animators,o=be(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,n){for(var r=this.animators,i=r.length,a=[],o=0;o<i;o++){var s=r[o];!e||e===s.scope?s.stop(n):a.push(s)}return this.animators=a,this},t.prototype.animateTo=function(e,n,r){Ry(this,e,n,r)},t.prototype.animateFrom=function(e,n,r){Ry(this,e,n,r,!0)},t.prototype._transitionState=function(e,n,r,i){for(var a=Ry(this,n,r,i),o=0;o<a.length;o++)a[o].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Di;function n(r,i,a,o){Object.defineProperty(e,r,{get:function(){if(!this[i]){var l=this[i]=[];s(this,l)}return this[i]},set:function(l){this[a]=l[0],this[o]=l[1],this[i]=l,s(this,l)}});function s(l,c){Object.defineProperty(c,0,{get:function(){return l[a]},set:function(u){l[a]=u}}),Object.defineProperty(c,1,{get:function(){return l[o]},set:function(u){l[o]=u}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),t}();ta(Hg,Ra);ta(Hg,H_);function Ry(t,e,n,r,i){n=n||{};var a=[];_D(t,"",t,e,n,r,a,i);var o=a.length,s=!1,l=n.done,c=n.aborted,u=function(){s=!0,o--,o<=0&&(s?l&&l():c&&c())},f=function(){o--,o<=0&&(s?l&&l():c&&c())};o||l&&l(),a.length>0&&n.during&&a[0].during(function(p,v){n.during(v)});for(var h=0;h<a.length;h++){var d=a[h];u&&d.done(u),f&&d.aborted(f),n.force&&d.duration(n.duration),d.start(n.easing)}return a}function Ny(t,e,n){for(var r=0;r<n;r++)t[r]=e[r]}function oG(t){return vr(t[0])}function sG(t,e,n){if(vr(e[n]))if(vr(t[n])||(t[n]=[]),gr(e[n])){var r=e[n].length;t[n].length!==r&&(t[n]=new e[n].constructor(r),Ny(t[n],e[n],r))}else{var i=e[n],a=t[n],o=i.length;if(oG(i))for(var s=i[0].length,l=0;l<o;l++)a[l]?Ny(a[l],i[l],s):a[l]=Array.prototype.slice.call(i[l]);else Ny(a,i,o);a.length=i.length}else t[n]=e[n]}function lG(t,e){return t===e||vr(t)&&vr(e)&&cG(t,e)}function cG(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function _D(t,e,n,r,i,a,o,s){for(var l=Ut(r),c=i.duration,u=i.delay,f=i.additive,h=i.setToFinal,d=!Mt(a),p=t.animators,v=[],g=0;g<l.length;g++){var y=l[g],m=r[y];if(m!=null&&n[y]!=null&&(d||a[y]))if(Mt(m)&&!vr(m)&&!I_(m)){if(e){s||(n[y]=m,t.updateDuringAnimation(e));continue}_D(t,y,n[y],m,i,a&&a[y],o,s)}else v.push(y);else s||(n[y]=m,t.updateDuringAnimation(e),v.push(y))}var b=v.length;if(!f&&b)for(var x=0;x<p.length;x++){var _=p[x];if(_.targetName===e){var w=_.stopTracks(v);if(w){var S=be(p,_);p.splice(S,1)}}}if(i.force||(v=Rn(v,function(A){return!lG(r[A],n[A])}),b=v.length),b>0||i.force&&!o.length){var O=void 0,M=void 0,T=void 0;if(s){M={},h&&(O={});for(var x=0;x<b;x++){var y=v[x];M[y]=n[y],h?O[y]=r[y]:n[y]=r[y]}}else if(h){T={};for(var x=0;x<b;x++){var y=v[x];T[y]=Hp(n[y]),sG(n,r,y)}}var _=new W_(n,!1,!1,f?Rn(p,function(P){return P.targetName===e}):null);_.targetName=e,i.scope&&(_.scope=i.scope),h&&O&&_.whenWithKeys(0,O,v),T&&_.whenWithKeys(0,T,v),_.whenWithKeys(c??500,s?M:r,v).delay(u||0),t.addAnimator(_,e),o.push(_)}}var Ar=function(t){it(e,t);function e(n){var r=t.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(n){return this._children[n]},e.prototype.childOfName=function(n){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===n)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},e.prototype.addBefore=function(n,r){if(n&&n!==this&&n.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,n),this._doAdd(n))}return this},e.prototype.replace=function(n,r){var i=be(this._children,n);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(n,r){var i=this._children,a=i[r];if(n&&n!==this&&n.parent!==this&&n!==a){i[r]=n,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(n)}return this},e.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var r=this.__zr;r&&r!==n.__zr&&n.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(n){var r=this.__zr,i=this._children,a=be(i,n);return a<0?this:(i.splice(a,1),n.parent=null,r&&n.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var n=this._children,r=this.__zr,i=0;i<n.length;i++){var a=n[i];r&&a.removeSelfFromZr(r),a.parent=null}return n.length=0,this},e.prototype.eachChild=function(n,r){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];n.call(r,o,a)}return this},e.prototype.traverse=function(n,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=n.call(r,a);a.isGroup&&!o&&a.traverse(n,r)}return this},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(n)}},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(n)}},e.prototype.getBoundingRect=function(n){for(var r=new Ce(0,0,0,0),i=n||this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(a);u?(Ce.applyTransform(r,c,u),o=o||r.clone(),o.union(r)):(o=o||c.clone(),o.union(c))}}return o||r},e}(Hg);Ar.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Up={},wD={};function uG(t){delete wD[t]}function fG(t){if(!t)return!1;if(typeof t=="string")return bv(t,1)<ib;if(t.colorStops){for(var e=t.colorStops,n=0,r=e.length,i=0;i<r;i++)n+=bv(e[i].color,1);return n/=r,n<ib}return!1}var hG=function(){function t(e,n,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=n,this.id=e;var a=new A$,o=r.renderer||"canvas";Up[o]||(o=Ut(Up)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var s=new Up[o](n,a,r,e),l=r.ssr||s.ssrOnly;this.storage=a,this.painter=s;var c=!kt.node&&!kt.worker&&!l?new eG(s.getViewportRoot(),s.root):null,u=r.useCoarsePointer,f=u==null||u==="auto"?kt.touchEventsSupported:!!u,h=44,d;f&&(d=Pt(r.pointerSize,h)),this.handler=new eD(a,s,c,s.root,d),this.animation=new U$({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,n),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=fG(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var n,r=Nl();this._needsRefresh&&(n=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var i=Nl();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,n){if(!this._disposed)return this.handler.findHover(e,n)},t.prototype.on=function(e,n,r){return this._disposed||this.handler.on(e,n,r),this},t.prototype.off=function(e,n){this._disposed||this.handler.off(e,n)},t.prototype.trigger=function(e,n){this._disposed||this.handler.trigger(e,n)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),n=0;n<e.length;n++)e[n]instanceof Ar&&e[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,uG(this.id))},t}();function tM(t,e){var n=new hG(XL(),t,e);return wD[n.id]=n,n}function dG(t,e){Up[t]=e}var sb;function pG(t){if(typeof sb=="function")return sb(t)}function vG(t){sb=t}var eM=1e-4,SD=20;function gG(t){return t.replace(/^\s+|\s+$/g,"")}function nM(t,e,n,r){var i=e[0],a=e[1],o=n[0],s=n[1],l=a-i,c=s-o;if(l===0)return c===0?o:(o+s)/2;if(r)if(l>0){if(t<=i)return o;if(t>=a)return s}else{if(t>=i)return o;if(t<=a)return s}else{if(t===i)return o;if(t===a)return s}return(t-i)/l*c+o}function Vn(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return vt(t)?gG(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function gn(t,e,n){return e==null&&(e=10),e=Math.min(Math.max(0,e),SD),t=(+t).toFixed(e),n?t:+t}function Nf(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n}return yG(t)}function yG(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),r=n>0?+e.slice(n+1):0,i=n>0?n:e.length,a=e.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-r)}function mG(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),a=Math.round(n(Math.abs(e[1]-e[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function bG(t,e){var n=Math.max(Nf(t),Nf(e)),r=t+e;return n>SD?r:gn(r,n)}function OD(t){var e=Math.PI*2;return(t%e+e)%e}function wv(t){return t>-eM&&t<eM}var xG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Aa(t){if(t instanceof Date)return t;if(vt(t)){var e=xG.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function _G(t){return Math.pow(10,V_(t))}function V_(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function MD(t,e){var n=V_(t),r=Math.pow(10,n),i=t/r,a;return i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10,t=a*r,n>=-20?+t.toFixed(n<0?-n:0):t}function Sv(t){var e=parseFloat(t);return e==t&&(e!==0||!vt(t)||t.indexOf("x")<=0)?e:NaN}function wG(t){return!isNaN(Sv(t))}function TD(){return Math.round(Math.random()*9)}function AD(t,e){return e===0?t:AD(e,t%e)}function rM(t,e){return t==null?e:e==null?t:t*e/AD(t,e)}function fr(t){throw new Error(t)}var ED="series\0",SG="\0_ec_\0";function qn(t){return t instanceof Array?t:t==null?[]:[t]}function iM(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var a=n[r];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var aM=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Ih(t){return Mt(t)&&!ht(t)&&!(t instanceof Date)?t.value:t}function OG(t){return Mt(t)&&!(t instanceof Array)}function MG(t,e,n){var r=n==="normalMerge",i=n==="replaceMerge",a=n==="replaceAll";t=t||[],e=(e||[]).slice();var o=jt();$(e,function(l,c){if(!Mt(l)){e[c]=null;return}});var s=TG(t,o,n);return(r||i)&&AG(s,t,o,e),r&&EG(s,e),r||i?PG(s,e,i):a&&CG(s,e),kG(s),s}function TG(t,e,n){var r=[];if(n==="replaceAll")return r;for(var i=0;i<t.length;i++){var a=t[i];a&&a.id!=null&&e.set(a.id,i),r.push({existing:n==="replaceMerge"||Bf(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function AG(t,e,n,r){$(r,function(i,a){if(!(!i||i.id==null)){var o=cf(i.id),s=n.get(o);if(s!=null){var l=t[s];xi(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=i,l.existing=e[s],r[a]=null}}})}function EG(t,e){$(e,function(n,r){if(!(!n||n.name==null))for(var i=0;i<t.length;i++){var a=t[i].existing;if(!t[i].newOption&&a&&(a.id==null||n.id==null)&&!Bf(n)&&!Bf(a)&&PD("name",a,n)){t[i].newOption=n,e[r]=null;return}}})}function PG(t,e,n){$(e,function(r){if(r){for(var i,a=0;(i=t[a])&&(i.newOption||Bf(i.existing)||i.existing&&r.id!=null&&!PD("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=n):t.push({newOption:r,brandNew:n,existing:null,keyInfo:null}),a++}})}function CG(t,e){$(e,function(n){t.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function kG(t){var e=jt();$(t,function(n){var r=n.existing;r&&e.set(r.id,n)}),$(t,function(n){var r=n.newOption;xi(!r||r.id==null||!e.get(r.id)||e.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),$(t,function(n,r){var i=n.existing,a=n.newOption,o=n.keyInfo;if(Mt(a)){if(o.name=a.name!=null?cf(a.name):i?i.name:ED+r,i)o.id=cf(i.id);else if(a.id!=null)o.id=cf(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,n)}})}function PD(t,e,n){var r=Hi(e[t],null),i=Hi(n[t],null);return r!=null&&i!=null&&r===i}function cf(t){return Hi(t,"")}function Hi(t,e){return t==null?e:vt(t)?t:He(t)||G1(t)?t+"":e}function X_(t){var e=t.name;return!!(e&&e.indexOf(ED))}function Bf(t){return t&&t.id!=null&&cf(t.id).indexOf(SG)===0}function LG(t,e,n){$(t,function(r){var i=r.newOption;Mt(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=DG(e,i,r.existing,n))})}function DG(t,e,n,r){var i=e.type?e.type:n?n.subType:r.determineSubType(t,e);return i}function Rh(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return ht(e.dataIndex)?yt(e.dataIndex,function(n){return t.indexOfRawIndex(n)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return ht(e.name)?yt(e.name,function(n){return t.indexOfName(n)}):t.indexOfName(e.name)}function hn(){var t="__ec_inner_"+IG++;return function(e){return e[t]||(e[t]={})}}var IG=TD();function By(t,e,n){var r=U_(e,n),i=r.mainTypeSpecified,a=r.queryOptionMap,o=r.others,s=o,l=n?n.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(c,u){var f=Nh(t,u,c,{useDefault:l===u,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});s[u+"Models"]=f.models,s[u+"Model"]=f.models[0]}),s}function U_(t,e){var n;if(vt(t)){var r={};r[t+"Index"]=0,n=r}else n=t;var i=jt(),a={},o=!1;return $(n,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=s;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],f=(c[2]||"").toLowerCase();if(!(!u||!f||e&&e.includeMainTypes&&be(e.includeMainTypes,u)<0)){o=o||!!u;var h=i.get(u)||i.set(u,{});h[f]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var gi={useDefault:!0,enableAll:!1,enableNone:!1};function Nh(t,e,n,r){r=r||gi;var i=n.index,a=n.id,o=n.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=t.getComponent(e))?[l]:[],s}return i==="none"||i===!1?(xi(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(xi(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=t.queryComponents({mainType:e,index:i,id:a,name:o}),s)}function CD(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function RG(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function NG(t){return t==="auto"?kt.domSupported?"html":"richText":t||"html"}var BG=".",Xo="___EC__COMPONENT__CONTAINER___",kD="___EC__EXTENDED_CLASS___";function ji(t){var e={main:"",sub:""};if(t){var n=t.split(BG);e.main=n[0]||"",e.sub=n[1]||""}return e}function FG(t){xi(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function jG(t){return!!(t&&t[kD])}function q_(t,e){t.$constructor=t,t.extend=function(n){var r=this,i;return zG(r)?i=function(a){it(o,a);function o(){return a.apply(this,arguments)||this}return o}(r):(i=function(){(n.$constructor||r).apply(this,arguments)},H7(i,this)),lt(i.prototype,n),i[kD]=!0,i.extend=this.extend,i.superCall=WG,i.superApply=HG,i.superClass=r,i}}function zG(t){return zt(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function LD(t,e){t.extend=e.extend}var $G=Math.round(Math.random()*10);function GG(t){var e=["__\0is_clz",$G++].join("_");t.prototype[e]=!0,t.isInstance=function(n){return!!(n&&n[e])}}function WG(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[e].apply(t,n)}function HG(t,e,n){return this.superClass.prototype[e].apply(t,n)}function Yg(t){var e={};t.registerClass=function(r){var i=r.type||r.prototype.type;if(i){FG(i),r.prototype.type=i;var a=ji(i);if(!a.sub)e[a.main]=r;else if(a.sub!==Xo){var o=n(a);o[a.sub]=r}}return r},t.getClass=function(r,i,a){var o=e[r];if(o&&o[Xo]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return o},t.getClassesByMainType=function(r){var i=ji(r),a=[],o=e[i.main];return o&&o[Xo]?$(o,function(s,l){l!==Xo&&a.push(s)}):a.push(o),a},t.hasClass=function(r){var i=ji(r);return!!e[i.main]},t.getAllClassMainTypes=function(){var r=[];return $(e,function(i,a){r.push(a)}),r},t.hasSubTypes=function(r){var i=ji(r),a=e[i.main];return a&&a[Xo]};function n(r){var i=e[r.main];return(!i||!i[Xo])&&(i=e[r.main]={},i[Xo]=!0),i}}function Ff(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(r,i,a){for(var o={},s=0;s<t.length;s++){var l=t[s][1];if(!(i&&be(i,l)>=0||a&&be(a,l)<0)){var c=r.getShallow(l,e);c!=null&&(o[t[s][0]]=c)}}return o}}var YG=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],VG=Ff(YG),XG=function(){function t(){}return t.prototype.getAreaStyle=function(e,n){return VG(this,e,n)},t}(),lb=new Dh(50);function UG(t){if(typeof t=="string"){var e=lb.get(t);return e&&e.image}else return t}function Z_(t,e,n,r,i){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!n)return e;var a=lb.get(t),o={hostEl:n,cb:r,cbPayload:i};return a?(e=a.image,!Vg(e)&&a.pending.push(o)):(e=kh.loadImage(t,oM,oM),e.__zrImageSrc=t,lb.put(t,e.__cachedImgObj={image:e,pending:[o]})),e}else return t;else return e}function oM(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function Vg(t){return t&&t.width&&t.height}var Fy=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function qG(t,e,n,r,i){if(!e)return"";var a=(t+"").split(`
`);i=DD(e,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=ID(a[o],i);return a.join(`
`)}function DD(t,e,n,r){r=r||{};var i=lt({},r);i.font=e,n=Pt(n,"..."),i.maxIterations=Pt(r.maxIterations,2);var a=i.minChar=Pt(r.minChar,0);i.cnCharWidth=Tr("",e);var o=i.ascCharWidth=Tr("a",e);i.placeholder=Pt(r.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<a&&s>=o;l++)s-=o;var c=Tr(n,e);return c>s&&(n="",c=0),s=t-c,i.ellipsis=n,i.ellipsisWidth=c,i.contentWidth=s,i.containerWidth=t,i}function ID(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var a=Tr(t,r);if(a<=n)return t;for(var o=0;;o++){if(a<=i||o>=e.maxIterations){t+=e.ellipsis;break}var s=o===0?ZG(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;t=t.substr(0,s),a=Tr(t,r)}return t===""&&(t=e.placeholder),t}function ZG(t,e,n,r){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}function KG(t,e){t!=null&&(t+="");var n=e.overflow,r=e.padding,i=e.font,a=n==="truncate",o=Wg(i),s=Pt(e.lineHeight,o),l=!!e.backgroundColor,c=e.lineOverflow==="truncate",u=e.width,f;u!=null&&(n==="break"||n==="breakAll")?f=t?RD(t,e.font,u,n==="breakAll",0).lines:[]:f=t?t.split(`
`):[];var h=f.length*s,d=Pt(e.height,h);if(h>d&&c){var p=Math.floor(d/s);f=f.slice(0,p)}if(t&&a&&u!=null)for(var v=DD(u,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),g=0;g<f.length;g++)f[g]=ID(f[g],v);for(var y=d,m=0,g=0;g<f.length;g++)m=Math.max(Tr(f[g],i),m);u==null&&(u=m);var b=m;return r&&(y+=r[0]+r[2],b+=r[1]+r[3],u+=r[1]+r[3]),l&&(b=u),{lines:f,height:d,outerWidth:b,outerHeight:y,lineHeight:s,calculatedLineHeight:o,contentWidth:m,contentHeight:h,width:u}}var QG=function(){function t(){}return t}(),sM=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),JG=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function tW(t,e){var n=new JG;if(t!=null&&(t+=""),!t)return n;for(var r=e.width,i=e.height,a=e.overflow,o=(a==="break"||a==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:a==="breakAll"}:null,s=Fy.lastIndex=0,l;(l=Fy.exec(t))!=null;){var c=l.index;c>s&&jy(n,t.substring(s,c),e,o),jy(n,l[2],e,o,l[1]),s=Fy.lastIndex}s<t.length&&jy(n,t.substring(s,t.length),e,o);var u=[],f=0,h=0,d=e.padding,p=a==="truncate",v=e.lineOverflow==="truncate";function g(D,I,N){D.width=I,D.lineHeight=N,f+=N,h=Math.max(h,I)}t:for(var y=0;y<n.lines.length;y++){for(var m=n.lines[y],b=0,x=0,_=0;_<m.tokens.length;_++){var w=m.tokens[_],S=w.styleName&&e.rich[w.styleName]||{},O=w.textPadding=S.padding,M=O?O[1]+O[3]:0,T=w.font=S.font||e.font;w.contentHeight=Wg(T);var A=Pt(S.height,w.contentHeight);if(w.innerHeight=A,O&&(A+=O[0]+O[2]),w.height=A,w.lineHeight=$p(S.lineHeight,e.lineHeight,A),w.align=S&&S.align||e.align,w.verticalAlign=S&&S.verticalAlign||"middle",v&&i!=null&&f+w.lineHeight>i){_>0?(m.tokens=m.tokens.slice(0,_),g(m,x,b),n.lines=n.lines.slice(0,y+1)):n.lines=n.lines.slice(0,y);break t}var P=S.width,E=P==null||P==="auto";if(typeof P=="string"&&P.charAt(P.length-1)==="%")w.percentWidth=P,u.push(w),w.contentWidth=Tr(w.text,T);else{if(E){var C=S.backgroundColor,k=C&&C.image;k&&(k=UG(k),Vg(k)&&(w.width=Math.max(w.width,k.width*A/k.height)))}var L=p&&r!=null?r-x:null;L!=null&&L<w.width?!E||L<M?(w.text="",w.width=w.contentWidth=0):(w.text=qG(w.text,L-M,T,e.ellipsis,{minChar:e.truncateMinChar}),w.width=w.contentWidth=Tr(w.text,T)):w.contentWidth=Tr(w.text,T)}w.width+=M,x+=w.width,S&&(b=Math.max(b,w.lineHeight))}g(m,x,b)}n.outerWidth=n.width=Pt(r,h),n.outerHeight=n.height=Pt(i,f),n.contentHeight=f,n.contentWidth=h,d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]);for(var y=0;y<u.length;y++){var w=u[y],R=w.percentWidth;w.width=parseInt(R,10)/100*n.width}return n}function jy(t,e,n,r,i){var a=e==="",o=i&&n.rich[i]||{},s=t.lines,l=o.font||n.font,c=!1,u,f;if(r){var h=o.padding,d=h?h[1]+h[3]:0;if(o.width!=null&&o.width!=="auto"){var p=_o(o.width,r.width)+d;s.length>0&&p+r.accumWidth>r.width&&(u=e.split(`
`),c=!0),r.accumWidth=p}else{var v=RD(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=v.accumWidth+d,f=v.linesWidths,u=v.lines}}else u=e.split(`
`);for(var g=0;g<u.length;g++){var y=u[g],m=new QG;if(m.styleName=i,m.text=y,m.isLineHolder=!y&&!a,typeof o.width=="number"?m.width=o.width:m.width=f?f[g]:Tr(y,l),!g&&!c){var b=(s[s.length-1]||(s[0]=new sM)).tokens,x=b.length;x===1&&b[0].isLineHolder?b[0]=m:(y||!x||a)&&b.push(m)}else s.push(new sM([m]))}}function eW(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var nW=Bc(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function rW(t){return eW(t)?!!nW[t]:!0}function RD(t,e,n,r,i){for(var a=[],o=[],s="",l="",c=0,u=0,f=0;f<t.length;f++){var h=t.charAt(f);if(h===`
`){l&&(s+=l,u+=c),a.push(s),o.push(u),s="",l="",c=0,u=0;continue}var d=Tr(h,e),p=r?!1:!rW(h);if(a.length?u+d>n:i+u+d>n){u?(s||l)&&(p?(s||(s=l,l="",c=0,u=c),a.push(s),o.push(u-c),l+=h,c+=d,s="",u=c):(l&&(s+=l,l="",c=0),a.push(s),o.push(u),s=h,u=d)):p?(a.push(l),o.push(c),l=h,c=d):(a.push(h),o.push(d));continue}u+=d,p?(l+=h,c+=d):(l&&(s+=l,l="",c=0),s+=h)}return!a.length&&!s&&(s=t,l="",c=0),l&&(s+=l),s&&(a.push(s),o.push(u)),a.length===1&&(u+=i),{accumWidth:u,lines:a,linesWidths:o}}var cb="__zr_style_"+Math.round(Math.random()*10),Ms={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Xg={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Ms[cb]=!0;var lM=["z","z2","invisible"],iW=["invisible"],aW=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype._init=function(n){for(var r=Ut(n),i=0;i<r.length;i++){var a=r[i];a==="style"?this.useStyle(n[a]):t.prototype.attrKV.call(this,a,n[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(n,r,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&oW(this,n,r)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(n,r){return this.rectContain(n,r)},e.prototype.traverse=function(n,r){n.call(r,this)},e.prototype.rectContain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new Ce(0,0,0,0)),r?Ce.applyTransform(n,i,r):n.copy(i),(o||s||l)&&(n.width+=o*2+Math.abs(s),n.height+=o*2+Math.abs(l),n.x=Math.min(n.x,n.x+s-o),n.y=Math.min(n.y,n.y+l-o));var c=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-c),n.y=Math.floor(n.y-c),n.width=Math.ceil(n.width+1+c*2),n.height=Math.ceil(n.height+1+c*2))}return n},e.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new Ce(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(n){return this.animate("style",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(n,r){n!=="style"?t.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:lt(this.style,n),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=Ru,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&Ru)},e.prototype.styleUpdated=function(){this.__dirty&=~Ru},e.prototype.createStyle=function(n){return $g(Ms,n)},e.prototype.useStyle=function(n){n[cb]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},e.prototype.isStyleObject=function(n){return n[cb]},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,lM)},e.prototype._applyStateObj=function(n,r,i,a,o,s){t.prototype._applyStateObj.call(this,n,r,i,a,o,s);var l=!(r&&a),c;if(r&&r.style?o?a?c=r.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,r.style)):(c=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(c,r.style)):l&&(c=i.style),c)if(o){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var f=Ut(u),h=0;h<f.length;h++){var d=f[h];d in c&&(c[d]=c[d],this.style[d]=u[d])}for(var p=Ut(c),h=0;h<p.length;h++){var d=p[h];this.style[d]=this.style[d]}this._transitionState(n,{style:c},s,this.getAnimationStyleProps())}else this.useStyle(c);for(var v=this.__inHover?iW:lM,h=0;h<v.length;h++){var d=v[h];r&&r[d]!=null?this[d]=r[d]:l&&i[d]!=null&&(this[d]=i[d])}},e.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),i,a=0;a<n.length;a++){var o=n[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(n,r){return lt(n,r),n},e.prototype.getAnimationStyleProps=function(){return Xg},e.initDefaultProps=function(){var n=e.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=Di|Ru}(),e}(Hg),zy=new Ce(0,0,0,0),$y=new Ce(0,0,0,0);function oW(t,e,n){return zy.copy(t.getBoundingRect()),t.transform&&zy.applyTransform(t.transform),$y.width=e,$y.height=n,!zy.intersect($y)}const Bh=aW;var Hr=Math.min,Yr=Math.max,Gy=Math.sin,Wy=Math.cos,Uo=Math.PI*2,_d=Fc(),wd=Fc(),Sd=Fc();function cM(t,e,n,r,i,a){i[0]=Hr(t,n),i[1]=Hr(e,r),a[0]=Yr(t,n),a[1]=Yr(e,r)}var uM=[],fM=[];function sW(t,e,n,r,i,a,o,s,l,c){var u=sD,f=Yn,h=u(t,n,i,o,uM);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var d=0;d<h;d++){var p=f(t,n,i,o,uM[d]);l[0]=Hr(p,l[0]),c[0]=Yr(p,c[0])}h=u(e,r,a,s,fM);for(var d=0;d<h;d++){var v=f(e,r,a,s,fM[d]);l[1]=Hr(v,l[1]),c[1]=Yr(v,c[1])}l[0]=Hr(t,l[0]),c[0]=Yr(t,c[0]),l[0]=Hr(o,l[0]),c[0]=Yr(o,c[0]),l[1]=Hr(e,l[1]),c[1]=Yr(e,c[1]),l[1]=Hr(s,l[1]),c[1]=Yr(s,c[1])}function lW(t,e,n,r,i,a,o,s){var l=lD,c=ur,u=Yr(Hr(l(t,n,i),1),0),f=Yr(Hr(l(e,r,a),1),0),h=c(t,n,i,u),d=c(e,r,a,f);o[0]=Hr(t,i,h),o[1]=Hr(e,a,d),s[0]=Yr(t,i,h),s[1]=Yr(e,a,d)}function cW(t,e,n,r,i,a,o,s,l){var c=Il,u=Rl,f=Math.abs(i-a);if(f%Uo<1e-4&&f>1e-4){s[0]=t-n,s[1]=e-r,l[0]=t+n,l[1]=e+r;return}if(_d[0]=Wy(i)*n+t,_d[1]=Gy(i)*r+e,wd[0]=Wy(a)*n+t,wd[1]=Gy(a)*r+e,c(s,_d,wd),u(l,_d,wd),i=i%Uo,i<0&&(i=i+Uo),a=a%Uo,a<0&&(a=a+Uo),i>a&&!o?a+=Uo:i<a&&o&&(i+=Uo),o){var h=a;a=i,i=h}for(var d=0;d<a;d+=Math.PI/2)d>i&&(Sd[0]=Wy(d)*n+t,Sd[1]=Gy(d)*r+e,c(s,Sd,s),u(l,Sd,l))}var te={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},qo=[],Zo=[],Mi=[],ja=[],Ti=[],Ai=[],Hy=Math.min,Yy=Math.max,Ko=Math.cos,Qo=Math.sin,oa=Math.abs,ub=Math.PI,Ya=ub*2,Vy=typeof Float32Array<"u",cu=[];function Xy(t){var e=Math.round(t/ub*1e8)/1e8;return e%2*ub}function uW(t,e){var n=Xy(t[0]);n<0&&(n+=Ya);var r=n-t[0],i=t[1];i+=r,!e&&i-n>=Ya?i=n+Ya:e&&n-i>=Ya?i=n-Ya:!e&&n>i?i=n+(Ya-Xy(n-i)):e&&n<i&&(i=n-(Ya-Xy(i-n))),t[0]=n,t[1]=i}var ks=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,n,r){r=r||0,r>0&&(this._ux=oa(r/qO/e)||0,this._uy=oa(r/qO/n)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,n){return this._drawPendingPt(),this.addData(te.M,e,n),this._ctx&&this._ctx.moveTo(e,n),this._x0=e,this._y0=n,this._xi=e,this._yi=n,this},t.prototype.lineTo=function(e,n){var r=oa(e-this._xi),i=oa(n-this._yi),a=r>this._ux||i>this._uy;if(this.addData(te.L,e,n),this._ctx&&a&&this._ctx.lineTo(e,n),a)this._xi=e,this._yi=n,this._pendingPtDist=0;else{var o=r*r+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=n,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,n,r,i,a,o){return this._drawPendingPt(),this.addData(te.C,e,n,r,i,a,o),this._ctx&&this._ctx.bezierCurveTo(e,n,r,i,a,o),this._xi=a,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,n,r,i){return this._drawPendingPt(),this.addData(te.Q,e,n,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,n,r,i),this._xi=r,this._yi=i,this},t.prototype.arc=function(e,n,r,i,a,o){this._drawPendingPt(),cu[0]=i,cu[1]=a,uW(cu,o),i=cu[0],a=cu[1];var s=a-i;return this.addData(te.A,e,n,r,r,i,s,0,o?0:1),this._ctx&&this._ctx.arc(e,n,r,i,a,o),this._xi=Ko(a)*r+e,this._yi=Qo(a)*r+n,this},t.prototype.arcTo=function(e,n,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,n,r,i,a),this},t.prototype.rect=function(e,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,n,r,i),this.addData(te.R,e,n,r,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(te.Z);var e=this._ctx,n=this._x0,r=this._y0;return e&&e.closePath(),this._xi=n,this._yi=r,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var n=e.length;!(this.data&&this.data.length===n)&&Vy&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=e[r];this._len=n},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var n=e.length,r=0,i=this._len,a=0;a<n;a++)r+=e[a].len();Vy&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var a=0;a<n;a++)for(var o=e[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},t.prototype.addData=function(e,n,r,i,a,o,s,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var f=0;f<arguments.length;f++)u[this._len++]=arguments[f]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],n=0;n<this._len;n++)e[n]=this.data[n];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,Vy&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){Mi[0]=Mi[1]=Ti[0]=Ti[1]=Number.MAX_VALUE,ja[0]=ja[1]=Ai[0]=Ai[1]=-Number.MAX_VALUE;var e=this.data,n=0,r=0,i=0,a=0,o;for(o=0;o<this._len;){var s=e[o++],l=o===1;switch(l&&(n=e[o],r=e[o+1],i=n,a=r),s){case te.M:n=i=e[o++],r=a=e[o++],Ti[0]=i,Ti[1]=a,Ai[0]=i,Ai[1]=a;break;case te.L:cM(n,r,e[o],e[o+1],Ti,Ai),n=e[o++],r=e[o++];break;case te.C:sW(n,r,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Ti,Ai),n=e[o++],r=e[o++];break;case te.Q:lW(n,r,e[o++],e[o++],e[o],e[o+1],Ti,Ai),n=e[o++],r=e[o++];break;case te.A:var c=e[o++],u=e[o++],f=e[o++],h=e[o++],d=e[o++],p=e[o++]+d;o+=1;var v=!e[o++];l&&(i=Ko(d)*f+c,a=Qo(d)*h+u),cW(c,u,f,h,d,p,v,Ti,Ai),n=Ko(p)*f+c,r=Qo(p)*h+u;break;case te.R:i=n=e[o++],a=r=e[o++];var g=e[o++],y=e[o++];cM(i,a,i+g,a+y,Ti,Ai);break;case te.Z:n=i,r=a;break}Il(Mi,Mi,Ti),Rl(ja,ja,Ai)}return o===0&&(Mi[0]=Mi[1]=ja[0]=ja[1]=0),new Ce(Mi[0],Mi[1],ja[0]-Mi[0],ja[1]-Mi[1])},t.prototype._calculateLength=function(){var e=this.data,n=this._len,r=this._ux,i=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,f=0,h=0;h<n;){var d=e[h++],p=h===1;p&&(a=e[h],o=e[h+1],s=a,l=o);var v=-1;switch(d){case te.M:a=s=e[h++],o=l=e[h++];break;case te.L:{var g=e[h++],y=e[h++],m=g-a,b=y-o;(oa(m)>r||oa(b)>i||h===n-1)&&(v=Math.sqrt(m*m+b*b),a=g,o=y);break}case te.C:{var x=e[h++],_=e[h++],g=e[h++],y=e[h++],w=e[h++],S=e[h++];v=P$(a,o,x,_,g,y,w,S,10),a=w,o=S;break}case te.Q:{var x=e[h++],_=e[h++],g=e[h++],y=e[h++];v=L$(a,o,x,_,g,y,10),a=g,o=y;break}case te.A:var O=e[h++],M=e[h++],T=e[h++],A=e[h++],P=e[h++],E=e[h++],C=E+P;h+=1,p&&(s=Ko(P)*T+O,l=Qo(P)*A+M),v=Yy(T,A)*Hy(Ya,Math.abs(E)),a=Ko(C)*T+O,o=Qo(C)*A+M;break;case te.R:{s=a=e[h++],l=o=e[h++];var k=e[h++],L=e[h++];v=k*2+L*2;break}case te.Z:{var m=s-a,b=l-o;v=Math.sqrt(m*m+b*b),a=s,o=l;break}}v>=0&&(c[f++]=v,u+=v)}return this._pathLen=u,u},t.prototype.rebuildPath=function(e,n){var r=this.data,i=this._ux,a=this._uy,o=this._len,s,l,c,u,f,h,d=n<1,p,v,g=0,y=0,m,b=0,x,_;if(!(d&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,v=this._pathLen,m=n*v,!m)))t:for(var w=0;w<o;){var S=r[w++],O=w===1;switch(O&&(c=r[w],u=r[w+1],s=c,l=u),S!==te.L&&b>0&&(e.lineTo(x,_),b=0),S){case te.M:s=c=r[w++],l=u=r[w++],e.moveTo(c,u);break;case te.L:{f=r[w++],h=r[w++];var M=oa(f-c),T=oa(h-u);if(M>i||T>a){if(d){var A=p[y++];if(g+A>m){var P=(m-g)/A;e.lineTo(c*(1-P)+f*P,u*(1-P)+h*P);break t}g+=A}e.lineTo(f,h),c=f,u=h,b=0}else{var E=M*M+T*T;E>b&&(x=f,_=h,b=E)}break}case te.C:{var C=r[w++],k=r[w++],L=r[w++],R=r[w++],D=r[w++],I=r[w++];if(d){var A=p[y++];if(g+A>m){var P=(m-g)/A;yv(c,C,L,D,P,qo),yv(u,k,R,I,P,Zo),e.bezierCurveTo(qo[1],Zo[1],qo[2],Zo[2],qo[3],Zo[3]);break t}g+=A}e.bezierCurveTo(C,k,L,R,D,I),c=D,u=I;break}case te.Q:{var C=r[w++],k=r[w++],L=r[w++],R=r[w++];if(d){var A=p[y++];if(g+A>m){var P=(m-g)/A;mv(c,C,L,P,qo),mv(u,k,R,P,Zo),e.quadraticCurveTo(qo[1],Zo[1],qo[2],Zo[2]);break t}g+=A}e.quadraticCurveTo(C,k,L,R),c=L,u=R;break}case te.A:var N=r[w++],F=r[w++],j=r[w++],z=r[w++],G=r[w++],V=r[w++],Q=r[w++],Y=!r[w++],H=j>z?j:z,tt=oa(j-z)>.001,Z=G+V,W=!1;if(d){var A=p[y++];g+A>m&&(Z=G+V*(m-g)/A,W=!0),g+=A}if(tt&&e.ellipse?e.ellipse(N,F,j,z,Q,G,Z,Y):e.arc(N,F,H,G,Z,Y),W)break t;O&&(s=Ko(G)*j+N,l=Qo(G)*z+F),c=Ko(Z)*j+N,u=Qo(Z)*z+F;break;case te.R:s=c=r[w],l=u=r[w+1],f=r[w++],h=r[w++];var K=r[w++],ot=r[w++];if(d){var A=p[y++];if(g+A>m){var at=m-g;e.moveTo(f,h),e.lineTo(f+Hy(at,K),h),at-=K,at>0&&e.lineTo(f+K,h+Hy(at,ot)),at-=ot,at>0&&e.lineTo(f+Yy(K-at,0),h+ot),at-=K,at>0&&e.lineTo(f,h+Yy(ot-at,0));break t}g+=A}e.rect(f,h,K,ot);break;case te.Z:if(d){var A=p[y++];if(g+A>m){var P=(m-g)/A;e.lineTo(c*(1-P)+s*P,u*(1-P)+l*P);break t}g+=A}e.closePath(),c=s,u=l}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=te,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();function ul(t,e,n,r,i,a,o){if(i===0)return!1;var s=i,l=0,c=t;if(o>e+s&&o>r+s||o<e-s&&o<r-s||a>t+s&&a>n+s||a<t-s&&a<n-s)return!1;if(t!==n)l=(e-r)/(t-n),c=(t*r-n*e)/(t-n);else return Math.abs(a-t)<=s/2;var u=l*a-o+c,f=u*u/(l*l+1);return f<=s/2*s/2}function fW(t,e,n,r,i,a,o,s,l,c,u){if(l===0)return!1;var f=l;if(u>e+f&&u>r+f&&u>a+f&&u>s+f||u<e-f&&u<r-f&&u<a-f&&u<s-f||c>t+f&&c>n+f&&c>i+f&&c>o+f||c<t-f&&c<n-f&&c<i-f&&c<o-f)return!1;var h=E$(t,e,n,r,i,a,o,s,c,u);return h<=f/2}function hW(t,e,n,r,i,a,o,s,l){if(o===0)return!1;var c=o;if(l>e+c&&l>r+c&&l>a+c||l<e-c&&l<r-c&&l<a-c||s>t+c&&s>n+c&&s>i+c||s<t-c&&s<n-c&&s<i-c)return!1;var u=k$(t,e,n,r,i,a,s,l);return u<=c/2}var hM=Math.PI*2;function Od(t){return t%=hM,t<0&&(t+=hM),t}var uu=Math.PI*2;function dW(t,e,n,r,i,a,o,s,l){if(o===0)return!1;var c=o;s-=t,l-=e;var u=Math.sqrt(s*s+l*l);if(u-c>n||u+c<n)return!1;if(Math.abs(r-i)%uu<1e-4)return!0;if(a){var f=r;r=Od(i),i=Od(f)}else r=Od(r),i=Od(i);r>i&&(i+=uu);var h=Math.atan2(l,s);return h<0&&(h+=uu),h>=r&&h<=i||h+uu>=r&&h+uu<=i}function Jo(t,e,n,r,i,a){if(a>e&&a>r||a<e&&a<r||r===e)return 0;var o=(a-e)/(r-e),s=r<e?1:-1;(o===1||o===0)&&(s=r<e?.5:-.5);var l=o*(n-t)+t;return l===i?1/0:l>i?s:0}var za=ks.CMD,ts=Math.PI*2,pW=1e-4;function vW(t,e){return Math.abs(t-e)<pW}var Wn=[-1,-1,-1],$r=[-1,-1];function gW(){var t=$r[0];$r[0]=$r[1],$r[1]=t}function yW(t,e,n,r,i,a,o,s,l,c){if(c>e&&c>r&&c>a&&c>s||c<e&&c<r&&c<a&&c<s)return 0;var u=oD(e,r,a,s,c,Wn);if(u===0)return 0;for(var f=0,h=-1,d=void 0,p=void 0,v=0;v<u;v++){var g=Wn[v],y=g===0||g===1?.5:1,m=Yn(t,n,i,o,g);m<l||(h<0&&(h=sD(e,r,a,s,$r),$r[1]<$r[0]&&h>1&&gW(),d=Yn(e,r,a,s,$r[0]),h>1&&(p=Yn(e,r,a,s,$r[1]))),h===2?g<$r[0]?f+=d<e?y:-y:g<$r[1]?f+=p<d?y:-y:f+=s<p?y:-y:g<$r[0]?f+=d<e?y:-y:f+=s<d?y:-y)}return f}function mW(t,e,n,r,i,a,o,s){if(s>e&&s>r&&s>a||s<e&&s<r&&s<a)return 0;var l=C$(e,r,a,s,Wn);if(l===0)return 0;var c=lD(e,r,a);if(c>=0&&c<=1){for(var u=0,f=ur(e,r,a,c),h=0;h<l;h++){var d=Wn[h]===0||Wn[h]===1?.5:1,p=ur(t,n,i,Wn[h]);p<o||(Wn[h]<c?u+=f<e?d:-d:u+=a<f?d:-d)}return u}else{var d=Wn[0]===0||Wn[0]===1?.5:1,p=ur(t,n,i,Wn[0]);return p<o?0:a<e?d:-d}}function bW(t,e,n,r,i,a,o,s){if(s-=e,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);Wn[0]=-l,Wn[1]=l;var c=Math.abs(r-i);if(c<1e-4)return 0;if(c>=ts-1e-4){r=0,i=ts;var u=a?1:-1;return o>=Wn[0]+t&&o<=Wn[1]+t?u:0}if(r>i){var f=r;r=i,i=f}r<0&&(r+=ts,i+=ts);for(var h=0,d=0;d<2;d++){var p=Wn[d];if(p+t>o){var v=Math.atan2(s,p),u=a?1:-1;v<0&&(v=ts+v),(v>=r&&v<=i||v+ts>=r&&v+ts<=i)&&(v>Math.PI/2&&v<Math.PI*1.5&&(u=-u),h+=u)}}return h}function ND(t,e,n,r,i){for(var a=t.data,o=t.len(),s=0,l=0,c=0,u=0,f=0,h,d,p=0;p<o;){var v=a[p++],g=p===1;switch(v===za.M&&p>1&&(n||(s+=Jo(l,c,u,f,r,i))),g&&(l=a[p],c=a[p+1],u=l,f=c),v){case za.M:u=a[p++],f=a[p++],l=u,c=f;break;case za.L:if(n){if(ul(l,c,a[p],a[p+1],e,r,i))return!0}else s+=Jo(l,c,a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case za.C:if(n){if(fW(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else s+=yW(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case za.Q:if(n){if(hW(l,c,a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else s+=mW(l,c,a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case za.A:var y=a[p++],m=a[p++],b=a[p++],x=a[p++],_=a[p++],w=a[p++];p+=1;var S=!!(1-a[p++]);h=Math.cos(_)*b+y,d=Math.sin(_)*x+m,g?(u=h,f=d):s+=Jo(l,c,h,d,r,i);var O=(r-y)*x/b+y;if(n){if(dW(y,m,x,_,_+w,S,e,O,i))return!0}else s+=bW(y,m,x,_,_+w,S,O,i);l=Math.cos(_+w)*b+y,c=Math.sin(_+w)*x+m;break;case za.R:u=l=a[p++],f=c=a[p++];var M=a[p++],T=a[p++];if(h=u+M,d=f+T,n){if(ul(u,f,h,f,e,r,i)||ul(h,f,h,d,e,r,i)||ul(h,d,u,d,e,r,i)||ul(u,d,u,f,e,r,i))return!0}else s+=Jo(h,f,h,d,r,i),s+=Jo(u,d,u,f,r,i);break;case za.Z:if(n){if(ul(l,c,u,f,e,r,i))return!0}else s+=Jo(l,c,u,f,r,i);l=u,c=f;break}}return!n&&!vW(c,f)&&(s+=Jo(l,c,u,f,r,i)||0),s!==0}function xW(t,e,n){return ND(t,0,!1,e,n)}function _W(t,e,n,r){return ND(t,e,!0,n,r)}var Ov=_e({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Ms),wW={style:_e({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Xg.style)},Uy=Rf.concat(["invisible","culling","z","z2","zlevel","parent"]),ve=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype.update=function(){var n=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){n.buildPath(l,n.shape)}),i.silent=!0;var a=i.style;for(var o in r)a[o]!==r[o]&&(a[o]=r[o]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var s=0;s<Uy.length;++s)i[Uy[s]]=this[Uy[s]];i.__dirty|=Di}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(n){var r=Ut(n);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var o=r[a],s=n[o];o==="style"?this.style?lt(this.style,s):this.useStyle(s):o==="shape"?lt(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(vt(n)){var r=bv(n,0);return r>.5?ab:r>.2?nG:ob}else if(n)return ob}return ab},e.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(vt(r)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=bv(n,0)<ib;if(a===o)return r}},e.prototype.buildPath=function(n,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~El},e.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},e.prototype.createPathProxy=function(){this.path=new ks(!1)},e.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},e.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,i=!n;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&El)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),n=o.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||i){s.copy(n);var l=r.strokeNoScale?this.getLineScale():1,c=r.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(s.width+=c/l,s.height+=c/l,s.x-=c/l/2,s.y-=c/l/2)}return s}return n},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect(),o=this.style;if(n=i[0],r=i[1],a.contain(n,r)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,c=o.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),_W(s,l/c,n,r)))return!0}if(this.hasFill())return xW(s,n,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=El,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(n){return this.animate("shape",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):t.prototype.attrKV.call(this,n,r)},e.prototype.setShape=function(n,r){var i=this.shape;return i||(i=this.shape={}),typeof n=="string"?i[n]=r:lt(i,n),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&El)},e.prototype.createStyle=function(n){return $g(Ov,n)},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=lt({},this.shape))},e.prototype._applyStateObj=function(n,r,i,a,o,s){t.prototype._applyStateObj.call(this,n,r,i,a,o,s);var l=!(r&&a),c;if(r&&r.shape?o?a?c=r.shape:(c=lt({},i.shape),lt(c,r.shape)):(c=lt({},a?this.shape:i.shape),lt(c,r.shape)):l&&(c=i.shape),c)if(o){this.shape=lt({},this.shape);for(var u={},f=Ut(c),h=0;h<f.length;h++){var d=f[h];typeof c[d]=="object"?this.shape[d]=c[d]:u[d]=c[d]}this._transitionState(n,{shape:u},s)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),i,a=0;a<n.length;a++){var o=n[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return wW},e.prototype.isZeroArea=function(){return!1},e.extend=function(n){var r=function(a){it(o,a);function o(s){var l=a.call(this,s)||this;return n.init&&n.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return Yt(n.style)},o.prototype.getDefaultShape=function(){return Yt(n.shape)},o}(e);for(var i in n)typeof n[i]=="function"&&(r.prototype[i]=n[i]);return r},e.initDefaultProps=function(){var n=e.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=Di|Ru|El}(),e}(Bh),SW=_e({strokeFirst:!0,font:xo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Ov),jf=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0},e.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(n){return $g(SW,n)},e.prototype.setBoundingRect=function(n){this._rect=n},e.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var r=n.text;r!=null?r+="":r="";var i=Y_(r,n.font,n.textAlign,n.textBaseline);if(i.x+=n.x||0,i.y+=n.y||0,this.hasStroke()){var a=n.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var n=e.prototype;n.dirtyRectTolerance=10}(),e}(Bh);jf.prototype.type="tspan";var OW=_e({x:0,y:0},Ms),MW={style:_e({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Xg.style)};function TW(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var Na=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(n){return $g(OW,n)},e.prototype._getSize=function(n){var r=this.style,i=r[n];if(i!=null)return i;var a=TW(r.image)?r.image:this.__image;if(!a)return 0;var o=n==="width"?"height":"width",s=r[o];return s==null?a[n]:a[n]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return MW},e.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new Ce(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Bh);Na.prototype.type="image";function AW(t,e){var n=e.x,r=e.y,i=e.width,a=e.height,o=e.r,s,l,c,u;i<0&&(n=n+i,i=-i),a<0&&(r=r+a,a=-a),typeof o=="number"?s=l=c=u=o:o instanceof Array?o.length===1?s=l=c=u=o[0]:o.length===2?(s=c=o[0],l=u=o[1]):o.length===3?(s=o[0],l=u=o[1],c=o[2]):(s=o[0],l=o[1],c=o[2],u=o[3]):s=l=c=u=0;var f;s+l>i&&(f=s+l,s*=i/f,l*=i/f),c+u>i&&(f=c+u,c*=i/f,u*=i/f),l+c>a&&(f=l+c,l*=a/f,c*=a/f),s+u>a&&(f=s+u,s*=a/f,u*=a/f),t.moveTo(n+s,r),t.lineTo(n+i-l,r),l!==0&&t.arc(n+i-l,r+l,l,-Math.PI/2,0),t.lineTo(n+i,r+a-c),c!==0&&t.arc(n+i-c,r+a-c,c,0,Math.PI/2),t.lineTo(n+u,r+a),u!==0&&t.arc(n+u,r+a-u,u,Math.PI/2,Math.PI),t.lineTo(n,r+s),s!==0&&t.arc(n+s,r+s,s,Math.PI,Math.PI*1.5)}var Bl=Math.round;function BD(t,e,n){if(e){var r=e.x1,i=e.x2,a=e.y1,o=e.y2;t.x1=r,t.x2=i,t.y1=a,t.y2=o;var s=n&&n.lineWidth;return s&&(Bl(r*2)===Bl(i*2)&&(t.x1=t.x2=xs(r,s,!0)),Bl(a*2)===Bl(o*2)&&(t.y1=t.y2=xs(a,s,!0))),t}}function FD(t,e,n){if(e){var r=e.x,i=e.y,a=e.width,o=e.height;t.x=r,t.y=i,t.width=a,t.height=o;var s=n&&n.lineWidth;return s&&(t.x=xs(r,s,!0),t.y=xs(i,s,!0),t.width=Math.max(xs(r+a,s,!1)-t.x,a===0?0:1),t.height=Math.max(xs(i+o,s,!1)-t.y,o===0?0:1)),t}}function xs(t,e,n){if(!e)return t;var r=Bl(t*2);return(r+Bl(e))%2===0?r/2:(r+(n?1:-1))/2}var EW=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),PW={},ln=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new EW},e.prototype.buildPath=function(n,r){var i,a,o,s;if(this.subPixelOptimize){var l=FD(PW,r,this.style);i=l.x,a=l.y,o=l.width,s=l.height,l.r=r.r,r=l}else i=r.x,a=r.y,o=r.width,s=r.height;r.r?AW(n,r):n.rect(i,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(ve);ln.prototype.type="rect";var dM={fill:"#000"},pM=2,CW={style:_e({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Xg.style)},Zn=function(t){it(e,t);function e(n){var r=t.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=dM,r.attr(n),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):t.prototype.getLocalTransform.call(this,n)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,DW(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new Ce(0,0,0,0),r=this._children,i=[],a=null,o=0;o<r.length;o++){var s=r[o],l=s.getBoundingRect(),c=s.getLocalTransform(i);c?(n.copy(l),n.applyTransform(c),a=a||n.clone(),a.union(n)):(a=a||l.clone(),a.union(l))}this._rect=a||n}return this._rect},e.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||dM},e.prototype.setTextContent=function(n){},e.prototype._mergeStyle=function(n,r){if(!r)return n;var i=r.rich,a=n.rich||i&&{};return lt(n,r),i&&a?(this._mergeRich(a,i),n.rich=a):a&&(n.rich=a),n},e.prototype._mergeRich=function(n,r){for(var i=Ut(r),a=0;a<i.length;a++){var o=i[a];n[o]=n[o]||{},lt(n[o],r[o])}},e.prototype.getAnimationStyleProps=function(){return CW},e.prototype._getOrCreateChild=function(n){var r=this._children[this._childCursor];return(!r||!(r instanceof n))&&(r=new n),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var n=this.style,r=n.font||xo,i=n.padding,a=_M(n),o=KG(a,n),s=qy(n),l=!!n.backgroundColor,c=o.outerHeight,u=o.outerWidth,f=o.contentWidth,h=o.lines,d=o.lineHeight,p=this._defaultStyle,v=n.x||0,g=n.y||0,y=n.align||p.align||"left",m=n.verticalAlign||p.verticalAlign||"top",b=v,x=Pl(g,o.contentHeight,m);if(s||i){var _=Bu(v,u,y),w=Pl(g,c,m);s&&this._renderBackground(n,n,_,w,u,c)}x+=d/2,i&&(b=xM(v,y,i),m==="top"?x+=i[0]:m==="bottom"&&(x-=i[2]));for(var S=0,O=!1,M=bM("fill"in n?n.fill:(O=!0,p.fill)),T=mM("stroke"in n?n.stroke:!l&&(!p.autoStroke||O)?(S=pM,p.stroke):null),A=n.textShadowBlur>0,P=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),E=o.calculatedLineHeight,C=0;C<h.length;C++){var k=this._getOrCreateChild(jf),L=k.createStyle();k.useStyle(L),L.text=h[C],L.x=b,L.y=x,y&&(L.textAlign=y),L.textBaseline="middle",L.opacity=n.opacity,L.strokeFirst=!0,A&&(L.shadowBlur=n.textShadowBlur||0,L.shadowColor=n.textShadowColor||"transparent",L.shadowOffsetX=n.textShadowOffsetX||0,L.shadowOffsetY=n.textShadowOffsetY||0),L.stroke=T,L.fill=M,T&&(L.lineWidth=n.lineWidth||S,L.lineDash=n.lineDash,L.lineDashOffset=n.lineDashOffset||0),L.font=r,gM(L,n),x+=d,P&&k.setBoundingRect(new Ce(Bu(L.x,n.width,L.textAlign),Pl(L.y,E,L.textBaseline),f,E))}},e.prototype._updateRichTexts=function(){var n=this.style,r=_M(n),i=tW(r,n),a=i.width,o=i.outerWidth,s=i.outerHeight,l=n.padding,c=n.x||0,u=n.y||0,f=this._defaultStyle,h=n.align||f.align,d=n.verticalAlign||f.verticalAlign,p=Bu(c,o,h),v=Pl(u,s,d),g=p,y=v;l&&(g+=l[3],y+=l[0]);var m=g+a;qy(n)&&this._renderBackground(n,n,p,v,o,s);for(var b=!!n.backgroundColor,x=0;x<i.lines.length;x++){for(var _=i.lines[x],w=_.tokens,S=w.length,O=_.lineHeight,M=_.width,T=0,A=g,P=m,E=S-1,C=void 0;T<S&&(C=w[T],!C.align||C.align==="left");)this._placeToken(C,n,O,y,A,"left",b),M-=C.width,A+=C.width,T++;for(;E>=0&&(C=w[E],C.align==="right");)this._placeToken(C,n,O,y,P,"right",b),M-=C.width,P-=C.width,E--;for(A+=(a-(A-g)-(m-P)-M)/2;T<=E;)C=w[T],this._placeToken(C,n,O,y,A+C.width/2,"center",b),A+=C.width,T++;y+=O}},e.prototype._placeToken=function(n,r,i,a,o,s,l){var c=r.rich[n.styleName]||{};c.text=n.text;var u=n.verticalAlign,f=a+i/2;u==="top"?f=a+n.height/2:u==="bottom"&&(f=a+i-n.height/2);var h=!n.isLineHolder&&qy(c);h&&this._renderBackground(c,r,s==="right"?o-n.width:s==="center"?o-n.width/2:o,f-n.height/2,n.width,n.height);var d=!!c.backgroundColor,p=n.textPadding;p&&(o=xM(o,s,p),f-=n.height/2-p[0]-n.innerHeight/2);var v=this._getOrCreateChild(jf),g=v.createStyle();v.useStyle(g);var y=this._defaultStyle,m=!1,b=0,x=bM("fill"in c?c.fill:"fill"in r?r.fill:(m=!0,y.fill)),_=mM("stroke"in c?c.stroke:"stroke"in r?r.stroke:!d&&!l&&(!y.autoStroke||m)?(b=pM,y.stroke):null),w=c.textShadowBlur>0||r.textShadowBlur>0;g.text=n.text,g.x=o,g.y=f,w&&(g.shadowBlur=c.textShadowBlur||r.textShadowBlur||0,g.shadowColor=c.textShadowColor||r.textShadowColor||"transparent",g.shadowOffsetX=c.textShadowOffsetX||r.textShadowOffsetX||0,g.shadowOffsetY=c.textShadowOffsetY||r.textShadowOffsetY||0),g.textAlign=s,g.textBaseline="middle",g.font=n.font||xo,g.opacity=$p(c.opacity,r.opacity,1),gM(g,c),_&&(g.lineWidth=$p(c.lineWidth,r.lineWidth,b),g.lineDash=Pt(c.lineDash,r.lineDash),g.lineDashOffset=r.lineDashOffset||0,g.stroke=_),x&&(g.fill=x);var S=n.contentWidth,O=n.contentHeight;v.setBoundingRect(new Ce(Bu(g.x,S,g.textAlign),Pl(g.y,O,g.textBaseline),S,O))},e.prototype._renderBackground=function(n,r,i,a,o,s){var l=n.backgroundColor,c=n.borderWidth,u=n.borderColor,f=l&&l.image,h=l&&!f,d=n.borderRadius,p=this,v,g;if(h||n.lineHeight||c&&u){v=this._getOrCreateChild(ln),v.useStyle(v.createStyle()),v.style.fill=null;var y=v.shape;y.x=i,y.y=a,y.width=o,y.height=s,y.r=d,v.dirtyShape()}if(h){var m=v.style;m.fill=l||null,m.fillOpacity=Pt(n.fillOpacity,1)}else if(f){g=this._getOrCreateChild(Na),g.onload=function(){p.dirtyStyle()};var b=g.style;b.image=l.image,b.x=i,b.y=a,b.width=o,b.height=s}if(c&&u){var m=v.style;m.lineWidth=c,m.stroke=u,m.strokeOpacity=Pt(n.strokeOpacity,1),m.lineDash=n.borderDash,m.lineDashOffset=n.borderDashOffset||0,v.strokeContainThreshold=0,v.hasFill()&&v.hasStroke()&&(m.strokeFirst=!0,m.lineWidth*=2)}var x=(v||g).style;x.shadowBlur=n.shadowBlur||0,x.shadowColor=n.shadowColor||"transparent",x.shadowOffsetX=n.shadowOffsetX||0,x.shadowOffsetY=n.shadowOffsetY||0,x.opacity=$p(n.opacity,r.opacity,1)},e.makeFont=function(n){var r="";return zD(n)&&(r=[n.fontStyle,n.fontWeight,jD(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),r&&Fi(r)||n.textFont||n.font},e}(Bh),kW={left:!0,right:1,center:1},LW={top:1,bottom:1,middle:1},vM=["fontStyle","fontWeight","fontSize","fontFamily"];function jD(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?k_+"px":t+"px"}function gM(t,e){for(var n=0;n<vM.length;n++){var r=vM[n],i=e[r];i!=null&&(t[r]=i)}}function zD(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function DW(t){return yM(t),$(t.rich,yM),t}function yM(t){if(t){t.font=Zn.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||kW[e]?e:"left";var n=t.verticalAlign;n==="center"&&(n="middle"),t.verticalAlign=n==null||LW[n]?n:"top";var r=t.padding;r&&(t.padding=qL(t.padding))}}function mM(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function bM(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function xM(t,e,n){return e==="right"?t-n[1]:e==="center"?t+n[3]/2-n[1]/2:t+n[3]}function _M(t){var e=t.text;return e!=null&&(e+=""),e}function qy(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var se=hn(),IW=function(t,e,n,r){if(r){var i=se(r);i.dataIndex=n,i.dataType=e,i.seriesIndex=t,i.ssrType="chart",r.type==="group"&&r.traverse(function(a){var o=se(a);o.seriesIndex=t,o.dataIndex=n,o.dataType=e,o.ssrType="chart"})}},wM=1,SM={},$D=hn(),K_=hn(),GD=0,Q_=1,J_=2,wo=["emphasis","blur","select"],OM=["normal","emphasis","blur","select"],RW=10,NW=9,Ts="highlight",qp="downplay",uf="select",Zp="unselect",ff="toggleSelect";function fl(t){return t!=null&&t!=="none"}function Ug(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function WD(t){Ug(t,"emphasis",J_)}function HD(t){t.hoverState===J_&&Ug(t,"normal",GD)}function t2(t){Ug(t,"blur",Q_)}function YD(t){t.hoverState===Q_&&Ug(t,"normal",GD)}function BW(t){t.selected=!0}function FW(t){t.selected=!1}function MM(t,e,n){e(t,n)}function Ba(t,e,n){MM(t,e,n),t.isGroup&&t.traverse(function(r){MM(r,e,n)})}function jW(t,e,n,r){for(var i=t.style,a={},o=0;o<e.length;o++){var s=e[o],l=i[s];a[s]=l??(r&&r[s])}for(var o=0;o<t.animators.length;o++){var c=t.animators[o];c.__fromStateTransition&&c.__fromStateTransition.indexOf(n)<0&&c.targetName==="style"&&c.saveTo(a,e)}return a}function zW(t,e,n,r){var i=n&&be(n,"select")>=0,a=!1;if(t instanceof ve){var o=$D(t),s=i&&o.selectFill||o.normalFill,l=i&&o.selectStroke||o.normalStroke;if(fl(s)||fl(l)){r=r||{};var c=r.style||{};c.fill==="inherit"?(a=!0,r=lt({},r),c=lt({},c),c.fill=s):!fl(c.fill)&&fl(s)?(a=!0,r=lt({},r),c=lt({},c),c.fill=K1(s)):!fl(c.stroke)&&fl(l)&&(a||(r=lt({},r),c=lt({},c)),c.stroke=K1(l)),r.style=c}}if(r&&r.z2==null){a||(r=lt({},r));var u=t.z2EmphasisLift;r.z2=t.z2+(u??RW)}return r}function $W(t,e,n){if(n&&n.z2==null){n=lt({},n);var r=t.z2SelectLift;n.z2=t.z2+(r??NW)}return n}function GW(t,e,n){var r=be(t.currentStates,e)>=0,i=t.style.opacity,a=r?null:jW(t,["opacity"],e,{opacity:1});n=n||{};var o=n.style||{};return o.opacity==null&&(n=lt({},n),o=lt({opacity:r?i:a.opacity*.1},o),n.style=o),n}function Zy(t,e){var n=this.states[t];if(this.style){if(t==="emphasis")return zW(this,t,e,n);if(t==="blur")return GW(this,t,n);if(t==="select")return $W(this,t,n)}return n}function WW(t){t.stateProxy=Zy;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=Zy),n&&(n.stateProxy=Zy)}function TM(t,e){!qD(t,e)&&!t.__highByOuter&&Ba(t,WD)}function AM(t,e){!qD(t,e)&&!t.__highByOuter&&Ba(t,HD)}function fb(t,e){t.__highByOuter|=1<<(e||0),Ba(t,WD)}function hb(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Ba(t,HD)}function HW(t){Ba(t,t2)}function VD(t){Ba(t,YD)}function XD(t){Ba(t,BW)}function UD(t){Ba(t,FW)}function qD(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function ZD(t){var e=t.getModel(),n=[],r=[];e.eachComponent(function(i,a){var o=K_(a),s=i==="series",l=s?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!s&&r.push(l),o.isBlured&&(l.group.traverse(function(c){YD(c)}),s&&n.push(a)),o.isBlured=!1}),$(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(n,!1,e)})}function db(t,e,n,r){var i=r.getModel();n=n||"coordinateSystem";function a(c,u){for(var f=0;f<u.length;f++){var h=c.getItemGraphicEl(u[f]);h&&VD(h)}}if(t!=null&&!(!e||e==="none")){var o=i.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(c){var u=o===c,f=c.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&s?f===s:u;if(!(n==="series"&&!u||n==="coordinateSystem"&&!h||e==="series"&&u)){var d=r.getViewOfSeriesModel(c);if(d.group.traverse(function(g){g.__highByOuter&&u&&e==="self"||t2(g)}),vr(e))a(c.getData(),e);else if(Mt(e))for(var p=Ut(e),v=0;v<p.length;v++)a(c.getData(p[v]),e[p[v]]);l.push(c),K_(c).isBlured=!0}}),i.eachComponent(function(c,u){if(c!=="series"){var f=r.getViewOfComponentModel(u);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function pb(t,e,n){if(!(t==null||e==null)){var r=n.getModel().getComponent(t,e);if(r){K_(r).isBlured=!0;var i=n.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){t2(a)})}}}function YW(t,e,n){var r=t.seriesIndex,i=t.getData(e.dataType);if(i){var a=Rh(i,e);a=(ht(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),l=0;!o&&l<s;)o=i.getItemGraphicEl(l++);if(o){var c=se(o);db(r,c.focus,c.blurScope,n)}else{var u=t.get(["emphasis","focus"]),f=t.get(["emphasis","blurScope"]);u!=null&&db(r,u,f,n)}}}function e2(t,e,n,r){var i={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||n==null)return i;var a=r.getModel().getComponent(t,e);if(!a)return i;var o=r.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(n),l,c=0;c<s.length;c++)if(se(s[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function VW(t,e,n){var r=se(t),i=e2(r.componentMainType,r.componentIndex,r.componentHighDownName,n),a=i.dispatchers,o=i.focusSelf;a?(o&&pb(r.componentMainType,r.componentIndex,n),$(a,function(s){return TM(s,e)})):(db(r.seriesIndex,r.focus,r.blurScope,n),r.focus==="self"&&pb(r.componentMainType,r.componentIndex,n),TM(t,e))}function XW(t,e,n){ZD(n);var r=se(t),i=e2(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?$(i,function(a){return AM(a,e)}):AM(t,e)}function UW(t,e,n){if(yb(e)){var r=e.dataType,i=t.getData(r),a=Rh(i,e);ht(a)||(a=[a]),t[e.type===ff?"toggleSelect":e.type===uf?"select":"unselect"](a,r)}}function EM(t){var e=t.getAllData();$(e,function(n){var r=n.data,i=n.type;r.eachItemGraphicEl(function(a,o){t.isSelected(o,i)?XD(a):UD(a)})})}function qW(t){var e=[];return t.eachSeries(function(n){var r=n.getAllData();$(r,function(i){i.data;var a=i.type,o=n.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:n.seriesIndex};a!=null&&(s.dataType=a),e.push(s)}})}),e}function vb(t,e,n){KD(t,!0),Ba(t,WW),QW(t,e,n)}function ZW(t){KD(t,!1)}function KW(t,e,n,r){r?ZW(t):vb(t,e,n)}function QW(t,e,n){var r=se(t);e!=null?(r.focus=e,r.blurScope=n):r.focus&&(r.focus=null)}var PM=["emphasis","blur","select"],JW={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function tH(t,e,n,r){n=n||"itemStyle";for(var i=0;i<PM.length;i++){var a=PM[i],o=e.getModel([a,n]),s=t.ensureState(a);s.style=o[JW[n]]()}}function KD(t,e){var n=e===!1,r=t;t.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function gb(t){return!!(t&&t.__highDownDispatcher)}function eH(t){var e=SM[t];return e==null&&wM<=32&&(e=SM[t]=wM++),e}function yb(t){var e=t.type;return e===uf||e===Zp||e===ff}function CM(t){var e=t.type;return e===Ts||e===qp}function nH(t){var e=$D(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}var hl=ks.CMD,rH=[[],[],[]],kM=Math.sqrt,iH=Math.atan2;function aH(t,e){if(e){var n=t.data,r=t.len(),i,a,o,s,l,c,u=hl.M,f=hl.C,h=hl.L,d=hl.R,p=hl.A,v=hl.Q;for(o=0,s=0;o<r;){switch(i=n[o++],s=o,a=0,i){case u:a=1;break;case h:a=1;break;case f:a=3;break;case v:a=2;break;case p:var g=e[4],y=e[5],m=kM(e[0]*e[0]+e[1]*e[1]),b=kM(e[2]*e[2]+e[3]*e[3]),x=iH(-e[1]/b,e[0]/m);n[o]*=m,n[o++]+=g,n[o]*=b,n[o++]+=y,n[o++]*=m,n[o++]*=b,n[o++]+=x,n[o++]+=x,o+=2,s=o;break;case d:c[0]=n[o++],c[1]=n[o++],Kr(c,c,e),n[s++]=c[0],n[s++]=c[1],c[0]+=n[o++],c[1]+=n[o++],Kr(c,c,e),n[s++]=c[0],n[s++]=c[1]}for(l=0;l<a;l++){var _=rH[l];_[0]=n[o++],_[1]=n[o++],Kr(_,_,e),n[s++]=_[0],n[s++]=_[1]}}t.increaseVersion()}}var Ky=Math.sqrt,Md=Math.sin,Td=Math.cos,fu=Math.PI;function LM(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function mb(t,e){return(t[0]*e[0]+t[1]*e[1])/(LM(t)*LM(e))}function DM(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(mb(t,e))}function IM(t,e,n,r,i,a,o,s,l,c,u){var f=l*(fu/180),h=Td(f)*(t-n)/2+Md(f)*(e-r)/2,d=-1*Md(f)*(t-n)/2+Td(f)*(e-r)/2,p=h*h/(o*o)+d*d/(s*s);p>1&&(o*=Ky(p),s*=Ky(p));var v=(i===a?-1:1)*Ky((o*o*(s*s)-o*o*(d*d)-s*s*(h*h))/(o*o*(d*d)+s*s*(h*h)))||0,g=v*o*d/s,y=v*-s*h/o,m=(t+n)/2+Td(f)*g-Md(f)*y,b=(e+r)/2+Md(f)*g+Td(f)*y,x=DM([1,0],[(h-g)/o,(d-y)/s]),_=[(h-g)/o,(d-y)/s],w=[(-1*h-g)/o,(-1*d-y)/s],S=DM(_,w);if(mb(_,w)<=-1&&(S=fu),mb(_,w)>=1&&(S=0),S<0){var O=Math.round(S/fu*1e6)/1e6;S=fu*2+O%2*fu}u.addData(c,m,b,o,s,x,S,f,a)}var oH=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,sH=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function lH(t){var e=new ks;if(!t)return e;var n=0,r=0,i=n,a=r,o,s=ks.CMD,l=t.match(oH);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],f=u.charAt(0),h=void 0,d=u.match(sH)||[],p=d.length,v=0;v<p;v++)d[v]=parseFloat(d[v]);for(var g=0;g<p;){var y=void 0,m=void 0,b=void 0,x=void 0,_=void 0,w=void 0,S=void 0,O=n,M=r,T=void 0,A=void 0;switch(f){case"l":n+=d[g++],r+=d[g++],h=s.L,e.addData(h,n,r);break;case"L":n=d[g++],r=d[g++],h=s.L,e.addData(h,n,r);break;case"m":n+=d[g++],r+=d[g++],h=s.M,e.addData(h,n,r),i=n,a=r,f="l";break;case"M":n=d[g++],r=d[g++],h=s.M,e.addData(h,n,r),i=n,a=r,f="L";break;case"h":n+=d[g++],h=s.L,e.addData(h,n,r);break;case"H":n=d[g++],h=s.L,e.addData(h,n,r);break;case"v":r+=d[g++],h=s.L,e.addData(h,n,r);break;case"V":r=d[g++],h=s.L,e.addData(h,n,r);break;case"C":h=s.C,e.addData(h,d[g++],d[g++],d[g++],d[g++],d[g++],d[g++]),n=d[g-2],r=d[g-1];break;case"c":h=s.C,e.addData(h,d[g++]+n,d[g++]+r,d[g++]+n,d[g++]+r,d[g++]+n,d[g++]+r),n+=d[g-2],r+=d[g-1];break;case"S":y=n,m=r,T=e.len(),A=e.data,o===s.C&&(y+=n-A[T-4],m+=r-A[T-3]),h=s.C,O=d[g++],M=d[g++],n=d[g++],r=d[g++],e.addData(h,y,m,O,M,n,r);break;case"s":y=n,m=r,T=e.len(),A=e.data,o===s.C&&(y+=n-A[T-4],m+=r-A[T-3]),h=s.C,O=n+d[g++],M=r+d[g++],n+=d[g++],r+=d[g++],e.addData(h,y,m,O,M,n,r);break;case"Q":O=d[g++],M=d[g++],n=d[g++],r=d[g++],h=s.Q,e.addData(h,O,M,n,r);break;case"q":O=d[g++]+n,M=d[g++]+r,n+=d[g++],r+=d[g++],h=s.Q,e.addData(h,O,M,n,r);break;case"T":y=n,m=r,T=e.len(),A=e.data,o===s.Q&&(y+=n-A[T-4],m+=r-A[T-3]),n=d[g++],r=d[g++],h=s.Q,e.addData(h,y,m,n,r);break;case"t":y=n,m=r,T=e.len(),A=e.data,o===s.Q&&(y+=n-A[T-4],m+=r-A[T-3]),n+=d[g++],r+=d[g++],h=s.Q,e.addData(h,y,m,n,r);break;case"A":b=d[g++],x=d[g++],_=d[g++],w=d[g++],S=d[g++],O=n,M=r,n=d[g++],r=d[g++],h=s.A,IM(O,M,n,r,w,S,b,x,_,h,e);break;case"a":b=d[g++],x=d[g++],_=d[g++],w=d[g++],S=d[g++],O=n,M=r,n+=d[g++],r+=d[g++],h=s.A,IM(O,M,n,r,w,S,b,x,_,h,e);break}}(f==="z"||f==="Z")&&(h=s.Z,e.addData(h),n=i,r=a),o=h}return e.toStatic(),e}var QD=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(n){},e}(ve);function JD(t){return t.setData!=null}function t5(t,e){var n=lH(t),r=lt({},e);return r.buildPath=function(i){if(JD(i)){i.setData(n.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;n.rebuildPath(a,1)}},r.applyTransform=function(i){aH(n,i),this.dirtyShape()},r}function cH(t,e){return new QD(t5(t,e))}function uH(t,e){var n=t5(t,e),r=function(i){it(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return a}(QD);return r}function fH(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var a=t[i];n.push(a.getUpdatedPathProxy(!0))}var o=new ve(e);return o.createPathProxy(),o.buildPath=function(s){if(JD(s)){s.appendPath(n);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}var hH=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),qg=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new hH},e.prototype.buildPath=function(n,r){n.moveTo(r.cx+r.r,r.cy),n.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e}(ve);qg.prototype.type="circle";var dH=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),n2=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new dH},e.prototype.buildPath=function(n,r){var i=.5522848,a=r.cx,o=r.cy,s=r.rx,l=r.ry,c=s*i,u=l*i;n.moveTo(a-s,o),n.bezierCurveTo(a-s,o-u,a-c,o-l,a,o-l),n.bezierCurveTo(a+c,o-l,a+s,o-u,a+s,o),n.bezierCurveTo(a+s,o+u,a+c,o+l,a,o+l),n.bezierCurveTo(a-c,o+l,a-s,o+u,a-s,o),n.closePath()},e}(ve);n2.prototype.type="ellipse";var e5=Math.PI,Qy=e5*2,es=Math.sin,dl=Math.cos,pH=Math.acos,Pn=Math.atan2,RM=Math.abs,hf=Math.sqrt,Fu=Math.max,Ei=Math.min,fi=1e-4;function vH(t,e,n,r,i,a,o,s){var l=n-t,c=r-e,u=o-i,f=s-a,h=f*l-u*c;if(!(h*h<fi))return h=(u*(e-a)-f*(t-i))/h,[t+h*l,e+h*c]}function Ad(t,e,n,r,i,a,o){var s=t-n,l=e-r,c=(o?a:-a)/hf(s*s+l*l),u=c*l,f=-c*s,h=t+u,d=e+f,p=n+u,v=r+f,g=(h+p)/2,y=(d+v)/2,m=p-h,b=v-d,x=m*m+b*b,_=i-a,w=h*v-p*d,S=(b<0?-1:1)*hf(Fu(0,_*_*x-w*w)),O=(w*b-m*S)/x,M=(-w*m-b*S)/x,T=(w*b+m*S)/x,A=(-w*m+b*S)/x,P=O-g,E=M-y,C=T-g,k=A-y;return P*P+E*E>C*C+k*k&&(O=T,M=A),{cx:O,cy:M,x0:-u,y0:-f,x1:O*(i/_-1),y1:M*(i/_-1)}}function gH(t){var e;if(ht(t)){var n=t.length;if(!n)return t;n===1?e=[t[0],t[0],0,0]:n===2?e=[t[0],t[0],t[1],t[1]]:n===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function yH(t,e){var n,r=Fu(e.r,0),i=Fu(e.r0||0,0),a=r>0,o=i>0;if(!(!a&&!o)){if(a||(r=i,i=0),i>r){var s=r;r=i,i=s}var l=e.startAngle,c=e.endAngle;if(!(isNaN(l)||isNaN(c))){var u=e.cx,f=e.cy,h=!!e.clockwise,d=RM(c-l),p=d>Qy&&d%Qy;if(p>fi&&(d=p),!(r>fi))t.moveTo(u,f);else if(d>Qy-fi)t.moveTo(u+r*dl(l),f+r*es(l)),t.arc(u,f,r,l,c,!h),i>fi&&(t.moveTo(u+i*dl(c),f+i*es(c)),t.arc(u,f,i,c,l,h));else{var v=void 0,g=void 0,y=void 0,m=void 0,b=void 0,x=void 0,_=void 0,w=void 0,S=void 0,O=void 0,M=void 0,T=void 0,A=void 0,P=void 0,E=void 0,C=void 0,k=r*dl(l),L=r*es(l),R=i*dl(c),D=i*es(c),I=d>fi;if(I){var N=e.cornerRadius;N&&(n=gH(N),v=n[0],g=n[1],y=n[2],m=n[3]);var F=RM(r-i)/2;if(b=Ei(F,y),x=Ei(F,m),_=Ei(F,v),w=Ei(F,g),M=S=Fu(b,x),T=O=Fu(_,w),(S>fi||O>fi)&&(A=r*dl(c),P=r*es(c),E=i*dl(l),C=i*es(l),d<e5)){var j=vH(k,L,E,C,A,P,R,D);if(j){var z=k-j[0],G=L-j[1],V=A-j[0],Q=P-j[1],Y=1/es(pH((z*V+G*Q)/(hf(z*z+G*G)*hf(V*V+Q*Q)))/2),H=hf(j[0]*j[0]+j[1]*j[1]);M=Ei(S,(r-H)/(Y+1)),T=Ei(O,(i-H)/(Y-1))}}}if(!I)t.moveTo(u+k,f+L);else if(M>fi){var tt=Ei(y,M),Z=Ei(m,M),W=Ad(E,C,k,L,r,tt,h),K=Ad(A,P,R,D,r,Z,h);t.moveTo(u+W.cx+W.x0,f+W.cy+W.y0),M<S&&tt===Z?t.arc(u+W.cx,f+W.cy,M,Pn(W.y0,W.x0),Pn(K.y0,K.x0),!h):(tt>0&&t.arc(u+W.cx,f+W.cy,tt,Pn(W.y0,W.x0),Pn(W.y1,W.x1),!h),t.arc(u,f,r,Pn(W.cy+W.y1,W.cx+W.x1),Pn(K.cy+K.y1,K.cx+K.x1),!h),Z>0&&t.arc(u+K.cx,f+K.cy,Z,Pn(K.y1,K.x1),Pn(K.y0,K.x0),!h))}else t.moveTo(u+k,f+L),t.arc(u,f,r,l,c,!h);if(!(i>fi)||!I)t.lineTo(u+R,f+D);else if(T>fi){var tt=Ei(v,T),Z=Ei(g,T),W=Ad(R,D,A,P,i,-Z,h),K=Ad(k,L,E,C,i,-tt,h);t.lineTo(u+W.cx+W.x0,f+W.cy+W.y0),T<O&&tt===Z?t.arc(u+W.cx,f+W.cy,T,Pn(W.y0,W.x0),Pn(K.y0,K.x0),!h):(Z>0&&t.arc(u+W.cx,f+W.cy,Z,Pn(W.y0,W.x0),Pn(W.y1,W.x1),!h),t.arc(u,f,i,Pn(W.cy+W.y1,W.cx+W.x1),Pn(K.cy+K.y1,K.cx+K.x1),h),tt>0&&t.arc(u+K.cx,f+K.cy,tt,Pn(K.y1,K.x1),Pn(K.y0,K.x0),!h))}else t.lineTo(u+R,f+D),t.arc(u,f,i,c,l,h)}t.closePath()}}}var mH=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),jc=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new mH},e.prototype.buildPath=function(n,r){yH(n,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(ve);jc.prototype.type="sector";var bH=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),r2=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new bH},e.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,o=Math.PI*2;n.moveTo(i+r.r,a),n.arc(i,a,r.r,0,o,!1),n.moveTo(i+r.r0,a),n.arc(i,a,r.r0,0,o,!0)},e}(ve);r2.prototype.type="ring";function xH(t,e,n,r){var i=[],a=[],o=[],s=[],l,c,u,f;if(r){u=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,d=t.length;h<d;h++)Il(u,u,t[h]),Rl(f,f,t[h]);Il(u,u,r[0]),Rl(f,f,r[1])}for(var h=0,d=t.length;h<d;h++){var p=t[h];if(n)l=t[h?h-1:d-1],c=t[(h+1)%d];else if(h===0||h===d-1){i.push(Z7(t[h]));continue}else l=t[h-1],c=t[h+1];K7(a,c,l),gy(a,a,e);var v=H1(p,l),g=H1(p,c),y=v+g;y!==0&&(v/=y,g/=y),gy(o,a,-v),gy(s,a,g);var m=OO([],p,o),b=OO([],p,s);r&&(Rl(m,m,u),Il(m,m,f),Rl(b,b,u),Il(b,b,f)),i.push(m),i.push(b)}return n&&i.push(i.shift()),i}function n5(t,e,n){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var a=xH(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(n?o:o-1);s++){var l=a[s*2],c=a[s*2+1],u=i[(s+1)%o];t.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var s=1,f=i.length;s<f;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}var _H=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),i2=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new _H},e.prototype.buildPath=function(n,r){n5(n,r,!0)},e}(ve);i2.prototype.type="polygon";var wH=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),a2=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new wH},e.prototype.buildPath=function(n,r){n5(n,r,!1)},e}(ve);a2.prototype.type="polyline";var SH={},OH=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),So=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new OH},e.prototype.buildPath=function(n,r){var i,a,o,s;if(this.subPixelOptimize){var l=BD(SH,r,this.style);i=l.x1,a=l.y1,o=l.x2,s=l.y2}else i=r.x1,a=r.y1,o=r.x2,s=r.y2;var c=r.percent;c!==0&&(n.moveTo(i,a),c<1&&(o=i*(1-c)+o*c,s=a*(1-c)+s*c),n.lineTo(o,s))},e.prototype.pointAt=function(n){var r=this.shape;return[r.x1*(1-n)+r.x2*n,r.y1*(1-n)+r.y2*n]},e}(ve);So.prototype.type="line";var er=[],MH=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function NM(t,e,n){var r=t.cpx2,i=t.cpy2;return r!=null||i!=null?[(n?RO:Yn)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?RO:Yn)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?NO:ur)(t.x1,t.cpx1,t.x2,e),(n?NO:ur)(t.y1,t.cpy1,t.y2,e)]}var o2=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new MH},e.prototype.buildPath=function(n,r){var i=r.x1,a=r.y1,o=r.x2,s=r.y2,l=r.cpx1,c=r.cpy1,u=r.cpx2,f=r.cpy2,h=r.percent;h!==0&&(n.moveTo(i,a),u==null||f==null?(h<1&&(mv(i,l,o,h,er),l=er[1],o=er[2],mv(a,c,s,h,er),c=er[1],s=er[2]),n.quadraticCurveTo(l,c,o,s)):(h<1&&(yv(i,l,u,o,h,er),l=er[1],u=er[2],o=er[3],yv(a,c,f,s,h,er),c=er[1],f=er[2],s=er[3]),n.bezierCurveTo(l,c,u,f,o,s)))},e.prototype.pointAt=function(n){return NM(this.shape,n,!1)},e.prototype.tangentAt=function(n){var r=NM(this.shape,n,!0);return t$(r,r)},e}(ve);o2.prototype.type="bezier-curve";var TH=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),Zg=function(t){it(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new TH},e.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,o=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,c=r.clockwise,u=Math.cos(s),f=Math.sin(s);n.moveTo(u*o+i,f*o+a),n.arc(i,a,o,s,l,!c)},e}(ve);Zg.prototype.type="arc";var AH=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="compound",n}return e.prototype._updatePathDirty=function(){for(var n=this.shape.paths,r=this.shapeChanged(),i=0;i<n.length;i++)r=r||n[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<n.length;i++)n[i].path||n[i].createPathProxy(),n[i].path.setScale(r[0],r[1],n[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(n,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(n,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var n=this.shape.paths||[],r=0;r<n.length;r++)n[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),ve.prototype.getBoundingRect.call(this)},e}(ve);const r5=AH;var i5=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,n){this.colorStops.push({offset:e,color:n})},t}(),EH=function(t){it(e,t);function e(n,r,i,a,o,s){var l=t.call(this,o)||this;return l.x=n??0,l.y=r??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return e}(i5);const PH=EH;var CH=function(t){it(e,t);function e(n,r,i,a,o){var s=t.call(this,a)||this;return s.x=n??.5,s.y=r??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return e}(i5);const kH=CH;var ns=[0,0],rs=[0,0],Ed=new me,Pd=new me,LH=function(){function t(e,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new me;for(var r=0;r<2;r++)this._axes[r]=new me;e&&this.fromBoundingRect(e,n)}return t.prototype.fromBoundingRect=function(e,n){var r=this._corners,i=this._axes,a=e.x,o=e.y,s=a+e.width,l=o+e.height;if(r[0].set(a,o),r[1].set(s,o),r[2].set(s,l),r[3].set(a,l),n)for(var c=0;c<4;c++)r[c].transform(n);me.sub(i[0],r[1],r[0]),me.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var c=0;c<2;c++)this._origin[c]=i[c].dot(r[0])},t.prototype.intersect=function(e,n){var r=!0,i=!n;return Ed.set(1/0,1/0),Pd.set(0,0),!this._intersectCheckOneSide(this,e,Ed,Pd,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,Ed,Pd,i,-1)&&(r=!1,i)||i||me.copy(n,r?Ed:Pd),r},t.prototype._intersectCheckOneSide=function(e,n,r,i,a,o){for(var s=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,ns),this._getProjMinMaxOnAxis(l,n._corners,rs),ns[1]<rs[0]||ns[0]>rs[1]){if(s=!1,a)return s;var u=Math.abs(rs[0]-ns[1]),f=Math.abs(ns[0]-rs[1]);Math.min(u,f)>i.len()&&(u<f?me.scale(i,c,-u*o):me.scale(i,c,f*o))}else if(r){var u=Math.abs(rs[0]-ns[1]),f=Math.abs(ns[0]-rs[1]);Math.min(u,f)<r.len()&&(u<f?me.scale(r,c,u*o):me.scale(r,c,-f*o))}}return s},t.prototype._getProjMinMaxOnAxis=function(e,n,r){for(var i=this._axes[e],a=this._origin,o=n[0].dot(i)+a[e],s=o,l=o,c=1;c<n.length;c++){var u=n[c].dot(i)+a[e];s=Math.min(u,s),l=Math.max(u,l)}r[0]=s,r[1]=l},t}();const Mv=LH;var DH=[],IH=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return e.prototype.traverse=function(n,r){n.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(n,r){r?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},e.prototype.addDisplayables=function(n,r){r=r||!1;for(var i=0;i<n.length;i++)this.addDisplayable(n[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(n){for(var r=this._cursor;r<this._displayables.length;r++)n&&n(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)n&&n(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.parent=this,r.update(),r.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new Ce(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(DH)),n.union(a)}this._rect=n}return this._rect},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(n,r))return!0}return!1},e}(Bh);const RH=IH;var NH=hn();function BH(t,e,n,r,i){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var s=e&&e.isAnimationEnabled(),l=t==="update";if(s){var c=void 0,u=void 0,f=void 0;r?(c=Pt(r.duration,200),u=Pt(r.easing,"cubicOut"),f=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(c=a.duration),a.easing!=null&&(u=a.easing),a.delay!=null&&(f=a.delay)),zt(f)&&(f=f(n,i)),zt(c)&&(c=c(n));var h={duration:c||0,delay:f,easing:u};return h}else return null}function s2(t,e,n,r,i,a,o){var s=!1,l;zt(i)?(o=a,a=i,i=null):Mt(i)&&(a=i.cb,o=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var c=t==="leave";c||e.stopAnimation("leave");var u=BH(t,r,i,c?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(u&&u.duration>0){var f=u.duration,h=u.delay,d=u.easing,p={duration:f,delay:h||0,easing:d,done:a,force:!!a||!!o,setToFinal:!c,scope:t,during:o};s?e.animateFrom(n,p):e.animateTo(n,p)}else e.stopAnimation(),!s&&e.attr(n),o&&o(1),a&&a()}function Ea(t,e,n,r,i,a){s2("update",t,e,n,r,i,a)}function zf(t,e,n,r,i,a){s2("enter",t,e,n,r,i,a)}function df(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var n=t.animators[e];if(n.scope==="leave")return!0}return!1}function a5(t,e,n,r,i,a){df(t)||s2("leave",t,e,n,r,i,a)}function BM(t,e,n,r){t.removeTextContent(),t.removeTextGuideLine(),a5(t,{style:{opacity:0}},e,n,r)}function bb(t,e,n){function r(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(i){i.isGroup||BM(i,e,n,r)}):BM(t,e,n,r)}function FH(t){NH(t).oldStyle=t.style}var Tv=Math.max,Av=Math.min,xb={};function jH(t){return ve.extend(t)}var zH=uH;function $H(t,e){return zH(t,e)}function Si(t,e){xb[t]=e}function GH(t){if(xb.hasOwnProperty(t))return xb[t]}function l2(t,e,n,r){var i=cH(t,e);return n&&(r==="center"&&(n=s5(n,i.getBoundingRect())),l5(i,n)),i}function o5(t,e,n){var r=new Na({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(n==="center"){var a={width:i.width,height:i.height};r.setStyle(s5(e,a))}}});return r}function s5(t,e){var n=e.width/e.height,r=t.height*n,i;r<=t.width?i=t.height:(r=t.width,i=r/n);var a=t.x+t.width/2,o=t.y+t.height/2;return{x:a-r/2,y:o-i/2,width:r,height:i}}var WH=fH;function l5(t,e){if(t.applyTransform){var n=t.getBoundingRect(),r=n.calculateTransform(e);t.applyTransform(r)}}function $f(t,e){return BD(t,t,{lineWidth:e}),t}function HH(t){return FD(t.shape,t.shape,t.style),t}var YH=xs;function VH(t,e){for(var n=B_([]);t&&t!==e;)Xl(n,t.getLocalTransform(),n),t=t.parent;return n}function c2(t,e,n){return e&&!vr(e)&&(e=H_.getLocalTransform(e)),n&&(e=j_([],e)),Kr([],t,e)}function XH(t,e,n){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[t==="left"?-r:t==="right"?r:0,t==="top"?-i:t==="bottom"?i:0];return a=c2(a,e,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function FM(t){return!t.isGroup}function UH(t){return t.shape!=null}function c5(t,e,n){if(!t||!e)return;function r(o){var s={};return o.traverse(function(l){FM(l)&&l.anid&&(s[l.anid]=l)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return UH(o)&&(s.shape=lt({},o.shape)),s}var a=r(t);e.traverse(function(o){if(FM(o)&&o.anid){var s=a[o.anid];if(s){var l=i(o);o.attr(i(s)),Ea(o,l,n,se(o).dataIndex)}}})}function qH(t,e){return yt(t,function(n){var r=n[0];r=Tv(r,e.x),r=Av(r,e.x+e.width);var i=n[1];return i=Tv(i,e.y),i=Av(i,e.y+e.height),[r,i]})}function ZH(t,e){var n=Tv(t.x,e.x),r=Av(t.x+t.width,e.x+e.width),i=Tv(t.y,e.y),a=Av(t.y+t.height,e.y+e.height);if(r>=n&&a>=i)return{x:n,y:i,width:r-n,height:a-i}}function u2(t,e,n){var r=lt({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(i.image=t.slice(8),_e(i,n),new Na(r)):l2(t.replace("path://",""),r,n,"center")}function KH(t,e,n,r,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(u5(t,e,n,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function u5(t,e,n,r,i,a,o,s){var l=n-t,c=r-e,u=o-i,f=s-a,h=Jy(u,f,l,c);if(QH(h))return!1;var d=t-i,p=e-a,v=Jy(d,p,l,c)/h;if(v<0||v>1)return!1;var g=Jy(d,p,u,f)/h;return!(g<0||g>1)}function Jy(t,e,n,r){return t*r-n*e}function QH(t){return t<=1e-6&&t>=-1e-6}function f2(t){var e=t.itemTooltipOption,n=t.componentModel,r=t.itemName,i=vt(e)?{formatter:e}:e,a=n.mainType,o=n.componentIndex,s={componentType:a,name:r,$vars:["name"]};s[a+"Index"]=o;var l=t.formatterParamsExtra;l&&$(Ut(l),function(u){sc(s,u)||(s[u]=l[u],s.$vars.push(u))});var c=se(t.el);c.componentMainType=a,c.componentIndex=o,c.tooltipConfig={name:r,option:_e({content:r,encodeHTMLContent:!0,formatterParams:s},i)}}function jM(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function h2(t,e){if(t)if(ht(t))for(var n=0;n<t.length;n++)jM(t[n],e);else jM(t,e)}Si("circle",qg);Si("ellipse",n2);Si("sector",jc);Si("ring",r2);Si("polygon",i2);Si("polyline",a2);Si("rect",ln);Si("line",So);Si("bezierCurve",o2);Si("arc",Zg);const JH=Object.freeze(Object.defineProperty({__proto__:null,Arc:Zg,BezierCurve:o2,BoundingRect:Ce,Circle:qg,CompoundPath:r5,Ellipse:n2,Group:Ar,Image:Na,IncrementalDisplayable:RH,Line:So,LinearGradient:PH,OrientedBoundingRect:Mv,Path:ve,Point:me,Polygon:i2,Polyline:a2,RadialGradient:kH,Rect:ln,Ring:r2,Sector:jc,Text:Zn,applyTransform:c2,clipPointsByRect:qH,clipRectByRect:ZH,createIcon:u2,extendPath:$H,extendShape:jH,getShapeClass:GH,getTransform:VH,groupTransition:c5,initProps:zf,isElementRemoved:df,lineLineIntersect:u5,linePolygonIntersect:KH,makeImage:o5,makePath:l2,mergePath:WH,registerShape:Si,removeElement:a5,removeElementWithFadeOut:bb,resizePath:l5,setTooltipConfig:f2,subPixelOptimize:YH,subPixelOptimizeLine:$f,subPixelOptimizeRect:HH,transformDirection:XH,traverseElements:h2,updateProps:Ea},Symbol.toStringTag,{value:"Module"}));var Kg={};function tY(t,e){for(var n=0;n<wo.length;n++){var r=wo[n],i=e[r],a=t.ensureState(r);a.style=a.style||{},a.style.text=i}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function zM(t,e,n){var r=t.labelFetcher,i=t.labelDataIndex,a=t.labelDimIndex,o=e.normal,s;r&&(s=r.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),n!=null?{interpolatedValue:n}:null)),s==null&&(s=zt(t.defaultText)?t.defaultText(i,t,n):t.defaultText);for(var l={normal:s},c=0;c<wo.length;c++){var u=wo[c],f=e[u];l[u]=Pt(r?r.getFormattedLabel(i,u,null,a,f&&f.get("formatter")):null,s)}return l}function f5(t,e,n,r){n=n||Kg;for(var i=t instanceof Zn,a=!1,o=0;o<OM.length;o++){var s=e[OM[o]];if(s&&s.getShallow("show")){a=!0;break}}var l=i?t:t.getTextContent();if(a){i||(l||(l=new Zn,t.setTextContent(l)),t.stateProxy&&(l.stateProxy=t.stateProxy));var c=zM(n,e),u=e.normal,f=!!u.getShallow("show"),h=Oo(u,r,n,!1,!i);h.text=c.normal,i||t.setTextConfig($M(u,n,!1));for(var o=0;o<wo.length;o++){var d=wo[o],s=e[d];if(s){var p=l.ensureState(d),v=!!Pt(s.getShallow("show"),f);if(v!==f&&(p.ignore=!v),p.style=Oo(s,r,n,!0,!i),p.style.text=c[d],!i){var g=t.ensureState(d);g.textConfig=$M(s,n,!0)}}}l.silent=!!u.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!f,l.useStyle(h),l.dirty(),n.enableTextSetter&&(d2(l).setLabelText=function(y){var m=zM(n,e,y);tY(l,m)})}else l&&(l.ignore=!0);t.dirty()}function eY(t,e){e=e||"label";for(var n={normal:t.getModel(e)},r=0;r<wo.length;r++){var i=wo[r];n[i]=t.getModel([i,e])}return n}function Oo(t,e,n,r,i){var a={};return nY(a,t,n,r,i),e&&lt(a,e),a}function $M(t,e,n){e=e||{};var r={},i,a=t.getShallow("rotate"),o=Pt(t.getShallow("distance"),n?null:5),s=t.getShallow("offset");return i=t.getShallow("position")||(n?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),s!=null&&(r.offset=s),a!=null&&(a*=Math.PI/180,r.rotation=a),o!=null&&(r.distance=o),r.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",r}function nY(t,e,n,r,i){n=n||Kg;var a=e.ecModel,o=a&&a.option.textStyle,s=rY(e),l;if(s){l={};for(var c in s)if(s.hasOwnProperty(c)){var u=e.getModel(["rich",c]);YM(l[c]={},u,o,n,r,i,!1,!0)}}l&&(t.rich=l);var f=e.get("overflow");f&&(t.overflow=f);var h=e.get("minMargin");h!=null&&(t.margin=h),YM(t,e,o,n,r,i,!0,!1)}function rY(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||Kg).rich;if(n){e=e||{};for(var r=Ut(n),i=0;i<r.length;i++){var a=r[i];e[a]=1}}t=t.parentModel}return e}var GM=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],WM=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],HM=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function YM(t,e,n,r,i,a,o,s){n=!i&&n||Kg;var l=r&&r.inheritColor,c=e.getShallow("color"),u=e.getShallow("textBorderColor"),f=Pt(e.getShallow("opacity"),n.opacity);(c==="inherit"||c==="auto")&&(l?c=l:c=null),(u==="inherit"||u==="auto")&&(l?u=l:u=null),a||(c=c||n.color,u=u||n.textBorderColor),c!=null&&(t.fill=c),u!=null&&(t.stroke=u);var h=Pt(e.getShallow("textBorderWidth"),n.textBorderWidth);h!=null&&(t.lineWidth=h);var d=Pt(e.getShallow("textBorderType"),n.textBorderType);d!=null&&(t.lineDash=d);var p=Pt(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);p!=null&&(t.lineDashOffset=p),!i&&f==null&&!s&&(f=r&&r.defaultOpacity),f!=null&&(t.opacity=f),!i&&!a&&t.fill==null&&r.inheritColor&&(t.fill=r.inheritColor);for(var v=0;v<GM.length;v++){var g=GM[v],y=Pt(e.getShallow(g),n[g]);y!=null&&(t[g]=y)}for(var v=0;v<WM.length;v++){var g=WM[v],y=e.getShallow(g);y!=null&&(t[g]=y)}if(t.verticalAlign==null){var m=e.getShallow("baseline");m!=null&&(t.verticalAlign=m)}if(!o||!r.disableBox){for(var v=0;v<HM.length;v++){var g=HM[v],y=e.getShallow(g);y!=null&&(t[g]=y)}var b=e.getShallow("borderType");b!=null&&(t.borderDash=b),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&l&&(t.backgroundColor=l),(t.borderColor==="auto"||t.borderColor==="inherit")&&l&&(t.borderColor=l)}}function iY(t,e){var n=e&&e.getModel("textStyle");return Fi([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var d2=hn();function aY(t,e,n,r){if(t){var i=d2(t);i.prevValue=i.value,i.value=n;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}var oY=["textStyle","color"],tm=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],em=new Zn,sY=function(){function t(){}return t.prototype.getTextColor=function(e){var n=this.ecModel;return this.getShallow("color")||(!e&&n?n.get(oY):null)},t.prototype.getFont=function(){return iY({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var n={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<tm.length;r++)n[tm[r]]=this.getShallow(tm[r]);return em.useStyle(n),em.update(),em.getBoundingRect()},t}(),h5=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],lY=Ff(h5),cY=function(){function t(){}return t.prototype.getLineStyle=function(e){return lY(this,e)},t}(),d5=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],uY=Ff(d5),fY=function(){function t(){}return t.prototype.getItemStyle=function(e,n){return uY(this,e,n)},t}(),Qe=function(){function t(e,n,r){this.parentModel=n,this.ecModel=r,this.option=e}return t.prototype.init=function(e,n,r){},t.prototype.mergeOption=function(e,n){Ee(this.option,e,!0)},t.prototype.get=function(e,n){return e==null?this.option:this._doGet(this.parsePath(e),!n&&this.parentModel)},t.prototype.getShallow=function(e,n){var r=this.option,i=r==null?r:r[e];if(i==null&&!n){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},t.prototype.getModel=function(e,n){var r=e!=null,i=r?this.parsePath(e):null,a=r?this._doGet(i):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(a,n,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(Yt(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!kt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,n){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(e),n.parentModel)),r},t}();q_(Qe);GG(Qe);ta(Qe,cY);ta(Qe,fY);ta(Qe,XG);ta(Qe,sY);var hY=Math.round(Math.random()*10);function Qg(t){return[t||"",hY++].join("_")}function dY(t){var e={};t.registerSubTypeDefaulter=function(n,r){var i=ji(n);e[i.main]=r},t.determineSubType=function(n,r){var i=r.type;if(!i){var a=ji(n).main;t.hasSubTypes(n)&&e[a]&&(i=e[a](r))}return i}}function pY(t,e){t.topologicalTravel=function(a,o,s,l){if(!a.length)return;var c=n(o),u=c.graph,f=c.noEntryList,h={};for($(a,function(m){h[m]=!0});f.length;){var d=f.pop(),p=u[d],v=!!h[d];v&&(s.call(l,d,p.originalDeps.slice()),delete h[d]),$(p.successor,v?y:g)}$(h,function(){var m="";throw new Error(m)});function g(m){u[m].entryCount--,u[m].entryCount===0&&f.push(m)}function y(m){h[m]=!0,g(m)}};function n(a){var o={},s=[];return $(a,function(l){var c=r(o,l),u=c.originalDeps=e(l),f=i(u,a);c.entryCount=f.length,c.entryCount===0&&s.push(l),$(f,function(h){be(c.predecessor,h)<0&&c.predecessor.push(h);var d=r(o,h);be(d.successor,h)<0&&d.successor.push(l)})}),{graph:o,noEntryList:s}}function r(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return $(a,function(l){be(o,l)>=0&&s.push(l)}),s}}function p5(t,e){return Ee(Ee({},t,!0),e,!0)}const vY={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},gY={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var Ev="ZH",p2="EN",ql=p2,Kp={},v2={},v5=kt.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||ql).toUpperCase();return t.indexOf(Ev)>-1?Ev:ql}():ql;function g5(t,e){t=t.toUpperCase(),v2[t]=new Qe(e),Kp[t]=e}function yY(t){if(vt(t)){var e=Kp[t.toUpperCase()]||{};return t===Ev||t===p2?Yt(e):Ee(Yt(e),Yt(Kp[ql]),!1)}else return Ee(Yt(t),Yt(Kp[ql]),!1)}function mY(t){return v2[t]}function bY(){return v2[ql]}g5(p2,vY);g5(Ev,gY);var g2=1e3,y2=g2*60,pf=y2*60,Vr=pf*24,VM=Vr*365,ju={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Cd="{yyyy}-{MM}-{dd}",XM={year:"{yyyy}",month:"{yyyy}-{MM}",day:Cd,hour:Cd+" "+ju.hour,minute:Cd+" "+ju.minute,second:Cd+" "+ju.second,millisecond:ju.none},nm=["year","month","day","hour","minute","second","millisecond"],y5=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function $a(t,e){return t+="","0000".substr(0,e-t.length)+t}function Zl(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function xY(t){return t===Zl(t)}function _Y(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Jg(t,e,n,r){var i=Aa(t),a=i[m2(n)](),o=i[Kl(n)]()+1,s=Math.floor((o-1)/3)+1,l=i[t0(n)](),c=i["get"+(n?"UTC":"")+"Day"](),u=i[Gf(n)](),f=(u-1)%12+1,h=i[e0(n)](),d=i[n0(n)](),p=i[r0(n)](),v=u>=12?"pm":"am",g=v.toUpperCase(),y=r instanceof Qe?r:mY(r||v5)||bY(),m=y.getModel("time"),b=m.get("month"),x=m.get("monthAbbr"),_=m.get("dayOfWeek"),w=m.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,v+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,$a(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,b[o-1]).replace(/{MMM}/g,x[o-1]).replace(/{MM}/g,$a(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,$a(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,_[c]).replace(/{ee}/g,w[c]).replace(/{e}/g,c+"").replace(/{HH}/g,$a(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,$a(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,$a(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,$a(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,$a(p,3)).replace(/{S}/g,p+"")}function wY(t,e,n,r,i){var a=null;if(vt(n))a=n;else if(zt(n))a=n(t.value,e,{level:t.level});else{var o=lt({},ju);if(t.level>0)for(var s=0;s<nm.length;++s)o[nm[s]]="{primary|"+o[nm[s]]+"}";var l=n?n.inherit===!1?n:_e(n,o):o,c=m5(t.value,i);if(l[c])a=l[c];else if(l.inherit){for(var u=y5.indexOf(c),s=u-1;s>=0;--s)if(l[c]){a=l[c];break}a=a||o.none}if(ht(a)){var f=t.level==null?0:t.level>=0?t.level:a.length+t.level;f=Math.min(f,a.length-1),a=a[f]}}return Jg(new Date(t.value),a,i,r)}function m5(t,e){var n=Aa(t),r=n[Kl(e)]()+1,i=n[t0(e)](),a=n[Gf(e)](),o=n[e0(e)](),s=n[n0(e)](),l=n[r0(e)](),c=l===0,u=c&&s===0,f=u&&o===0,h=f&&a===0,d=h&&i===1,p=d&&r===1;return p?"year":d?"month":h?"day":f?"hour":u?"minute":c?"second":"millisecond"}function UM(t,e,n){var r=He(t)?Aa(t):t;switch(e=e||m5(t,n),e){case"year":return r[m2(n)]();case"half-year":return r[Kl(n)]()>=6?1:0;case"quarter":return Math.floor((r[Kl(n)]()+1)/4);case"month":return r[Kl(n)]();case"day":return r[t0(n)]();case"half-day":return r[Gf(n)]()/24;case"hour":return r[Gf(n)]();case"minute":return r[e0(n)]();case"second":return r[n0(n)]();case"millisecond":return r[r0(n)]()}}function m2(t){return t?"getUTCFullYear":"getFullYear"}function Kl(t){return t?"getUTCMonth":"getMonth"}function t0(t){return t?"getUTCDate":"getDate"}function Gf(t){return t?"getUTCHours":"getHours"}function e0(t){return t?"getUTCMinutes":"getMinutes"}function n0(t){return t?"getUTCSeconds":"getSeconds"}function r0(t){return t?"getUTCMilliseconds":"getMilliseconds"}function SY(t){return t?"setUTCFullYear":"setFullYear"}function b5(t){return t?"setUTCMonth":"setMonth"}function x5(t){return t?"setUTCDate":"setDate"}function _5(t){return t?"setUTCHours":"setHours"}function w5(t){return t?"setUTCMinutes":"setMinutes"}function S5(t){return t?"setUTCSeconds":"setSeconds"}function O5(t){return t?"setUTCMilliseconds":"setMilliseconds"}function M5(t){if(!wG(t))return vt(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function T5(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var i0=qL;function _b(t,e,n){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(u){return u&&Fi(u)?u:"-"}function a(u){return!!(u!=null&&!isNaN(u)&&isFinite(u))}var o=e==="time",s=t instanceof Date;if(o||s){var l=o?Aa(t):t;if(isNaN(+l)){if(s)return"-"}else return Jg(l,r,n)}if(e==="ordinal")return G1(t)?i(t):He(t)&&a(t)?t+"":"-";var c=Sv(t);return a(c)?M5(c):G1(t)?i(t):typeof t=="boolean"?t+"":"-"}var qM=["a","b","c","d","e","f","g"],rm=function(t,e){return"{"+t+(e??"")+"}"};function A5(t,e,n){ht(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=qM[a];t=t.replace(rm(o),rm(o,0))}for(var s=0;s<r;s++)for(var l=0;l<i.length;l++){var c=e[s][i[l]];t=t.replace(rm(qM[l],s),n?cr(c):c)}return t}function OY(t,e){var n=vt(t)?{color:t,extraCssText:e}:t||{},r=n.color,i=n.type;e=n.extraCssText;var a=n.renderMode||"html";if(!r)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+cr(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+cr(r)+";"+(e||"")+'"></span>';var o=n.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function Wf(t,e){return e=e||"transparent",vt(t)?t:Mt(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function ZM(t,e){if(e==="_blank"||e==="blank"){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}var Qp=$,MY=["left","right","top","bottom","width","height"],kd=[["width","left","right"],["height","top","bottom"]];function b2(t,e,n,r,i){var a=0,o=0;r==null&&(r=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(l,c){var u=l.getBoundingRect(),f=e.childAt(c+1),h=f&&f.getBoundingRect(),d,p;if(t==="horizontal"){var v=u.width+(h?-h.x+u.x:0);d=a+v,d>r||l.newline?(a=0,d=v,o+=s+n,s=u.height):s=Math.max(s,u.height)}else{var g=u.height+(h?-h.y+u.y:0);p=o+g,p>i||l.newline?(a+=s+n,o=0,p=g,s=u.width):s=Math.max(s,u.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),t==="horizontal"?a=d+n:o=p+n)})}var vf=b2;un(b2,"vertical");un(b2,"horizontal");function Hf(t,e,n){n=i0(n||0);var r=e.width,i=e.height,a=Vn(t.left,r),o=Vn(t.top,i),s=Vn(t.right,r),l=Vn(t.bottom,i),c=Vn(t.width,r),u=Vn(t.height,i),f=n[2]+n[0],h=n[1]+n[3],d=t.aspect;switch(isNaN(c)&&(c=r-s-h-a),isNaN(u)&&(u=i-l-f-o),d!=null&&(isNaN(c)&&isNaN(u)&&(d>r/i?c=r*.8:u=i*.8),isNaN(c)&&(c=d*u),isNaN(u)&&(u=c/d)),isNaN(a)&&(a=r-s-c-h),isNaN(o)&&(o=i-l-u-f),t.left||t.right){case"center":a=r/2-c/2-n[3];break;case"right":a=r-c-h;break}switch(t.top||t.bottom){case"middle":case"center":o=i/2-u/2-n[0];break;case"bottom":o=i-u-f;break}a=a||0,o=o||0,isNaN(c)&&(c=r-h-a-(s||0)),isNaN(u)&&(u=i-f-o-(l||0));var p=new Ce(a+n[3],o+n[0],c,u);return p.margin=n,p}function Yf(t){var e=t.layoutMode||t.constructor.layoutMode;return Mt(e)?e:e?{type:e}:null}function lc(t,e,n){var r=n&&n.ignoreSize;!ht(r)&&(r=[r,r]);var i=o(kd[0],0),a=o(kd[1],1);c(kd[0],t,i),c(kd[1],t,a);function o(u,f){var h={},d=0,p={},v=0,g=2;if(Qp(u,function(b){p[b]=t[b]}),Qp(u,function(b){s(e,b)&&(h[b]=p[b]=e[b]),l(h,b)&&d++,l(p,b)&&v++}),r[f])return l(e,u[1])?p[u[2]]=null:l(e,u[2])&&(p[u[1]]=null),p;if(v===g||!d)return p;if(d>=g)return h;for(var y=0;y<u.length;y++){var m=u[y];if(!s(h,m)&&s(t,m)){h[m]=t[m];break}}return h}function s(u,f){return u.hasOwnProperty(f)}function l(u,f){return u[f]!=null&&u[f]!=="auto"}function c(u,f,h){Qp(u,function(d){f[d]=h[d]})}}function a0(t){return TY({},t)}function TY(t,e){return e&&t&&Qp(MY,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var AY=hn(),ae=function(t){it(e,t);function e(n,r,i){var a=t.call(this,n,r,i)||this;return a.uid=Qg("ec_cpt_model"),a}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i)},e.prototype.mergeDefaultAndTheme=function(n,r){var i=Yf(this),a=i?a0(n):{},o=r.getTheme();Ee(n,o.get(this.mainType)),Ee(n,this.getDefaultOption()),i&&lc(n,a,i)},e.prototype.mergeOption=function(n,r){Ee(this.option,n,!0);var i=Yf(this);i&&lc(this.option,n,i)},e.prototype.optionUpdated=function(n,r){},e.prototype.getDefaultOption=function(){var n=this.constructor;if(!jG(n))return n.defaultOption;var r=AY(this);if(!r.defaultOption){for(var i=[],a=n;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},l=i.length-1;l>=0;l--)s=Ee(s,i[l],!0);r.defaultOption=s}return r.defaultOption},e.prototype.getReferringComponents=function(n,r){var i=n+"Index",a=n+"Id";return Nh(this.ecModel,n,{index:this.get(i,!0),id:this.get(a,!0)},r)},e.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(n){this.option.zlevel=n},e.protoInitialize=function(){var n=e.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),e}(Qe);LD(ae,Qe);Yg(ae);dY(ae);pY(ae,EY);function EY(t){var e=[];return $(ae.getClassesByMainType(t),function(n){e=e.concat(n.dependencies||n.prototype.dependencies||[])}),e=yt(e,function(n){return ji(n).main}),t!=="dataset"&&be(e,"dataset")<=0&&e.unshift("dataset"),e}var E5="";typeof navigator<"u"&&(E5=navigator.platform||"");var pl="rgba(0, 0, 0, 0.2)";const PY={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:pl,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:pl,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:pl,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:pl,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:pl,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:pl,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:E5.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var P5=jt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),ri="original",yr="arrayRows",ea="objectRows",Fa="keyedColumns",fo="typedArray",C5="unknown",_a="column",zc="row",_r={Must:1,Might:2,Not:3},k5=hn();function CY(t){k5(t).datasetMap=jt()}function kY(t,e,n){var r={},i=L5(e);if(!i||!t)return r;var a=[],o=[],s=e.ecModel,l=k5(s).datasetMap,c=i.uid+"_"+n.seriesLayoutBy,u,f;t=t.slice(),$(t,function(v,g){var y=Mt(v)?v:t[g]={name:v};y.type==="ordinal"&&u==null&&(u=g,f=p(y)),r[y.name]=[]});var h=l.get(c)||l.set(c,{categoryWayDim:f,valueWayDim:0});$(t,function(v,g){var y=v.name,m=p(v);if(u==null){var b=h.valueWayDim;d(r[y],b,m),d(o,b,m),h.valueWayDim+=m}else if(u===g)d(r[y],0,m),d(a,0,m);else{var b=h.categoryWayDim;d(r[y],b,m),d(o,b,m),h.categoryWayDim+=m}});function d(v,g,y){for(var m=0;m<y;m++)v.push(g+m)}function p(v){var g=v.dimsDef;return g?g.length:1}return a.length&&(r.itemName=a),o.length&&(r.seriesName=o),r}function L5(t){var e=t.get("data",!0);if(!e)return Nh(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},gi).models[0]}function LY(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:Nh(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},gi).models}function D5(t,e){return DY(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function DY(t,e,n,r,i,a){var o,s=5;if(gr(t))return _r.Not;var l,c;if(r){var u=r[a];Mt(u)?(l=u.name,c=u.type):vt(u)&&(l=u)}if(c!=null)return c==="ordinal"?_r.Must:_r.Not;if(e===yr){var f=t;if(n===zc){for(var h=f[a],d=0;d<(h||[]).length&&d<s;d++)if((o=x(h[i+d]))!=null)return o}else for(var d=0;d<f.length&&d<s;d++){var p=f[i+d];if(p&&(o=x(p[a]))!=null)return o}}else if(e===ea){var v=t;if(!l)return _r.Not;for(var d=0;d<v.length&&d<s;d++){var g=v[d];if(g&&(o=x(g[l]))!=null)return o}}else if(e===Fa){var y=t;if(!l)return _r.Not;var h=y[l];if(!h||gr(h))return _r.Not;for(var d=0;d<h.length&&d<s;d++)if((o=x(h[d]))!=null)return o}else if(e===ri)for(var m=t,d=0;d<m.length&&d<s;d++){var g=m[d],b=Ih(g);if(!ht(b))return _r.Not;if((o=x(b[a]))!=null)return o}function x(_){var w=vt(_);if(_!=null&&Number.isFinite(Number(_))&&_!=="")return w?_r.Might:_r.Not;if(w&&_!=="-")return _r.Must}return _r.Not}var IY=jt();function RY(t,e,n){var r=IY.get(e);if(!r)return n;var i=r(t);return i?n.concat(i):n}var KM=hn();hn();var x2=function(){function t(){}return t.prototype.getColorFromPalette=function(e,n,r){var i=qn(this.get("color",!0)),a=this.get("colorLayer",!0);return BY(this,KM,i,a,e,n,r)},t.prototype.clearColorPalette=function(){FY(this,KM)},t}();function NY(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}function BY(t,e,n,r,i,a,o){a=a||t;var s=e(a),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(i))return c[i];var u=o==null||!r?n:NY(r,o);if(u=u||n,!(!u||!u.length)){var f=u[l];return i&&(c[i]=f),s.paletteIdx=(l+1)%u.length,f}}function FY(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var Ld,hu,QM,JM="\0_ec_inner",jY=1,_2=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n,r,i,a,o,s){a=a||{},this.option=null,this._theme=new Qe(a),this._locale=new Qe(o),this._optionManager=s},e.prototype.setOption=function(n,r,i){var a=nT(r);this._optionManager.setOption(n,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(n,r){return this._resetOption(n,nT(r))},e.prototype._resetOption=function(n,r){var i=!1,a=this._optionManager;if(!n||n==="recreate"){var o=a.mountOption(n==="recreate");!this.option||n==="recreate"?QM(this,o):(this.restoreData(),this._mergeOption(o,r)),i=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,r))}if(!n||n==="recreate"||n==="media"){var l=a.getMediaOption(this);l.length&&$(l,function(c){i=!0,this._mergeOption(c,r)},this)}return i},e.prototype.mergeOption=function(n){this._mergeOption(n,null)},e.prototype._mergeOption=function(n,r){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=jt(),c=r&&r.replaceMergeMainTypeMap;CY(this),$(n,function(f,h){f!=null&&(ae.hasClass(h)?h&&(s.push(h),l.set(h,!0)):i[h]=i[h]==null?Yt(f):Ee(i[h],f,!0))}),c&&c.each(function(f,h){ae.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),ae.topologicalTravel(s,ae.getAllClassMainTypes(),u,this);function u(f){var h=RY(this,f,qn(n[f])),d=a.get(f),p=d?c&&c.get(f)?"replaceMerge":"normalMerge":"replaceAll",v=MG(d,h,p);LG(v,f,ae),i[f]=null,a.set(f,null),o.set(f,0);var g=[],y=[],m=0,b;$(v,function(x,_){var w=x.existing,S=x.newOption;if(!S)w&&(w.mergeOption({},this),w.optionUpdated({},!1));else{var O=f==="series",M=ae.getClass(f,x.keyInfo.subType,!O);if(!M)return;if(f==="tooltip"){if(b)return;b=!0}if(w&&w.constructor===M)w.name=x.keyInfo.name,w.mergeOption(S,this),w.optionUpdated(S,!1);else{var T=lt({componentIndex:_},x.keyInfo);w=new M(S,this,this,T),lt(w,T),x.brandNew&&(w.__requireNewView=!0),w.init(S,this,this),w.optionUpdated(null,!0)}}w?(g.push(w.option),y.push(w),m++):(g.push(void 0),y.push(void 0))},this),i[f]=g,a.set(f,y),o.set(f,m),f==="series"&&Ld(this)}this._seriesIndices||Ld(this)},e.prototype.getOption=function(){var n=Yt(this.option);return $(n,function(r,i){if(ae.hasClass(i)){for(var a=qn(r),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!Bf(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,n[i]=a}}),delete n[JM],n},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(n){this._payload=n},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(n,r){var i=this._componentsMap.get(n);if(i){var a=i[r||0];if(a)return a;if(r==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},e.prototype.queryComponents=function(n){var r=n.mainType;if(!r)return[];var i=n.index,a=n.id,o=n.name,s=this._componentsMap.get(r);if(!s||!s.length)return[];var l;return i!=null?(l=[],$(qn(i),function(c){s[c]&&l.push(s[c])})):a!=null?l=tT("id",a,s):o!=null?l=tT("name",o,s):l=Rn(s,function(c){return!!c}),eT(l,n)},e.prototype.findComponents=function(n){var r=n.query,i=n.mainType,a=s(r),o=a?this.queryComponents(a):Rn(this._componentsMap.get(i),function(c){return!!c});return l(eT(o,n));function s(c){var u=i+"Index",f=i+"Id",h=i+"Name";return c&&(c[u]!=null||c[f]!=null||c[h]!=null)?{mainType:i,index:c[u],id:c[f],name:c[h]}:null}function l(c){return n.filter?Rn(c,n.filter):c}},e.prototype.eachComponent=function(n,r,i){var a=this._componentsMap;if(zt(n)){var o=r,s=n;a.each(function(f,h){for(var d=0;f&&d<f.length;d++){var p=f[d];p&&s.call(o,h,p,p.componentIndex)}})}else for(var l=vt(n)?a.get(n):Mt(n)?this.findComponents(n):null,c=0;l&&c<l.length;c++){var u=l[c];u&&r.call(i,u,u.componentIndex)}},e.prototype.getSeriesByName=function(n){var r=Hi(n,null);return Rn(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},e.prototype.getSeriesByType=function(n){return Rn(this._componentsMap.get("series"),function(r){return!!r&&r.subType===n})},e.prototype.getSeries=function(){return Rn(this._componentsMap.get("series"),function(n){return!!n})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(n,r){hu(this),$(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];n.call(r,a,i)},this)},e.prototype.eachRawSeries=function(n,r){$(this._componentsMap.get("series"),function(i){i&&n.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(n,r,i){hu(this),$(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===n&&r.call(i,o,a)},this)},e.prototype.eachRawSeriesByType=function(n,r,i){return $(this.getSeriesByType(n),r,i)},e.prototype.isSeriesFiltered=function(n){return hu(this),this._seriesIndicesMap.get(n.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(n,r){hu(this);var i=[];$(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];n.call(r,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=jt(i)},e.prototype.restoreData=function(n){Ld(this);var r=this._componentsMap,i=[];r.each(function(a,o){ae.hasClass(o)&&i.push(o)}),ae.topologicalTravel(i,ae.getAllClassMainTypes(),function(a){$(r.get(a),function(o){o&&(a!=="series"||!zY(o,n))&&o.restoreData()})})},e.internalField=function(){Ld=function(n){var r=n._seriesIndices=[];$(n._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),n._seriesIndicesMap=jt(r)},hu=function(n){},QM=function(n,r){n.option={},n.option[JM]=jY,n._componentsMap=jt({series:[]}),n._componentsCount=jt();var i=r.aria;Mt(i)&&i.enabled==null&&(i.enabled=!0),$Y(r,n._theme.option),Ee(r,PY,!1),n._mergeOption(r,null)}}(),e}(Qe);function zY(t,e){if(e){var n=e.seriesIndex,r=e.seriesId,i=e.seriesName;return n!=null&&t.componentIndex!==n||r!=null&&t.id!==r||i!=null&&t.name!==i}}function $Y(t,e){var n=t.color&&!t.colorLayer;$(e,function(r,i){i==="colorLayer"&&n||ae.hasClass(i)||(typeof r=="object"?t[i]=t[i]?Ee(t[i],r,!1):Yt(r):t[i]==null&&(t[i]=r))})}function tT(t,e,n){if(ht(e)){var r=jt();return $(e,function(a){if(a!=null){var o=Hi(a,null);o!=null&&r.set(a,!0)}}),Rn(n,function(a){return a&&r.get(a[t])})}else{var i=Hi(e,null);return Rn(n,function(a){return a&&i!=null&&a[t]===i})}}function eT(t,e){return e.hasOwnProperty("subType")?Rn(t,function(n){return n&&n.subType===e.subType}):t}function nT(t){var e=jt();return t&&$(qn(t.replaceMerge),function(n){e.set(n,!0)}),{replaceMergeMainTypeMap:e}}ta(_2,x2);var GY=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],I5=function(){function t(e){$(GY,function(n){this[n]=Ge(e[n],e)},this)}return t}(),im={},w2=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,n){var r=[];$(im,function(i,a){var o=i.create(e,n);r=r.concat(o||[])}),this._coordinateSystems=r},t.prototype.update=function(e,n){$(this._coordinateSystems,function(r){r.update&&r.update(e,n)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,n){im[e]=n},t.get=function(e){return im[e]},t}(),WY=/^(min|max)?(.+)$/,HY=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,n,r){e&&($(qn(e.series),function(o){o&&o.data&&gr(o.data)&&W1(o.data)}),$(qn(e.dataset),function(o){o&&o.source&&gr(o.source)&&W1(o.source)})),e=Yt(e);var i=this._optionBackup,a=YY(e,n,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},t.prototype.mountOption=function(e){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],Yt(e?n.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var n,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(n=Yt(r[i.getCurrentIndex()]))}return n},t.prototype.getMediaOption=function(e){var n=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var l=0,c=i.length;l<c;l++)VY(i[l].query,n,r)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!UY(o,this._currentMediaIndices)&&(s=yt(o,function(u){return Yt(u===-1?a.option:i[u].option)})),this._currentMediaIndices=o,s},t}();function YY(t,e,n){var r=[],i,a,o=t.baseOption,s=t.timeline,l=t.options,c=t.media,u=!!t.media,f=!!(l||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((f||u)&&(t.options=t.media=null),a=t),u&&ht(c)&&$(c,function(d){d&&d.option&&(d.query?r.push(d):i||(i=d))}),h(a),$(l,function(d){return h(d)}),$(r,function(d){return h(d.option)});function h(d){$(e,function(p){p(d,n)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function VY(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return $(t,function(a,o){var s=o.match(WY);if(!(!s||!s[1]||!s[2])){var l=s[1],c=s[2].toLowerCase();XY(r[c],a,l)||(i=!1)}}),i}function XY(t,e,n){return n==="min"?t>=e:n==="max"?t<=e:t===e}function UY(t,e){return t.join(",")===e.join(",")}var li=$,Vf=Mt,rT=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function am(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=rT.length;n<r;n++){var i=rT[n],a=e.normal,o=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?Ee(t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),o&&o[i]&&(t[i]=t[i]||{},t[i].emphasis?Ee(t[i].emphasis,o[i]):t[i].emphasis=o[i],o[i]=null)}}function In(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,_e(t[e],r)):t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function zu(t){In(t,"itemStyle"),In(t,"lineStyle"),In(t,"areaStyle"),In(t,"label"),In(t,"labelLine"),In(t,"upperLabel"),In(t,"edgeLabel")}function rn(t,e){var n=Vf(t)&&t[e],r=Vf(n)&&n.textStyle;if(r)for(var i=0,a=aM.length;i<a;i++){var o=aM[i];r.hasOwnProperty(o)&&(n[o]=r[o])}}function jr(t){t&&(zu(t),rn(t,"label"),t.emphasis&&rn(t.emphasis,"label"))}function qY(t){if(Vf(t)){am(t),zu(t),rn(t,"label"),rn(t,"upperLabel"),rn(t,"edgeLabel"),t.emphasis&&(rn(t.emphasis,"label"),rn(t.emphasis,"upperLabel"),rn(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(am(e),jr(e));var n=t.markLine;n&&(am(n),jr(n));var r=t.markArea;r&&jr(r);var i=t.data;if(t.type==="graph"){i=i||t.nodes;var a=t.links||t.edges;if(a&&!gr(a))for(var o=0;o<a.length;o++)jr(a[o]);$(t.categories,function(c){zu(c)})}if(i&&!gr(i))for(var o=0;o<i.length;o++)jr(i[o]);if(e=t.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)jr(s[o]);if(n=t.markLine,n&&n.data)for(var l=n.data,o=0;o<l.length;o++)ht(l[o])?(jr(l[o][0]),jr(l[o][1])):jr(l[o]);t.type==="gauge"?(rn(t,"axisLabel"),rn(t,"title"),rn(t,"detail")):t.type==="treemap"?(In(t.breadcrumb,"itemStyle"),$(t.levels,function(c){zu(c)})):t.type==="tree"&&zu(t.leaves)}}function sa(t){return ht(t)?t:t?[t]:[]}function iT(t){return(ht(t)?t[0]:t)||{}}function ZY(t,e){li(sa(t.series),function(r){Vf(r)&&qY(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),li(n,function(r){li(sa(t[r]),function(i){i&&(rn(i,"axisLabel"),rn(i.axisPointer,"label"))})}),li(sa(t.parallel),function(r){var i=r&&r.parallelAxisDefault;rn(i,"axisLabel"),rn(i&&i.axisPointer,"label")}),li(sa(t.calendar),function(r){In(r,"itemStyle"),rn(r,"dayLabel"),rn(r,"monthLabel"),rn(r,"yearLabel")}),li(sa(t.radar),function(r){rn(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),li(sa(t.geo),function(r){Vf(r)&&(jr(r),li(sa(r.regions),function(i){jr(i)}))}),li(sa(t.timeline),function(r){jr(r),In(r,"label"),In(r,"itemStyle"),In(r,"controlStyle",!0);var i=r.data;ht(i)&&$(i,function(a){Mt(a)&&(In(a,"label"),In(a,"itemStyle"))})}),li(sa(t.toolbox),function(r){In(r,"iconStyle"),li(r.feature,function(i){In(i,"iconStyle")})}),rn(iT(t.axisPointer),"label"),rn(iT(t.tooltip).axisPointer,"label")}function KY(t,e){for(var n=e.split(","),r=t,i=0;i<n.length&&(r=r&&r[n[i]],r!=null);i++);return r}function QY(t,e,n,r){for(var i=e.split(","),a=t,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];a[i[s]]==null&&(a[i[s]]=n)}function aT(t){t&&$(JY,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var JY=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],tV=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],om=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function du(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<om.length;n++){var r=om[n][1],i=om[n][0];e[r]!=null&&(e[i]=e[r])}}function oT(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function sT(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function eV(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function R5(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&R5(t[n].children,e)}function N5(t,e){ZY(t,e),t.series=qn(t.series),$(t.series,function(n){if(Mt(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(r==="pie"||r==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),oT(n.label);var i=n.data;if(i&&!gr(i))for(var a=0;a<i.length;a++)oT(i[a]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(r==="gauge"){var o=KY(n,"pointer.color");o!=null&&QY(n,"itemStyle.color",o)}else if(r==="bar"){du(n),du(n.backgroundStyle),du(n.emphasis);var i=n.data;if(i&&!gr(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(du(i[a]),du(i[a]&&i[a].emphasis))}else if(r==="sunburst"){var s=n.highlightPolicy;s&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=s)),sT(n),R5(n.data,sT)}else r==="graph"||r==="sankey"?eV(n):r==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&_e(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),aT(n)}}),t.dataRange&&(t.visualMap=t.dataRange),$(tV,function(n){var r=t[n];r&&(ht(r)||(r=[r]),$(r,function(i){aT(i)}))})}function nV(t){var e=jt();t.eachSeries(function(n){var r=n.get("stack");if(r){var i=e.get(r)||e.set(r,[]),a=n.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:n};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),e.each(rV)}function rV(t){$(t,function(e,n){var r=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(c,u,f){var h=o.get(e.stackedDimension,f);if(isNaN(h))return i;var d,p;s?p=o.getRawIndex(f):d=o.get(e.stackedByDimension,f);for(var v=NaN,g=n-1;g>=0;g--){var y=t[g];if(s||(p=y.data.rawIndexOf(y.stackedByDimension,d)),p>=0){var m=y.data.getByRawIndex(y.stackResultDimension,p);if(l==="all"||l==="positive"&&m>0||l==="negative"&&m<0||l==="samesign"&&h>=0&&m>0||l==="samesign"&&h<=0&&m<0){h=bG(h,m),v=m;break}}}return r[0]=h,r[1]=v,r})})}var o0=function(){function t(e){this.data=e.data||(e.sourceFormat===Fa?{}:[]),this.sourceFormat=e.sourceFormat||C5,this.seriesLayoutBy=e.seriesLayoutBy||_a,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var n=this.dimensionsDefine=e.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var i=n[r];i.type==null&&D5(this,r)===_r.Must&&(i.type="ordinal")}}return t}();function S2(t){return t instanceof o0}function wb(t,e,n){n=n||F5(t);var r=e.seriesLayoutBy,i=aV(t,n,r,e.sourceHeader,e.dimensions),a=new o0({data:t,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Yt(e)});return a}function B5(t){return new o0({data:t,sourceFormat:gr(t)?fo:ri})}function iV(t){return new o0({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:Yt(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function F5(t){var e=C5;if(gr(t))e=fo;else if(ht(t)){t.length===0&&(e=yr);for(var n=0,r=t.length;n<r;n++){var i=t[n];if(i!=null){if(ht(i)||gr(i)){e=yr;break}else if(Mt(i)){e=ea;break}}}}else if(Mt(t)){for(var a in t)if(sc(t,a)&&vr(t[a])){e=Fa;break}}return e}function aV(t,e,n,r,i){var a,o;if(!t)return{dimensionsDefine:lT(i),startIndex:o,dimensionsDetectedCount:a};if(e===yr){var s=t;r==="auto"||r==null?cT(function(c){c!=null&&c!=="-"&&(vt(c)?o==null&&(o=1):o=0)},n,s,10):o=He(r)?r:r?1:0,!i&&o===1&&(i=[],cT(function(c,u){i[u]=c!=null?c+"":""},n,s,1/0)),a=i?i.length:n===zc?s.length:s[0]?s[0].length:null}else if(e===ea)i||(i=oV(t));else if(e===Fa)i||(i=[],$(t,function(c,u){i.push(u)}));else if(e===ri){var l=Ih(t[0]);a=ht(l)&&l.length||1}return{startIndex:o,dimensionsDefine:lT(i),dimensionsDetectedCount:a}}function oV(t){for(var e=0,n;e<t.length&&!(n=t[e++]););if(n)return Ut(n)}function lT(t){if(t){var e=jt();return yt(t,function(n,r){n=Mt(n)?n:{name:n};var i={name:n.name,displayName:n.displayName,type:n.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function cT(t,e,n,r){if(e===zc)for(var i=0;i<n.length&&i<r;i++)t(n[i]?n[i][0]:null,i);else for(var a=n[0]||[],i=0;i<a.length&&i<r;i++)t(a[i],i)}function j5(t){var e=t.sourceFormat;return e===ea||e===Fa}var is,as,os,uT,fT,z5=function(){function t(e,n){var r=S2(e)?e:B5(e);this._source=r;var i=this._data=r.data;r.sourceFormat===fo&&(this._offset=0,this._dimSize=n,this._data=i),fT(this,i,r)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,n){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;fT=function(o,s,l){var c=l.sourceFormat,u=l.seriesLayoutBy,f=l.startIndex,h=l.dimensionsDefine,d=uT[O2(c,u)];if(lt(o,d),c===fo)o.getItem=n,o.count=i,o.fillStorage=r;else{var p=$5(c,u);o.getItem=Ge(p,null,s,f,h);var v=G5(c,u);o.count=Ge(v,null,s,f,h)}};var n=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,c=this._dimSize,u=c*o,f=0;f<c;f++)s[f]=l[u+f];return s},r=function(o,s,l,c){for(var u=this._data,f=this._dimSize,h=0;h<f;h++){for(var d=c[h],p=d[0]==null?1/0:d[0],v=d[1]==null?-1/0:d[1],g=s-o,y=l[h],m=0;m<g;m++){var b=u[m*f+h];y[o+m]=b,b<p&&(p=b),b>v&&(v=b)}d[0]=p,d[1]=v}},i=function(){return this._data?this._data.length/this._dimSize:0};uT=(e={},e[yr+"_"+_a]={pure:!0,appendData:a},e[yr+"_"+zc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[ea]={pure:!0,appendData:a},e[Fa]={pure:!0,appendData:function(o){var s=this._data;$(o,function(l,c){for(var u=s[c]||(s[c]=[]),f=0;f<(l||[]).length;f++)u.push(l[f])})}},e[ri]={appendData:a},e[fo]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),t}(),hT=function(t,e,n,r){return t[r]},sV=(is={},is[yr+"_"+_a]=function(t,e,n,r){return t[r+e]},is[yr+"_"+zc]=function(t,e,n,r,i){r+=e;for(var a=i||[],o=t,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[r]:null}return a},is[ea]=hT,is[Fa]=function(t,e,n,r,i){for(var a=i||[],o=0;o<n.length;o++){var s=n[o].name,l=t[s];a[o]=l?l[r]:null}return a},is[ri]=hT,is);function $5(t,e){var n=sV[O2(t,e)];return n}var dT=function(t,e,n){return t.length},lV=(as={},as[yr+"_"+_a]=function(t,e,n){return Math.max(0,t.length-e)},as[yr+"_"+zc]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},as[ea]=dT,as[Fa]=function(t,e,n){var r=n[0].name,i=t[r];return i?i.length:0},as[ri]=dT,as);function G5(t,e){var n=lV[O2(t,e)];return n}var sm=function(t,e,n){return t[e]},cV=(os={},os[yr]=sm,os[ea]=function(t,e,n){return t[n]},os[Fa]=sm,os[ri]=function(t,e,n){var r=Ih(t);return r instanceof Array?r[e]:r},os[fo]=sm,os);function W5(t){var e=cV[t];return e}function O2(t,e){return t===yr?t+"_"+e:t}function cc(t,e,n){if(t){var r=t.getRawDataItem(e);if(r!=null){var i=t.getStore(),a=i.getSource().sourceFormat;if(n!=null){var o=t.getDimensionIndex(n),s=i.getDimensionProperty(o);return W5(a)(r,o,s)}else{var l=r;return a===ri&&(l=Ih(r)),l}}}}var uV=/\{@(.+?)\}/g,fV=function(){function t(){}return t.prototype.getDataParams=function(e,n){var r=this.getData(n),i=this.getRawValue(e,n),a=r.getRawIndex(e),o=r.getName(e),s=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),c=l&&l[r.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,f=this.mainType,h=f==="series",d=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:a,data:s,dataType:n,value:i,color:c,borderColor:u,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,n,r,i,a,o){n=n||"normal";var s=this.getData(r),l=this.getDataParams(e,r);if(o&&(l.value=o.interpolatedValue),i!=null&&ht(l.value)&&(l.value=l.value[i]),!a){var c=s.getItemModel(e);a=c.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(zt(a))return l.status=n,l.dimensionIndex=i,a(l);if(vt(a)){var u=A5(a,l);return u.replace(uV,function(f,h){var d=h.length,p=h;p.charAt(0)==="["&&p.charAt(d-1)==="]"&&(p=+p.slice(1,d-1));var v=cc(s,e,p);if(o&&ht(o.interpolatedValue)){var g=s.getDimensionIndex(p);g>=0&&(v=o.interpolatedValue[g])}return v!=null?v+"":""})}},t.prototype.getRawValue=function(e,n){return cc(this.getData(n),e)},t.prototype.formatTooltip=function(e,n,r){},t}();function pT(t){var e,n;return Mt(t)?t.type&&(n=t):e=t,{text:e,frag:n}}function gf(t){return new hV(t)}var hV=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var n=this._upstream,r=e&&e.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var o=u(this._modBy),s=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;(o!==l||s!==c)&&(a="reset");function u(m){return!(m>=1)&&(m=1),m}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(r)),this._modBy=l,this._modDataCount=c;var h=e&&e.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,p=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!r&&(f||d<p)){var v=this._progress;if(ht(v))for(var g=0;g<v.length;g++)this._doProgress(v[g],d,p,l,c);else this._doProgress(v,d,p,l,c)}this._dueIndex=p;var y=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,n,r,i,a){vT.reset(n,r,i,a),this._callingProgress=e,this._callingProgress({start:n,end:r,count:r-n,next:vT.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!e&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),ht(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),vT=function(){var t,e,n,r,i,a={reset:function(l,c,u,f){e=l,t=c,n=u,r=f,i=Math.ceil(r/n),a.next=n>1&&r>0?s:o}};return a;function o(){return e<t?e++:null}function s(){var l=e%i*n+Math.ceil(e/i),c=e>=t?null:l<r?l:e;return e++,c}}();function Jp(t,e){var n=e&&e.type;return n==="ordinal"?t:(n==="time"&&!He(t)&&t!=null&&t!=="-"&&(t=+Aa(t)),t==null||t===""?NaN:Number(t))}jt({number:function(t){return parseFloat(t)},time:function(t){return+Aa(t)},trim:function(t){return vt(t)?Fi(t):t}});var dV=function(){function t(e,n){var r=e==="desc";this._resultLT=r?1:-1,n==null&&(n=r?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,n){var r=He(e)?e:Sv(e),i=He(n)?n:Sv(n),a=isNaN(r),o=isNaN(i);if(a&&(r=this._incomparable),o&&(i=this._incomparable),a&&o){var s=vt(e),l=vt(n);s&&(r=l?e:0),l&&(i=s?n:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},t}(),pV=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,n){},t.prototype.retrieveValueFromItem=function(e,n){},t.prototype.convertValue=function(e,n){return Jp(e,n)},t}();function vV(t,e){var n=new pV,r=t.data,i=n.sourceFormat=t.sourceFormat,a=t.startIndex,o="";t.seriesLayoutBy!==_a&&fr(o);var s=[],l={},c=t.dimensionsDefine;if(c)$(c,function(v,g){var y=v.name,m={index:g,name:y,displayName:v.displayName};if(s.push(m),y!=null){var b="";sc(l,y)&&fr(b),l[y]=m}});else for(var u=0;u<t.dimensionsDetectedCount;u++)s.push({index:u});var f=$5(i,_a);e.__isBuiltIn&&(n.getRawDataItem=function(v){return f(r,a,s,v)},n.getRawData=Ge(gV,null,t)),n.cloneRawData=Ge(yV,null,t);var h=G5(i,_a);n.count=Ge(h,null,r,a,s);var d=W5(i);n.retrieveValue=function(v,g){var y=f(r,a,s,v);return p(y,g)};var p=n.retrieveValueFromItem=function(v,g){if(v!=null){var y=s[g];if(y)return d(v,g,y.name)}};return n.getDimensionInfo=Ge(mV,null,s,l),n.cloneAllDimensionInfo=Ge(bV,null,s),n}function gV(t){var e=t.sourceFormat;if(!M2(e)){var n="";fr(n)}return t.data}function yV(t){var e=t.sourceFormat,n=t.data;if(!M2(e)){var r="";fr(r)}if(e===yr){for(var i=[],a=0,o=n.length;a<o;a++)i.push(n[a].slice());return i}else if(e===ea){for(var i=[],a=0,o=n.length;a<o;a++)i.push(lt({},n[a]));return i}}function mV(t,e,n){if(n!=null){if(He(n)||!isNaN(n)&&!sc(e,n))return t[n];if(sc(e,n))return e[n]}}function bV(t){return Yt(t)}var H5=jt();function xV(t){t=Yt(t);var e=t.type,n="";e||fr(n);var r=e.split(":");r.length!==2&&fr(n);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),t.__isBuiltIn=i,H5.set(e,t)}function _V(t,e,n){var r=qn(t),i=r.length,a="";i||fr(a);for(var o=0,s=i;o<s;o++){var l=r[o];e=wV(l,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function wV(t,e,n,r){var i="";e.length||fr(i),Mt(t)||fr(i);var a=t.type,o=H5.get(a);o||fr(i);var s=yt(e,function(c){return vV(c,o)}),l=qn(o.transform({upstream:s[0],upstreamList:s,config:Yt(t.config)}));return yt(l,function(c,u){var f="";Mt(c)||fr(f),c.data||fr(f);var h=F5(c.data);M2(h)||fr(f);var d,p=e[0];if(p&&u===0&&!c.dimensions){var v=p.startIndex;v&&(c.data=p.data.slice(0,v).concat(c.data)),d={seriesLayoutBy:_a,sourceHeader:v,dimensions:p.metaRawOption.dimensions}}else d={seriesLayoutBy:_a,sourceHeader:0,dimensions:c.dimensions};return wb(c.data,d,null)})}function M2(t){return t===yr||t===ea}var s0="undefined",SV=typeof Uint32Array===s0?Array:Uint32Array,OV=typeof Uint16Array===s0?Array:Uint16Array,Y5=typeof Int32Array===s0?Array:Int32Array,gT=typeof Float64Array===s0?Array:Float64Array,V5={float:gT,int:Y5,ordinal:Array,number:Array,time:gT},lm;function pu(t){return t>65535?SV:OV}function vl(){return[1/0,-1/0]}function MV(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function yT(t,e,n,r,i){var a=V5[n||"float"];if(i){var o=t[e],s=o&&o.length;if(s!==r){for(var l=new a(r),c=0;c<s;c++)l[c]=o[c];t[e]=l}}else t[e]=new a(r)}var Sb=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=jt()}return t.prototype.initData=function(e,n,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=lm[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],j5(i),this._dimensions=yt(n,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,n){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(e);if(a!=null){if(i[a].type===n)return a}else a=i.length;return i[a]={type:n},r.set(e,a),this._chunks[a]=new V5[n||"float"](this._rawCount),this._rawExtent[a]=vl(),a},t.prototype.collectOrdinalMeta=function(e,n){var r=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,o=i.ordinalOffset||0,s=r.length;o===0&&(a[e]=vl());for(var l=a[e],c=o;c<s;c++){var u=r[c]=n.parseAndCollect(r[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}i.ordinalMeta=n,i.ordinalOffset=s,i.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var n=this._dimensions[e],r=n.ordinalMeta;return r},t.prototype.getDimensionProperty=function(e){var n=this._dimensions[e];return n&&n.property},t.prototype.appendData=function(e){var n=this._provider,r=this.count();n.appendData(e);var i=n.count();return n.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},t.prototype.appendValues=function(e,n){for(var r=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(e.length,n||0),c=0;c<a;c++){var u=i[c];yT(r,c,u.type,l,!0)}for(var f=[],h=s;h<l;h++)for(var d=h-s,p=0;p<a;p++){var u=i[p],v=lm.arrayRows.call(this,e[d]||f,u.property,d,p);r[p][h]=v;var g=o[p];v<g[0]&&(g[0]=v),v>g[1]&&(g[1]=v)}return this._rawCount=this._count=l,{start:s,end:l}},t.prototype._initDataFromProvider=function(e,n,r){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,c=yt(o,function(m){return m.property}),u=0;u<s;u++){var f=o[u];l[u]||(l[u]=vl()),yT(a,u,f.type,n,r)}if(i.fillStorage)i.fillStorage(e,n,a,l);else for(var h=[],d=e;d<n;d++){h=i.getItem(d,h);for(var p=0;p<s;p++){var v=a[p],g=this._dimValueGetter(h,c[p],d,p);v[d]=g;var y=l[p];g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=n,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(n)]:NaN},t.prototype.getValues=function(e,n){var r=[],i=[];if(n==null){n=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,o=i.length;a<o;a++)r.push(this.get(i[a],n));return r},t.prototype.getByRawIndex=function(e,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[e];return r?r[n]:NaN},t.prototype.getSum=function(e){var n=this._chunks[e],r=0;if(n)for(var i=0,a=this.count();i<a;i++){var o=this.get(e,i);isNaN(o)||(r+=o)}return r},t.prototype.getMedian=function(e){var n=[];this.each([e],function(a){isNaN(a)||n.push(a)});var r=n.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var n=this._indices,r=n[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(n[o]<e)i=o+1;else if(n[o]>e)a=o-1;else return o}return-1},t.prototype.indicesOfNearest=function(e,n,r){var i=this._chunks,a=i[e],o=[];if(!a)return o;r==null&&(r=1/0);for(var s=1/0,l=-1,c=0,u=0,f=this.count();u<f;u++){var h=this.getRawIndex(u),d=n-a[h],p=Math.abs(d);p<=r&&((p<s||p===s&&d>=0&&l<0)&&(s=p,l=d,c=0),d===l&&(o[c++]=u))}return o.length=c,o},t.prototype.getIndices=function(){var e,n=this._indices;if(n){var r=n.constructor,i=this._count;if(r===Array){e=new r(i);for(var a=0;a<i;a++)e[a]=n[a]}else e=new r(n.buffer,0,i)}else{var r=pu(this._rawCount);e=new r(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},t.prototype.filter=function(e,n){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=pu(r._rawCount),o=new a(i),s=[],l=e.length,c=0,u=e[0],f=r._chunks,h=0;h<i;h++){var d=void 0,p=r.getRawIndex(h);if(l===0)d=n(h);else if(l===1){var v=f[u][p];d=n(v,h)}else{for(var g=0;g<l;g++)s[g]=f[e[g]][p];s[g]=h,d=n.apply(null,s)}d&&(o[c++]=p)}return c<i&&(r._indices=o),r._count=c,r._extent=[],r._updateGetRawIdx(),r},t.prototype.selectRange=function(e){var n=this.clone(),r=n._count;if(!r)return this;var i=Ut(e),a=i.length;if(!a)return this;var o=n.count(),s=pu(n._rawCount),l=new s(o),c=0,u=i[0],f=e[u][0],h=e[u][1],d=n._chunks,p=!1;if(!n._indices){var v=0;if(a===1){for(var g=d[i[0]],y=0;y<r;y++){var m=g[y];(m>=f&&m<=h||isNaN(m))&&(l[c++]=v),v++}p=!0}else if(a===2){for(var g=d[i[0]],b=d[i[1]],x=e[i[1]][0],_=e[i[1]][1],y=0;y<r;y++){var m=g[y],w=b[y];(m>=f&&m<=h||isNaN(m))&&(w>=x&&w<=_||isNaN(w))&&(l[c++]=v),v++}p=!0}}if(!p)if(a===1)for(var y=0;y<o;y++){var S=n.getRawIndex(y),m=d[i[0]][S];(m>=f&&m<=h||isNaN(m))&&(l[c++]=S)}else for(var y=0;y<o;y++){for(var O=!0,S=n.getRawIndex(y),M=0;M<a;M++){var T=i[M],m=d[T][S];(m<e[T][0]||m>e[T][1])&&(O=!1)}O&&(l[c++]=n.getRawIndex(y))}return c<o&&(n._indices=l),n._count=c,n._extent=[],n._updateGetRawIdx(),n},t.prototype.map=function(e,n){var r=this.clone(e);return this._updateDims(r,e,n),r},t.prototype.modify=function(e,n){this._updateDims(this,e,n)},t.prototype._updateDims=function(e,n,r){for(var i=e._chunks,a=[],o=n.length,s=e.count(),l=[],c=e._rawExtent,u=0;u<n.length;u++)c[n[u]]=vl();for(var f=0;f<s;f++){for(var h=e.getRawIndex(f),d=0;d<o;d++)l[d]=i[n[d]][h];l[o]=f;var p=r&&r.apply(null,l);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var u=0;u<p.length;u++){var v=n[u],g=p[u],y=c[v],m=i[v];m&&(m[h]=g),g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}}},t.prototype.lttbDownSample=function(e,n){var r=this.clone([e],!0),i=r._chunks,a=i[e],o=this.count(),s=0,l=Math.floor(1/n),c=this.getRawIndex(0),u,f,h,d=new(pu(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));d[s++]=c;for(var p=1;p<o-1;p+=l){for(var v=Math.min(p+l,o-1),g=Math.min(p+l*2,o),y=(g+v)/2,m=0,b=v;b<g;b++){var x=this.getRawIndex(b),_=a[x];isNaN(_)||(m+=_)}m/=g-v;var w=p,S=Math.min(p+l,o),O=p-1,M=a[c];u=-1,h=w;for(var T=-1,A=0,b=w;b<S;b++){var x=this.getRawIndex(b),_=a[x];if(isNaN(_)){A++,T<0&&(T=x);continue}f=Math.abs((O-y)*(_-M)-(O-b)*(m-M)),f>u&&(u=f,h=x)}A>0&&A<S-w&&(d[s++]=Math.min(T,h),h=Math.max(T,h)),d[s++]=h,c=h}return d[s++]=this.getRawIndex(o-1),r._count=s,r._indices=d,r.getRawIndex=this._getRawIdx,r},t.prototype.downSample=function(e,n,r,i){for(var a=this.clone([e],!0),o=a._chunks,s=[],l=Math.floor(1/n),c=o[e],u=this.count(),f=a._rawExtent[e]=vl(),h=new(pu(this._rawCount))(Math.ceil(u/l)),d=0,p=0;p<u;p+=l){l>u-p&&(l=u-p,s.length=l);for(var v=0;v<l;v++){var g=this.getRawIndex(p+v);s[v]=c[g]}var y=r(s),m=this.getRawIndex(Math.min(p+i(s,y)||0,u-1));c[m]=y,y<f[0]&&(f[0]=y),y>f[1]&&(f[1]=y),h[d++]=m}return a._count=d,a._indices=h,a._updateGetRawIdx(),a},t.prototype.each=function(e,n){if(this._count)for(var r=e.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(r){case 0:n(a);break;case 1:n(i[e[0]][s],a);break;case 2:n(i[e[0]][s],i[e[1]][s],a);break;default:for(var l=0,c=[];l<r;l++)c[l]=i[e[l]][s];c[l]=a,n.apply(null,c)}}},t.prototype.getDataExtent=function(e){var n=this._chunks[e],r=vl();if(!n)return r;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=r;for(var s=o[0],l=o[1],c=0;c<i;c++){var u=this.getRawIndex(c),f=n[u];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[e]=o,o},t.prototype.getRawDataItem=function(e){var n=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][n]);return r},t.prototype.clone=function(e,n){var r=new t,i=this._chunks,a=e&&Bc(e,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<i.length;o++)r._chunks[o]=a[o]?MV(i[o]):i[o];else r._chunks=i;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Yt(this._extent),e._rawExtent=Yt(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,n=void 0;if(e===Array){var r=this._indices.length;n=new e(r);for(var i=0;i<r;i++)n[i]=this._indices[i]}else n=new e(this._indices);return n}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(n,r,i,a){return Jp(n[a],this._dimensions[a])}lm={arrayRows:e,objectRows:function(n,r,i,a){return Jp(n[r],this._dimensions[a])},keyedColumns:e,original:function(n,r,i,a){var o=n&&(n.value==null?n:n.value);return Jp(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(n,r,i,a){return n[a]}}}(),t}(),TV=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,n){this._sourceList=e,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,i,a;if(Dd(e)){var o=e,s=void 0,l=void 0,c=void 0;if(r){var u=n[0];u.prepareSource(),c=u.getSource(),s=c.data,l=c.sourceFormat,a=[u._getVersionSign()]}else s=o.get("data",!0),l=gr(s)?fo:ri,a=[];var f=this._getSourceMetaRawOption()||{},h=c&&c.metaRawOption||{},d=Pt(f.seriesLayoutBy,h.seriesLayoutBy)||null,p=Pt(f.sourceHeader,h.sourceHeader),v=Pt(f.dimensions,h.dimensions),g=d!==h.seriesLayoutBy||!!p!=!!h.sourceHeader||v;i=g?[wb(s,{seriesLayoutBy:d,sourceHeader:p,dimensions:v},l)]:[]}else{var y=e;if(r){var m=this._applyTransform(n);i=m.sourceList,a=m.upstreamSignList}else{var b=y.get("source",!0);i=[wb(b,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},t.prototype._applyTransform=function(e){var n=this._sourceHost,r=n.get("transform",!0),i=n.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&mT(a)}var o,s=[],l=[];return $(e,function(c){c.prepareSource();var u=c.getSource(i||0),f="";i!=null&&!u&&mT(f),s.push(u),l.push(c._getVersionSign())}),r?o=_V(r,s,{datasetIndex:n.componentIndex}):i!=null&&(o=[iV(s[0])]),{sourceList:o,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),n=0;n<e.length;n++){var r=e[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var n=this._sourceList[e];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return n},t.prototype.getSharedDataStore=function(e){var n=e.makeStoreSchema();return this._innerGetDataStore(n.dimensions,e.source,n.hash)},t.prototype._innerGetDataStore=function(e,n,r){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[r];if(!s){var l=this._getUpstreamSourceManagers()[0];Dd(this._sourceHost)&&l?s=l._innerGetDataStore(e,n,r):(s=new Sb,s.initData(new z5(n,e.length),e)),o[r]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Dd(e)){var n=L5(e);return n?[n.getSourceManager()]:[]}else return yt(LY(e),function(r){return r.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,n,r,i;if(Dd(e))n=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;n=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:i}},t}();function Dd(t){return t.mainType==="series"}function mT(t){throw new Error(t)}var X5="line-height:1";function U5(t,e){var n=t.color||"#6e7079",r=t.fontSize||12,i=t.fontWeight||"400",a=t.color||"#464646",o=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+cr(r+"")+"px;color:"+cr(n)+";font-weight:"+cr(i+""),valueStyle:"font-size:"+cr(o+"")+"px;color:"+cr(a)+";font-weight:"+cr(s+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var AV=[0,10,20,30],EV=["",`
`,`

`,`


`];function Xf(t,e){return e.type=t,e}function Ob(t){return t.type==="section"}function q5(t){return Ob(t)?PV:CV}function Z5(t){if(Ob(t)){var e=0,n=t.blocks.length,r=n>1||n>0&&!t.noHeader;return $(t.blocks,function(i){var a=Z5(i);a>=e&&(e=a+ +(r&&(!a||Ob(i)&&!i.noHeader)))}),e}return 0}function PV(t,e,n,r){var i=e.noHeader,a=kV(Z5(e)),o=[],s=e.blocks||[];xi(!s||ht(s)),s=s||[];var l=t.orderMode;if(e.sortBlocks&&l){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(sc(c,l)){var u=new dV(c[l],null);s.sort(function(p,v){return u.evaluate(p.sortParam,v.sortParam)})}else l==="seriesDesc"&&s.reverse()}$(s,function(p,v){var g=e.valueFormatter,y=q5(p)(g?lt(lt({},t),{valueFormatter:g}):t,p,v>0?a.html:0,r);y!=null&&o.push(y)});var f=t.renderMode==="richText"?o.join(a.richText):Mb(o.join(""),i?n:a.html);if(i)return f;var h=_b(e.header,"ordinal",t.useUTC),d=U5(r,t.renderMode).nameStyle;return t.renderMode==="richText"?K5(t,h,d)+a.richText+f:Mb('<div style="'+d+";"+X5+';">'+cr(h)+"</div>"+f,n)}function CV(t,e,n,r){var i=t.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,l=e.name,c=t.useUTC,u=e.valueFormatter||t.valueFormatter||function(x){return x=ht(x)?x:[x],yt(x,function(_,w){return _b(_,ht(d)?d[w]:d,c)})};if(!(a&&o)){var f=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),h=a?"":_b(l,"ordinal",c),d=e.valueType,p=o?[]:u(e.value,e.dataIndex),v=!s||!a,g=!s&&a,y=U5(r,i),m=y.nameStyle,b=y.valueStyle;return i==="richText"?(s?"":f)+(a?"":K5(t,h,m))+(o?"":IV(t,p,v,g,b)):Mb((s?"":f)+(a?"":LV(h,!s,m))+(o?"":DV(p,v,g,b)),n)}}function bT(t,e,n,r,i,a){if(t){var o=q5(t),s={useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,a)}}function kV(t){return{html:AV[t],richText:EV[t]}}function Mb(t,e){var n='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+X5+';">'+t+n+"</div>"}function LV(t,e,n){var r=e?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+cr(t)+"</span>"}function DV(t,e,n,r){var i=n?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return t=ht(t)?t:[t],'<span style="'+a+";"+r+'">'+yt(t,function(o){return cr(o)}).join("&nbsp;&nbsp;")+"</span>"}function K5(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function IV(t,e,n,r,i){var a=[i],o=r?10:20;return n&&a.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(ht(e)?e.join("  "):e,a)}function RV(t,e){var n=t.getData().getItemVisual(e,"style"),r=n[t.visualDrawType];return Wf(r)}function Q5(t,e){var n=t.get("padding");return n??(e==="richText"?[8,10]:10)}var cm=function(){function t(){this.richTextStyles={},this._nextStyleNameId=TD()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,n,r){var i=r==="richText"?this._generateStyleName():null,a=OY({color:n,type:e,renderMode:r,markerId:i});return vt(a)?a:(this.richTextStyles[i]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(e,n){var r={};ht(n)?$(n,function(a){return lt(r,a)}):lt(r,n);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},t}();function NV(t){var e=t.series,n=t.dataIndex,r=t.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(n),l=ht(s),c=RV(e,n),u,f,h,d;if(o>1||l&&!o){var p=BV(s,e,n,a,c);u=p.inlineValues,f=p.inlineValueTypes,h=p.blocks,d=p.inlineValues[0]}else if(o){var v=i.getDimensionInfo(a[0]);d=u=cc(i,n,a[0]),f=v.type}else d=u=l?s[0]:s;var g=X_(e),y=g&&e.name||"",m=i.getName(n),b=r?y:m;return Xf("section",{header:y,noHeader:r||!g,sortParam:d,blocks:[Xf("nameValue",{markerType:"item",markerColor:c,name:b,noName:!Fi(b),value:u,valueType:f,dataIndex:n})].concat(h||[])})}function BV(t,e,n,r,i){var a=e.getData(),o=Bc(t,function(f,h,d){var p=a.getDimensionInfo(d);return f=f||p&&p.tooltip!==!1&&p.displayName!=null},!1),s=[],l=[],c=[];r.length?$(r,function(f){u(cc(a,n,f),f)}):$(t,u);function u(f,h){var d=a.getDimensionInfo(h);!d||d.otherDims.tooltip===!1||(o?c.push(Xf("nameValue",{markerType:"subItem",markerColor:i,name:d.displayName,value:f,valueType:d.type})):(s.push(f),l.push(d.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:c}}var Ga=hn();function Id(t,e){return t.getName(e)||t.getId(e)}var FV="__universalTransitionEnabled",Pa=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return e.prototype.init=function(n,r,i){this.seriesIndex=this.componentIndex,this.dataTask=gf({count:zV,reset:$V}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,i);var a=Ga(this).sourceManager=new TV(this);a.prepareSource();var o=this.getInitialData(n,i);_T(o,this),this.dataTask.context.data=o,Ga(this).dataBeforeProcessed=o,xT(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(n,r){var i=Yf(this),a=i?a0(n):{},o=this.subType;ae.hasClass(o)&&(o+="Series"),Ee(n,r.getTheme().get(this.subType)),Ee(n,this.getDefaultOption()),iM(n,"label",["show"]),this.fillDataTextStyle(n.data),i&&lc(n,a,i)},e.prototype.mergeOption=function(n,r){n=Ee(this.option,n,!0),this.fillDataTextStyle(n.data);var i=Yf(this);i&&lc(this.option,n,i);var a=Ga(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(n,r);_T(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Ga(this).dataBeforeProcessed=o,xT(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(n){if(n&&!gr(n))for(var r=["show"],i=0;i<n.length;i++)n[i]&&n[i].label&&iM(n[i],"label",r)},e.prototype.getInitialData=function(n,r){},e.prototype.appendData=function(n){var r=this.getRawData();r.appendData(n.data)},e.prototype.getData=function(n){var r=Tb(this);if(r){var i=r.context.data;return n==null||!i.getLinkedData?i:i.getLinkedData(n)}else return Ga(this).data},e.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},e.prototype.setData=function(n){var r=Tb(this);if(r){var i=r.context;i.outputData=n,r!==this.dataTask&&(i.data=n)}Ga(this).data=n},e.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return jt(n)},e.prototype.getSourceManager=function(){return Ga(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Ga(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},e.prototype.formatTooltip=function(n,r,i){return NV({series:this,dataIndex:n,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(kt.node&&!(n&&n.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(n,r,i){var a=this.ecModel,o=x2.prototype.getColorFromPalette.call(this,n,r,i);return o||(o=a.getColorFromPalette(n,r,i)),o},e.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(n,r){this._innerSelect(this.getData(r),n)},e.prototype.unselect=function(n,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(r);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<n.length;s++){var l=n[s],c=Id(o,l);i[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(n,r){for(var i=[],a=0;a<n.length;a++)i[0]=n[a],this.isSelected(n[a],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,r=Ut(n),i=[],a=0;a<r.length;a++){var o=n[r[a]];o>=0&&i.push(o)}return i},e.prototype.isSelected=function(n,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return(i==="all"||i[Id(a,n)])&&!a.getItemModel(n).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[FV])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},e.prototype._innerSelect=function(n,r){var i,a,o=this.option,s=o.selectedMode,l=r.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Mt(o.selectedMap)||(o.selectedMap={});for(var c=o.selectedMap,u=0;u<l;u++){var f=r[u],h=Id(n,f);c[h]=!0,this._selectedDataIndicesMap[h]=n.getRawIndex(f)}}else if(s==="single"||s===!0){var d=r[l-1],h=Id(n,d);o.selectedMap=(i={},i[h]=!0,i),this._selectedDataIndicesMap=(a={},a[h]=n.getRawIndex(d),a)}}},e.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var r=[];n.hasItemOption&&n.each(function(i){var a=n.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(n,r)}},e.registerClass=function(n){return ae.registerClass(n)},e.protoInitialize=function(){var n=e.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),e}(ae);ta(Pa,fV);ta(Pa,x2);LD(Pa,ae);function xT(t){var e=t.name;X_(t)||(t.name=jV(t)||e)}function jV(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),r=[];return $(n,function(i){var a=e.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}function zV(t){return t.model.getRawData().count()}function $V(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),GV}function GV(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function _T(t,e){$(q7(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(n){t.wrapMethod(n,un(WV,e))})}function WV(t,e){var n=Tb(t);return n&&n.setOutputEnd((e||this).count()),e}function Tb(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}var _i=function(){function t(){this.group=new Ar,this.uid=Qg("viewComponent")}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,r,i){},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,r,i){},t.prototype.updateLayout=function(e,n,r,i){},t.prototype.updateVisual=function(e,n,r,i){},t.prototype.toggleBlurSeries=function(e,n,r){},t.prototype.eachRendered=function(e){var n=this.group;n&&n.traverse(e)},t}();q_(_i);Yg(_i);function J5(){var t=hn();return function(e){var n=t(e),r=e.pipelineContext,i=!!n.large,a=!!n.progressiveRender,o=n.large=!!(r&&r.large),s=n.progressiveRender=!!(r&&r.progressiveRender);return(i!==o||a!==s)&&"reset"}}var tI=hn(),HV=J5(),ho=function(){function t(){this.group=new Ar,this.uid=Qg("viewChart"),this.renderTask=gf({plan:YV,reset:VV}),this.renderTask.context={view:this}}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,r,i){},t.prototype.highlight=function(e,n,r,i){var a=e.getData(i&&i.dataType);a&&ST(a,i,"emphasis")},t.prototype.downplay=function(e,n,r,i){var a=e.getData(i&&i.dataType);a&&ST(a,i,"normal")},t.prototype.remove=function(e,n){this.group.removeAll()},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.updateLayout=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.updateVisual=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.eachRendered=function(e){h2(this.group,e)},t.markUpdateMethod=function(e,n){tI(e).updateMethod=n},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function wT(t,e,n){t&&gb(t)&&(e==="emphasis"?fb:hb)(t,n)}function ST(t,e,n){var r=Rh(t,e),i=e&&e.highlightKey!=null?eH(e.highlightKey):null;r!=null?$(qn(r),function(a){wT(t.getItemGraphicEl(a),n,i)}):t.eachItemGraphicEl(function(a){wT(a,n,i)})}q_(ho);Yg(ho);function YV(t){return HV(t.model)}function VV(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=i&&tI(i).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](e,n,r,i),XV[l]}var XV={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Pv="\0__throttleOriginMethod",OT="\0__throttleRate",MT="\0__throttleType";function T2(t,e,n){var r,i=0,a=0,o=null,s,l,c,u;e=e||0;function f(){a=new Date().getTime(),o=null,t.apply(l,c||[])}var h=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];r=new Date().getTime(),l=this,c=d;var v=u||e,g=u||n;u=null,s=r-(g?i:a)-v,clearTimeout(o),g?o=setTimeout(f,v):s>=0?f():o=setTimeout(f,-s),i=r};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.debounceNextCall=function(d){u=d},h}function eI(t,e,n,r){var i=t[e];if(i){var a=i[Pv]||i,o=i[MT],s=i[OT];if(s!==n||o!==r){if(n==null||!r)return t[e]=a;i=t[e]=T2(a,n,r==="debounce"),i[Pv]=a,i[MT]=r,i[OT]=n}return i}}function Ab(t,e){var n=t[e];n&&n[Pv]&&(n.clear&&n.clear(),t[e]=n[Pv])}var TT=hn(),AT={itemStyle:Ff(d5,!0),lineStyle:Ff(h5,!0)},UV={lineStyle:"stroke",itemStyle:"fill"};function nI(t,e){var n=t.visualStyleMapper||AT[e];return n||(console.warn("Unknown style type '"+e+"'."),AT.itemStyle)}function rI(t,e){var n=t.visualDrawType||UV[e];return n||(console.warn("Unknown style type '"+e+"'."),"fill")}var qV={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=t.getModel(r),a=nI(t,r),o=a(i),s=i.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=rI(t,r),c=o[l],u=zt(c)?c:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||u||f){var h=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[l]||(o[l]=h,n.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||zt(o.fill)?h:o.fill,o.stroke=o.stroke==="auto"||zt(o.stroke)?h:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",l),!e.isSeriesFiltered(t)&&u)return n.setVisual("colorFromPalette",!1),{dataEach:function(d,p){var v=t.getDataParams(p),g=lt({},o);g[l]=u(v),d.setItemVisual(p,"style",g)}}}},vu=new Qe,ZV={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=nI(t,r),a=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[r]){vu.option=l[r];var c=i(vu),u=o.ensureUniqueItemVisual(s,"style");lt(u,c),vu.option.decal&&(o.setItemVisual(s,"decal",vu.option.decal),vu.option.decal.dirty=!0),a in c&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},KV={performRawSeries:!0,overallReset:function(t){var e=jt();t.eachSeries(function(n){var r=n.getColorBy();if(!n.isColorBySeries()){var i=n.type+"-"+r,a=e.get(i);a||(a={},e.set(i,a)),TT(n).scope=a}}),t.eachSeries(function(n){if(!(n.isColorBySeries()||t.isSeriesFiltered(n))){var r=n.getRawData(),i={},a=n.getData(),o=TT(n).scope,s=n.visualStyleAccessPath||"itemStyle",l=rI(n,s);a.each(function(c){var u=a.getRawIndex(c);i[u]=c}),r.each(function(c){var u=i[c],f=a.getItemVisual(u,"colorFromPalette");if(f){var h=a.ensureUniqueItemVisual(u,"style"),d=r.getName(c)||c+"",p=r.count();h[l]=n.getColorFromPalette(d,o,p)}})}})}},Rd=Math.PI;function QV(t,e){e=e||{},_e(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Ar,r=new ln({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(r);var i=new Zn({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new ln({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});n.add(a);var o;return e.showSpinner&&(o=new Zg({shape:{startAngle:-Rd/2,endAngle:-Rd/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Rd*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Rd*3/2}).delay(300).start("circularInOut"),n.add(o)),n.resize=function(){var s=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,c=(t.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),u=t.getHeight()/2;e.showSpinner&&o.setShape({cx:c,cy:u}),a.setShape({x:c-l,y:u-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}var iI=function(){function t(e,n,r,i){this._stageTaskMap=jt(),this.ecInstance=e,this.api=n,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return t.prototype.restoreData=function(e,n){e.restoreData(n),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},t.prototype.getPerformArgs=function(e,n){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,a=!n&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,o=a?r.step:null,s=i&&i.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,n){var r=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),o=r.progressiveEnabled&&n.incrementalPrepareRender&&a>=r.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=r.context={progressiveRender:o,modDataCount:l,large:s}},t.prototype.restorePipelines=function(e){var n=this,r=n._pipelineMap=jt();e.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;r.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),n._pipe(i,i.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,n=this.api.getModel(),r=this.api;$(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),o="";xi(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,n,r),i.overallReset&&this._createOverallStageTask(i,a,n,r)},this)},t.prototype.prepareView=function(e,n,r,i){var a=e.renderTask,o=a.context;o.model=n,o.ecModel=r,o.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(n,a)},t.prototype.performDataProcessorTasks=function(e,n){this._performStageTasks(this._dataProcessorHandlers,e,n,{block:!0})},t.prototype.performVisualTasks=function(e,n,r){this._performStageTasks(this._visualHandlers,e,n,r)},t.prototype._performStageTasks=function(e,n,r,i){i=i||{};var a=!1,o=this;$(e,function(l,c){if(!(i.visualType&&i.visualType!==l.visualType)){var u=o._stageTaskMap.get(l.uid),f=u.seriesTaskMap,h=u.overallTask;if(h){var d,p=h.agentStubMap;p.each(function(g){s(i,g)&&(g.dirty(),d=!0)}),d&&h.dirty(),o.updatePayload(h,r);var v=o.getPerformArgs(h,i.block);p.each(function(g){g.perform(v)}),h.perform(v)&&(a=!0)}else f&&f.each(function(g,y){s(i,g)&&g.dirty();var m=o.getPerformArgs(g,i.block);m.skip=!l.performRawSeries&&n.isSeriesFiltered(g.context.model),o.updatePayload(g,r),g.perform(m)&&(a=!0)})}});function s(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=a||this.unfinished},t.prototype.performSeriesTasks=function(e){var n;e.eachSeries(function(r){n=r.dataTask.perform()||n}),this.unfinished=n||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var n=e.tail;do{if(n.__block){e.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},t.prototype.updatePayload=function(e,n){n!=="remain"&&(e.context.payload=n)},t.prototype._createSeriesStageTask=function(e,n,r,i){var a=this,o=n.seriesTaskMap,s=n.seriesTaskMap=jt(),l=e.seriesType,c=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(u):l?r.eachRawSeriesByType(l,u):c&&c(r,i).each(u);function u(f){var h=f.uid,d=s.set(h,o&&o.get(h)||gf({plan:rX,reset:iX,count:oX}));d.context={model:f,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(f,d)}},t.prototype._createOverallStageTask=function(e,n,r,i){var a=this,o=n.overallTask=n.overallTask||gf({reset:JV});o.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=jt(),c=e.seriesType,u=e.getTargetSeries,f=!0,h=!1,d="";xi(!e.createOnAllSeries,d),c?r.eachRawSeriesByType(c,p):u?u(r,i).each(p):(f=!1,$(r.getSeries(),p));function p(v){var g=v.uid,y=l.set(g,s&&s.get(g)||(h=!0,gf({reset:tX,onDirty:nX})));y.context={model:v,overallProgress:f},y.agent=o,y.__block=f,a._pipe(v,y)}h&&o.dirty()},t.prototype._pipe=function(e,n){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i},t.wrapStageHandler=function(e,n){return zt(e)&&(e={overallReset:e,seriesType:sX(e)}),e.uid=Qg("stageHandler"),n&&(e.visualType=n),e},t}();function JV(t){t.overallReset(t.ecModel,t.api,t.payload)}function tX(t){return t.overallProgress&&eX}function eX(){this.agent.dirty(),this.getDownstream().dirty()}function nX(){this.agent&&this.agent.dirty()}function rX(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function iX(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=qn(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?yt(e,function(n,r){return aI(r)}):aX}var aX=aI(0);function aI(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(e,r)}}function oX(t){return t.data.count()}function sX(t){Cv=null;try{t(Uf,oI)}catch{}return Cv}var Uf={},oI={},Cv;sI(Uf,_2);sI(oI,I5);Uf.eachSeriesByType=Uf.eachRawSeriesByType=function(t){Cv=t};Uf.eachComponent=function(t){t.mainType==="series"&&t.subType&&(Cv=t.subType)};function sI(t,e){for(var n in e.prototype)t[n]=Un}var ET=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lX={color:ET,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],ET]};var Gn="#B9B8CE",PT="#100C2A",Nd=function(){return{axisLine:{lineStyle:{color:Gn}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},CT=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],lI={darkMode:!0,color:CT,backgroundColor:PT,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Gn}},textStyle:{color:Gn},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Gn}},dataZoom:{borderColor:"#71708A",textStyle:{color:Gn},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Gn}},timeline:{lineStyle:{color:Gn},label:{color:Gn},controlStyle:{color:Gn,borderColor:Gn}},calendar:{itemStyle:{color:PT},dayLabel:{color:Gn},monthLabel:{color:Gn},yearLabel:{color:Gn}},timeAxis:Nd(),logAxis:Nd(),valueAxis:Nd(),categoryAxis:Nd(),line:{symbol:"circle"},graph:{color:CT},gauge:{title:{color:Gn},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Gn},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};lI.categoryAxis.splitLine.show=!1;var cX=function(){function t(){}return t.prototype.normalizeQuery=function(e){var n={},r={},i={};if(vt(e)){var a=ji(e);n.mainType=a.main||null,n.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};$(e,function(l,c){for(var u=!1,f=0;f<o.length;f++){var h=o[f],d=c.lastIndexOf(h);if(d>0&&d===c.length-h.length){var p=c.slice(0,d);p!=="data"&&(n.mainType=p,n[h.toLowerCase()]=l,u=!0)}}s.hasOwnProperty(c)&&(r[c]=l,u=!0),u||(i[c]=l)})}return{cptQuery:n,dataQuery:r,otherQuery:i}},t.prototype.filter=function(e,n){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,o=r.model,s=r.view;if(!o||!s)return!0;var l=n.cptQuery,c=n.dataQuery;return u(l,o,"mainType")&&u(l,o,"subType")&&u(l,o,"index","componentIndex")&&u(l,o,"name")&&u(l,o,"id")&&u(c,a,"name")&&u(c,a,"dataIndex")&&u(c,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,n.otherQuery,i,a));function u(f,h,d,p){return f[d]==null||h[p||d]===f[d]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),Eb=["symbol","symbolSize","symbolRotate","symbolOffset"],kT=Eb.concat(["symbolKeepAspect"]),uX={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var r={},i={},a=!1,o=0;o<Eb.length;o++){var s=Eb[o],l=t.get(s);zt(l)?(a=!0,i[s]=l):r[s]=l}if(r.symbol=r.symbol||t.defaultSymbol,n.setVisual(lt({legendIcon:t.legendIcon||r.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},r)),e.isSeriesFiltered(t))return;var c=Ut(i);function u(f,h){for(var d=t.getRawValue(h),p=t.getDataParams(h),v=0;v<c.length;v++){var g=c[v];f.setItemVisual(h,g,i[g](d,p))}}return{dataEach:a?u:null}}},fX={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var n=t.getData();function r(i,a){for(var o=i.getItemModel(a),s=0;s<kT.length;s++){var l=kT[s],c=o.getShallow(l,!0);c!=null&&i.setItemVisual(a,l,c)}}return{dataEach:n.hasItemOption?r:null}}};function hX(t,e,n){switch(n){case"color":var r=t.getItemVisual(e,"style");return r[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n)}}function dX(t,e){switch(e){case"color":var n=t.getVisual("style");return n[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function gl(t,e,n,r,i){var a=t+e;n.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,c=i.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===s){var f=o.getData(),h=Rh(f,i.fromActionPayload);n.trigger(a,{type:a,seriesId:o.id,name:ht(h)?f.getName(h[0]):f.getName(h),selected:vt(l)?l:lt({},l)})}})}function pX(t,e,n){t.on("selectchanged",function(r){var i=n.getModel();r.isFromClick?(gl("map","selectchanged",e,i,r),gl("pie","selectchanged",e,i,r)):r.fromAction==="select"?(gl("map","selected",e,i,r),gl("pie","selected",e,i,r)):r.fromAction==="unselect"&&(gl("map","unselected",e,i,r),gl("pie","unselected",e,i,r))})}function $u(t,e,n){for(var r;t&&!(e(t)&&(r=t,n));)t=t.__hostTarget||t.parent;return r}var vX=Math.round(Math.random()*9),gX=typeof Object.defineProperty=="function",yX=function(){function t(){this._id="__ec_inner_"+vX++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,n){var r=this._guard(e);return gX?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}(),mX=ve.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+i,r+a),t.lineTo(n-i,r+a),t.closePath()}}),bX=ve.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+i,r),t.lineTo(n,r+a),t.lineTo(n-i,r),t.closePath()}}),xX=ve.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),l=r-a+o+s,c=Math.asin(s/o),u=Math.cos(c)*o,f=Math.sin(c),h=Math.cos(c),d=o*.6,p=o*.7;t.moveTo(n-u,l+s),t.arc(n,l,o,Math.PI-c,Math.PI*2+c),t.bezierCurveTo(n+u-f*d,l+s+h*d,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-u+f*d,l+s+h*d,n-u,l+s),t.closePath()}}),_X=ve.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,a=e.y,o=r/3*2;t.moveTo(i,a),t.lineTo(i+o,a+n),t.lineTo(i,a+n/4*3),t.lineTo(i-o,a+n),t.lineTo(i,a),t.closePath()}}),wX={line:So,rect:ln,roundRect:ln,square:ln,circle:qg,diamond:bX,pin:xX,arrow:_X,triangle:mX},SX={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var a=Math.min(n,r);i.x=t,i.y=e,i.width=a,i.height=a},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},Pb={};$(wX,function(t,e){Pb[e]=new t});var OX=ve.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=_v(t,e,n),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=n.y+n.height*.4),r},buildPath:function(t,e,n){var r=e.symbolType;if(r!=="none"){var i=Pb[r];i||(r="rect",i=Pb[r]),SX[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n)}}});function MX(t,e){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=t:n.fill=t,this.markRedraw()}}function A2(t,e,n,r,i,a,o){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return t.indexOf("image://")===0?l=o5(t.slice(8),new Ce(e,n,r,i),o?"center":"cover"):t.indexOf("path://")===0?l=l2(t.slice(7),{},new Ce(e,n,r,i),o?"center":"cover"):l=new OX({shape:{symbolType:t,x:e,y:n,width:r,height:i}}),l.__isEmptyBrush=s,l.setColor=MX,a&&l.setColor(a),l}function TX(t,e){if(t!=null)return ht(t)||(t=[t,t]),[Vn(t[0],e[0])||0,Vn(Pt(t[1],t[0]),e[1])||0]}function _s(t){return isFinite(t)}function AX(t,e,n){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(r=r*n.width+n.x,i=i*n.width+n.x,a=a*n.height+n.y,o=o*n.height+n.y),r=_s(r)?r:0,i=_s(i)?i:1,a=_s(a)?a:0,o=_s(o)?o:0;var s=t.createLinearGradient(r,a,i,o);return s}function EX(t,e,n){var r=n.width,i=n.height,a=Math.min(r,i),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(o=o*r+n.x,s=s*i+n.y,l=l*a),o=_s(o)?o:.5,s=_s(s)?s:.5,l=l>=0&&_s(l)?l:.5;var c=t.createRadialGradient(o,s,0,o,s,l);return c}function LT(t,e,n){for(var r=e.type==="radial"?EX(t,e,n):AX(t,e,n),i=e.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function PX(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function Bd(t){return parseInt(t,10)}function DT(t,e,n){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(n[r]!=null&&n[r]!=="auto")return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(t);return(t[i]||Bd(s[r])||Bd(t.style[r]))-(Bd(s[a])||0)-(Bd(s[o])||0)|0}function CX(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:He(t)?[t]:ht(t)?t:null}function E2(t){var e=t.style,n=e.lineDash&&e.lineWidth>0&&CX(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(n){var i=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;i&&i!==1&&(n=yt(n,function(a){return a/i}),r/=i)}return[n,r]}var kX=new ks(!0);function kv(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function IT(t){return typeof t=="string"&&t!=="none"}function Lv(t){var e=t.fill;return e!=null&&e!=="none"}function RT(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function NT(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function BT(t,e,n){var r=Z_(e.image,e.__image,n);if(Vg(r)){var i=t.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*Gp),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function LX(t,e,n,r){var i,a=kv(n),o=Lv(n),s=n.strokePercent,l=s<1,c=!e.path;(!e.silent||l)&&c&&e.createPathProxy();var u=e.path||kX,f=e.__dirty;if(!r){var h=n.fill,d=n.stroke,p=o&&!!h.colorStops,v=a&&!!d.colorStops,g=o&&!!h.image,y=a&&!!d.image,m=void 0,b=void 0,x=void 0,_=void 0,w=void 0;(p||v)&&(w=e.getBoundingRect()),p&&(m=f?LT(t,h,w):e.__canvasFillGradient,e.__canvasFillGradient=m),v&&(b=f?LT(t,d,w):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),g&&(x=f||!e.__canvasFillPattern?BT(t,h,e):e.__canvasFillPattern,e.__canvasFillPattern=x),y&&(_=f||!e.__canvasStrokePattern?BT(t,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=x),p?t.fillStyle=m:g&&(x?t.fillStyle=x:o=!1),v?t.strokeStyle=b:y&&(_?t.strokeStyle=_:a=!1)}var S=e.getGlobalScale();u.setScale(S[0],S[1],e.segmentIgnoreThreshold);var O,M;t.setLineDash&&n.lineDash&&(i=E2(e),O=i[0],M=i[1]);var T=!0;(c||f&El)&&(u.setDPR(t.dpr),l?u.setContext(null):(u.setContext(t),T=!1),u.reset(),e.buildPath(u,e.shape,r),u.toStatic(),e.pathUpdated()),T&&u.rebuildPath(t,l?s:1),O&&(t.setLineDash(O),t.lineDashOffset=M),r||(n.strokeFirst?(a&&NT(t,n),o&&RT(t,n)):(o&&RT(t,n),a&&NT(t,n))),O&&t.setLineDash([])}function DX(t,e,n){var r=e.__image=Z_(n.image,e.__image,e,e.onload);if(!(!r||!Vg(r))){var i=n.x||0,a=n.y||0,o=e.getWidth(),s=e.getHeight(),l=r.width/r.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=r.width,s=r.height),n.sWidth&&n.sHeight){var c=n.sx||0,u=n.sy||0;t.drawImage(r,c,u,n.sWidth,n.sHeight,i,a,o,s)}else if(n.sx&&n.sy){var c=n.sx,u=n.sy,f=o-c,h=s-u;t.drawImage(r,c,u,f,h,i,a,o,s)}else t.drawImage(r,i,a,o,s)}}function IX(t,e,n){var r,i=n.text;if(i!=null&&(i+=""),i){t.font=n.font||xo,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var a=void 0,o=void 0;t.setLineDash&&n.lineDash&&(r=E2(e),a=r[0],o=r[1]),a&&(t.setLineDash(a),t.lineDashOffset=o),n.strokeFirst?(kv(n)&&t.strokeText(i,n.x,n.y),Lv(n)&&t.fillText(i,n.x,n.y)):(Lv(n)&&t.fillText(i,n.x,n.y),kv(n)&&t.strokeText(i,n.x,n.y)),a&&t.setLineDash([])}}var FT=["shadowBlur","shadowOffsetX","shadowOffsetY"],jT=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function cI(t,e,n,r,i){var a=!1;if(!r&&(n=n||{},e===n))return!1;if(r||e.opacity!==n.opacity){dr(t,i),a=!0;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?Ms.opacity:o}(r||e.blend!==n.blend)&&(a||(dr(t,i),a=!0),t.globalCompositeOperation=e.blend||Ms.blend);for(var s=0;s<FT.length;s++){var l=FT[s];(r||e[l]!==n[l])&&(a||(dr(t,i),a=!0),t[l]=t.dpr*(e[l]||0))}return(r||e.shadowColor!==n.shadowColor)&&(a||(dr(t,i),a=!0),t.shadowColor=e.shadowColor||Ms.shadowColor),a}function zT(t,e,n,r,i){var a=qf(e,i.inHover),o=r?null:n&&qf(n,i.inHover)||{};if(a===o)return!1;var s=cI(t,a,o,r,i);if((r||a.fill!==o.fill)&&(s||(dr(t,i),s=!0),IT(a.fill)&&(t.fillStyle=a.fill)),(r||a.stroke!==o.stroke)&&(s||(dr(t,i),s=!0),IT(a.stroke)&&(t.strokeStyle=a.stroke)),(r||a.opacity!==o.opacity)&&(s||(dr(t,i),s=!0),t.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,c=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==c&&(s||(dr(t,i),s=!0),t.lineWidth=c)}for(var u=0;u<jT.length;u++){var f=jT[u],h=f[0];(r||a[h]!==o[h])&&(s||(dr(t,i),s=!0),t[h]=a[h]||f[1])}return s}function RX(t,e,n,r,i){return cI(t,qf(e,i.inHover),n&&qf(n,i.inHover),r,i)}function uI(t,e){var n=e.transform,r=t.dpr||1;n?t.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):t.setTransform(r,0,0,r,0,0)}function NX(t,e,n){for(var r=!1,i=0;i<t.length;i++){var a=t[i];r=r||a.isZeroArea(),uI(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}n.allClipped=r}function BX(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var $T=1,GT=2,WT=3,HT=4;function FX(t){var e=Lv(t),n=kv(t);return!(t.lineDash||!(+e^+n)||e&&typeof t.fill!="string"||n&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function dr(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function qf(t,e){return e&&t.__hoverStyle||t.style}function jX(t,e){Cb(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Cb(t,e,n,r){var i=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){e.__dirty&=~Di,e.__isRendered=!1;return}var a=e.__clipPaths,o=n.prevElClipPaths,s=!1,l=!1;if((!o||PX(a,o))&&(o&&o.length&&(dr(t,n),t.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),a&&a.length&&(dr(t,n),t.save(),NX(a,t,n),s=!0),n.prevElClipPaths=a),n.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=n.prevEl;c||(l=s=!0);var u=e instanceof ve&&e.autoBatch&&FX(e.style);s||BX(i,c.transform)?(dr(t,n),uI(t,e)):u||dr(t,n);var f=qf(e,n.inHover);e instanceof ve?(n.lastDrawType!==$T&&(l=!0,n.lastDrawType=$T),zT(t,e,c,l,n),(!u||!n.batchFill&&!n.batchStroke)&&t.beginPath(),LX(t,e,f,u),u&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):e instanceof jf?(n.lastDrawType!==WT&&(l=!0,n.lastDrawType=WT),zT(t,e,c,l,n),IX(t,e,f)):e instanceof Na?(n.lastDrawType!==GT&&(l=!0,n.lastDrawType=GT),RX(t,e,c,l,n),DX(t,e,f)):e.getTemporalDisplayables&&(n.lastDrawType!==HT&&(l=!0,n.lastDrawType=HT),zX(t,e,n)),u&&r&&dr(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}function zX(t,e,n){var r=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},o,s;for(o=e.getCursor(),s=r.length;o<s;o++){var l=r[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Cb(t,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var c=0,u=i.length;c<u;c++){var l=i[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Cb(t,l,a,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var um=new yX,YT=new Dh(100),VT=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function kb(t,e){if(t==="none")return null;var n=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";t.dirty&&um.delete(t);var a=um.get(t);if(a)return a;var o=_e(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/n,um.set(t,s),t.dirty=!1,s;function l(c){for(var u=[n],f=!0,h=0;h<VT.length;++h){var d=o[VT[h]];if(d!=null&&!ht(d)&&!vt(d)&&!He(d)&&typeof d!="boolean"){f=!1;break}u.push(d)}var p;if(f){p=u.join(",")+(i?"-svg":"");var v=YT.get(p);v&&(i?c.svgElement=v:c.image=v)}var g=hI(o.dashArrayX),y=$X(o.dashArrayY),m=fI(o.symbol),b=GX(g),x=dI(y),_=!i&&kh.createCanvas(),w=i&&{tag:"g",attrs:{},key:"dcl",children:[]},S=M(),O;_&&(_.width=S.width*n,_.height=S.height*n,O=_.getContext("2d")),T(),f&&YT.put(p,_||w),c.image=_,c.svgElement=w,c.svgWidth=S.width,c.svgHeight=S.height;function M(){for(var A=1,P=0,E=b.length;P<E;++P)A=rM(A,b[P]);for(var C=1,P=0,E=m.length;P<E;++P)C=rM(C,m[P].length);A*=C;var k=x*b.length*m.length;return{width:Math.max(1,Math.min(A,o.maxTileWidth)),height:Math.max(1,Math.min(k,o.maxTileHeight))}}function T(){O&&(O.clearRect(0,0,_.width,_.height),o.backgroundColor&&(O.fillStyle=o.backgroundColor,O.fillRect(0,0,_.width,_.height)));for(var A=0,P=0;P<y.length;++P)A+=y[P];if(A<=0)return;for(var E=-x,C=0,k=0,L=0;E<S.height;){if(C%2===0){for(var R=k/2%m.length,D=0,I=0,N=0;D<S.width*2;){for(var F=0,P=0;P<g[L].length;++P)F+=g[L][P];if(F<=0)break;if(I%2===0){var j=(1-o.symbolSize)*.5,z=D+g[L][I]*j,G=E+y[C]*j,V=g[L][I]*o.symbolSize,Q=y[C]*o.symbolSize,Y=N/2%m[R].length;H(z,G,V,Q,m[R][Y])}D+=g[L][I],++N,++I,I===g[L].length&&(I=0)}++L,L===g.length&&(L=0)}E+=y[C],++k,++C,C===y.length&&(C=0)}function H(tt,Z,W,K,ot){var at=i?1:n,ft=A2(ot,tt*at,Z*at,W*at,K*at,o.color,o.symbolKeepAspect);if(i){var Tt=r.painter.renderOneToVNode(ft);Tt&&w.children.push(Tt)}else jX(O,ft)}}}}function fI(t){if(!t||t.length===0)return[["rect"]];if(vt(t))return[[t]];for(var e=!0,n=0;n<t.length;++n)if(!vt(t[n])){e=!1;break}if(e)return fI([t]);for(var r=[],n=0;n<t.length;++n)vt(t[n])?r.push([t[n]]):r.push(t[n]);return r}function hI(t){if(!t||t.length===0)return[[0,0]];if(He(t)){var e=Math.ceil(t);return[[e,e]]}for(var n=!0,r=0;r<t.length;++r)if(!He(t[r])){n=!1;break}if(n)return hI([t]);for(var i=[],r=0;r<t.length;++r)if(He(t[r])){var e=Math.ceil(t[r]);i.push([e,e])}else{var e=yt(t[r],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function $X(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(He(t)){var e=Math.ceil(t);return[e,e]}var n=yt(t,function(r){return Math.ceil(r)});return t.length%2?n.concat(n):n}function GX(t){return yt(t,function(e){return dI(e)})}function dI(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2===1?e*2:e}function WX(t,e){t.eachRawSeries(function(n){if(!t.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(o){var s=r.getItemVisual(o,"decal");if(s){var l=r.ensureUniqueItemVisual(o,"style");l.decal=kb(s,e)}});var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=kb(i,e)}}})}var di=new Ra,pI={};function HX(t,e){pI[t]=e}function YX(t){return pI[t]}var VX=1,XX=800,UX=900,qX=1e3,ZX=2e3,KX=5e3,vI=1e3,QX=1100,P2=2e3,gI=3e3,JX=4e3,l0=4500,tU=4600,eU=5e3,nU=6e3,yI=7e3,rU={PROCESSOR:{FILTER:qX,SERIES_FILTER:XX,STATISTIC:KX},VISUAL:{LAYOUT:vI,PROGRESSIVE_LAYOUT:QX,GLOBAL:P2,CHART:gI,POST_CHART_LAYOUT:tU,COMPONENT:JX,BRUSH:eU,CHART_ITEM:l0,ARIA:nU,DECAL:yI}},Cn="__flagInMainProcess",nr="__pendingUpdate",fm="__needsUpdateStatus",XT=/^[a-zA-Z0-9_]+$/,hm="__connectUpdateStatus",UT=0,iU=1,aU=2;function mI(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.isDisposed()){this.id;return}return xI(this,t,e)}}function bI(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return xI(this,t,e)}}function xI(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),Ra.prototype[e].apply(t,n)}var _I=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ra),wI=_I.prototype;wI.on=bI("on");wI.off=bI("off");var yl,dm,Fd,Wa,pm,vm,gm,gu,yu,qT,ZT,ym,KT,jd,QT,SI,kr,JT,OI=function(t){it(e,t);function e(n,r,i){var a=t.call(this,new cX)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},vt(r)&&(r=MI[r]),a._dom=n;var o="canvas",s="auto",l=!1;i.ssr&&vG(function(h){var d=se(h),p=d.dataIndex;if(p!=null){var v=jt();return v.set("series_index",d.seriesIndex),v.set("data_index",p),d.ssrType&&v.set("ssr_type",d.ssrType),v}});var c=a._zr=tM(n,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Pt(i.useDirtyRect,l),useCoarsePointer:Pt(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=T2(Ge(c.flush,c),17),r=Yt(r),r&&N5(r,!0),a._theme=r,a._locale=yY(i.locale||v5),a._coordSysMgr=new w2;var u=a._api=QT(a);function f(h,d){return h.__prio-d.__prio}return Wp(Iv,f),Wp(Lb,f),a._scheduler=new iI(a,u,Lb,Iv),a._messageCenter=new _I,a._initEvents(),a.resize=Ge(a.resize,a),c.animation.on("frame",a._onframe,a),qT(c,a),ZT(c,a),W1(a),a}return e.prototype._onframe=function(){if(!this._disposed){JT(this);var n=this._scheduler;if(this[nr]){var r=this[nr].silent;this[Cn]=!0;try{yl(this),Wa.update.call(this,null,this[nr].updateParams)}catch(l){throw this[Cn]=!1,this[nr]=null,l}this._zr.flush(),this[Cn]=!1,this[nr]=null,gu.call(this,r),yu.call(this,r)}else if(n.unfinished){var i=VX,a=this._model,o=this._api;n.unfinished=!1;do{var s=+new Date;n.performSeriesTasks(a),n.performDataProcessorTasks(a),vm(this,a),n.performVisualTasks(a),jd(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&n.unfinished);n.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(n,r,i){if(!this[Cn]){if(this._disposed){this.id;return}var a,o,s;if(Mt(r)&&(i=r.lazyUpdate,a=r.silent,o=r.replaceMerge,s=r.transition,r=r.notMerge),this[Cn]=!0,!this._model||r){var l=new HY(this._api),c=this._theme,u=this._model=new _2;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(n,{replaceMerge:o},Db);var f={seriesTransition:s,optionChanged:!0};if(i)this[nr]={silent:a,updateParams:f},this[Cn]=!1,this.getZr().wakeUp();else{try{yl(this),Wa.update.call(this,null,f)}catch(h){throw this[nr]=null,this[Cn]=!1,h}this._ssr||this._zr.flush(),this[nr]=null,this[Cn]=!1,gu.call(this,a),yu.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||kt.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},e.prototype.renderToCanvas=function(n){n=n||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(n){n=n||{};var r=this._zr.painter;return r.renderToString({useViewBox:n.useViewBox})},e.prototype.getSvgDataURL=function(){if(kt.svgSupported){var n=this._zr,r=n.storage.getDisplayList();return $(r,function(i){i.stopAnimation(null,!0)}),n.painter.toDataURL()}},e.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var r=n.excludeComponents,i=this._model,a=[],o=this;$(r,function(l){i.eachComponent({mainType:l},function(c){var u=o._componentsMap[c.__viewId];u.group.ignore||(a.push(u),u.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return $(a,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var r=n.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(tA[i]){var l=s,c=s,u=-s,f=-s,h=[],d=n&&n.pixelRatio||this.getDevicePixelRatio();$(mf,function(b,x){if(b.group===i){var _=r?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(Yt(n)),w=b.getDom().getBoundingClientRect();l=a(w.left,l),c=a(w.top,c),u=o(w.right,u),f=o(w.bottom,f),h.push({dom:_,left:w.left,top:w.top})}}),l*=d,c*=d,u*=d,f*=d;var p=u-l,v=f-c,g=kh.createCanvas(),y=tM(g,{renderer:r?"svg":"canvas"});if(y.resize({width:p,height:v}),r){var m="";return $(h,function(b){var x=b.left-l,_=b.top-c;m+='<g transform="translate('+x+","+_+')">'+b.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=m,n.connectedBackgroundColor&&y.painter.setBackgroundColor(n.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}else return n.connectedBackgroundColor&&y.add(new ln({shape:{x:0,y:0,width:p,height:v},style:{fill:n.connectedBackgroundColor}})),$(h,function(b){var x=new Na({style:{x:b.left*d-l,y:b.top*d-c,image:b.dom}});y.add(x)}),y.refreshImmediately(),g.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},e.prototype.convertToPixel=function(n,r){return pm(this,"convertToPixel",n,r)},e.prototype.convertFromPixel=function(n,r){return pm(this,"convertFromPixel",n,r)},e.prototype.containPixel=function(n,r){if(this._disposed){this.id;return}var i=this._model,a,o=By(i,n);return $(o,function(s,l){l.indexOf("Models")>=0&&$(s,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)a=a||!!u.containPoint(r);else if(l==="seriesModels"){var f=this._chartsMap[c.__viewId];f&&f.containPoint&&(a=a||f.containPoint(r,c))}},this)},this),!!a},e.prototype.getVisual=function(n,r){var i=this._model,a=By(i,n,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return l!=null?hX(s,l,r):dX(s,r)},e.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},e.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},e.prototype._initEvents=function(){var n=this;$(oU,function(r){var i=function(a){var o=n.getModel(),s=a.target,l,c=r==="globalout";if(c?l={}:s&&$u(s,function(p){var v=se(p);if(v&&v.dataIndex!=null){var g=v.dataModel||o.getSeriesByIndex(v.seriesIndex);return l=g&&g.getDataParams(v.dataIndex,v.dataType,s)||{},!0}else if(v.eventData)return l=lt({},v.eventData),!0},!0),l){var u=l.componentType,f=l.componentIndex;(u==="markLine"||u==="markPoint"||u==="markArea")&&(u="series",f=l.seriesIndex);var h=u&&f!=null&&o.getComponent(u,f),d=h&&n[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];l.event=a,l.type=r,n._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:h,view:d},n.trigger(r,l)}};i.zrEventfulCallAtLast=!0,n._zr.on(r,i,n)}),$(yf,function(r,i){n._messageCenter.on(i,function(a){this.trigger(i,a)},n)}),$(["selectchanged"],function(r){n._messageCenter.on(r,function(i){this.trigger(r,i)},n)}),pX(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&CD(this.getDom(),k2,"");var r=this,i=r._api,a=r._model;$(r._componentsViews,function(o){o.dispose(a,i)}),$(r._chartsViews,function(o){o.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete mf[r.id]},e.prototype.resize=function(n){if(!this[Cn]){if(this._disposed){this.id;return}this._zr.resize(n);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),a=n&&n.silent;this[nr]&&(a==null&&(a=this[nr].silent),i=!0,this[nr]=null),this[Cn]=!0;try{i&&yl(this),Wa.update.call(this,{type:"resize",animation:lt({duration:0},n&&n.animation)})}catch(o){throw this[Cn]=!1,o}this[Cn]=!1,gu.call(this,a),yu.call(this,a)}}},e.prototype.showLoading=function(n,r){if(this._disposed){this.id;return}if(Mt(n)&&(r=n,n=""),n=n||"default",this.hideLoading(),!!Ib[n]){var i=Ib[n](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(n){var r=lt({},n);return r.type=yf[n.type],r},e.prototype.dispatchAction=function(n,r){if(this._disposed){this.id;return}if(Mt(r)||(r={silent:!!r}),!!Dv[n.type]&&this._model){if(this[Cn]){this._pendingActions.push(n);return}var i=r.silent;gm.call(this,n,i);var a=r.flush;a?this._zr.flush():a!==!1&&kt.browser.weChat&&this._throttledZrFlush(),gu.call(this,i),yu.call(this,i)}},e.prototype.updateLabelLayout=function(){di.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(n){if(this._disposed){this.id;return}var r=n.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(r);a.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){yl=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),dm(f,!0),dm(f,!1),h.plan()},dm=function(f,h){for(var d=f._model,p=f._scheduler,v=h?f._componentsViews:f._chartsViews,g=h?f._componentsMap:f._chartsMap,y=f._zr,m=f._api,b=0;b<v.length;b++)v[b].__alive=!1;h?d.eachComponent(function(w,S){w!=="series"&&x(S)}):d.eachSeries(x);function x(w){var S=w.__requireNewView;w.__requireNewView=!1;var O="_ec_"+w.id+"_"+w.type,M=!S&&g[O];if(!M){var T=ji(w.type),A=h?_i.getClass(T.main,T.sub):ho.getClass(T.sub);M=new A,M.init(d,m),g[O]=M,v.push(M),y.add(M.group)}w.__viewId=M.__id=O,M.__alive=!0,M.__model=w,M.group.__ecComponentInfo={mainType:w.mainType,index:w.componentIndex},!h&&p.prepareView(M,w,d,m)}for(var b=0;b<v.length;){var _=v[b];_.__alive?b++:(!h&&_.renderTask.dispose(),y.remove(_.group),_.dispose(d,m),v.splice(b,1),g[_.__id]===_&&delete g[_.__id],_.__id=_.group.__ecComponentInfo=null)}},Fd=function(f,h,d,p,v){var g=f._model;if(g.setUpdatePayload(d),!p){$([].concat(f._componentsViews).concat(f._chartsViews),_);return}var y={};y[p+"Id"]=d[p+"Id"],y[p+"Index"]=d[p+"Index"],y[p+"Name"]=d[p+"Name"];var m={mainType:p,query:y};v&&(m.subType=v);var b=d.excludeSeriesId,x;b!=null&&(x=jt(),$(qn(b),function(w){var S=Hi(w,null);S!=null&&x.set(S,!0)})),g&&g.eachComponent(m,function(w){var S=x&&x.get(w.id)!=null;if(!S)if(CM(d))if(w instanceof Pa)d.type===Ts&&!d.notBlur&&!w.get(["emphasis","disabled"])&&YW(w,d,f._api);else{var O=e2(w.mainType,w.componentIndex,d.name,f._api),M=O.focusSelf,T=O.dispatchers;d.type===Ts&&M&&!d.notBlur&&pb(w.mainType,w.componentIndex,f._api),T&&$(T,function(A){d.type===Ts?fb(A):hb(A)})}else yb(d)&&w instanceof Pa&&(UW(w,d,f._api),EM(w),kr(f))},f),g&&g.eachComponent(m,function(w){var S=x&&x.get(w.id)!=null;S||_(f[p==="series"?"_chartsMap":"_componentsMap"][w.__viewId])},f);function _(w){w&&w.__alive&&w[h]&&w[h](w.__model,g,f._api,d)}},Wa={prepareAndUpdate:function(f){yl(this),Wa.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,h){var d=this._model,p=this._api,v=this._zr,g=this._coordSysMgr,y=this._scheduler;if(d){d.setUpdatePayload(f),y.restoreData(d,f),y.performSeriesTasks(d),g.create(d,p),y.performDataProcessorTasks(d,f),vm(this,d),g.update(d,p),n(d),y.performVisualTasks(d,f),ym(this,d,p,f,h);var m=d.get("backgroundColor")||"transparent",b=d.get("darkMode");v.setBackgroundColor(m),b!=null&&b!=="auto"&&v.setDarkMode(b),di.trigger("afterupdate",d,p)}},updateTransform:function(f){var h=this,d=this._model,p=this._api;if(d){d.setUpdatePayload(f);var v=[];d.eachComponent(function(y,m){if(y!=="series"){var b=h.getViewOfComponentModel(m);if(b&&b.__alive)if(b.updateTransform){var x=b.updateTransform(m,d,p,f);x&&x.update&&v.push(b)}else v.push(b)}});var g=jt();d.eachSeries(function(y){var m=h._chartsMap[y.__viewId];if(m.updateTransform){var b=m.updateTransform(y,d,p,f);b&&b.update&&g.set(y.uid,1)}else g.set(y.uid,1)}),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0,dirtyMap:g}),jd(this,d,p,f,{},g),di.trigger("afterupdate",d,p)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),ho.markUpdateMethod(f,"updateView"),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),ym(this,h,this._api,f,{}),di.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,d=this._model;d&&(d.setUpdatePayload(f),d.eachSeries(function(p){p.getData().clearAllVisual()}),ho.markUpdateMethod(f,"updateVisual"),n(d),this._scheduler.performVisualTasks(d,f,{visualType:"visual",setDirty:!0}),d.eachComponent(function(p,v){if(p!=="series"){var g=h.getViewOfComponentModel(v);g&&g.__alive&&g.updateVisual(v,d,h._api,f)}}),d.eachSeries(function(p){var v=h._chartsMap[p.__viewId];v.updateVisual(p,d,h._api,f)}),di.trigger("afterupdate",d,this._api))},updateLayout:function(f){Wa.update.call(this,f)}},pm=function(f,h,d,p){if(f._disposed){f.id;return}for(var v=f._model,g=f._coordSysMgr.getCoordinateSystems(),y,m=By(v,d),b=0;b<g.length;b++){var x=g[b];if(x[h]&&(y=x[h](v,m,p))!=null)return y}},vm=function(f,h){var d=f._chartsMap,p=f._scheduler;h.eachSeries(function(v){p.updateStreamModes(v,d[v.__viewId])})},gm=function(f,h){var d=this,p=this.getModel(),v=f.type,g=f.escapeConnect,y=Dv[v],m=y.actionInfo,b=(m.update||"update").split(":"),x=b.pop(),_=b[0]!=null&&ji(b[0]);this[Cn]=!0;var w=[f],S=!1;f.batch&&(S=!0,w=yt(f.batch,function(C){return C=_e(lt({},C),f),C.batch=null,C}));var O=[],M,T=yb(f),A=CM(f);if(A&&ZD(this._api),$(w,function(C){if(M=y.action(C,d._model,d._api),M=M||lt({},C),M.type=m.event||M.type,O.push(M),A){var k=U_(f),L=k.queryOptionMap,R=k.mainTypeSpecified,D=R?L.keys()[0]:"series";Fd(d,x,C,D),kr(d)}else T?(Fd(d,x,C,"series"),kr(d)):_&&Fd(d,x,C,_.main,_.sub)}),x!=="none"&&!A&&!T&&!_)try{this[nr]?(yl(this),Wa.update.call(this,f),this[nr]=null):Wa[x].call(this,f)}catch(C){throw this[Cn]=!1,C}if(S?M={type:m.event||v,escapeConnect:g,batch:O}:M=O[0],this[Cn]=!1,!h){var P=this._messageCenter;if(P.trigger(M.type,M),T){var E={type:"selectchanged",escapeConnect:g,selected:qW(p),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};P.trigger(E.type,E)}}},gu=function(f){for(var h=this._pendingActions;h.length;){var d=h.shift();gm.call(this,d,f)}},yu=function(f){!f&&this.trigger("updated")},qT=function(f,h){f.on("rendered",function(d){h.trigger("rendered",d),f.animation.isFinished()&&!h[nr]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},ZT=function(f,h){f.on("mouseover",function(d){var p=d.target,v=$u(p,gb);v&&(VW(v,d,h._api),kr(h))}).on("mouseout",function(d){var p=d.target,v=$u(p,gb);v&&(XW(v,d,h._api),kr(h))}).on("click",function(d){var p=d.target,v=$u(p,function(m){return se(m).dataIndex!=null},!0);if(v){var g=v.selected?"unselect":"select",y=se(v);h._api.dispatchAction({type:g,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function r(f){var h=[],d=[],p=!1;if(f.eachComponent(function(m,b){var x=b.get("zlevel")||0,_=b.get("z")||0,w=b.getZLevelKey();p=p||!!w,(m==="series"?d:h).push({zlevel:x,z:_,idx:b.componentIndex,type:m,key:w})}),p){var v=h.concat(d),g,y;Wp(v,function(m,b){return m.zlevel===b.zlevel?m.z-b.z:m.zlevel-b.zlevel}),$(v,function(m){var b=f.getComponent(m.type,m.idx),x=m.zlevel,_=m.key;g!=null&&(x=Math.max(g,x)),_?(x===g&&_!==y&&x++,y=_):y&&(x===g&&x++,y=""),g=x,b.setZLevel(x)})}}ym=function(f,h,d,p,v){r(h),KT(f,h,d,p,v),$(f._chartsViews,function(g){g.__alive=!1}),jd(f,h,d,p,v),$(f._chartsViews,function(g){g.__alive||g.remove(h,d)})},KT=function(f,h,d,p,v,g){$(g||f._componentsViews,function(y){var m=y.__model;c(m,y),y.render(m,h,d,p),s(m,y),u(m,y)})},jd=function(f,h,d,p,v,g){var y=f._scheduler;v=lt(v||{},{updatedSeries:h.getSeries()}),di.trigger("series:beforeupdate",h,d,v);var m=!1;h.eachSeries(function(b){var x=f._chartsMap[b.__viewId];x.__alive=!0;var _=x.renderTask;y.updatePayload(_,p),c(b,x),g&&g.get(b.uid)&&_.dirty(),_.perform(y.getPerformArgs(_))&&(m=!0),x.group.silent=!!b.get("silent"),o(b,x),EM(b)}),y.unfinished=m||y.unfinished,di.trigger("series:layoutlabels",h,d,v),di.trigger("series:transition",h,d,v),h.eachSeries(function(b){var x=f._chartsMap[b.__viewId];s(b,x),u(b,x)}),a(f,h),di.trigger("series:afterupdate",h,d,v)},kr=function(f){f[fm]=!0,f.getZr().wakeUp()},JT=function(f){f[fm]&&(f.getZr().storage.traverse(function(h){df(h)||i(h)}),f[fm]=!1)};function i(f){for(var h=[],d=f.currentStates,p=0;p<d.length;p++){var v=d[p];v==="emphasis"||v==="blur"||v==="select"||h.push(v)}f.selected&&f.states.select&&h.push("select"),f.hoverState===J_&&f.states.emphasis?h.push("emphasis"):f.hoverState===Q_&&f.states.blur&&h.push("blur"),f.useStates(h)}function a(f,h){var d=f._zr,p=d.storage,v=0;p.traverse(function(g){g.isGroup||v++}),v>h.get("hoverLayerThreshold")&&!kt.node&&!kt.worker&&h.eachSeries(function(g){if(!g.preventUsingHoverLayer){var y=f._chartsMap[g.__viewId];y.__alive&&y.eachRendered(function(m){m.states.emphasis&&(m.states.emphasis.hoverLayer=!0)})}})}function o(f,h){var d=f.get("blendMode")||null;h.eachRendered(function(p){p.isGroup||(p.style.blend=d)})}function s(f,h){if(!f.preventAutoZ){var d=f.get("z")||0,p=f.get("zlevel")||0;h.eachRendered(function(v){return l(v,d,p,-1/0),!0})}}function l(f,h,d,p){var v=f.getTextContent(),g=f.getTextGuideLine(),y=f.isGroup;if(y)for(var m=f.childrenRef(),b=0;b<m.length;b++)p=Math.max(l(m[b],h,d,p),p);else f.z=h,f.zlevel=d,p=Math.max(f.z2,p);if(v&&(v.z=h,v.zlevel=d,isFinite(p)&&(v.z2=p+2)),g){var x=f.textGuideLineConfig;g.z=h,g.zlevel=d,isFinite(p)&&(g.z2=p+(x&&x.showAbove?1:-1))}return p}function c(f,h){h.eachRendered(function(d){if(!df(d)){var p=d.getTextContent(),v=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function u(f,h){var d=f.getModel("stateAnimation"),p=f.isAnimationEnabled(),v=d.get("duration"),g=v>0?{duration:v,delay:d.get("delay"),easing:d.get("easing")}:null;h.eachRendered(function(y){if(y.states&&y.states.emphasis){if(df(y))return;if(y instanceof ve&&nH(y),y.__dirty){var m=y.prevStates;m&&y.useStates(m)}if(p){y.stateTransition=g;var b=y.getTextContent(),x=y.getTextGuideLine();b&&(b.stateTransition=g),x&&(x.stateTransition=g)}y.__dirty&&i(y)}})}QT=function(f){return new(function(h){it(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(p){for(;p;){var v=p.__ecComponentInfo;if(v!=null)return f._model.getComponent(v.mainType,v.index);p=p.parent}},d.prototype.enterEmphasis=function(p,v){fb(p,v),kr(f)},d.prototype.leaveEmphasis=function(p,v){hb(p,v),kr(f)},d.prototype.enterBlur=function(p){HW(p),kr(f)},d.prototype.leaveBlur=function(p){VD(p),kr(f)},d.prototype.enterSelect=function(p){XD(p),kr(f)},d.prototype.leaveSelect=function(p){UD(p),kr(f)},d.prototype.getModel=function(){return f.getModel()},d.prototype.getViewOfComponentModel=function(p){return f.getViewOfComponentModel(p)},d.prototype.getViewOfSeriesModel=function(p){return f.getViewOfSeriesModel(p)},d}(I5))(f)},SI=function(f){function h(d,p){for(var v=0;v<d.length;v++){var g=d[v];g[hm]=p}}$(yf,function(d,p){f._messageCenter.on(p,function(v){if(tA[f.group]&&f[hm]!==UT){if(v&&v.escapeConnect)return;var g=f.makeActionFromEvent(v),y=[];$(mf,function(m){m!==f&&m.group===f.group&&y.push(m)}),h(y,UT),$(y,function(m){m[hm]!==iU&&m.dispatchAction(g)}),h(y,aU)}})})}}(),e}(Ra),C2=OI.prototype;C2.on=mI("on");C2.off=mI("off");C2.one=function(t,e,n){var r=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),r.off(t,i)}this.on.call(this,t,i,n)};var oU=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var Dv={},yf={},Lb=[],Db=[],Iv=[],MI={},Ib={},mf={},tA={},sU=+new Date-0,k2="_echarts_instance_";function lU(t,e,n){{var r=cU(t);if(r)return r}var i=new OI(t,e,n);return i.id="ec_"+sU++,mf[i.id]=i,CD(t,k2,i.id),SI(i),di.trigger("afterinit",i),i}function cU(t){return mf[RG(t,k2)]}function TI(t,e){MI[t]=e}function AI(t){be(Db,t)<0&&Db.push(t)}function EI(t,e){D2(Lb,t,e,ZX)}function uU(t){L2("afterinit",t)}function fU(t){L2("afterupdate",t)}function L2(t,e){di.on(t,e)}function $c(t,e,n){zt(e)&&(n=e,e="");var r=Mt(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,!yf[e]&&(xi(XT.test(r)&&XT.test(e)),Dv[r]||(Dv[r]={action:n,actionInfo:t}),yf[e]=r)}function hU(t,e){w2.register(t,e)}function dU(t,e){D2(Iv,t,e,vI,"layout")}function Xs(t,e){D2(Iv,t,e,gI,"visual")}var eA=[];function D2(t,e,n,r,i){if((zt(e)||Mt(e))&&(n=e,e=r),!(be(eA,n)>=0)){eA.push(n);var a=iI.wrapStageHandler(n,i);a.__prio=e,a.__raw=n,t.push(a)}}function PI(t,e){Ib[t]=e}function pU(t,e,n){var r=YX("registerMap");r&&r(t,e,n)}var vU=xV;Xs(P2,qV);Xs(l0,ZV);Xs(l0,KV);Xs(P2,uX);Xs(l0,fX);Xs(yI,WX);AI(N5);EI(UX,nV);PI("default",QV);$c({type:Ts,event:Ts,update:Ts},Un);$c({type:qp,event:qp,update:qp},Un);$c({type:uf,event:uf,update:uf},Un);$c({type:Zp,event:Zp,update:Zp},Un);$c({type:ff,event:ff,update:ff},Un);TI("light",lX);TI("dark",lI);function mu(t){return t==null?0:t.length||1}function nA(t){return t}var gU=function(){function t(e,n,r,i,a,o){this._old=e,this._new=n,this._oldKeyGetter=r||nA,this._newKeyGetter=i||nA,this.context=a,this._diffModeMultiple=o==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,n=this._new,r={},i=new Array(e.length),a=new Array(n.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(n,r,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],l=r[s],c=mu(l);if(c>1){var u=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(u,o)}else c===1?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,r)},t.prototype._executeMultiple=function(){var e=this._old,n=this._new,r={},i={},a=[],o=[];this._initIndexMap(e,r,a,"_oldKeyGetter"),this._initIndexMap(n,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],c=r[l],u=i[l],f=mu(c),h=mu(u);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(u,c),i[l]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(u,c),i[l]=null;else if(f===1&&h===1)this._update&&this._update(u,c),i[l]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(u,c),i[l]=null;else if(f>1)for(var d=0;d<f;d++)this._remove&&this._remove(c[d]);else this._remove&&this._remove(c)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(e,n){for(var r=0;r<e.length;r++){var i=e[r],a=n[i],o=mu(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);n[i]=null}},t.prototype._initIndexMap=function(e,n,r,i){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(a||(r[o]=s),!!n){var l=n[s],c=mu(l);c===0?(n[s]=o,a&&r.push(s)):c===1?n[s]=[l,o]:l.push(o)}}},t}(),yU=function(){function t(e,n){this._encode=e,this._schema=n}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function mU(t,e){var n={},r=n.encode={},i=jt(),a=[],o=[],s={};$(t.dimensions,function(h){var d=t.getDimensionInfo(h),p=d.coordDim;if(p){var v=d.coordDimIndex;mm(r,p)[v]=h,d.isExtraCoord||(i.set(p,1),xU(d.type)&&(a[0]=h),mm(s,p)[v]=t.getDimensionIndex(d.name)),d.defaultTooltip&&o.push(h)}P5.each(function(g,y){var m=mm(r,y),b=d.otherDims[y];b!=null&&b!==!1&&(m[b]=d.name)})});var l=[],c={};i.each(function(h,d){var p=r[d];c[d]=p[0],l=l.concat(p)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=yt(l,function(h){return t.getDimensionInfo(h).storeDimIndex}),n.encodeFirstDimNotExtra=c;var u=r.label;u&&u.length&&(a=u.slice());var f=r.tooltip;return f&&f.length?o=f.slice():o.length||(o=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=o,n.userOutput=new yU(s,e),n}function mm(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function bU(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function xU(t){return!(t==="ordinal"||t==="time")}var tv=function(){function t(e){this.otherDims={},e!=null&&lt(this,e)}return t}(),_U=hn(),wU={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},CI=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=DI(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return Pt(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var n=this.source.dimensionsDefine;if(n)return n[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,n=j5(this.source),r=!II(e),i="",a=[],o=0,s=0;o<e;o++){var l=void 0,c=void 0,u=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=n?f.name:null,c=f.type,u=f.ordinalMeta,s++;else{var h=this.getSourceDimension(o);h&&(l=n?h.name:null,c=h.type)}a.push({property:l,type:c,ordinalMeta:u}),n&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=wU[c]||"f",u&&(i+=u.uid),i+="$"}var d=this.source,p=[d.seriesLayoutBy,d.startIndex,i].join("$$");return{dimensions:a,hash:p}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],n=0,r=0;n<this._fullDimCount;n++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===n)a.isCalculationCoord||(i=a.name),r++;else{var o=this.getSourceDimension(n);o&&(i=o.name)}e.push(i)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function kI(t){return t instanceof CI}function LI(t){for(var e=jt(),n=0;n<(t||[]).length;n++){var r=t[n],i=Mt(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,n)}return e}function DI(t){var e=_U(t);return e.dimNameMap||(e.dimNameMap=LI(t.dimensionsDefine))}function II(t){return t>30}var bu=Mt,Ha=yt,SU=typeof Int32Array>"u"?Array:Int32Array,OU="e\0\0",rA=-1,MU=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],TU=["_approximateExtent"],iA,zd,xu,_u,bm,$d,xm,AU=function(){function t(e,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;kI(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var a={},o=[],s={},l=!1,c={},u=0;u<r.length;u++){var f=r[u],h=vt(f)?new tv({name:f}):f instanceof tv?f:new tv(f),d=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0);var p=h.otherDims=h.otherDims||{};o.push(d),a[d]=h,c[d]!=null&&(l=!0),h.createInvertedIndices&&(s[d]=[]),p.itemName===0&&(this._nameDimIdx=u),p.itemId===0&&(this._idDimIdx=u),i&&(h.storeDimIndex=u)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=s,this._dimOmitted){var v=this._dimIdxToName=jt();$(o,function(g){v.set(a[g].storeDimIndex,g)})}}return t.prototype.getDimension=function(e){var n=this._recognizeDimIndex(e);if(n==null)return e;if(n=e,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var i=this._schema.getSourceDimension(n);if(i)return i.name},t.prototype.getDimensionIndex=function(e){var n=this._recognizeDimIndex(e);if(n!=null)return n;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(He(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var n=this.getDimensionIndex(e);return n},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var n=this._dimInfos;this._getDimInfo=e?function(r){return n.hasOwnProperty(r)?n[r]:void 0}:function(r){return n[r]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[n]:null},t.prototype.mapDimensionsAll=function(e){var n=this._dimSummary,r=n.encode[e];return(r||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,n,r){var i=this,a;if(e instanceof Sb&&(a=e),!a){var o=this.dimensions,s=S2(e)||vr(e)?new z5(e,o.length):e;a=new Sb;var l=Ha(o,function(c){return{type:i._dimInfos[c].type,property:c}});a.initData(s,l,r)}this._store=a,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=mU(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var n=this._store.appendData(e);this._doInit(n[0],n[1])},t.prototype.appendValues=function(e,n){var r=this._store.appendValues(e,n.length),i=r.start,a=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var s=i;s<a;s++){var l=s-i;this._nameList[s]=n[l],o&&xm(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,n=this.dimensions,r=0;r<n.length;r++){var i=this._dimInfos[n[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==fo&&!e.fillStorage},t.prototype._doInit=function(e,n){if(!(e>=n)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,l=s===ri;if(l&&!i.pure)for(var c=[],u=e;u<n;u++){var f=i.getItem(u,c);if(!this.hasItemOption&&OG(f)&&(this.hasItemOption=!0),f){var h=f.name;a[u]==null&&h!=null&&(a[u]=Hi(h,null));var d=f.id;o[u]==null&&d!=null&&(o[u]=Hi(d,null))}}if(this._shouldMakeIdFromName())for(var u=e;u<n;u++)xm(this,u);iA(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,n){n=this.getDimension(n),this._approximateExtent[n]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,n){bu(e)?lt(this._calculationInfo,e):this._calculationInfo[e]=n},t.prototype.getName=function(e){var n=this.getRawIndex(e),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=xu(this,this._nameDimIdx,n)),r==null&&(r=""),r},t.prototype._getCategory=function(e,n){var r=this._store.get(e,n),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},t.prototype.getId=function(e){return zd(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,n){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,n)},t.prototype.getByRawIndex=function(e,n){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,n)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,n){var r=this,i=this._store;return ht(e)?i.getValues(Ha(e,function(a){return r._getStoreDimIndex(a)}),n):i.getValues(e)},t.prototype.hasValue=function(e){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,i=n.length;r<i;r++)if(isNaN(this._store.get(n[r],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===e)return n;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,n){var r=e&&this._invertedIndicesMap[e],i=r[n];return i==null||isNaN(i)?rA:i},t.prototype.indicesOfNearest=function(e,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),n,r)},t.prototype.each=function(e,n,r){zt(e)&&(r=n,n=e,e=[]);var i=r||this,a=Ha(_u(e),this._getStoreDimIndex,this);this._store.each(a,i?Ge(n,i):n)},t.prototype.filterSelf=function(e,n,r){zt(e)&&(r=n,n=e,e=[]);var i=r||this,a=Ha(_u(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Ge(n,i):n),this},t.prototype.selectRange=function(e){var n=this,r={},i=Ut(e);return $(i,function(a){var o=n._getStoreDimIndex(a);r[o]=e[a]}),this._store=this._store.selectRange(r),this},t.prototype.mapArray=function(e,n,r){zt(e)&&(r=n,n=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(n&&n.apply(this,arguments))},r),i},t.prototype.map=function(e,n,r,i){var a=r||i||this,o=Ha(_u(e),this._getStoreDimIndex,this),s=$d(this);return s._store=this._store.map(o,a?Ge(n,a):n),s},t.prototype.modify=function(e,n,r,i){var a=r||i||this,o=Ha(_u(e),this._getStoreDimIndex,this);this._store.modify(o,a?Ge(n,a):n)},t.prototype.downSample=function(e,n,r,i){var a=$d(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),n,r,i),a},t.prototype.lttbDownSample=function(e,n){var r=$d(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),n),r},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var n=this.hostModel,r=this.getRawDataItem(e);return new Qe(r,n,n&&n.ecModel)},t.prototype.diff=function(e){var n=this;return new gU(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return zd(e,r)},function(r){return zd(n,r)})},t.prototype.getVisual=function(e){var n=this._visual;return n&&n[e]},t.prototype.setVisual=function(e,n){this._visual=this._visual||{},bu(e)?lt(this._visual,e):this._visual[e]=n},t.prototype.getItemVisual=function(e,n){var r=this._itemVisuals[e],i=r&&r[n];return i??this.getVisual(n)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,n){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var a=i[n];return a==null&&(a=this.getVisual(n),ht(a)?a=a.slice():bu(a)&&(a=lt({},a)),i[n]=a),a},t.prototype.setItemVisual=function(e,n,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,bu(n)?lt(i,n):i[n]=r},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,n){bu(e)?lt(this._layout,e):this._layout[e]=n},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,n,r){this._itemLayouts[e]=r?lt(this._itemLayouts[e]||{},n):n},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,n){var r=this.hostModel&&this.hostModel.seriesIndex;IW(r,this.dataType,e,n),this._graphicEls[e]=n},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,n){$(this._graphicEls,function(r,i){r&&e&&e.call(n,r,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:Ha(this.dimensions,this._getDimInfo,this),this.hostModel)),bm(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,n){var r=this[e];zt(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return n.apply(this,[i].concat(R_(arguments)))})},t.internalField=function(){iA=function(e){var n=e._invertedIndicesMap;$(n,function(r,i){var a=e._dimInfos[i],o=a.ordinalMeta,s=e._store;if(o){r=n[i]=new SU(o.categories.length);for(var l=0;l<r.length;l++)r[l]=rA;for(var l=0;l<s.count();l++)r[s.get(a.storeDimIndex,l)]=l}})},xu=function(e,n,r){return Hi(e._getCategory(n,r),null)},zd=function(e,n){var r=e._idList[n];return r==null&&e._idDimIdx!=null&&(r=xu(e,e._idDimIdx,n)),r==null&&(r=OU+n),r},_u=function(e){return ht(e)||(e=e!=null?[e]:[]),e},$d=function(e){var n=new t(e._schema?e._schema:Ha(e.dimensions,e._getDimInfo,e),e.hostModel);return bm(n,e),n},bm=function(e,n){$(MU.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(e[r]=n[r])}),e.__wrappedMethods=n.__wrappedMethods,$(TU,function(r){e[r]=Yt(n[r])}),e._calculationInfo=lt({},n._calculationInfo)},xm=function(e,n){var r=e._nameList,i=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=r[n],l=i[n];if(s==null&&a!=null&&(r[n]=s=xu(e,a,n)),l==null&&o!=null&&(i[n]=l=xu(e,o,n)),l==null&&s!=null){var c=e._nameRepeatCount,u=c[s]=(c[s]||0)+1;l=s,u>1&&(l+="__ec__"+u),i[n]=l}}}(),t}();function EU(t,e){S2(t)||(t=B5(t)),e=e||{};var n=e.coordDimensions||[],r=e.dimensionsDefine||t.dimensionsDefine||[],i=jt(),a=[],o=CU(t,n,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&II(o),l=r===t.dimensionsDefine,c=l?DI(t):LI(r),u=e.encodeDefine;!u&&e.encodeDefaulter&&(u=e.encodeDefaulter(t,o));for(var f=jt(u),h=new Y5(o),d=0;d<h.length;d++)h[d]=-1;function p(M){var T=h[M];if(T<0){var A=r[M],P=Mt(A)?A:{name:A},E=new tv,C=P.name;C!=null&&c.get(C)!=null&&(E.name=E.displayName=C),P.type!=null&&(E.type=P.type),P.displayName!=null&&(E.displayName=P.displayName);var k=a.length;return h[M]=k,E.storeDimIndex=M,a.push(E),E}return a[T]}if(!s)for(var d=0;d<o;d++)p(d);f.each(function(M,T){var A=qn(M).slice();if(A.length===1&&!vt(A[0])&&A[0]<0){f.set(T,!1);return}var P=f.set(T,[]);$(A,function(E,C){var k=vt(E)?c.get(E):E;k!=null&&k<o&&(P[C]=k,g(p(k),T,C))})});var v=0;$(n,function(M){var T,A,P,E;if(vt(M))T=M,E={};else{E=M,T=E.name;var C=E.ordinalMeta;E.ordinalMeta=null,E=lt({},E),E.ordinalMeta=C,A=E.dimsDef,P=E.otherDims,E.name=E.coordDim=E.coordDimIndex=E.dimsDef=E.otherDims=null}var k=f.get(T);if(k!==!1){if(k=qn(k),!k.length)for(var L=0;L<(A&&A.length||1);L++){for(;v<o&&p(v).coordDim!=null;)v++;v<o&&k.push(v++)}$(k,function(R,D){var I=p(R);if(l&&E.type!=null&&(I.type=E.type),g(_e(I,E),T,D),I.name==null&&A){var N=A[D];!Mt(N)&&(N={name:N}),I.name=I.displayName=N.name,I.defaultTooltip=N.defaultTooltip}P&&_e(I.otherDims,P)})}});function g(M,T,A){P5.get(T)!=null?M.otherDims[T]=A:(M.coordDim=T,M.coordDimIndex=A,i.set(T,!0))}var y=e.generateCoord,m=e.generateCoordCount,b=m!=null;m=y?m||1:0;var x=y||"value";function _(M){M.name==null&&(M.name=M.coordDim)}if(s)$(a,function(M){_(M)}),a.sort(function(M,T){return M.storeDimIndex-T.storeDimIndex});else for(var w=0;w<o;w++){var S=p(w),O=S.coordDim;O==null&&(S.coordDim=kU(x,i,b),S.coordDimIndex=0,(!y||m<=0)&&(S.isExtraCoord=!0),m--),_(S),S.type==null&&(D5(t,w)===_r.Must||S.isExtraCoord&&(S.otherDims.itemName!=null||S.otherDims.seriesName!=null))&&(S.type="ordinal")}return PU(a),new CI({source:t,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function PU(t){for(var e=jt(),n=0;n<t.length;n++){var r=t[n],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}function CU(t,e,n,r){var i=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return $(e,function(a){var o;Mt(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function kU(t,e,n){if(n||e.hasKey(t)){for(var r=0;e.hasKey(t+r);)r++;t+=r}return e.set(t,!0),t}var LU=function(){function t(e){this.coordSysDims=[],this.axisMap=jt(),this.categoryAxisMap=jt(),this.coordSysName=e}return t}();function DU(t){var e=t.get("coordinateSystem"),n=new LU(e),r=IU[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}var IU={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis",gi).models[0],a=t.getReferringComponents("yAxis",gi).models[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",a),ml(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),ml(a)&&(r.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis",gi).models[0];e.coordSysDims=["single"],n.set("single",i),ml(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar",gi).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",o),ml(a)&&(r.set("radius",a),e.firstCategoryDimIndex=0),ml(o)&&(r.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();$(a.parallelAxisIndex,function(s,l){var c=i.getComponent("parallelAxis",s),u=o[l];n.set(u,c),ml(c)&&(r.set(u,c),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function ml(t){return t.get("type")==="category"}function RU(t,e,n){n=n||{};var r=n.byIndex,i=n.stackedCoordDimension,a,o,s;NU(e)?a=e:(o=e.schema,a=o.dimensions,s=e.store);var l=!!(t&&t.get("stack")),c,u,f,h;if($(a,function(m,b){vt(m)&&(a[b]=m={name:m}),l&&!m.isExtraCoord&&(!r&&!c&&m.ordinalMeta&&(c=m),!u&&m.type!=="ordinal"&&m.type!=="time"&&(!i||i===m.coordDim)&&(u=m))}),u&&!r&&!c&&(r=!0),u){f="__\0ecstackresult_"+t.id,h="__\0ecstackedover_"+t.id,c&&(c.createInvertedIndices=!0);var d=u.coordDim,p=u.type,v=0;$(a,function(m){m.coordDim===d&&v++});var g={name:f,coordDim:d,coordDimIndex:v,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},y={name:h,coordDim:h,coordDimIndex:v+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(g.storeDimIndex=s.ensureCalculationDimension(h,p),y.storeDimIndex=s.ensureCalculationDimension(f,p)),o.appendCalculationDimension(g),o.appendCalculationDimension(y)):(a.push(g),a.push(y))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:r,stackedOverDimension:h,stackResultDimension:f}}function NU(t){return!kI(t.schema)}function RI(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function BU(t,e){return RI(t,e)?t.getCalculationInfo("stackResultDimension"):e}function FU(t,e){var n=t.get("coordinateSystem"),r=w2.get(n),i;return e&&e.coordSysDims&&(i=yt(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var l=s.get("type");o.type=bU(l)}return o})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function jU(t,e,n){var r,i;return n&&$(t,function(a,o){var s=a.coordDim,l=n.categoryAxisMap.get(s);l&&(r==null&&(r=o),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(t[r].otherDims.itemName=0),r}function NI(t,e,n){n=n||{};var r=e.getSourceManager(),i,a=!1;i=r.getSource(),a=i.sourceFormat===ri;var o=DU(e),s=FU(e,o),l=n.useEncodeDefaulter,c=zt(l)?l:l?un(kY,s,e):null,u={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a},f=EU(i,u),h=jU(f.dimensions,n.createInvertedIndices,o),d=a?null:r.getSharedDataStore(f),p=RU(e,{schema:f,store:d}),v=new AU(f,e);v.setCalculationInfo(p);var g=h!=null&&zU(i)?function(y,m,b,x){return x===h?b:this.defaultDimValueGetter(y,m,b,x)}:null;return v.hasItemOption=!1,v.initData(a?i:d,null,g),v}function zU(t){if(t.sourceFormat===ri){var e=$U(t.data||[]);return!ht(Ih(e))}}function $U(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var na=function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var n=this._extent;e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,n){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(n)||(r[1]=n)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t}();Yg(na);var GU=0,Rb=function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++GU}return t.createByAxisModel=function(e){var n=e.option,r=n.data,i=r&&yt(r,WU);return new t({categories:i,needCollect:!i,deduplication:n.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var n,r=this._needCollect;if(!vt(e)&&!r)return e;if(r&&!this._deduplication)return n=this.categories.length,this.categories[n]=e,n;var i=this._getOrCreateMap();return n=i.get(e),n==null&&(r?(n=this.categories.length,this.categories[n]=e,i.set(e,n)):n=NaN),n},t.prototype._getOrCreateMap=function(){return this._map||(this._map=jt(this.categories))},t}();function WU(t){return Mt(t)&&t.value!=null?t.value:t+""}function Nb(t){return t.type==="interval"||t.type==="log"}function HU(t,e,n,r){var i={},a=t[1]-t[0],o=i.interval=MD(a/e);n!=null&&o<n&&(o=i.interval=n),r!=null&&o>r&&(o=i.interval=r);var s=i.intervalPrecision=BI(o),l=i.niceTickExtent=[gn(Math.ceil(t[0]/o)*o,s),gn(Math.floor(t[1]/o)*o,s)];return YU(l,t),i}function _m(t){var e=Math.pow(10,V_(t)),n=t/e;return n?n===2?n=3:n===3?n=5:n*=2:n=1,gn(n*e)}function BI(t){return Nf(t)+2}function aA(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function YU(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),aA(t,0,e),aA(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function c0(t,e){return t>=e[0]&&t<=e[1]}function u0(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function f0(t,e){return t*(e[1]-e[0])+e[0]}var I2=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new Rb({})),ht(i)&&(i=new Rb({categories:yt(i,function(a){return Mt(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(n){return n==null?NaN:vt(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},e.prototype.contain=function(n){return n=this.parse(n),c0(n,this._extent)&&this._ordinalMeta.categories[n]!=null},e.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),u0(n,this._extent)},e.prototype.scale=function(n){return n=Math.round(f0(n,this._extent)),this.getRawOrdinalNumber(n)},e.prototype.getTicks=function(){for(var n=[],r=this._extent,i=r[0];i<=r[1];)n.push({value:i}),i++;return n},e.prototype.getMinorTicks=function(n){},e.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=n.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var c=r[o];i[o]=c,a[c]=o}for(var u=0;o<s;++o){for(;a[u]!=null;)u++;i.push(u),a[u]=o}},e.prototype._getTickNumber=function(n){var r=this._ticksByOrdinalNumber;return r&&n>=0&&n<r.length?r[n]:n},e.prototype.getRawOrdinalNumber=function(n){var r=this._ordinalNumbersByTick;return r&&n>=0&&n<r.length?r[n]:n},e.prototype.getLabel=function(n){if(!this.isBlank()){var r=this.getRawOrdinalNumber(n.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},e.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(na);na.registerClass(I2);var ss=gn,Gc=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return e.prototype.parse=function(n){return n},e.prototype.contain=function(n){return c0(n,this._extent)},e.prototype.normalize=function(n){return u0(n,this._extent)},e.prototype.scale=function(n){return f0(n,this._extent)},e.prototype.setExtent=function(n,r){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=BI(n)},e.prototype.getTicks=function(n){var r=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;i[0]<a[0]&&(n?s.push({value:ss(a[0]-r,o)}):s.push({value:i[0]}));for(var c=a[0];c<=a[1]&&(s.push({value:c}),c=ss(c+r,o),c!==s[s.length-1].value);)if(s.length>l)return[];var u=s.length?s[s.length-1].value:a[1];return i[1]>u&&(n?s.push({value:ss(u+r,o)}):s.push({value:i[1]})),s},e.prototype.getMinorTicks=function(n){for(var r=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<r.length;o++){for(var s=r[o],l=r[o-1],c=0,u=[],f=s.value-l.value,h=f/n;c<n-1;){var d=ss(l.value+(c+1)*h);d>a[0]&&d<a[1]&&u.push(d),c++}i.push(u)}return i},e.prototype.getLabel=function(n,r){if(n==null)return"";var i=r&&r.precision;i==null?i=Nf(n.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=ss(n.value,i,!0);return M5(a)},e.prototype.calcNiceTicks=function(n,r,i){n=n||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=HU(a,n,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);n.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var a=r[1]-r[0];isFinite(a)||(r[0]=0,r[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var o=this._interval;n.fixMin||(r[0]=ss(Math.floor(r[0]/o)*o)),n.fixMax||(r[1]=ss(Math.ceil(r[1]/o)*o))},e.prototype.setNiceExtent=function(n,r){this._niceExtent=[n,r]},e.type="interval",e}(na);na.registerClass(Gc);var FI=typeof Float32Array<"u",VU=FI?Float32Array:Array;function wm(t){return ht(t)?FI?new Float32Array(t):t:new VU(t)}var XU="__ec_stack_";function R2(t){return t.get("stack")||XU+t.seriesIndex}function N2(t){return t.dim+t.index}function jI(t,e){var n=[];return e.eachSeriesByType(t,function(r){$I(r)&&n.push(r)}),n}function UU(t){var e={};$(t,function(l){var c=l.coordinateSystem,u=c.getBaseAxis();if(!(u.type!=="time"&&u.type!=="value"))for(var f=l.getData(),h=u.dim+"_"+u.index,d=f.getDimensionIndex(f.mapDimension(u.dim)),p=f.getStore(),v=0,g=p.count();v<g;++v){var y=p.get(d,v);e[h]?e[h].push(y):e[h]=[y]}});var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(l,c){return l-c});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}n[r]=a}}return n}function zI(t){var e=UU(t),n=[];return $(t,function(r){var i=r.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,c=e[l],u=Math.abs(o[1]-o[0]),f=a.scale.getExtent(),h=Math.abs(f[1]-f[0]);s=c?u/h*c:u}else{var d=r.getData();s=Math.abs(o[1]-o[0])/d.count()}var p=Vn(r.get("barWidth"),s),v=Vn(r.get("barMaxWidth"),s),g=Vn(r.get("barMinWidth")||(GI(r)?.5:1),s),y=r.get("barGap"),m=r.get("barCategoryGap");n.push({bandWidth:s,barWidth:p,barMaxWidth:v,barMinWidth:g,barGap:y,barCategoryGap:m,axisKey:N2(a),stackId:R2(r)})}),qU(n)}function qU(t){var e={};$(t,function(r,i){var a=r.axisKey,o=r.bandWidth,s=e[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[a]=s;var c=r.stackId;l[c]||s.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=r.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(s.remainedWidth,u),s.remainedWidth-=u);var f=r.barMaxWidth;f&&(l[c].maxWidth=f);var h=r.barMinWidth;h&&(l[c].minWidth=h);var d=r.barGap;d!=null&&(s.gap=d);var p=r.barCategoryGap;p!=null&&(s.categoryGap=p)});var n={};return $(e,function(r,i){n[i]={};var a=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var l=Ut(a).length;s=Math.max(35-l*4,15)+"%"}var c=Vn(s,o),u=Vn(r.gap,1),f=r.remainedWidth,h=r.autoWidthCount,d=(f-c)/(h+(h-1)*u);d=Math.max(d,0),$(a,function(y){var m=y.maxWidth,b=y.minWidth;if(y.width){var x=y.width;m&&(x=Math.min(x,m)),b&&(x=Math.max(x,b)),y.width=x,f-=x+u*x,h--}else{var x=d;m&&m<x&&(x=Math.min(m,f)),b&&b>x&&(x=b),x!==d&&(y.width=x,f-=x+u*x,h--)}}),d=(f-c)/(h+(h-1)*u),d=Math.max(d,0);var p=0,v;$(a,function(y,m){y.width||(y.width=d),v=y,p+=y.width*(1+u)}),v&&(p-=v.width*u);var g=-p/2;$(a,function(y,m){n[i][m]=n[i][m]||{bandWidth:o,offset:g,width:y.width},g+=y.width*(1+u)})}),n}function ZU(t,e,n){if(t&&e){var r=t[N2(e)];return r!=null&&n!=null?r[R2(n)]:r}}function KU(t,e){var n=jI(t,e),r=zI(n);$(n,function(i){var a=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),l=R2(i),c=r[N2(s)][l],u=c.offset,f=c.width;a.setLayout({bandWidth:c.bandWidth,offset:u,size:f})})}function QU(t){return{seriesType:t,plan:J5(),reset:function(e){if($I(e)){var n=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),o=n.getDimensionIndex(n.mapDimension(a.dim)),s=n.getDimensionIndex(n.mapDimension(i.dim)),l=e.get("showBackground",!0),c=n.mapDimension(a.dim),u=n.getCalculationInfo("stackResultDimension"),f=RI(n,c)&&!!n.getCalculationInfo("stackedOnSeries"),h=a.isHorizontal(),d=JU(i,a),p=GI(e),v=e.get("barMinHeight")||0,g=u&&n.getDimensionIndex(u),y=n.getLayout("size"),m=n.getLayout("offset");return{progress:function(b,x){for(var _=b.count,w=p&&wm(_*3),S=p&&l&&wm(_*3),O=p&&wm(_),M=r.master.getRect(),T=h?M.width:M.height,A,P=x.getStore(),E=0;(A=b.next())!=null;){var C=P.get(f?g:o,A),k=P.get(s,A),L=d,R=void 0;f&&(R=+C-P.get(o,A));var D=void 0,I=void 0,N=void 0,F=void 0;if(h){var j=r.dataToPoint([C,k]);if(f){var z=r.dataToPoint([R,k]);L=z[0]}D=L,I=j[1]+m,N=j[0]-L,F=y,Math.abs(N)<v&&(N=(N<0?-1:1)*v)}else{var j=r.dataToPoint([k,C]);if(f){var z=r.dataToPoint([k,R]);L=z[1]}D=j[0]+m,I=L,N=y,F=j[1]-L,Math.abs(F)<v&&(F=(F<=0?-1:1)*v)}p?(w[E]=D,w[E+1]=I,w[E+2]=h?N:F,S&&(S[E]=h?M.x:D,S[E+1]=h?I:M.y,S[E+2]=T),O[A]=A):x.setItemLayout(A,{x:D,y:I,width:N,height:F}),E+=3}p&&x.setLayout({largePoints:w,largeDataIndices:O,largeBackgroundPoints:S,valueAxisHorizontal:h})}}}}}}function $I(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function GI(t){return t.pipelineContext&&t.pipelineContext.large}function JU(t,e){var n=e.model.get("startValue");return n||(n=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?n>0?n:1:n))}var tq=function(t,e,n,r){for(;n<r;){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n},WI=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.type="time",r}return e.prototype.getLabel=function(n){var r=this.getSetting("useUTC");return Jg(n.value,XM[_Y(Zl(this._minLevelUnit))]||XM.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(n,r,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return wY(n,r,i,o,a)},e.prototype.getTicks=function(){var n=this._interval,r=this._extent,i=[];if(!n)return i;i.push({value:r[0],level:0});var a=this.getSetting("useUTC"),o=sq(this._minLevelUnit,this._approxInterval,a,r);return i=i.concat(o),i.push({value:r[1],level:0}),i},e.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1]&&(r[0]-=Vr,r[1]+=Vr),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-Vr}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},e.prototype.calcNiceTicks=function(n,r,i){n=n||10;var a=this._extent,o=a[1]-a[0];this._approxInterval=o/n,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=Gd.length,l=Math.min(tq(Gd,this._approxInterval,0,s),s-1);this._interval=Gd[l][1],this._minLevelUnit=Gd[Math.max(l-1,0)][0]},e.prototype.parse=function(n){return He(n)?n:+Aa(n)},e.prototype.contain=function(n){return c0(this.parse(n),this._extent)},e.prototype.normalize=function(n){return u0(this.parse(n),this._extent)},e.prototype.scale=function(n){return f0(n,this._extent)},e.type="time",e}(Gc),Gd=[["second",g2],["minute",y2],["hour",pf],["quarter-day",pf*6],["half-day",pf*12],["day",Vr*1.2],["half-week",Vr*3.5],["week",Vr*7],["month",Vr*31],["quarter",Vr*95],["half-year",VM/2],["year",VM]];function eq(t,e,n,r){var i=Aa(e),a=Aa(n),o=function(p){return UM(i,p,r)===UM(a,p,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},c=function(){return l()&&o("day")},u=function(){return c()&&o("hour")},f=function(){return u()&&o("minute")},h=function(){return f()&&o("second")},d=function(){return h()&&o("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return c();case"hour":return u();case"minute":return f();case"second":return h();case"millisecond":return d()}}function nq(t,e){return t/=Vr,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function rq(t){var e=30*Vr;return t/=e,t>6?6:t>3?3:t>2?2:1}function iq(t){return t/=pf,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function oA(t,e){return t/=e?y2:g2,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function aq(t){return MD(t)}function oq(t,e,n){var r=new Date(t);switch(Zl(e)){case"year":case"month":r[b5(n)](0);case"day":r[x5(n)](1);case"hour":r[_5(n)](0);case"minute":r[w5(n)](0);case"second":r[S5(n)](0),r[O5(n)](0)}return r.getTime()}function sq(t,e,n,r){var i=1e4,a=y5,o=0;function s(T,A,P,E,C,k,L){for(var R=new Date(A),D=A,I=R[E]();D<P&&D<=r[1];)L.push({value:D}),I+=T,R[C](I),D=R.getTime();L.push({value:D,notAdd:!0})}function l(T,A,P){var E=[],C=!A.length;if(!eq(Zl(T),r[0],r[1],n)){C&&(A=[{value:oq(new Date(r[0]),T,n)},{value:r[1]}]);for(var k=0;k<A.length-1;k++){var L=A[k].value,R=A[k+1].value;if(L!==R){var D=void 0,I=void 0,N=void 0,F=!1;switch(T){case"year":D=Math.max(1,Math.round(e/Vr/365)),I=m2(n),N=SY(n);break;case"half-year":case"quarter":case"month":D=rq(e),I=Kl(n),N=b5(n);break;case"week":case"half-week":case"day":D=nq(e),I=t0(n),N=x5(n),F=!0;break;case"half-day":case"quarter-day":case"hour":D=iq(e),I=Gf(n),N=_5(n);break;case"minute":D=oA(e,!0),I=e0(n),N=w5(n);break;case"second":D=oA(e,!1),I=n0(n),N=S5(n);break;case"millisecond":D=aq(e),I=r0(n),N=O5(n);break}s(D,L,R,I,N,F,E),T==="year"&&P.length>1&&k===0&&P.unshift({value:P[0].value-D})}}for(var k=0;k<E.length;k++)P.push(E[k]);return E}}for(var c=[],u=[],f=0,h=0,d=0;d<a.length&&o++<i;++d){var p=Zl(a[d]);if(xY(a[d])){l(a[d],c[c.length-1]||[],u);var v=a[d+1]?Zl(a[d+1]):null;if(p!==v){if(u.length){h=f,u.sort(function(T,A){return T.value-A.value});for(var g=[],y=0;y<u.length;++y){var m=u[y].value;(y===0||u[y-1].value!==m)&&(g.push(u[y]),m>=r[0]&&m<=r[1]&&f++)}var b=(r[1]-r[0])/e;if(f>b*1.5&&h>b/1.5||(c.push(g),f>b||t===a[d]))break}u=[]}}}for(var x=Rn(yt(c,function(T){return Rn(T,function(A){return A.value>=r[0]&&A.value<=r[1]&&!A.notAdd})}),function(T){return T.length>0}),_=[],w=x.length-1,d=0;d<x.length;++d)for(var S=x[d],O=0;O<S.length;++O)_.push({value:S[O].value,level:w-d});_.sort(function(T,A){return T.value-A.value});for(var M=[],d=0;d<_.length;++d)(d===0||_[d].value!==_[d-1].value)&&M.push(_[d]);return M}na.registerClass(WI);var sA=na.prototype,bf=Gc.prototype,lq=gn,cq=Math.floor,uq=Math.ceil,Wd=Math.pow,ci=Math.log,B2=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new Gc,n._interval=0,n}return e.prototype.getTicks=function(n){var r=this._originalScale,i=this._extent,a=r.getExtent(),o=bf.getTicks.call(this,n);return yt(o,function(s){var l=s.value,c=gn(Wd(this.base,l));return c=l===i[0]&&this._fixMin?Hd(c,a[0]):c,c=l===i[1]&&this._fixMax?Hd(c,a[1]):c,{value:c}},this)},e.prototype.setExtent=function(n,r){var i=ci(this.base);n=ci(Math.max(0,n))/i,r=ci(Math.max(0,r))/i,bf.setExtent.call(this,n,r)},e.prototype.getExtent=function(){var n=this.base,r=sA.getExtent.call(this);r[0]=Wd(n,r[0]),r[1]=Wd(n,r[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(r[0]=Hd(r[0],a[0])),this._fixMax&&(r[1]=Hd(r[1],a[1])),r},e.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var r=this.base;n[0]=ci(n[0])/ci(r),n[1]=ci(n[1])/ci(r),sA.unionExtent.call(this,n)},e.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(n){n=n||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var a=_G(i),o=n/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[gn(uq(r[0]/a)*a),gn(cq(r[1]/a)*a)];this._interval=a,this._niceExtent=s}},e.prototype.calcNiceExtent=function(n){bf.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},e.prototype.parse=function(n){return n},e.prototype.contain=function(n){return n=ci(n)/ci(this.base),c0(n,this._extent)},e.prototype.normalize=function(n){return n=ci(n)/ci(this.base),u0(n,this._extent)},e.prototype.scale=function(n){return n=f0(n,this._extent),Wd(this.base,n)},e.type="log",e}(na),HI=B2.prototype;HI.getMinorTicks=bf.getMinorTicks;HI.getLabel=bf.getLabel;function Hd(t,e){return lq(t,Nf(e))}na.registerClass(B2);var fq=function(){function t(e,n,r){this._prepareParams(e,n,r)}return t.prototype._prepareParams=function(e,n,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var a=n.get("min",!0);a==null&&(a=n.get("startValue",!0));var o=this._modelMinRaw=a;zt(o)?this._modelMinNum=Yd(e,o({min:r[0],max:r[1]})):o!=="dataMin"&&(this._modelMinNum=Yd(e,o));var s=this._modelMaxRaw=n.get("max",!0);if(zt(s)?this._modelMaxNum=Yd(e,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=Yd(e,s)),i)this._axisDataLen=n.getCategories().length;else{var l=n.get("boundaryGap"),c=ht(l)?l:[l||0,l||0];typeof c[0]=="boolean"||typeof c[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[_o(c[0],1),_o(c[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,n=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=e?null:r-n||Math.abs(n),s=this._modelMinRaw==="dataMin"?n:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,c=s!=null,u=l!=null;s==null&&(s=e?i?0:NaN:n-a[0]*o),l==null&&(l=e?i?i-1:NaN:r+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=vv(s)||vv(l)||e&&!i;this._needCrossZero&&(s>0&&l>0&&!c&&(s=0),s<0&&l<0&&!u&&(l=0));var h=this._determinedMin,d=this._determinedMax;return h!=null&&(s=h,c=!0),d!=null&&(l=d,u=!0),{min:s,max:l,minFixed:c,maxFixed:u,isBlank:f}},t.prototype.modifyDataMinMax=function(e,n){this[dq[e]]=n},t.prototype.setDeterminedMinMax=function(e,n){var r=hq[e];this[r]=n},t.prototype.freeze=function(){this.frozen=!0},t}(),hq={min:"_determinedMin",max:"_determinedMax"},dq={min:"_dataMin",max:"_dataMax"};function pq(t,e,n){var r=t.rawExtentInfo;return r||(r=new fq(t,e,n),t.rawExtentInfo=r,r)}function Yd(t,e){return e==null?null:vv(e)?NaN:t.parse(e)}function YI(t,e){var n=t.type,r=pq(t,e,t.getExtent()).calculate();t.setBlank(r.isBlank);var i=r.min,a=r.max,o=e.ecModel;if(o&&n==="time"){var s=jI("bar",o),l=!1;if($(s,function(f){l=l||f.getBaseAxis()===e.axis}),l){var c=zI(s),u=vq(i,a,e,c);i=u.min,a=u.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function vq(t,e,n,r){var i=n.axis.getExtent(),a=i[1]-i[0],o=ZU(r,n.axis);if(o===void 0)return{min:t,max:e};var s=1/0;$(o,function(d){s=Math.min(d.offset,s)});var l=-1/0;$(o,function(d){l=Math.max(d.offset+d.width,l)}),s=Math.abs(s),l=Math.abs(l);var c=s+l,u=e-t,f=1-(s+l)/a,h=u/f-u;return e+=h*(l/c),t-=h*(s/c),{min:t,max:e}}function lA(t,e){var n=e,r=YI(t,n),i=r.extent,a=n.get("splitNumber");t instanceof B2&&(t.base=n.get("logBase"));var o=t.type,s=n.get("interval"),l=o==="interval"||o==="time";t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function gq(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new I2({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new WI({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(na.getClass(e)||Gc)}}function yq(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}function Wc(t){var e=t.getLabelModel().get("formatter"),n=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(r){return function(i,a){return t.scale.getFormattedLabel(i,a,r)}}(e):vt(e)?function(r){return function(i){var a=t.scale.getLabel(i),o=r.replace("{value}",a??"");return o}}(e):zt(e)?function(r){return function(i,a){return n!=null&&(a=i.value-n),r(F2(t,i),a,i.level!=null?{level:i.level}:null)}}(e):function(r){return t.scale.getLabel(r)}}function F2(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function mq(t){var e=t.model,n=t.scale;if(!(!e.get(["axisLabel","show"])||n.isBlank())){var r,i,a=n.getExtent();n instanceof I2?i=n.count():(r=n.getTicks(),i=r.length);var o=t.getLabelModel(),s=Wc(t),l,c=1;i>40&&(c=Math.ceil(i/40));for(var u=0;u<i;u+=c){var f=r?r[u]:{value:a[0]+u},h=s(f,u),d=o.getTextRect(h),p=bq(d,o.get("rotate")||0);l?l.union(p):l=p}return l}}function bq(t,e){var n=e*Math.PI/180,r=t.width,i=t.height,a=r*Math.abs(Math.cos(n))+Math.abs(i*Math.sin(n)),o=r*Math.abs(Math.sin(n))+Math.abs(i*Math.cos(n)),s=new Ce(t.x,t.y,a,o);return s}function j2(t){var e=t.get("interval");return e??"auto"}function VI(t){return t.type==="category"&&j2(t.getLabelModel())===0}function xq(t,e){var n={};return $(t.mapDimensionsAll(e),function(r){n[BU(t,r)]=!0}),Ut(n)}var _q=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}(),cA=[],wq={registerPreprocessor:AI,registerProcessor:EI,registerPostInit:uU,registerPostUpdate:fU,registerUpdateLifecycle:L2,registerAction:$c,registerCoordinateSystem:hU,registerLayout:dU,registerVisual:Xs,registerTransform:vU,registerLoading:PI,registerMap:pU,registerImpl:HX,PRIORITY:rU,ComponentModel:ae,ComponentView:_i,SeriesModel:Pa,ChartView:ho,registerComponentModel:function(t){ae.registerClass(t)},registerComponentView:function(t){_i.registerClass(t)},registerSeriesModel:function(t){Pa.registerClass(t)},registerChartView:function(t){ho.registerClass(t)},registerSubTypeDefaulter:function(t,e){ae.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){dG(t,e)}};function Mo(t){if(ht(t)){$(t,function(e){Mo(e)});return}be(cA,t)>=0||(cA.push(t),zt(t)&&(t={install:t}),t.install(wq))}var Zf=hn();function XI(t,e){var n=yt(e,function(r){return t.scale.parse(r)});return t.type==="time"&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function Sq(t){var e=t.getLabelModel().get("customValues");if(e){var n=Wc(t);return{labels:XI(t,e).map(function(r){var i={value:r};return{formattedLabel:n(i),rawLabel:t.scale.getLabel(i),tickValue:r}})}}return t.type==="category"?Mq(t):Aq(t)}function Oq(t,e){var n=t.getTickModel().get("customValues");return n?{ticks:XI(t,n)}:t.type==="category"?Tq(t,e):{ticks:yt(t.scale.getTicks(),function(r){return r.value})}}function Mq(t){var e=t.getLabelModel(),n=UI(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function UI(t,e){var n=qI(t,"labels"),r=j2(e),i=ZI(n,r);if(i)return i;var a,o;return zt(r)?a=JI(t,r):(o=r==="auto"?Eq(t):r,a=QI(t,o)),KI(n,r,{labels:a,labelCategoryInterval:o})}function Tq(t,e){var n=qI(t,"ticks"),r=j2(e),i=ZI(n,r);if(i)return i;var a,o;if((!e.get("show")||t.scale.isBlank())&&(a=[]),zt(r))a=JI(t,r,!0);else if(r==="auto"){var s=UI(t,t.getLabelModel());o=s.labelCategoryInterval,a=yt(s.labels,function(l){return l.tickValue})}else o=r,a=QI(t,o,!0);return KI(n,r,{ticks:a,tickCategoryInterval:o})}function Aq(t){var e=t.scale.getTicks(),n=Wc(t);return{labels:yt(e,function(r,i){return{level:r.level,formattedLabel:n(r,i),rawLabel:t.scale.getLabel(r),tickValue:r.value}})}}function qI(t,e){return Zf(t)[e]||(Zf(t)[e]=[])}function ZI(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function KI(t,e,n){return t.push({key:e,value:n}),n}function Eq(t){var e=Zf(t).autoInterval;return e??(Zf(t).autoInterval=t.calculateCategoryInterval())}function Pq(t){var e=Cq(t),n=Wc(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=a[0],c=t.dataToCoord(l+1)-t.dataToCoord(l),u=Math.abs(c*Math.cos(r)),f=Math.abs(c*Math.sin(r)),h=0,d=0;l<=a[1];l+=s){var p=0,v=0,g=Y_(n({value:l}),e.font,"center","top");p=g.width*1.3,v=g.height*1.3,h=Math.max(h,p,7),d=Math.max(d,v,7)}var y=h/u,m=d/f;isNaN(y)&&(y=1/0),isNaN(m)&&(m=1/0);var b=Math.max(0,Math.floor(Math.min(y,m))),x=Zf(t.model),_=t.getExtent(),w=x.lastAutoInterval,S=x.lastTickCount;return w!=null&&S!=null&&Math.abs(w-b)<=1&&Math.abs(S-o)<=1&&w>b&&x.axisExtent0===_[0]&&x.axisExtent1===_[1]?b=w:(x.lastTickCount=o,x.lastAutoInterval=b,x.axisExtent0=_[0],x.axisExtent1=_[1]),b}function Cq(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function QI(t,e,n){var r=Wc(t),i=t.scale,a=i.getExtent(),o=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),c=a[0],u=i.count();c!==0&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var f=VI(t),h=o.get("showMinLabel")||f,d=o.get("showMaxLabel")||f;h&&c!==a[0]&&v(a[0]);for(var p=c;p<=a[1];p+=l)v(p);d&&p-l!==a[1]&&v(a[1]);function v(g){var y={value:g};s.push(n?g:{formattedLabel:r(y),rawLabel:i.getLabel(y),tickValue:g})}return s}function JI(t,e,n){var r=t.scale,i=Wc(t),a=[];return $(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;e(o.value,s)&&a.push(n?l:{formattedLabel:i(o),rawLabel:s,tickValue:l})}),a}var uA=[0,1],kq=function(){function t(e,n,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=n,this._extent=r||[0,0]}return t.prototype.contain=function(e){var n=this._extent,r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return e>=r&&e<=i},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return mG(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,n){var r=this._extent;r[0]=e,r[1]=n},t.prototype.dataToCoord=function(e,n){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(r=r.slice(),fA(r,i.count())),nM(e,uA,r,n)},t.prototype.coordToData=function(e,n){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),fA(r,i.count()));var a=nM(e,r,uA,n);return this.scale.scale(a)},t.prototype.pointToData=function(e,n){},t.prototype.getTicksCoords=function(e){e=e||{};var n=e.tickModel||this.getTickModel(),r=Oq(this,n),i=r.ticks,a=yt(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=n.get("alignWithLabel");return Lq(this,a,o,e.clamp),a},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),n=e.get("splitNumber");n>0&&n<100||(n=5);var r=this.scale.getMinorTicks(n),i=yt(r,function(a){return yt(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},t.prototype.getViewLabels=function(){return Sq(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,n=this.scale.getExtent(),r=n[1]-n[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},t.prototype.calculateCategoryInterval=function(){return Pq(this)},t}();function fA(t,e){var n=t[1]-t[0],r=e,i=n/r/2;t[0]+=i,t[1]-=i}function Lq(t,e,n,r){var i=e.length;if(!t.onBand||n||!i)return;var a=t.getExtent(),o,s;if(i===1)e[0].coord=a[0],o=e[1]={coord:a[1]};else{var l=e[i-1].tickValue-e[0].tickValue,c=(e[i-1].coord-e[0].coord)/l;$(e,function(d){d.coord-=c/2});var u=t.scale.getExtent();s=1+u[1]-e[i-1].tickValue,o={coord:e[i-1].coord+c*s},e.push(o)}var f=a[0]>a[1];h(e[0].coord,a[0])&&(r?e[0].coord=a[0]:e.shift()),r&&h(a[0],e[0].coord)&&e.unshift({coord:a[0]}),h(a[1],o.coord)&&(r?o.coord=a[1]:e.pop()),r&&h(o.coord,a[1])&&e.push({coord:a[1]});function h(d,p){return d=gn(d),p=gn(p),f?d>p:d<p}}function Dq(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,c=o.clone();c.applyTransform(a),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=s?new Mv(o,a):null;e.push({label:i,labelLine:r.labelLine,rect:c,localRect:o,obb:u,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:a})}}return e}function Iq(t){var e=[];t.sort(function(v,g){return g.priority-v.priority});var n=new Ce(0,0,0,0);function r(v){if(!v.ignore){var g=v.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}v.ignore=!0}for(var i=0;i<t.length;i++){var a=t[i],o=a.axisAligned,s=a.localRect,l=a.transform,c=a.label,u=a.labelLine;n.copy(a.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=a.obb,h=!1,d=0;d<e.length;d++){var p=e[d];if(n.intersect(p.rect)){if(o&&p.axisAligned){h=!0;break}if(p.obb||(p.obb=new Mv(p.localRect,p.transform)),f||(f=new Mv(s,l)),f.intersect(p.obb)){h=!0;break}}}h?(r(c),u&&r(u)):(c.attr("ignore",a.defaultAttr.ignore),u&&u.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function Rq(t,e){var n=t.mapDimensionsAll("defaultedLabel"),r=n.length;if(r===1){var i=cc(t,e,n[0]);return i!=null?i+"":null}else if(r){for(var a=[],o=0;o<n.length;o++)a.push(cc(t,e,n[o]));return a.join(" ")}}function Nq(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!ht(e))return e+"";for(var r=[],i=0;i<n.length;i++){var a=t.getDimensionIndex(n[i]);a>=0&&r.push(e[a])}return r.join(" ")}function Bq(t,e,n,r,i){var a=t.getArea(),o=a.x,s=a.y,l=a.width,c=a.height,u=n.get(["lineStyle","width"])||2;o-=u/2,s-=u/2,l+=u,c+=u,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new ln({shape:{x:o,y:s,width:l,height:c}});return f}function Fq(t,e,n){var r=t.getArea(),i=gn(r.r0,1),a=gn(r.r,1),o=new jc({shape:{cx:gn(t.cx,1),cy:gn(t.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return o}function jq(t,e,n,r,i){if(t){if(t.type==="polar")return Fq(t);if(t.type==="cartesian2d")return Bq(t,e,n)}else return null;return null}function tR(t,e){return t.type===e}var zq={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return n===0?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},minmax:function(t){for(var e=-1/0,n=-1/0,r=0;r<t.length;r++){var i=t[r],a=Math.abs(i);a>e&&(e=a,n=i)}return isFinite(n)?n:NaN},nearest:function(t){return t[0]}},$q=function(t){return Math.round(t.length/2)};function Gq(t){return{seriesType:t,reset:function(e,n,r){var i=e.getData(),a=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var l=o.getBaseAxis(),c=o.getOtherAxis(l),u=l.getExtent(),f=r.getDevicePixelRatio(),h=Math.abs(u[1]-u[0])*(f||1),d=Math.round(s/h);if(isFinite(d)&&d>1){a==="lttb"&&e.setData(i.lttbDownSample(i.mapDimension(c.dim),1/d));var p=void 0;vt(a)?p=zq[a]:zt(a)&&(p=a),p&&e.setData(i.downSample(i.mapDimension(c.dim),1/d,p,$q))}}}}}var Bb=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(n,r){return NI(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(n,r,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(n),s=a.dataToPoint(o);if(i)$(a.getAxes(),function(h,d){if(h.type==="category"&&r!=null){var p=h.getTicksCoords(),v=h.getTickModel().get("alignWithLabel"),g=o[d],y=r[d]==="x1"||r[d]==="y1";if(y&&!v&&(g+=1),p.length<2)return;if(p.length===2){s[d]=h.toGlobalCoord(h.getExtent()[y?1:0]);return}for(var m=void 0,b=void 0,x=1,_=0;_<p.length;_++){var w=p[_].coord,S=_===p.length-1?p[_-1].tickValue+x:p[_].tickValue;if(S===g){b=w;break}else if(S<g)m=w;else if(m!=null&&S>g){b=(w+m)/2;break}_===1&&(x=S-p[0].tickValue)}b==null&&(m?m&&(b=p[p.length-1].coord):b=p[0].coord),s[d]=h.toGlobalCoord(b)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;s[f]+=c+u/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Pa);Pa.registerClass(Bb);var Wq=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(){return NI(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>n&&(n=r),n},e.prototype.brushSelector=function(n,r,i){return i.rect(r.getItemLayout(n))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=p5(Bb.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Bb),Hq=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),hA=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new Hq},e.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,c=o+l,u=r.startAngle,f=r.endAngle,h=r.clockwise,d=Math.PI*2,p=h?f-u<d:u-f<d;p||(u=f-(h?d:-d));var v=Math.cos(u),g=Math.sin(u),y=Math.cos(f),m=Math.sin(f);p?(n.moveTo(v*o+i,g*o+a),n.arc(v*c+i,g*c+a,l,-Math.PI+u,u,!h)):n.moveTo(v*s+i,g*s+a),n.arc(i,a,s,u,f,!h),n.arc(y*c+i,m*c+a,l,f-Math.PI*2,f-Math.PI,!h),o!==0&&n.arc(i,a,o,f,u,h)},e}(ve);function Yq(t,e){e=e||{};var n=e.isRoundCap;return function(r,i,a){var o=i.position;if(!o||o instanceof Array)return _v(r,i,a);var s=t(o),l=i.distance!=null?i.distance:5,c=this.shape,u=c.cx,f=c.cy,h=c.r,d=c.r0,p=(h+d)/2,v=c.startAngle,g=c.endAngle,y=(v+g)/2,m=n?Math.abs(h-d)/2:0,b=Math.cos,x=Math.sin,_=u+h*b(v),w=f+h*x(v),S="left",O="top";switch(s){case"startArc":_=u+(d-l)*b(y),w=f+(d-l)*x(y),S="center",O="top";break;case"insideStartArc":_=u+(d+l)*b(y),w=f+(d+l)*x(y),S="center",O="bottom";break;case"startAngle":_=u+p*b(v)+Vd(v,l+m,!1),w=f+p*x(v)+Xd(v,l+m,!1),S="right",O="middle";break;case"insideStartAngle":_=u+p*b(v)+Vd(v,-l+m,!1),w=f+p*x(v)+Xd(v,-l+m,!1),S="left",O="middle";break;case"middle":_=u+p*b(y),w=f+p*x(y),S="center",O="middle";break;case"endArc":_=u+(h+l)*b(y),w=f+(h+l)*x(y),S="center",O="bottom";break;case"insideEndArc":_=u+(h-l)*b(y),w=f+(h-l)*x(y),S="center",O="top";break;case"endAngle":_=u+p*b(g)+Vd(g,l+m,!0),w=f+p*x(g)+Xd(g,l+m,!0),S="left",O="middle";break;case"insideEndAngle":_=u+p*b(g)+Vd(g,-l+m,!0),w=f+p*x(g)+Xd(g,-l+m,!0),S="right",O="middle";break;default:return _v(r,i,a)}return r=r||{},r.x=_,r.y=w,r.align=S,r.verticalAlign=O,r}}function Vq(t,e,n,r){if(He(r)){t.setTextConfig({rotation:r});return}else if(ht(e)){t.setTextConfig({rotation:0});return}var i=t.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,l,c=n(e);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=o;break;default:t.setTextConfig({rotation:0});return}var u=Math.PI*1.5-l;c==="middle"&&u>Math.PI/2&&u<Math.PI*1.5&&(u-=Math.PI),t.setTextConfig({rotation:u})}function Vd(t,e,n){return e*Math.sin(t)*(n?-1:1)}function Xd(t,e,n){return e*Math.cos(t)*(n?1:-1)}function Xq(t,e,n){var r=t.get("borderRadius");if(r==null)return{cornerRadius:0};ht(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:yt(r,function(a){return _o(a,i)})}}var Sm=Math.max,Om=Math.min;function Uq(t,e){var n=t.getArea&&t.getArea();if(tR(t,"cartesian2d")){var r=t.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(n.x-=i,n.width+=i*2):(n.y-=i,n.height+=i*2)}}return n}var qq=function(t){it(e,t);function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return e.prototype.render=function(n,r,i,a){this._model=n,this._removeOnRenderedListener(i),this._updateDrawMode(n);var o=n.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,r,i):this._renderNormal(n,r,i,a))},e.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},e.prototype.incrementalRender=function(n,r){this._progressiveEls=[],this._incrementalRenderLarge(n,r)},e.prototype.eachRendered=function(n){h2(this._progressiveEls||this.group,n)},e.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(n,r,i,a){var o=this.group,s=n.getData(),l=this._data,c=n.coordinateSystem,u=c.getBaseAxis(),f;c.type==="cartesian2d"?f=u.isHorizontal():c.type==="polar"&&(f=u.dim==="angle");var h=n.isAnimationEnabled()?n:null,d=Zq(n,c);d&&this._enableRealtimeSort(d,s,i);var p=n.get("clip",!0)||d,v=Uq(c,s);o.removeClipPath();var g=n.get("roundCap",!0),y=n.get("showBackground",!0),m=n.getModel("backgroundStyle"),b=m.get("borderRadius")||0,x=[],_=this._backgroundEls,w=a&&a.isInitSort,S=a&&a.type==="changeAxisOrder";function O(A){var P=Ud[c.type](s,A),E=rZ(c,f,P);return E.useStyle(m.getItemStyle()),c.type==="cartesian2d"?E.setShape("r",b):E.setShape("cornerRadius",b),x[A]=E,E}s.diff(l).add(function(A){var P=s.getItemModel(A),E=Ud[c.type](s,A,P);if(y&&O(A),!(!s.hasValue(A)||!yA[c.type](E))){var C=!1;p&&(C=dA[c.type](v,E));var k=pA[c.type](n,s,A,E,f,h,u.model,!1,g);d&&(k.forceLabelAnimation=!0),mA(k,s,A,P,E,n,f,c.type==="polar"),w?k.attr({shape:E}):d?vA(d,h,k,E,A,f,!1,!1):zf(k,{shape:E},n,A),s.setItemGraphicEl(A,k),o.add(k),k.ignore=C}}).update(function(A,P){var E=s.getItemModel(A),C=Ud[c.type](s,A,E);if(y){var k=void 0;_.length===0?k=O(P):(k=_[P],k.useStyle(m.getItemStyle()),c.type==="cartesian2d"?k.setShape("r",b):k.setShape("cornerRadius",b),x[A]=k);var L=Ud[c.type](s,A),R=nR(f,L,c);Ea(k,{shape:R},h,A)}var D=l.getItemGraphicEl(P);if(!s.hasValue(A)||!yA[c.type](C)){o.remove(D);return}var I=!1;if(p&&(I=dA[c.type](v,C),I&&o.remove(D)),D?FH(D):D=pA[c.type](n,s,A,C,f,h,u.model,!!D,g),d&&(D.forceLabelAnimation=!0),S){var N=D.getTextContent();if(N){var F=d2(N);F.prevValue!=null&&(F.prevValue=F.value)}}else mA(D,s,A,E,C,n,f,c.type==="polar");w?D.attr({shape:C}):d?vA(d,h,D,C,A,f,!0,S):Ea(D,{shape:C},n,A,null),s.setItemGraphicEl(A,D),D.ignore=I,o.add(D)}).remove(function(A){var P=l.getItemGraphicEl(A);P&&bb(P,n,A)}).execute();var M=this._backgroundGroup||(this._backgroundGroup=new Ar);M.removeAll();for(var T=0;T<x.length;++T)M.add(x[T]);o.add(M),this._backgroundEls=x,this._data=s},e.prototype._renderLarge=function(n,r,i){this._clear(),xA(n,this.group),this._updateLargeClip(n)},e.prototype._incrementalRenderLarge=function(n,r){this._removeBackground(),xA(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(n){var r=n.get("clip",!0)&&jq(n.coordinateSystem,!1,n),i=this.group;r?i.setClipPath(r):i.removeClipPath()},e.prototype._enableRealtimeSort=function(n,r,i){var a=this;if(r.count()){var o=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,n,i),this._isFirstFrame=!1;else{var s=function(l){var c=r.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(o.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(n,r,i){var a=[];return n.each(n.mapDimension(r.dim),function(o,s){var l=i(s);l=l??NaN,a.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:yt(a,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(n,r,i){for(var a=i.scale,o=n.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,c=a.getOrdinalMeta().categories.length;l<c;++l){var u=n.rawIndexOf(o,a.getRawOrdinalNumber(l)),f=u<0?Number.MIN_VALUE:r(n.indexOfRawIndex(u));if(f>s)return!0;s=f}return!1},e.prototype._isOrderDifferentInView=function(n,r){for(var i=r.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(n.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(n,r,i,a){if(this._isOrderChangedWithinSameData(n,r,i)){var o=this._dataSort(n,i,r);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(n,r,i){var a=r.baseAxis,o=this._dataSort(n,a,function(s){return n.get(n.mapDimension(r.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},e.prototype.remove=function(n,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(n,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(n){var r=this.group,i=this._data;n&&n.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){bb(a,n,se(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(ho),dA={cartesian2d:function(t,e){var n=e.width<0?-1:1,r=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=t.x+t.width,a=t.y+t.height,o=Sm(e.x,t.x),s=Om(e.x+e.width,i),l=Sm(e.y,t.y),c=Om(e.y+e.height,a),u=s<o,f=c<l;return e.x=u&&o>i?s:o,e.y=f&&l>a?c:l,e.width=u?0:s-o,e.height=f?0:c-l,n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),u||f},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}var i=Om(e.r,t.r),a=Sm(e.r0,t.r0);e.r=i,e.r0=a;var o=i-a<0;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}return o}},pA={cartesian2d:function(t,e,n,r,i,a,o,s,l){var c=new ln({shape:lt({},r),z2:1});if(c.__dataIndex=n,c.name="item",a){var u=c.shape,f=i?"height":"width";u[f]=0}return c},polar:function(t,e,n,r,i,a,o,s,l){var c=!i&&l?hA:jc,u=new c({shape:r,z2:1});u.name="item";var f=eR(i);if(u.calculateTextPosition=Yq(f,{isRoundCap:c===hA}),a){var h=u.shape,d=i?"r":"endAngle",p={};h[d]=i?r.r0:r.startAngle,p[d]=r[d],(s?Ea:zf)(u,{shape:p},a)}return u}};function Zq(t,e){var n=t.get("realtimeSort",!0),r=e.getBaseAxis();if(n&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function vA(t,e,n,r,i,a,o,s){var l,c;a?(c={x:r.x,width:r.width},l={y:r.y,height:r.height}):(c={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?Ea:zf)(n,{shape:l},e,i,null);var u=e?t.baseAxis.model:null;(o?Ea:zf)(n,{shape:c},u,i)}function gA(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var Kq=["x","y","width","height"],Qq=["cx","cy","r","startAngle","endAngle"],yA={cartesian2d:function(t){return!gA(t,Kq)},polar:function(t){return!gA(t,Qq)}},Ud={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),i=n?tZ(n,r):0,a=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+o*i/2,width:r.width-a*i,height:r.height-o*i}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function Jq(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function eR(t){return function(e){var n=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+n;default:return r}}}(t)}function mA(t,e,n,r,i,a,o,s){var l=e.getItemVisual(n,"style");if(s){if(!a.get("roundCap")){var u=t.shape,f=Xq(r.getModel("itemStyle"),u);lt(u,f),t.setShape(u)}}else{var c=r.get(["itemStyle","borderRadius"])||0;t.setShape("r",c)}t.useStyle(l);var h=r.getShallow("cursor");h&&t.attr("cursor",h);var d=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=eY(r);f5(t,p,{labelFetcher:a,labelDataIndex:n,defaultText:Rq(a.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var v=t.getTextContent();if(s&&v){var g=r.get(["label","position"]);t.textConfig.inside=g==="middle"?!0:null,Vq(t,g==="outside"?d:g,eR(o),r.get(["label","rotate"]))}aY(v,p,a.getRawValue(n),function(m){return Nq(e,m)});var y=r.getModel(["emphasis"]);KW(t,y.get("focus"),y.get("blurScope"),y.get("disabled")),tH(t,r),Jq(i)&&(t.style.fill="none",t.style.stroke="none",$(t.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}function tZ(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var r=t.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,a)}var eZ=function(){function t(){}return t}(),bA=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new eZ},e.prototype.buildPath=function(n,r){for(var i=r.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],c=this.barWidth,u=0;u<i.length;u+=3)l[a]=c,l[o]=i[u+2],s[a]=i[u+a],s[o]=i[u+o],n.rect(s[0],s[1],l[0],l[1])},e}(ve);function xA(t,e,n,r){var i=t.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=t.getModel("backgroundStyle"),c=i.getLayout("largeBackgroundPoints");if(c){var u=new bA({shape:{points:c},incremental:!!r,silent:!0,z2:0});u.baseDimIdx=a,u.largeDataIndices=o,u.barWidth=s,u.useStyle(l.getItemStyle()),e.add(u),n&&n.push(u)}var f=new bA({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=o,f.barWidth=s,e.add(f),f.useStyle(i.getVisual("style")),se(f).seriesIndex=t.seriesIndex,t.get("silent")||(f.on("mousedown",_A),f.on("mousemove",_A)),n&&n.push(f)}var _A=T2(function(t){var e=this,n=nZ(e,t.offsetX,t.offsetY);se(e).dataIndex=n>=0?n:null},30,!1);function nZ(t,e,n){for(var r=t.baseDimIdx,i=1-r,a=t.shape.points,o=t.largeDataIndices,s=[],l=[],c=t.barWidth,u=0,f=a.length/3;u<f;u++){var h=u*3;if(l[r]=c,l[i]=a[h+2],s[r]=a[h+r],s[i]=a[h+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),e>=s[0]&&e<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return o[u]}return-1}function nR(t,e,n){if(tR(n,"cartesian2d")){var r=e,i=n.getArea();return{x:t?r.x:i.x,y:t?i.y:r.y,width:t?r.width:i.width,height:t?i.height:r.height}}else{var i=n.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:t?i.r0:a.r0,r:t?i.r:a.r,startAngle:t?a.startAngle:0,endAngle:t?a.endAngle:Math.PI*2}}}function rZ(t,e,n){var r=t.type==="polar"?jc:ln;return new r({shape:nR(e,n,t),silent:!0,z2:0})}function iZ(t){t.registerChartView(qq),t.registerSeriesModel(Wq),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,un(KU,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,QU("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Gq("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,n){var r=e.componentType||"series";n.eachComponent({mainType:r,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var aZ=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(ae),Fb=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",gi).models[0]},e.type="cartesian2dAxis",e}(ae);ta(Fb,_q);var rR={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},oZ=Ee({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},rR),z2=Ee({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},rR),sZ=Ee({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},z2),lZ=_e({logBase:10},z2);const cZ={category:oZ,value:z2,time:sZ,log:lZ};var uZ={value:1,category:1,time:1,log:1};function wA(t,e,n,r){$(uZ,function(i,a){var o=Ee(Ee({},cZ[a],!0),r,!0),s=function(l){it(c,l);function c(){var u=l!==null&&l.apply(this,arguments)||this;return u.type=e+"Axis."+a,u}return c.prototype.mergeDefaultAndTheme=function(u,f){var h=Yf(this),d=h?a0(u):{},p=f.getTheme();Ee(u,p.get(a+"Axis")),Ee(u,this.getDefaultOption()),u.type=SA(u),h&&lc(u,d,h)},c.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=Rb.createByAxisModel(this))},c.prototype.getCategories=function(u){var f=this.option;if(f.type==="category")return u?f.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=e+"Axis."+a,c.defaultOption=o,c}(n);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",SA)}function SA(t){return t.type||(t.data?"category":"value")}var fZ=function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return yt(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Rn(this.getAxes(),function(n){return n.scale.type===e})},t.prototype.addAxis=function(e){var n=e.dim;this._axes[n]=e,this._dimList.push(n)},t}(),jb=["x","y"];function OA(t){return t.type==="interval"||t.type==="time"}var hZ=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=jb,n}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!OA(n)||!OA(r))){var i=n.getExtent(),a=r.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],c=a[1]-a[0];if(!(!l||!c)){var u=(s[0]-o[0])/l,f=(s[1]-o[1])/c,h=o[0]-i[0]*u,d=o[1]-a[0]*f,p=this._transform=[u,0,0,f,h,d];this._invTransform=j_([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(n){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},e.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},e.prototype.containZone=function(n,r){var i=this.dataToPoint(n),a=this.dataToPoint(r),o=this.getArea(),s=new Ce(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(n,r,i){i=i||[];var a=n[0],o=n[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return Kr(i,n,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,r)),i[1]=l.toGlobalCoord(l.dataToCoord(o,r)),i},e.prototype.clampData=function(n,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),l=i.parse(n[0]),c=a.parse(n[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),c),Math.max(s[0],s[1])),r},e.prototype.pointToData=function(n,r){var i=[];if(this._invTransform)return Kr(i,n,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(n[0]),r),i[1]=o.coordToData(o.toLocalCoord(n[1]),r),i},e.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},e.prototype.getArea=function(n){n=n||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(r[0],r[1])-n,o=Math.min(i[0],i[1])-n,s=Math.max(r[0],r[1])-a+n,l=Math.max(i[0],i[1])-o+n;return new Ce(a,o,s,l)},e}(fZ),dZ=function(t){it(e,t);function e(n,r,i,a,o){var s=t.call(this,n,r,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},e.prototype.getGlobalExtent=function(n){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),n&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(n,r){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},e}(kq);function zb(t,e,n){n=n||{};var r=t.coordinateSystem,i=e.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,c=i.dim,u=r.getRect(),f=[u.x,u.x+u.width,u.y,u.y+u.height],h={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,p=c==="x"?[f[2]-d,f[3]+d]:[f[0]-d,f[1]+d];if(o){var v=o.toGlobalCoord(o.dataToCoord(0));p[h.onZero]=Math.max(Math.min(v,p[1]),p[0])}a.position=[c==="y"?p[h[l]]:f[0],c==="x"?p[h[l]]:f[3]],a.rotation=Math.PI/2*(c==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=g[s],a.labelOffset=o?p[h[s]]-p[h.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Df(n.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var y=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-y:y,a.z2=1,a}function MA(t){return t.get("coordinateSystem")==="cartesian2d"}function TA(t){var e={xAxisModel:null,yAxisModel:null};return $(e,function(n,r){var i=r.replace(/Model$/,""),a=t.getReferringComponents(i,gi).models[0];e[r]=a}),e}var Mm=Math.log;function pZ(t,e,n){var r=Gc.prototype,i=r.getTicks.call(n),a=r.getTicks.call(n,!0),o=i.length-1,s=r.getInterval.call(n),l=YI(t,e),c=l.extent,u=l.fixMin,f=l.fixMax;if(t.type==="log"){var h=Mm(t.base);c=[Mm(c[0])/h,Mm(c[1])/h]}t.setExtent(c[0],c[1]),t.calcNiceExtent({splitNumber:o,fixMin:u,fixMax:f});var d=r.getExtent.call(t);u&&(c[0]=d[0]),f&&(c[1]=d[1]);var p=r.getInterval.call(t),v=c[0],g=c[1];if(u&&f)p=(g-v)/o;else if(u)for(g=c[0]+p*o;g<c[1]&&isFinite(g)&&isFinite(c[1]);)p=_m(p),g=c[0]+p*o;else if(f)for(v=c[1]-p*o;v>c[0]&&isFinite(v)&&isFinite(c[0]);)p=_m(p),v=c[1]-p*o;else{var y=t.getTicks().length-1;y>o&&(p=_m(p));var m=p*o;g=Math.ceil(c[1]/p)*p,v=gn(g-m),v<0&&c[0]>=0?(v=0,g=gn(m)):g>0&&c[1]<=0&&(g=0,v=-gn(m))}var b=(i[0].value-a[0].value)/s,x=(i[o].value-a[o].value)/s;r.setExtent.call(t,v+p*b,g+p*x),r.setInterval.call(t,p),(b||x)&&r.setNiceExtent.call(t,v+p,g-p)}var vZ=function(){function t(e,n,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=jb,this._initCartesian(e,n,r),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,n){var r=this._axesMap;this._updateScale(e,this.model);function i(o){var s,l=Ut(o),c=l.length;if(c){for(var u=[],f=c-1;f>=0;f--){var h=+l[f],d=o[h],p=d.model,v=d.scale;Nb(v)&&p.get("alignTicks")&&p.get("interval")==null?u.push(d):(lA(v,p),Nb(v)&&(s=d))}u.length&&(s||(s=u.pop(),lA(s.scale,s.model)),$(u,function(g){pZ(g.scale,g.model,s.scale)}))}}i(r.x),i(r.y);var a={};$(r.x,function(o){AA(r,"y",o,a)}),$(r.y,function(o){AA(r,"x",o,a)}),this.resize(this.model,n)},t.prototype.resize=function(e,n,r){var i=e.getBoxLayoutParams(),a=!r&&e.get("containLabel"),o=Hf(i,{width:n.getWidth(),height:n.getHeight()});this._rect=o;var s=this._axesList;l(),a&&($(s,function(c){if(!c.model.get(["axisLabel","inside"])){var u=mq(c);if(u){var f=c.isHorizontal()?"height":"width",h=c.model.get(["axisLabel","margin"]);o[f]-=u[f]+h,c.position==="top"?o.y+=u.height+h:c.position==="left"&&(o.x+=u.width+h)}}}),l()),$(this._coordsList,function(c){c.calcAffineTransform()});function l(){$(s,function(c){var u=c.isHorizontal(),f=u?[0,o.width]:[0,o.height],h=c.inverse?1:0;c.setExtent(f[h],f[1-h]),gZ(c,u?o.x:o.y)})}},t.prototype.getAxis=function(e,n){var r=this._axesMap[e];if(r!=null)return r[n||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,n){if(e!=null&&n!=null){var r="x"+e+"y"+n;return this._coordsMap[r]}Mt(e)&&(n=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===n)return a[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},t.prototype.convertFromPixel=function(e,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},t.prototype._findConvertTarget=function(e){var n=e.seriesModel,r=e.xAxisModel||n&&n.getReferringComponents("xAxis",gi).models[0],i=e.yAxisModel||n&&n.getReferringComponents("yAxis",gi).models[0],a=e.gridModel,o=this._coordsList,s,l;if(n)s=n.coordinateSystem,be(o,s)<0&&(s=null);else if(r&&i)s=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var c=a.coordinateSystem;c===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},t.prototype.containPoint=function(e){var n=this._coordsList[0];if(n)return n.containPoint(e)},t.prototype._initCartesian=function(e,n,r){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(n.eachComponent("xAxis",c("x"),this),n.eachComponent("yAxis",c("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,$(s.x,function(u,f){$(s.y,function(h,d){var p="x"+f+"y"+d,v=new hZ(p);v.master=i,v.model=e,i._coordsMap[p]=v,i._coordsList.push(v),v.addAxis(u),v.addAxis(h)})});function c(u){return function(f,h){if(Tm(f,e)){var d=f.get("position");u==="x"?d!=="top"&&d!=="bottom"&&(d=o.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=o.left?"right":"left"),o[d]=!0;var p=new dZ(u,gq(f),[0,0],f.get("type"),d),v=p.type==="category";p.onBand=v&&f.get("boundaryGap"),p.inverse=f.get("inverse"),f.axis=p,p.model=f,p.grid=a,p.index=h,a._axesList.push(p),s[u][h]=p,l[u]++}}}},t.prototype._updateScale=function(e,n){$(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(MA(i)){var a=TA(i),o=a.xAxisModel,s=a.yAxisModel;if(!Tm(o,n)||!Tm(s,n))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),c=i.getData(),u=l.getAxis("x"),f=l.getAxis("y");r(c,u),r(c,f)}},this);function r(i,a){$(xq(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},t.prototype.getTooltipAxes=function(e){var n=[],r=[];return $(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(a);be(n,a)<0&&n.push(a),be(r,o)<0&&r.push(o)}),{baseAxes:n,otherAxes:r}},t.create=function(e,n){var r=[];return e.eachComponent("grid",function(i,a){var o=new t(i,e,n);o.name="grid_"+a,o.resize(i,n,!0),i.coordinateSystem=o,r.push(o)}),e.eachSeries(function(i){if(MA(i)){var a=TA(i),o=a.xAxisModel,s=a.yAxisModel,l=o.getCoordSysModel(),c=l.coordinateSystem;i.coordinateSystem=c.getCartesian(o.componentIndex,s.componentIndex)}}),r},t.dimensions=jb,t}();function Tm(t,e){return t.getCoordSysModel()===e}function AA(t,e,n,r){n.getAxesOnZeroOf=function(){return a?[a]:[]};var i=t[e],a,o=n.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)EA(i[l])&&(a=i[l]);else for(var c in i)if(i.hasOwnProperty(c)&&EA(i[c])&&!r[u(i[c])]){a=i[c];break}a&&(r[u(a)]=!0);function u(f){return f.dim+"_"+f.index}}function EA(t){return t&&t.type!=="category"&&t.type!=="time"&&yq(t)}function gZ(t,e){var n=t.getExtent(),r=n[0]+n[1];t.toGlobalCoord=t.dim==="x"?function(i){return i+e}:function(i){return r-i+e},t.toLocalCoord=t.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}var io=Math.PI,po=function(){function t(e,n){this.group=new Ar,this.opt=n,this.axisModel=e,_e(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new Ar({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return t.prototype.hasBuilder=function(e){return!!PA[e]},t.prototype.add=function(e){PA[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,n,r){var i=OD(n-e),a,o;return wv(i)?(o=r>0?"top":"bottom",a="center"):wv(i-io)?(o=r>0?"bottom":"top",a="center"):(o="middle",i>0&&i<io?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},t.makeAxisEventDataBase=function(e){var n={componentType:e.mainType,componentIndex:e.componentIndex};return n[e.mainType+"Index"]=e.componentIndex,n},t.isLabelSilent=function(e){var n=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||n&&n.show)},t}(),PA={axisLine:function(t,e,n,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&t.handleAutoShown&&(i=t.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),o=r.transform,s=[a[0],0],l=[a[1],0],c=s[0]>l[0];o&&(Kr(s,s,o),Kr(l,l,o));var u=lt({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new So({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});$f(f.shape,f.style.lineWidth),f.anid="line",n.add(f);var h=e.get(["axisLine","symbol"]);if(h!=null){var d=e.get(["axisLine","symbolSize"]);vt(h)&&(h=[h,h]),(vt(d)||He(d))&&(d=[d,d]);var p=TX(e.get(["axisLine","symbolOffset"])||0,d),v=d[0],g=d[1];$([{rotate:t.rotation+Math.PI/2,offset:p[0],r:0},{rotate:t.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(y,m){if(h[m]!=="none"&&h[m]!=null){var b=A2(h[m],-v/2,-g/2,v,g,u.stroke,!0),x=y.r+y.offset,_=c?l:s;b.attr({rotation:y.rotate,x:_[0]+x*Math.cos(t.rotation),y:_[1]-x*Math.sin(t.rotation),silent:!0,z2:11}),n.add(b)}})}}},axisTickLabel:function(t,e,n,r){var i=bZ(n,r,e,t),a=_Z(n,r,e,t);if(mZ(e,a,i),xZ(n,r,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=Dq(yt(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));Iq(o)}},axisName:function(t,e,n,r){var i=Df(t.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),o=t.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,c=e.axis.getExtent(),u=c[0]>c[1]?-1:1,f=[a==="start"?c[0]-u*l:a==="end"?c[1]+u*l:(c[0]+c[1])/2,kA(a)?t.labelOffset+o*l:0],h,d=e.get("nameRotate");d!=null&&(d=d*io/180);var p;kA(a)?h=po.innerTextLayout(t.rotation,d??t.rotation,o):(h=yZ(t.rotation,a,d||0,c),p=t.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(h.rotation)),!isFinite(p)&&(p=null)));var v=s.getFont(),g=e.get("nameTruncate",!0)||{},y=g.ellipsis,m=Df(t.nameTruncateMaxWidth,g.maxWidth,p),b=new Zn({x:f[0],y:f[1],rotation:h.rotation,silent:po.isLabelSilent(e),style:Oo(s,{text:i,font:v,overflow:"truncate",width:m,ellipsis:y,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(f2({el:b,componentModel:e,itemName:i}),b.__fullText=i,b.anid="name",e.get("triggerEvent")){var x=po.makeAxisEventDataBase(e);x.targetType="axisName",x.name=i,se(b).eventData=x}r.add(b),b.updateTransform(),n.add(b),b.decomposeTransform()}}};function yZ(t,e,n,r){var i=OD(n-t),a,o,s=r[0]>r[1],l=e==="start"&&!s||e!=="start"&&s;return wv(i-io/2)?(o=l?"bottom":"top",a="center"):wv(i-io*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",i<io*1.5&&i>io/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function mZ(t,e,n){if(!VI(t.axis)){var r=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var a=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],c=n[0],u=n[1],f=n[n.length-1],h=n[n.length-2];r===!1?(Lr(a),Lr(c)):CA(a,o)&&(r?(Lr(o),Lr(u)):(Lr(a),Lr(c))),i===!1?(Lr(s),Lr(f)):CA(l,s)&&(i?(Lr(l),Lr(h)):(Lr(s),Lr(f)))}}function Lr(t){t&&(t.ignore=!0)}function CA(t,e){var n=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!n||!r)){var i=B_([]);return F_(i,i,-t.rotation),n.applyTransform(Xl([],i,t.getLocalTransform())),r.applyTransform(Xl([],i,e.getLocalTransform())),n.intersect(r)}}function kA(t){return t==="middle"||t==="center"}function iR(t,e,n,r,i){for(var a=[],o=[],s=[],l=0;l<t.length;l++){var c=t[l].coord;o[0]=c,o[1]=0,s[0]=c,s[1]=n,e&&(Kr(o,o,e),Kr(s,s,e));var u=new So({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});$f(u.shape,u.style.lineWidth),u.anid=i+"_"+t[l].tickValue,a.push(u)}return a}function bZ(t,e,n,r){var i=n.axis,a=n.getModel("axisTick"),o=a.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),c=i.getTicksCoords(),u=iR(c,e.transform,l,_e(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<u.length;f++)t.add(u[f]);return u}}function xZ(t,e,n,r){var i=n.axis,a=n.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),l=r*a.get("length"),c=_e(s.getLineStyle(),_e(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),u=0;u<o.length;u++)for(var f=iR(o[u],e.transform,l,c,"minorticks_"+u),h=0;h<f.length;h++)t.add(f[h])}}function _Z(t,e,n,r){var i=n.axis,a=Df(r.axisLabelShow,n.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var o=n.getModel("axisLabel"),s=o.get("margin"),l=i.getViewLabels(),c=(Df(r.labelRotate,o.get("rotate"))||0)*io/180,u=po.innerTextLayout(r.rotation,c,r.labelDirection),f=n.getCategories&&n.getCategories(!0),h=[],d=po.isLabelSilent(n),p=n.get("triggerEvent");return $(l,function(v,g){var y=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(v.tickValue):v.tickValue,m=v.formattedLabel,b=v.rawLabel,x=o;if(f&&f[y]){var _=f[y];Mt(_)&&_.textStyle&&(x=new Qe(_.textStyle,o,n.ecModel))}var w=x.getTextColor()||n.get(["axisLine","lineStyle","color"]),S=i.dataToCoord(y),O=x.getShallow("align",!0)||u.textAlign,M=Pt(x.getShallow("alignMinLabel",!0),O),T=Pt(x.getShallow("alignMaxLabel",!0),O),A=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||u.textVerticalAlign,P=Pt(x.getShallow("verticalAlignMinLabel",!0),A),E=Pt(x.getShallow("verticalAlignMaxLabel",!0),A),C=new Zn({x:S,y:r.labelOffset+r.labelDirection*s,rotation:u.rotation,silent:d,z2:10+(v.level||0),style:Oo(x,{text:m,align:g===0?M:g===l.length-1?T:O,verticalAlign:g===0?P:g===l.length-1?E:A,fill:zt(w)?w(i.type==="category"?b:i.type==="value"?y+"":y,g):w})});if(C.anid="label_"+y,p){var k=po.makeAxisEventDataBase(n);k.targetType="axisLabel",k.value=b,k.tickIndex=g,i.type==="category"&&(k.dataIndex=y),se(C).eventData=k}e.add(C),C.updateTransform(),h.push(C),t.add(C),C.decomposeTransform()}),h}}function wZ(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return SZ(n,t,e),n.seriesInvolved&&MZ(n,t),n}function SZ(t,e,n){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];$(n.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Kf(s.model),c=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=s;var u=s.model,f=u.getModel("tooltip",r);if($(s.getAxes(),un(v,!1,null)),s.getTooltipAxes&&r&&f.get("show")){var h=f.get("trigger")==="axis",d=f.get(["axisPointer","type"])==="cross",p=s.getTooltipAxes(f.get(["axisPointer","axis"]));(h||d)&&$(p.baseAxes,un(v,d?"cross":!0,h)),d&&$(p.otherAxes,un(v,"cross",!1))}function v(g,y,m){var b=m.model.getModel("axisPointer",i),x=b.get("show");if(!(!x||x==="auto"&&!g&&!$b(b))){y==null&&(y=b.get("triggerTooltip")),b=g?OZ(m,f,i,e,g,y):b;var _=b.get("snap"),w=b.get("triggerEmphasis"),S=Kf(m.model),O=y||_||m.type==="category",M=t.axesInfo[S]={key:S,axis:m,coordSys:s,axisPointerModel:b,triggerTooltip:y,triggerEmphasis:w,involveSeries:O,snap:_,useHandle:$b(b),seriesModels:[],linkGroup:null};c[S]=M,t.seriesInvolved=t.seriesInvolved||O;var T=TZ(a,m);if(T!=null){var A=o[T]||(o[T]={axesInfo:{}});A.axesInfo[S]=M,A.mapper=a[T].mapper,M.linkGroup=A}}}})}function OZ(t,e,n,r,i,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};$(s,function(h){l[h]=Yt(o.get(h))}),l.snap=t.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),i==="cross"){var u=o.get(["label","show"]);if(c.show=u??!0,!a){var f=l.lineStyle=o.get("crossStyle");f&&_e(c,f.textStyle)}}return t.model.getModel("axisPointer",new Qe(l,n,r))}function MZ(t,e){e.eachSeries(function(n){var r=n.coordinateSystem,i=n.get(["tooltip","trigger"],!0),a=n.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||a===!1||n.get(["axisPointer","show"],!0)===!1||$(t.coordSysAxesInfo[Kf(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(n),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=n.getData().count())})})}function TZ(t,e){for(var n=e.model,r=e.dim,i=0;i<t.length;i++){var a=t[i]||{};if(Am(a[r+"AxisId"],n.id)||Am(a[r+"AxisIndex"],n.componentIndex)||Am(a[r+"AxisName"],n.name))return i}}function Am(t,e){return t==="all"||ht(t)&&be(t,e)>=0||t===e}function AZ(t){var e=$2(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,i=n.option,a=n.get("status"),o=n.get("value");o!=null&&(o=r.parse(o));var s=$b(n);a==null&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function $2(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Kf(t)]}function EZ(t){var e=$2(t);return e&&e.axisPointerModel}function $b(t){return!!t.get(["handle","show"])}function Kf(t){return t.type+"||"+t.id}var LA={},aR=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,a){this.axisPointerClass&&AZ(n),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,i,!0)},e.prototype.updateAxisPointer=function(n,r,i,a){this._doUpdateAxisPointerClass(n,i,!1)},e.prototype.remove=function(n,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(n,r){this._disposeAxisPointer(r),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(n,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=EZ(n);o?(this._axisPointer||(this._axisPointer=new a)).render(n,o,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},e.registerAxisPointerClass=function(n,r){LA[n]=r},e.getAxisPointerClass=function(n){return n&&LA[n]},e.type="axis",e}(_i),Gb=hn();function PZ(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),c=i.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var u=s.length,f=Gb(t).splitAreaColors,h=jt(),d=0;if(f)for(var p=0;p<c.length;p++){var v=f.get(c[p].tickValue);if(v!=null){d=(v+(u-1)*p)%u;break}}var g=i.toGlobalCoord(c[0].coord),y=o.getAreaStyle();s=ht(s)?s:[s];for(var p=1;p<c.length;p++){var m=i.toGlobalCoord(c[p].coord),b=void 0,x=void 0,_=void 0,w=void 0;i.isHorizontal()?(b=g,x=l.y,_=m-b,w=l.height,g=b+_):(b=l.x,x=g,_=l.width,w=m-x,g=x+w);var S=c[p-1].tickValue;S!=null&&h.set(S,d),e.add(new ln({anid:S!=null?"area_"+S:null,shape:{x:b,y:x,width:_,height:w},style:_e({fill:s[d]},y),autoBatch:!0,silent:!0})),d=(d+1)%u}Gb(t).splitAreaColors=h}}}function CZ(t){Gb(t).splitAreaColors=null}var kZ=["axisLine","axisTickLabel","axisName"],LZ=["splitArea","splitLine","minorSplitLine"],oR=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return e.prototype.render=function(n,r,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Ar,this.group.add(this._axisGroup),!!n.get("show")){var s=n.getCoordSysModel(),l=zb(s,n),c=new po(n,lt({handleAutoShown:function(f){for(var h=s.coordinateSystem.getCartesians(),d=0;d<h.length;d++)if(Nb(h[d].getOtherAxis(n.axis).scale))return!0;return!1}},l));$(kZ,c.add,c),this._axisGroup.add(c.getGroup()),$(LZ,function(f){n.get([f,"show"])&&DZ[f](this,this._axisGroup,n,s)},this);var u=a&&a.type==="changeAxisOrder"&&a.isInitSort;u||c5(o,this._axisGroup,n),t.prototype.render.call(this,n,r,i,a)}},e.prototype.remove=function(){CZ(this)},e.type="cartesianAxis",e}(aR),DZ={splitLine:function(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=ht(s)?s:[s];for(var l=r.coordinateSystem.getRect(),c=i.isHorizontal(),u=0,f=i.getTicksCoords({tickModel:a}),h=[],d=[],p=o.getLineStyle(),v=0;v<f.length;v++){var g=i.toGlobalCoord(f[v].coord);c?(h[0]=g,h[1]=l.y,d[0]=g,d[1]=l.y+l.height):(h[0]=l.x,h[1]=g,d[0]=l.x+l.width,d[1]=g);var y=u++%s.length,m=f[v].tickValue,b=new So({anid:m!=null?"line_"+f[v].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:d[0],y2:d[1]},style:_e({stroke:s[y]},p),silent:!0});$f(b.shape,p.lineWidth),e.add(b)}}},minorSplitLine:function(t,e,n,r){var i=n.axis,a=n.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=i.isHorizontal(),c=i.getMinorTicksCoords();if(c.length)for(var u=[],f=[],h=o.getLineStyle(),d=0;d<c.length;d++)for(var p=0;p<c[d].length;p++){var v=i.toGlobalCoord(c[d][p].coord);l?(u[0]=v,u[1]=s.y,f[0]=v,f[1]=s.y+s.height):(u[0]=s.x,u[1]=v,f[0]=s.x+s.width,f[1]=v);var g=new So({anid:"minor_line_"+c[d][p].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:f[0],y2:f[1]},style:h,silent:!0});$f(g.shape,h.lineWidth),e.add(g)}},splitArea:function(t,e,n,r){PZ(t,e,n,r)}},sR=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="xAxis",e}(oR),IZ=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=sR.type,n}return e.type="yAxis",e}(oR),RZ=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="grid",n}return e.prototype.render=function(n,r){this.group.removeAll(),n.get("show")&&this.group.add(new ln({shape:n.coordinateSystem.getRect(),style:_e({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(_i),DA={offset:0};function NZ(t){t.registerComponentView(RZ),t.registerComponentModel(aZ),t.registerCoordinateSystem("cartesian2d",vZ),wA(t,"x",Fb,DA),wA(t,"y",Fb,DA),t.registerComponentView(sR),t.registerComponentView(IZ),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var ys=hn(),IA=Yt,Em=Ge,BZ=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,n,r,i){var a=n.get("value"),o=n.get("status");if(this._axisModel=e,this._axisPointerModel=n,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var c={};this.makeElOption(c,a,e,n,r);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=u;var f=this._moveAnimation=this.determineAnimation(e,n);if(!s)s=this._group=new Ar,this.createPointerEl(s,c,e,n),this.createLabelEl(s,c,e,n),r.getZr().add(s);else{var h=un(RA,n,f);this.updatePointerEl(s,c,h),this.updateLabelEl(s,c,h,n)}BA(s,n,!0),this._renderHandle(a)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,n){var r=n.get("animation"),i=e.axis,a=i.type==="category",o=n.get("snap");if(!o&&!a)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var l=$2(e).seriesDataCount,c=i.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return r===!0},t.prototype.makeElOption=function(e,n,r,i,a){},t.prototype.createPointerEl=function(e,n,r,i){var a=n.pointer;if(a){var o=ys(e).pointerEl=new JH[a.type](IA(n.pointer));e.add(o)}},t.prototype.createLabelEl=function(e,n,r,i){if(n.label){var a=ys(e).labelEl=new Zn(IA(n.label));e.add(a),NA(a,i)}},t.prototype.updatePointerEl=function(e,n,r){var i=ys(e).pointerEl;i&&n.pointer&&(i.setStyle(n.pointer.style),r(i,{shape:n.pointer.shape}))},t.prototype.updateLabelEl=function(e,n,r,i){var a=ys(e).labelEl;a&&(a.setStyle(n.label.style),r(a,{x:n.label.x,y:n.label.y}),NA(a,i))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=n.getModel("handle"),o=n.get("status");if(!a.get("show")||!o||o==="hide"){i&&r.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=u2(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){JL(c.event)},onmousedown:Em(this._onHandleDragMove,this,0,0),drift:Em(this._onHandleDragMove,this),ondragend:Em(this._onHandleDragEnd,this)}),r.add(i)),BA(i,n,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ht(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,eI(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,n){RA(this._axisPointerModel,!n&&this._moveAnimation,this._handle,Pm(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,n){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(Pm(r),[e,n],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(Pm(i)),ys(r).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var n=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var n=e.getZr(),r=this._group,i=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),i&&n.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),Ab(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,n,r){return r=r||0,{x:e[r],y:e[1-r],width:n[r],height:n[1-r]}},t}();function RA(t,e,n,r){lR(ys(n).lastProp,r)||(ys(n).lastProp=r,e?Ea(n,r,t):(n.stopAnimation(),n.attr(r)))}function lR(t,e){if(Mt(t)&&Mt(e)){var n=!0;return $(e,function(r,i){n=n&&lR(t[i],r)}),!!n}else return t===e}function NA(t,e){t[e.get(["label","show"])?"show":"hide"]()}function Pm(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function BA(t,e,n){var r=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=n)})}function FZ(t){var e=t.get("type"),n=t.getModel(e+"Style"),r;return e==="line"?(r=n.getLineStyle(),r.fill=null):e==="shadow"&&(r=n.getAreaStyle(),r.stroke=null),r}function jZ(t,e,n,r,i){var a=n.get("value"),o=cR(a,e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),l=i0(s.get("padding")||0),c=s.getFont(),u=Y_(o,c),f=i.position,h=u.width+l[1]+l[3],d=u.height+l[0]+l[2],p=i.align;p==="right"&&(f[0]-=h),p==="center"&&(f[0]-=h/2);var v=i.verticalAlign;v==="bottom"&&(f[1]-=d),v==="middle"&&(f[1]-=d/2),zZ(f,h,d,r);var g=s.get("backgroundColor");(!g||g==="auto")&&(g=e.get(["axisLine","lineStyle","color"])),t.label={x:f[0],y:f[1],style:Oo(s,{text:o,font:c,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function zZ(t,e,n,r){var i=r.getWidth(),a=r.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+n,a)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function cR(t,e,n,r,i){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:i.precision}),o=i.formatter;if(o){var s={value:F2(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};$(r,function(l){var c=n.getSeriesByIndex(l.seriesIndex),u=l.dataIndexInside,f=c&&c.getDataParams(u);f&&s.seriesData.push(f)}),vt(o)?a=o.replace("{value}",a):zt(o)&&(a=o(s))}return a}function uR(t,e,n){var r=Vl();return F_(r,r,n.rotation),U1(r,r,n.position),c2([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function $Z(t,e,n,r,i,a){var o=po.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),jZ(e,r,i,a,{position:uR(r.axis,t,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function GZ(t,e,n){return n=n||0,{x1:t[n],y1:t[1-n],x2:e[n],y2:e[1-n]}}function WZ(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}var HZ=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(n,r,i,a,o){var s=i.axis,l=s.grid,c=a.get("type"),u=FA(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(r,!0));if(c&&c!=="none"){var h=FZ(a),d=YZ[c](s,f,u);d.style=h,n.graphicKey=d.type,n.pointer=d}var p=zb(l.model,i);$Z(r,n,p,i,a,o)},e.prototype.getHandleTransform=function(n,r,i){var a=zb(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=uR(r.axis,n,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(n,r,i,a){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),c=FA(s,o).getOtherAxis(o).getGlobalExtent(),u=o.dim==="x"?0:1,f=[n.x,n.y];f[u]+=r[u],f[u]=Math.min(l[1],f[u]),f[u]=Math.max(l[0],f[u]);var h=(c[1]+c[0])/2,d=[h,h];d[u]=f[u];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:n.rotation,cursorPoint:d,tooltipOption:p[u]}},e}(BZ);function FA(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var YZ={line:function(t,e,n){var r=GZ([e,n[0]],[e,n[1]],jA(t));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(t,e,n){var r=Math.max(1,t.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:WZ([e-r/2,n[0]],[r,i],jA(t))}}};function jA(t){return t.dim==="x"?0:1}var VZ=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(ae),xa=hn(),XZ=$;function fR(t,e,n){if(!kt.node){var r=e.getZr();xa(r).records||(xa(r).records={}),UZ(r,e);var i=xa(r).records[t]||(xa(r).records[t]={});i.handler=n}}function UZ(t,e){if(xa(t).initialized)return;xa(t).initialized=!0,n("click",un(zA,"click")),n("mousemove",un(zA,"mousemove")),n("globalout",ZZ);function n(r,i){t.on(r,function(a){var o=KZ(e);XZ(xa(t).records,function(s){s&&i(s,a,o.dispatchAction)}),qZ(o.pendings,e)})}}function qZ(t,e){var n=t.showTip.length,r=t.hideTip.length,i;n?i=t.showTip[n-1]:r&&(i=t.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function ZZ(t,e,n){t.handler("leave",null,n)}function zA(t,e,n,r){e.handler(t,n,r)}function KZ(t){var e={showTip:[],hideTip:[]},n=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}function Wb(t,e){if(!kt.node){var n=e.getZr(),r=(xa(n).records||{})[t];r&&(xa(n).records[t]=null)}}var QZ=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var a=r.getComponent("tooltip"),o=n.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";fR("axisPointer",i,function(s,l,c){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&c({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(n,r){Wb("axisPointer",r)},e.prototype.dispose=function(n,r){Wb("axisPointer",r)},e.type="axisPointer",e}(_i);function hR(t,e){var n=[],r=t.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),o=Rh(a,t);if(o==null||o<0||ht(o))return{point:[]};var s=a.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(t.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),f=u.dim,h=c.dim,d=f==="x"||f==="radius"?1:0,p=a.mapDimension(h),v=[];v[d]=a.get(p,o),v[1-d]=a.get(a.getCalculationInfo("stackResultDimension"),o),n=l.dataToPoint(v)||[]}else n=l.dataToPoint(a.getValues(yt(l.dimensions,function(y){return a.mapDimension(y)}),o))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),n=[g.x+g.width/2,g.y+g.height/2]}return{point:n,el:s}}var $A=hn();function JZ(t,e,n){var r=t.currTrigger,i=[t.x,t.y],a=t,o=t.dispatchAction||Ge(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){ev(i)&&(i=hR({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=ev(i),c=a.axesInfo,u=s.axesInfo,f=r==="leave"||ev(i),h={},d={},p={list:[],map:{}},v={showPointer:un(eK,d),showTooltip:un(nK,p)};$(s.coordSysMap,function(y,m){var b=l||y.containPoint(i);$(s.coordSysAxesInfo[m],function(x,_){var w=x.axis,S=oK(c,x);if(!f&&b&&(!c||S)){var O=S&&S.value;O==null&&!l&&(O=w.pointToData(i)),O!=null&&GA(x,O,v,!1,h)}})});var g={};return $(u,function(y,m){var b=y.linkGroup;b&&!d[m]&&$(b.axesInfo,function(x,_){var w=d[_];if(x!==y&&w){var S=w.value;b.mapper&&(S=y.axis.scale.parse(b.mapper(S,WA(x),WA(y)))),g[y.key]=S}})}),$(g,function(y,m){GA(u[m],y,v,!0,h)}),rK(d,u,h),iK(p,i,t,o),aK(u,o,n),h}}function GA(t,e,n,r,i){var a=t.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!t.involveSeries){n.showPointer(t,e);return}var o=tK(e,t),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&lt(i,s[0]),!r&&t.snap&&a.containData(l)&&l!=null&&(e=l),n.showPointer(t,e,s),n.showTooltip(t,o,l)}}function tK(t,e){var n=e.axis,r=n.dim,i=t,a=[],o=Number.MAX_VALUE,s=-1;return $(e.seriesModels,function(l,c){var u=l.getData().mapDimensionsAll(r),f,h;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(u,t,n);h=d.dataIndices,f=d.nestestValue}else{if(h=l.getData().indicesOfNearest(u[0],t,n.type==="category"?.5:null),!h.length)return;f=l.getData().get(u[0],h[0])}if(!(f==null||!isFinite(f))){var p=t-f,v=Math.abs(p);v<=o&&((v<o||p>=0&&s<0)&&(o=v,s=p,i=f,a.length=0),$(h,function(g){a.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:a,snapToValue:i}}function eK(t,e,n,r){t[e.key]={value:n,payloadBatch:r}}function nK(t,e,n,r){var i=n.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,c=Kf(l),u=t.map[c];u||(u=t.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function rK(t,e,n){var r=n.axesInfo=[];$(e,function(i,a){var o=i.axisPointerModel.option,s=t[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function iK(t,e,n,r){if(ev(e)||!t.list.length){r({type:"hideTip"});return}var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}function aK(t,e,n){var r=n.getZr(),i="axisPointerLastHighlights",a=$A(r)[i]||{},o=$A(r)[i]={};$(t,function(c,u){var f=c.axisPointerModel.option;f.status==="show"&&c.triggerEmphasis&&$(f.seriesDataIndices,function(h){var d=h.seriesIndex+" | "+h.dataIndex;o[d]=h})});var s=[],l=[];$(a,function(c,u){!o[u]&&l.push(c)}),$(o,function(c,u){!a[u]&&s.push(c)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function oK(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function WA(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function ev(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function dR(t){aR.registerAxisPointerClass("CartesianAxisPointer",HZ),t.registerComponentModel(VZ),t.registerComponentView(QZ),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var n=e.axisPointer.link;n&&!ht(n)&&(e.axisPointer.link=[n])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,n){e.getComponent("axisPointer").coordSysAxesInfo=wZ(e,n)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},JZ)}function sK(t){Mo(NZ),Mo(dR)}function lK(t,e){var n=i0(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),t=new ln({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),t}var cK=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(ae);function pR(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function vR(t){if(kt.domSupported){for(var e=document.documentElement.style,n=0,r=t.length;n<r;n++)if(t[n]in e)return t[n]}}var gR=vR(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),uK=vR(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function yR(t,e){if(!t)return e;e=T5(e,!0);var n=t.indexOf(e);return t=n===-1?e:"-"+t.slice(0,n)+"-"+e,t.toLowerCase()}function fK(t,e){var n=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return n?n[e]:null}var hK=yR(uK,"transition"),G2=yR(gR,"transform"),dK="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(kt.transform3dSupported?"will-change:transform;":"");function pK(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function vK(t,e,n){if(!vt(n)||n==="inside")return"";var r=t.get("backgroundColor"),i=t.get("borderWidth");e=Wf(e);var a=pK(n),o=Math.max(Math.round(i)*1.5,6),s="",l=G2+":",c;be(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(c=a==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(c=a==="top"?225:45)+"deg)");var u=c*Math.PI/180,f=o+i,h=f*Math.abs(Math.cos(u))+f*Math.abs(Math.sin(u)),d=Math.round(((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-f)/2)*100)/100;s+=";"+a+":-"+d+"px";var p=e+" solid "+i+"px;",v=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+v.join("")+'"></div>'}function gK(t,e){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+t/2+"s "+n,i="opacity"+r+",visibility"+r;return e||(r=" "+t+"s "+n,i+=kt.transformSupported?","+G2+r:",left"+r+",top"+r),hK+":"+i}function HA(t,e,n){var r=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!kt.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=kt.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return n?"top:0;left:0;"+G2+":"+o+";":[["top",0],["left",0],[gR,o]]}function yK(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(n*3/2)+"px");var i=t.get("textShadowColor"),a=t.get("textShadowBlur")||0,o=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return i&&a&&e.push("text-shadow:"+o+"px "+s+"px "+a+"px "+i),$(["decoration","align"],function(l){var c=t.get(l);c&&e.push("text-"+l+":"+c)}),e.join(";")}function mK(t,e,n){var r=[],i=t.get("transitionDuration"),a=t.get("backgroundColor"),o=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),c=t.get("shadowOffsetY"),u=t.getModel("textStyle"),f=Q5(t,"html"),h=l+"px "+c+"px "+o+"px "+s;return r.push("box-shadow:"+h),e&&i&&r.push(gK(i,n)),a&&r.push("background-color:"+a),$(["width","color","radius"],function(d){var p="border-"+d,v=T5(p),g=t.get(v);g!=null&&r.push(p+":"+g+(d==="color"?"":"px"))}),r.push(yK(u)),f!=null&&r.push("padding:"+i0(f).join("px ")+"px"),r.join(";")+";"}function YA(t,e,n,r,i){var a=e&&e.painter;if(n){var o=a&&a.getViewportRoot();o&&a$(t,o,n,r,i)}else{t[0]=r,t[1]=i;var s=a&&a.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var bK=function(){function t(e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,kt.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=e.getZr(),a=n.appendTo,o=a&&(vt(a)?document.querySelector(a):Lf(a)?a:zt(a)&&a(e.getDom()));YA(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(r),this._api=e,this._container=o;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var c=i.handler,u=i.painter.getViewportRoot();Fr(u,l,!0),c.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){if(!this._container){var n=this._api.getDom(),r=fK(n,"position"),i=n.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},t.prototype.show=function(e,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=dK+mK(e,!this._firstShow,this._longHide)+HA(a[0],a[1],!0)+("border-color:"+Wf(n)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,n,r,i,a){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(vt(a)&&r.get("trigger")==="item"&&!pR(r)&&(s=vK(r,i,a)),vt(e))o.innerHTML=e+s;else if(e){o.innerHTML="",ht(e)||(e=[e]);for(var l=0;l<e.length;l++)Lf(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var c=document.createElement("div");c.innerHTML=s,o.appendChild(c)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},t.prototype.moveTo=function(e,n){var r=this._styleCoord;if(YA(r,this._zr,this._container,e,n),r[0]!=null&&r[1]!=null){var i=this.el.style,a=HA(r[0],r[1]);$(a,function(o){i[o[0]]=o[1]})}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){var e=this,n=this.el.style;n.visibility="hidden",n.opacity="0",kt.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ge(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},t}(),xK=function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),XA(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,n,r,i,a){var o=this;Mt(e)&&fr(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new Zn({style:{rich:n.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Q5(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),$(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){o.el.style[c]=r.get(c)}),$(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){o.el.style[c]=s.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,n=this.el.getBoundingRect(),r=VA(e.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},t.prototype.moveTo=function(e,n){var r=this.el;if(r){var i=this._styleCoord;XA(i,this._zr,e,n),e=i[0],n=i[1];var a=r.style,o=Va(a.borderWidth||0),s=VA(a);r.x=e+o+s.left,r.y=n+o+s.top,r.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ge(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function Va(t){return Math.max(0,t)}function VA(t){var e=Va(t.shadowBlur||0),n=Va(t.shadowOffsetX||0),r=Va(t.shadowOffsetY||0);return{left:Va(e-n),right:Va(e+n),top:Va(e-r),bottom:Va(e+r)}}function XA(t,e,n,r){t[0]=n,t[1]=r,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var _K=new ln({shape:{x:-1,y:-1,width:2,height:2}}),wK=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){if(!(kt.node||!r.getDom())){var i=n.getComponent("tooltip"),a=this._renderMode=NG(i.get("renderMode"));this._tooltipContent=a==="richText"?new xK(r):new bK(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(n,r,i){if(!(kt.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=r,this._api=i;var a=this._tooltipContent;a.update(n),a.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?eI(this,"_updatePosition",50,"fixRate"):Ab(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var n=this._tooltipModel,r=n.get("triggerOn");fR("itemTooltip",this._api,Ge(function(i,a,o){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var n=this._tooltipModel,r=this._ecModel,i=this._api,a=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(n,r,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(n,r,i,a){if(!(a.from===this.uid||kt.node||!i.getDom())){var o=UA(a,i);this._ticket="";var s=a.dataByCoordSys,l=TK(a,r,i);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var u=_K;u.x=a.x,u.y=a.y,u.update(),se(u).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:u},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(n,r,i,a))return;var f=hR(a,r),h=f.point[0],d=f.point[1];h!=null&&d!=null&&this._tryShow({offsetX:h,offsetY:d,target:f.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(n,r,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(UA(a,i))},e.prototype._manuallyAxisShowTip=function(n,r,i,a){var o=a.seriesIndex,s=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var c=r.getSeriesByIndex(o);if(c){var u=c.getData(),f=wu([u.getItemModel(s),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(n,r){var i=n.target,a=this._tooltipModel;if(a){this._lastX=n.offsetX,this._lastY=n.offsetY;var o=n.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,n);else if(i){var s=se(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,c;$u(i,function(u){if(se(u).dataIndex!=null)return l=u,!0;if(se(u).tooltipConfig!=null)return c=u,!0},!0),l?this._showSeriesItemTooltip(n,l,r):c?this._showComponentItemTooltip(n,c,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(n,r){var i=n.get("showDelay");r=Ge(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(n,r){var i=this._ecModel,a=this._tooltipModel,o=[r.offsetX,r.offsetY],s=wu([r.tooltipOption],a),l=this._renderMode,c=[],u=Xf("section",{blocks:[],noHeader:!0}),f=[],h=new cm;$(n,function(m){$(m.dataByAxis,function(b){var x=i.getComponent(b.axisDim+"Axis",b.axisIndex),_=b.value;if(!(!x||_==null)){var w=cR(_,x.axis,i,b.seriesDataIndices,b.valueLabelOpt),S=Xf("section",{header:w,noHeader:!Fi(w),sortBlocks:!0,blocks:[]});u.blocks.push(S),$(b.seriesDataIndices,function(O){var M=i.getSeriesByIndex(O.seriesIndex),T=O.dataIndexInside,A=M.getDataParams(T);if(!(A.dataIndex<0)){A.axisDim=b.axisDim,A.axisIndex=b.axisIndex,A.axisType=b.axisType,A.axisId=b.axisId,A.axisValue=F2(x.axis,{value:_}),A.axisValueLabel=w,A.marker=h.makeTooltipMarker("item",Wf(A.color),l);var P=pT(M.formatTooltip(T,!0,null)),E=P.frag;if(E){var C=wu([M],a).get("valueFormatter");S.blocks.push(C?lt({valueFormatter:C},E):E)}P.text&&f.push(P.text),c.push(A)}})}})}),u.blocks.reverse(),f.reverse();var d=r.position,p=s.get("order"),v=bT(u,h,l,p,i.get("useUTC"),s.get("textStyle"));v&&f.unshift(v);var g=l==="richText"?`

`:"<br/>",y=f.join(g);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(n,c)?this._updatePosition(s,d,o[0],o[1],this._tooltipContent,c):this._showTooltipContent(s,y,c,Math.random()+"",o[0],o[1],d,null,h)})},e.prototype._showSeriesItemTooltip=function(n,r,i){var a=this._ecModel,o=se(r),s=o.seriesIndex,l=a.getSeriesByIndex(s),c=o.dataModel||l,u=o.dataIndex,f=o.dataType,h=c.getData(f),d=this._renderMode,p=n.positionDefault,v=wu([h.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=v.get("trigger");if(!(g!=null&&g!=="item")){var y=c.getDataParams(u,f),m=new cm;y.marker=m.makeTooltipMarker("item",Wf(y.color),d);var b=pT(c.formatTooltip(u,!1,f)),x=v.get("order"),_=v.get("valueFormatter"),w=b.frag,S=w?bT(_?lt({valueFormatter:_},w):w,m,d,x,a.get("useUTC"),v.get("textStyle")):b.text,O="item_"+c.name+"_"+u;this._showOrMove(v,function(){this._showTooltipContent(v,S,y,O,n.offsetX,n.offsetY,n.position,n.target,m)}),i({type:"showTip",dataIndexInside:u,dataIndex:h.getRawIndex(u),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(n,r,i){var a=this._renderMode==="html",o=se(r),s=o.tooltipConfig,l=s.option||{},c=l.encodeHTMLContent;if(vt(l)){var u=l;l={content:u,formatter:u},c=!0}c&&a&&l.content&&(l=Yt(l),l.content=cr(l.content));var f=[l],h=this._ecModel.getComponent(o.componentMainType,o.componentIndex);h&&f.push(h),f.push({formatter:l.content});var d=n.positionDefault,p=wu(f,this._tooltipModel,d?{position:d}:null),v=p.get("content"),g=Math.random()+"",y=new cm;this._showOrMove(p,function(){var m=Yt(p.get("formatterParams")||{});this._showTooltipContent(p,v,m,g,n.offsetX,n.offsetY,n.position,r,y)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(n,r,i,a,o,s,l,c,u){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var f=this._tooltipContent;f.setEnterable(n.get("enterable"));var h=n.get("formatter");l=l||n.get("position");var d=r,p=this._getNearestPoint([o,s],i,n.get("trigger"),n.get("borderColor")),v=p.color;if(h)if(vt(h)){var g=n.ecModel.get("useUTC"),y=ht(i)?i[0]:i,m=y&&y.axisType&&y.axisType.indexOf("time")>=0;d=h,m&&(d=Jg(y.axisValue,d,g)),d=A5(d,i,!0)}else if(zt(h)){var b=Ge(function(x,_){x===this._ticket&&(f.setContent(_,u,n,v,l),this._updatePosition(n,l,o,s,f,i,c))},this);this._ticket=a,d=h(i,a,b)}else d=h;f.setContent(d,u,n,v,l),f.show(n,v),this._updatePosition(n,l,o,s,f,i,c)}},e.prototype._getNearestPoint=function(n,r,i,a){if(i==="axis"||ht(r))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!ht(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(n,r,i,a,o,s,l){var c=this._api.getWidth(),u=this._api.getHeight();r=r||n.get("position");var f=o.getSize(),h=n.get("align"),d=n.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),zt(r)&&(r=r([i,a],s,o.el,p,{viewSize:[c,u],contentSize:f.slice()})),ht(r))i=Vn(r[0],c),a=Vn(r[1],u);else if(Mt(r)){var v=r;v.width=f[0],v.height=f[1];var g=Hf(v,{width:c,height:u});i=g.x,a=g.y,h=null,d=null}else if(vt(r)&&l){var y=MK(r,p,f,n.get("borderWidth"));i=y[0],a=y[1]}else{var y=SK(i,a,o,c,u,h?null:20,d?null:20);i=y[0],a=y[1]}if(h&&(i-=qA(h)?f[0]/2:h==="right"?f[0]:0),d&&(a-=qA(d)?f[1]/2:d==="bottom"?f[1]:0),pR(n)){var y=OK(i,a,o,c,u);i=y[0],a=y[1]}o.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(n,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===n.length;return o&&$(i,function(s,l){var c=s.dataByAxis||[],u=n[l]||{},f=u.dataByAxis||[];o=o&&c.length===f.length,o&&$(c,function(h,d){var p=f[d]||{},v=h.seriesDataIndices||[],g=p.seriesDataIndices||[];o=o&&h.value===p.value&&h.axisType===p.axisType&&h.axisId===p.axisId&&v.length===g.length,o&&$(v,function(y,m){var b=g[m];o=o&&y.seriesIndex===b.seriesIndex&&y.dataIndex===b.dataIndex}),a&&$(h.seriesDataIndices,function(y){var m=y.seriesIndex,b=r[m],x=a[m];b&&x&&x.data!==b.data&&(o=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=r,!!o},e.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},e.prototype.dispose=function(n,r){kt.node||!r.getDom()||(Ab(this,"_updatePosition"),this._tooltipContent.dispose(),Wb("itemTooltip",r))},e.type="tooltip",e}(_i);function wu(t,e,n){var r=e.ecModel,i;n?(i=new Qe(n,r,r),i=new Qe(e.option,i,r)):i=e;for(var a=t.length-1;a>=0;a--){var o=t[a];o&&(o instanceof Qe&&(o=o.get("tooltip",!0)),vt(o)&&(o={formatter:o}),o&&(i=new Qe(o,i,r)))}return i}function UA(t,e){return t.dispatchAction||Ge(e.dispatchAction,e)}function SK(t,e,n,r,i,a,o){var s=n.getSize(),l=s[0],c=s[1];return a!=null&&(t+l+a+2>r?t-=l+a:t+=a),o!=null&&(e+c+o>i?e-=c+o:e+=o),[t,e]}function OK(t,e,n,r,i){var a=n.getSize(),o=a[0],s=a[1];return t=Math.min(t+o,r)-o,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function MK(t,e,n,r){var i=n[0],a=n[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,c=e.width,u=e.height;switch(t){case"inside":s=e.x+c/2-i/2,l=e.y+u/2-a/2;break;case"top":s=e.x+c/2-i/2,l=e.y-a-o;break;case"bottom":s=e.x+c/2-i/2,l=e.y+u+o;break;case"left":s=e.x-i-o,l=e.y+u/2-a/2;break;case"right":s=e.x+c+o,l=e.y+u/2-a/2}return[s,l]}function qA(t){return t==="center"||t==="middle"}function TK(t,e,n){var r=U_(t).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=Nh(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=n.getViewOfComponentModel(o),l;if(s.group.traverse(function(c){var u=se(c).tooltipConfig;if(u&&u.name===t.name)return l=c,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function AK(t){Mo(dR),t.registerComponentModel(cK),t.registerComponentView(wK),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Un),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Un)}var EK=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(ae),PK=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){if(this.group.removeAll(),!!n.get("show")){var a=this.group,o=n.getModel("textStyle"),s=n.getModel("subtextStyle"),l=n.get("textAlign"),c=Pt(n.get("textBaseline"),n.get("textVerticalAlign")),u=new Zn({style:Oo(o,{text:n.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=u.getBoundingRect(),h=n.get("subtext"),d=new Zn({style:Oo(s,{text:h,fill:s.getTextColor(),y:f.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=n.get("link"),v=n.get("sublink"),g=n.get("triggerEvent",!0);u.silent=!p&&!g,d.silent=!v&&!g,p&&u.on("click",function(){ZM(p,"_"+n.get("target"))}),v&&d.on("click",function(){ZM(v,"_"+n.get("subtarget"))}),se(u).eventData=se(d).eventData=g?{componentType:"title",componentIndex:n.componentIndex}:null,a.add(u),h&&a.add(d);var y=a.getBoundingRect(),m=n.getBoxLayoutParams();m.width=y.width,m.height=y.height;var b=Hf(m,{width:i.getWidth(),height:i.getHeight()},n.get("padding"));l||(l=n.get("left")||n.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),c||(c=n.get("top")||n.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?b.y+=b.height:c==="middle"&&(b.y+=b.height/2),c=c||"top"),a.x=b.x,a.y=b.y,a.markRedraw();var x={align:l,verticalAlign:c};u.setStyle(x),d.setStyle(x),y=a.getBoundingRect();var _=b.margin,w=n.getItemStyle(["color","opacity"]);w.fill=n.get("backgroundColor");var S=new ln({shape:{x:y.x-_[3],y:y.y-_[0],width:y.width+_[1]+_[3],height:y.height+_[0]+_[2],r:n.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});a.add(S)}},e.type="title",e}(_i);function CK(t){t.registerComponentModel(EK),t.registerComponentView(PK)}var kK=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},Hb=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),n.selected=n.selected||{},this._updateSelector(n)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},e.prototype._updateSelector=function(n){var r=n.selector,i=this.ecModel;r===!0&&(r=n.selector=["all","inverse"]),ht(r)&&$(r,function(a,o){vt(a)&&(a={type:a}),r[o]=Ee(a,kK(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<n.length;i++){var a=n[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(n[0].get("name"))}},e.prototype._updateData=function(n){var r=[],i=[];n.eachRawSeries(function(l){var c=l.name;i.push(c);var u;if(l.legendVisualProvider){var f=l.legendVisualProvider,h=f.getAllNames();n.isSeriesFiltered(l)||(i=i.concat(h)),h.length?r=r.concat(h):u=!0}else u=!0;u&&X_(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,o=jt(),s=yt(a,function(l){return(vt(l)||He(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new Qe(l,this,this.ecModel))},this);this._data=Rn(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(n){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;$(a,function(o){r[o.get("name")]=!1})}r[n]=!0},e.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},e.prototype.toggleSelected=function(n){var r=this.option.selected;r.hasOwnProperty(n)||(r[n]=!0),this[r[n]?"unSelect":"select"](n)},e.prototype.allSelect=function(){var n=this._data,r=this.option.selected;$(n,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var n=this._data,r=this.option.selected;$(n,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(n){var r=this.option.selected;return!(r.hasOwnProperty(n)&&!r[n])&&be(this._availableNames,n)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(ae),bl=un,Yb=$,qd=Ar,mR=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return e.prototype.init=function(){this.group.add(this._contentGroup=new qd),this.group.add(this._selectorGroup=new qd),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(n,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var o=n.get("align"),s=n.get("orient");(!o||o==="auto")&&(o=n.get("left")==="right"&&s==="vertical"?"right":"left");var l=n.get("selector",!0),c=n.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=s==="horizontal"?"end":"start"),this.renderInner(o,n,r,i,l,s,c);var u=n.getBoxLayoutParams(),f={width:i.getWidth(),height:i.getHeight()},h=n.get("padding"),d=Hf(u,f,h),p=this.layoutInner(n,o,d,a,l,c),v=Hf(_e({width:p.width,height:p.height},u),f,h);this.group.x=v.x-p.x,this.group.y=v.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=lK(p,n))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(n,r,i,a,o,s,l){var c=this.getContentGroup(),u=jt(),f=r.get("selectedMode"),h=[];i.eachRawSeries(function(d){!d.get("legendHoverLink")&&h.push(d.id)}),Yb(r.getData(),function(d,p){var v=d.get("name");if(!this.newlineDisabled&&(v===""||v===`
`)){var g=new qd;g.newline=!0,c.add(g);return}var y=i.getSeriesByName(v)[0];if(!u.get(v))if(y){var m=y.getData(),b=m.getVisual("legendLineStyle")||{},x=m.getVisual("legendIcon"),_=m.getVisual("style"),w=this._createItem(y,v,p,d,r,n,b,_,x,f,a);w.on("click",bl(ZA,v,null,a,h)).on("mouseover",bl(Vb,y.name,null,a,h)).on("mouseout",bl(Xb,y.name,null,a,h)),i.ssr&&w.eachChild(function(S){var O=se(S);O.seriesIndex=y.seriesIndex,O.dataIndex=p,O.ssrType="legend"}),u.set(v,!0)}else i.eachRawSeries(function(S){if(!u.get(v)&&S.legendVisualProvider){var O=S.legendVisualProvider;if(!O.containName(v))return;var M=O.indexOfName(v),T=O.getItemVisual(M,"style"),A=O.getItemVisual(M,"legendIcon"),P=uo(T.fill);P&&P[3]===0&&(P[3]=.2,T=lt(lt({},T),{fill:$_(P,"rgba")}));var E=this._createItem(S,v,p,d,r,n,{},T,A,f,a);E.on("click",bl(ZA,null,v,a,h)).on("mouseover",bl(Vb,null,v,a,h)).on("mouseout",bl(Xb,null,v,a,h)),i.ssr&&E.eachChild(function(C){var k=se(C);k.seriesIndex=S.seriesIndex,k.dataIndex=p,k.ssrType="legend"}),u.set(v,!0)}},this)},this),o&&this._createSelector(o,r,a,s,l)},e.prototype._createSelector=function(n,r,i,a,o){var s=this.getSelectorGroup();Yb(n,function(c){var u=c.type,f=new Zn({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(f);var h=r.getModel("selectorLabel"),d=r.getModel(["emphasis","selectorLabel"]);f5(f,{normal:h,emphasis:d},{defaultText:c.title}),vb(f)})},e.prototype._createItem=function(n,r,i,a,o,s,l,c,u,f,h){var d=n.visualDrawType,p=o.get("itemWidth"),v=o.get("itemHeight"),g=o.isSelected(r),y=a.get("symbolRotate"),m=a.get("symbolKeepAspect"),b=a.get("icon");u=b||u||"roundRect";var x=LK(u,a,l,c,d,g,h),_=new qd,w=a.getModel("textStyle");if(zt(n.getLegendIcon)&&(!b||b==="inherit"))_.add(n.getLegendIcon({itemWidth:p,itemHeight:v,icon:u,iconRotate:y,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:m}));else{var S=b==="inherit"&&n.getData().getVisual("symbol")?y==="inherit"?n.getData().getVisual("symbolRotate"):y:0;_.add(DK({itemWidth:p,itemHeight:v,icon:u,iconRotate:S,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:m}))}var O=s==="left"?p+5:-5,M=s,T=o.get("formatter"),A=r;vt(T)&&T?A=T.replace("{name}",r??""):zt(T)&&(A=T(r));var P=g?w.getTextColor():a.get("inactiveColor");_.add(new Zn({style:Oo(w,{text:A,x:O,y:v/2,fill:P,align:M,verticalAlign:"middle"},{inheritColor:P})}));var E=new ln({shape:_.getBoundingRect(),style:{fill:"transparent"}}),C=a.getModel("tooltip");return C.get("show")&&f2({el:E,componentModel:o,itemName:r,itemTooltipOption:C.option}),_.add(E),_.eachChild(function(k){k.silent=!0}),E.silent=!f,this.getContentGroup().add(_),vb(_),_.__legendDataIndex=i,_},e.prototype.layoutInner=function(n,r,i,a,o,s){var l=this.getContentGroup(),c=this.getSelectorGroup();vf(n.get("orient"),l,n.get("itemGap"),i.width,i.height);var u=l.getBoundingRect(),f=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),o){vf("horizontal",c,n.get("selectorItemGap",!0));var h=c.getBoundingRect(),d=[-h.x,-h.y],p=n.get("selectorButtonGap",!0),v=n.getOrient().index,g=v===0?"width":"height",y=v===0?"height":"width",m=v===0?"y":"x";s==="end"?d[v]+=u[g]+p:f[v]+=h[g]+p,d[1-v]+=u[y]/2-h[y]/2,c.x=d[0],c.y=d[1],l.x=f[0],l.y=f[1];var b={x:0,y:0};return b[g]=u[g]+p+h[g],b[y]=Math.max(u[y],h[y]),b[m]=Math.min(0,h[m]+d[1-v]),b}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(_i);function LK(t,e,n,r,i,a,o){function s(g,y){g.lineWidth==="auto"&&(g.lineWidth=y.lineWidth>0?2:0),Yb(g,function(m,b){g[b]==="inherit"&&(g[b]=y[b])})}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=t.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");c.decal=!f||f==="inherit"?r.decal:kb(f,o),c.fill==="inherit"&&(c.fill=r[i]),c.stroke==="inherit"&&(c.stroke=r[u]),c.opacity==="inherit"&&(c.opacity=(i==="fill"?r:n).opacity),s(c,r);var h=e.getModel("lineStyle"),d=h.getLineStyle();if(s(d,n),c.fill==="auto"&&(c.fill=r.fill),c.stroke==="auto"&&(c.stroke=r.fill),d.stroke==="auto"&&(d.stroke=r.fill),!a){var p=e.get("inactiveBorderWidth"),v=c[u];c.lineWidth=p==="auto"?r.lineWidth>0&&v?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),d.stroke=h.get("inactiveColor"),d.lineWidth=h.get("inactiveWidth")}return{itemStyle:c,lineStyle:d}}function DK(t){var e=t.icon||"roundRect",n=A2(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function ZA(t,e,n,r){Xb(t,e,n,r),n.dispatchAction({type:"legendToggleSelect",name:t??e}),Vb(t,e,n,r)}function bR(t){for(var e=t.getZr().storage.getDisplayList(),n,r=0,i=e.length;r<i&&!(n=e[r].states.emphasis);)r++;return n&&n.hoverLayer}function Vb(t,e,n,r){bR(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:r})}function Xb(t,e,n,r){bR(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:r})}function IK(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(n){for(var r=0;r<e.length;r++)if(!e[r].isSelected(n.name))return!1;return!0})}function Su(t,e,n){var r={},i=t==="toggleSelected",a;return n.eachComponent("legend",function(o){i&&a!=null?o[a?"select":"unSelect"](e.name):t==="allSelect"||t==="inverseSelect"?o[t]():(o[t](e.name),a=o.isSelected(e.name));var s=o.getData();$(s,function(l){var c=l.get("name");if(!(c===`
`||c==="")){var u=o.isSelected(c);r.hasOwnProperty(c)?r[c]=r[c]&&u:r[c]=u}})}),t==="allSelect"||t==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function RK(t){t.registerAction("legendToggleSelect","legendselectchanged",un(Su,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",un(Su,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",un(Su,"inverseSelect")),t.registerAction("legendSelect","legendselected",un(Su,"select")),t.registerAction("legendUnSelect","legendunselected",un(Su,"unSelect"))}function xR(t){t.registerComponentModel(Hb),t.registerComponentView(mR),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,IK),t.registerSubTypeDefaulter("legend",function(){return"plain"}),RK(t)}var NK=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},e.prototype.init=function(n,r,i){var a=a0(n);t.prototype.init.call(this,n,r,i),KA(this,n,a)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),KA(this,this.option,n)},e.type="legend.scroll",e.defaultOption=p5(Hb.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Hb);function KA(t,e,n){var r=t.getOrient(),i=[1,1];i[r.index]=0,lc(e,n,{type:"box",ignoreSize:!!i})}var QA=Ar,Cm=["width","height"],km=["x","y"],BK=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new QA),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new QA)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(n,r,i,a,o,s,l){var c=this;t.prototype.renderInner.call(this,n,r,i,a,o,s,l);var u=this._controllerGroup,f=r.get("pageIconSize",!0),h=ht(f)?f:[f,f];p("pagePrev",0);var d=r.getModel("pageTextStyle");u.add(new Zn({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(v,g){var y=v+"DataIndex",m=u2(r.get("pageIcons",!0)[r.getOrient().name][g],{onclick:Ge(c._pageGo,c,y,r,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});m.name=v,u.add(m)}},e.prototype.layoutInner=function(n,r,i,a,o,s){var l=this.getSelectorGroup(),c=n.getOrient().index,u=Cm[c],f=km[c],h=Cm[1-c],d=km[1-c];o&&vf("horizontal",l,n.get("selectorItemGap",!0));var p=n.get("selectorButtonGap",!0),v=l.getBoundingRect(),g=[-v.x,-v.y],y=Yt(i);o&&(y[u]=i[u]-v[u]-p);var m=this._layoutContentAndController(n,a,y,c,u,h,d,f);if(o){if(s==="end")g[c]+=m[u]+p;else{var b=v[u]+p;g[c]-=b,m[f]-=b}m[u]+=v[u]+p,g[1-c]+=m[d]+m[h]/2-v[h]/2,m[h]=Math.max(m[h],v[h]),m[d]=Math.min(m[d],v[d]+g[1-c]),l.x=g[0],l.y=g[1],l.markRedraw()}return m},e.prototype._layoutContentAndController=function(n,r,i,a,o,s,l,c){var u=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;vf(n.get("orient"),u,n.get("itemGap"),a?i.width:null,a?null:i.height),vf("horizontal",h,n.get("pageButtonItemGap",!0));var d=u.getBoundingRect(),p=h.getBoundingRect(),v=this._showController=d[o]>i[o],g=[-d.x,-d.y];r||(g[a]=u[c]);var y=[0,0],m=[-p.x,-p.y],b=Pt(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(v){var x=n.get("pageButtonPosition",!0);x==="end"?m[a]+=i[o]-p[o]:y[a]+=p[o]+b}m[1-a]+=d[s]/2-p[s]/2,u.setPosition(g),f.setPosition(y),h.setPosition(m);var _={x:0,y:0};if(_[o]=v?i[o]:d[o],_[s]=Math.max(d[s],p[s]),_[l]=Math.min(0,p[l]+m[1-a]),f.__rectSize=i[o],v){var w={x:0,y:0};w[o]=Math.max(i[o]-p[o]-b,0),w[s]=_[s],f.setClipPath(new ln({shape:w})),f.__rectSize=w[o]}else h.eachChild(function(O){O.attr({invisible:!0,silent:!0})});var S=this._getPageInfo(n);return S.pageIndex!=null&&Ea(u,{x:S.contentPosition[0],y:S.contentPosition[1]},v?n:null),this._updatePageInfoView(n,S),_},e.prototype._pageGo=function(n,r,i){var a=this._getPageInfo(r)[n];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(n,r){var i=this._controllerGroup;$(["pagePrev","pageNext"],function(u){var f=u+"DataIndex",h=r[f]!=null,d=i.childOfName(u);d&&(d.setStyle("fill",h?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),d.cursor=h?"pointer":"default")});var a=i.childOfName("pageText"),o=n.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,c=r.pageCount;a&&o&&a.setStyle("text",vt(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):o({current:l,total:c}))},e.prototype._getPageInfo=function(n){var r=n.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=n.getOrient().index,s=Cm[o],l=km[o],c=this._findTargetItemIndex(r),u=i.children(),f=u[c],h=u.length,d=h?1:0,p={contentPosition:[i.x,i.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return p;var v=x(f);p.contentPosition[o]=-v.s;for(var g=c+1,y=v,m=v,b=null;g<=h;++g)b=x(u[g]),(!b&&m.e>y.s+a||b&&!_(b,y.s))&&(m.i>y.i?y=m:y=b,y&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=y.i),++p.pageCount)),m=b;for(var g=c-1,y=v,m=v,b=null;g>=-1;--g)b=x(u[g]),(!b||!_(m,b.s))&&y.i<m.i&&(m=y,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=y.i),++p.pageCount,++p.pageIndex),y=b;return p;function x(w){if(w){var S=w.getBoundingRect(),O=S[l]+w[l];return{s:O,e:O+S[s],i:w.__legendDataIndex}}}function _(w,S){return w.e>=S&&w.s<=S+a}},e.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var l=o.__legendDataIndex;a==null&&l!=null&&(a=s),l===n&&(r=s)}),r??a},e.type="legend.scroll",e}(mR);function FK(t){t.registerAction("legendScroll","legendscroll",function(e,n){var r=e.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function jK(t){Mo(xR),t.registerComponentModel(NK),t.registerComponentView(BK),FK(t)}function zK(t){Mo(xR),Mo(jK)}var Lm=Math.sin,Dm=Math.cos,_R=Math.PI,ls=Math.PI*2,$K=180/_R,wR=function(){function t(){}return t.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},t.prototype.moveTo=function(e,n){this._add("M",e,n)},t.prototype.lineTo=function(e,n){this._add("L",e,n)},t.prototype.bezierCurveTo=function(e,n,r,i,a,o){this._add("C",e,n,r,i,a,o)},t.prototype.quadraticCurveTo=function(e,n,r,i){this._add("Q",e,n,r,i)},t.prototype.arc=function(e,n,r,i,a,o){this.ellipse(e,n,r,r,0,i,a,o)},t.prototype.ellipse=function(e,n,r,i,a,o,s,l){var c=s-o,u=!l,f=Math.abs(c),h=ro(f-ls)||(u?c>=ls:-c>=ls),d=c>0?c%ls:c%ls+ls,p=!1;h?p=!0:ro(f)?p=!1:p=d>=_R==!!u;var v=e+r*Dm(o),g=n+i*Lm(o);this._start&&this._add("M",v,g);var y=Math.round(a*$K);if(h){var m=1/this._p,b=(u?1:-1)*(ls-m);this._add("A",r,i,y,1,+u,e+r*Dm(o+b),n+i*Lm(o+b)),m>.01&&this._add("A",r,i,y,0,+u,v,g)}else{var x=e+r*Dm(s),_=n+i*Lm(s);this._add("A",r,i,y,+p,+u,x,_)}},t.prototype.rect=function(e,n,r,i){this._add("M",e,n),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(e,n,r,i,a,o,s,l,c){for(var u=[],f=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d)){this._invalid=!0;return}u.push(Math.round(d*f)/f)}this._d.push(e+u.join(" ")),this._start=e==="Z"},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),W2="none",GK=Math.round;function WK(t){var e=t.fill;return e!=null&&e!==W2}function HK(t){var e=t.stroke;return e!=null&&e!==W2}var Ub=["lineCap","miterLimit","lineJoin"],YK=yt(Ub,function(t){return"stroke-"+t.toLowerCase()});function VK(t,e,n,r){var i=e.opacity==null?1:e.opacity;if(n instanceof Na){t("opacity",i);return}if(WK(e)){var a=If(e.fill);t("fill",a.color);var o=e.fillOpacity!=null?e.fillOpacity*a.opacity*i:a.opacity*i;o<1&&t("fill-opacity",o)}else t("fill",W2);if(HK(e)){var s=If(e.stroke);t("stroke",s.color);var l=e.strokeNoScale?n.getLineScale():1,c=l?(e.lineWidth||0)/l:0,u=e.strokeOpacity!=null?e.strokeOpacity*s.opacity*i:s.opacity*i,f=e.strokeFirst;if(c!==1&&t("stroke-width",c),f&&t("paint-order",f?"stroke":"fill"),u<1&&t("stroke-opacity",u),e.lineDash){var h=E2(n),d=h[0],p=h[1];d&&(p=GK(p||0),t("stroke-dasharray",d.join(",")),(p||r)&&t("stroke-dashoffset",p))}for(var v=0;v<Ub.length;v++){var g=Ub[v];if(e[g]!==Ov[g]){var y=e[g]||Ov[g];y&&t(YK[v],y)}}}}var SR="http://www.w3.org/2000/svg",OR="http://www.w3.org/1999/xlink",XK="http://www.w3.org/2000/xmlns/",UK="http://www.w3.org/XML/1998/namespace",JA="ecmeta_";function MR(t){return document.createElementNS(SR,t)}function fn(t,e,n,r,i){return{tag:t,attrs:n||{},children:r,text:i,key:e}}function qK(t,e){var n=[];if(e)for(var r in e){var i=e[r],a=r;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),n.push(a))}return"<"+t+" "+n.join(" ")+">"}function ZK(t){return"</"+t+">"}function H2(t,e){e=e||{};var n=e.newline?`
`:"";function r(i){var a=i.children,o=i.tag,s=i.attrs,l=i.text;return qK(o,s)+(o!=="style"?cr(l):l||"")+(a?""+n+yt(a,function(c){return r(c)}).join(n)+n:"")+ZK(o)}return r(t)}function KK(t,e,n){n=n||{};var r=n.newline?`
`:"",i=" {"+r,a=r+"}",o=yt(Ut(t),function(l){return l+i+yt(Ut(t[l]),function(c){return c+":"+t[l][c]+";"}).join(r)+a}).join(r),s=yt(Ut(e),function(l){return"@keyframes "+l+i+yt(Ut(e[l]),function(c){return c+i+yt(Ut(e[l][c]),function(u){var f=e[l][c][u];return u==="d"&&(f='path("'+f+'")'),u+":"+f+";"}).join(r)+a}).join(r)+a}).join(r);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(r)}function qb(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function tE(t,e,n,r){return fn("svg","root",{width:t,height:e,xmlns:SR,"xmlns:xlink":OR,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+t+" "+e:!1},n)}var QK=0;function TR(){return QK++}var eE={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},vs="transform-origin";function JK(t,e,n){var r=lt({},t.shape);lt(r,e),t.buildPath(n,r);var i=new wR;return i.reset(vD(t)),n.rebuildPath(i,1),i.generateStr(),i.getStr()}function tQ(t,e){var n=e.originX,r=e.originY;(n||r)&&(t[vs]=n+"px "+r+"px")}var eQ={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function AR(t,e){var n=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function nQ(t,e,n){var r=t.shape.paths,i={},a,o;if($(r,function(l){var c=qb(n.zrId);c.animation=!0,h0(l,{},c,!0);var u=c.cssAnims,f=c.cssNodes,h=Ut(u),d=h.length;if(d){o=h[d-1];var p=u[o];for(var v in p){var g=p[v];i[v]=i[v]||{d:""},i[v].d+=g.d||""}for(var y in f){var m=f[y].animation;m.indexOf(o)>=0&&(a=m)}}}),!!a){e.d=!1;var s=AR(i,n);return a.replace(o,s)}}function nE(t){return vt(t)?eE[t]?"cubic-bezier("+eE[t]+")":z_(t)?t:"":""}function h0(t,e,n,r){var i=t.animators,a=i.length,o=[];if(t instanceof r5){var s=nQ(t,e,n);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var l={},c=0;c<a;c++){var u=i[c],f=[u.getMaxTime()/1e3+"s"],h=nE(u.getClip().easing),d=u.getDelay();h?f.push(h):f.push("linear"),d&&f.push(d/1e3+"s"),u.getLoop()&&f.push("infinite");var p=f.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(u)}function v(m){var b=m[1],x=b.length,_={},w={},S={},O="animation-timing-function";function M(H,tt,Z){for(var W=H.getTracks(),K=H.getMaxTime(),ot=0;ot<W.length;ot++){var at=W[ot];if(at.needsAnimate()){var ft=at.keyframes,Tt=at.propName;if(Z&&(Tt=Z(Tt)),Tt)for(var dt=0;dt<ft.length;dt++){var mt=ft[dt],Gt=Math.round(mt.time/K*100)+"%",Oe=nE(mt.easing),Ve=mt.rawValue;(vt(Ve)||He(Ve))&&(tt[Gt]=tt[Gt]||{},tt[Gt][Tt]=mt.rawValue,Oe&&(tt[Gt][O]=Oe))}}}}for(var T=0;T<x;T++){var A=b[T],P=A.targetName;P?P==="shape"&&M(A,w):!r&&M(A,_)}for(var E in _){var C={};xD(C,t),lt(C,_[E]);var k=gD(C),L=_[E][O];S[E]=k?{transform:k}:{},tQ(S[E],C),L&&(S[E][O]=L)}var R,D=!0;for(var E in w){S[E]=S[E]||{};var I=!R,L=w[E][O];I&&(R=new ks);var N=R.len();R.reset(),S[E].d=JK(t,w[E],R);var F=R.len();if(!I&&N!==F){D=!1;break}L&&(S[E][O]=L)}if(!D)for(var E in S)delete S[E].d;if(!r)for(var T=0;T<x;T++){var A=b[T],P=A.targetName;P==="style"&&M(A,S,function(W){return eQ[W]})}for(var j=Ut(S),z=!0,G,T=1;T<j.length;T++){var V=j[T-1],Q=j[T];if(S[V][vs]!==S[Q][vs]){z=!1;break}G=S[V][vs]}if(z&&G){for(var E in S)S[E][vs]&&delete S[E][vs];e[vs]=G}if(Rn(j,function(H){return Ut(S[H]).length>0}).length){var Y=AR(S,n);return Y+" "+m[0]+" both"}}for(var g in l){var s=v(l[g]);s&&o.push(s)}if(o.length){var y=n.zrId+"-cls-"+TR();n.cssNodes["."+y]={animation:o.join(",")},e.class=y}}function rQ(t,e,n){if(!t.ignore)if(t.isSilent()){var r={"pointer-events":"none"};rE(r,e,n)}else{var i=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},a=i.fill;if(!a){var o=t.style&&t.style.fill,s=t.states.select&&t.states.select.style&&t.states.select.style.fill,l=t.currentStates.indexOf("select")>=0&&s||o;l&&(a=K1(l))}var c=i.lineWidth;if(c){var u=!i.strokeNoScale&&t.transform?t.transform[0]:1;c=c/u}var r={cursor:"pointer"};a&&(r.fill=a),i.stroke&&(r.stroke=i.stroke),c&&(r["stroke-width"]=c),rE(r,e,n)}}function rE(t,e,n,r){var i=JSON.stringify(t),a=n.cssStyleCache[i];a||(a=n.zrId+"-cls-"+TR(),n.cssStyleCache[i]=a,n.cssNodes["."+a+":hover"]=t),e.class=e.class?e.class+" "+a:a}var Qf=Math.round;function ER(t){return t&&vt(t.src)}function PR(t){return t&&zt(t.toDataURL)}function Y2(t,e,n,r){VK(function(i,a){var o=i==="fill"||i==="stroke";o&&pD(a)?kR(e,t,i,r):o&&G_(a)?LR(n,t,i,r):o&&a==="none"?t[i]="transparent":t[i]=a},e,n,!1),uQ(n,t,r)}function V2(t,e){var n=pG(e);n&&(n.each(function(r,i){r!=null&&(t[(JA+i).toLowerCase()]=r+"")}),e.isSilent()&&(t[JA+"silent"]="true"))}function iE(t){return ro(t[0]-1)&&ro(t[1])&&ro(t[2])&&ro(t[3]-1)}function iQ(t){return ro(t[4])&&ro(t[5])}function X2(t,e,n){if(e&&!(iQ(e)&&iE(e))){var r=1e4;t.transform=iE(e)?"translate("+Qf(e[4]*r)/r+" "+Qf(e[5]*r)/r+")":N$(e)}}function aE(t,e,n){for(var r=t.points,i=[],a=0;a<r.length;a++)i.push(Qf(r[a][0]*n)/n),i.push(Qf(r[a][1]*n)/n);e.points=i.join(" ")}function oE(t){return!t.smooth}function aQ(t){var e=yt(t,function(n){return typeof n=="string"?[n,n]:n});return function(n,r,i){for(var a=0;a<e.length;a++){var o=e[a],s=n[o[0]];s!=null&&(r[o[1]]=Qf(s*i)/i)}}}var oQ={circle:[aQ(["cx","cy","r"])],polyline:[aE,oE],polygon:[aE,oE]};function sQ(t){for(var e=t.animators,n=0;n<e.length;n++)if(e[n].targetName==="shape")return!0;return!1}function CR(t,e){var n=t.style,r=t.shape,i=oQ[t.type],a={},o=e.animation,s="path",l=t.style.strokePercent,c=e.compress&&vD(t)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](r))&&!(o&&sQ(t))&&!(l<1)){s=t.type;var u=Math.pow(10,c);i[0](r,a,u)}else{var f=!t.path||t.shapeChanged();t.path||t.createPathProxy();var h=t.path;f&&(h.beginPath(),t.buildPath(h,t.shape),t.pathUpdated());var d=h.getVersion(),p=t,v=p.__svgPathBuilder;(p.__svgPathVersion!==d||!v||l!==p.__svgPathStrokePercent)&&(v||(v=p.__svgPathBuilder=new wR),v.reset(c),h.rebuildPath(v,l),v.generateStr(),p.__svgPathVersion=d,p.__svgPathStrokePercent=l),a.d=v.getStr()}return X2(a,t.transform),Y2(a,n,t,e),V2(a,t),e.animation&&h0(t,a,e),e.emphasis&&rQ(t,a,e),fn(s,t.id+"",a)}function lQ(t,e){var n=t.style,r=n.image;if(r&&!vt(r)&&(ER(r)?r=r.src:PR(r)&&(r=r.toDataURL())),!!r){var i=n.x||0,a=n.y||0,o=n.width,s=n.height,l={href:r,width:o,height:s};return i&&(l.x=i),a&&(l.y=a),X2(l,t.transform),Y2(l,n,t,e),V2(l,t),e.animation&&h0(t,l,e),fn("image",t.id+"",l)}}function cQ(t,e){var n=t.style,r=n.text;if(r!=null&&(r+=""),!(!r||isNaN(n.x)||isNaN(n.y))){var i=n.font||xo,a=n.x||0,o=F$(n.y||0,Wg(i),n.textBaseline),s=B$[n.textAlign]||n.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(zD(n)){var c="",u=n.fontStyle,f=jD(n.fontSize);if(!parseFloat(f))return;var h=n.fontFamily||HL,d=n.fontWeight;c+="font-size:"+f+";font-family:"+h+";",u&&u!=="normal"&&(c+="font-style:"+u+";"),d&&d!=="normal"&&(c+="font-weight:"+d+";"),l.style=c}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),o&&(l.y=o),X2(l,t.transform),Y2(l,n,t,e),V2(l,t),e.animation&&h0(t,l,e),fn("text",t.id+"",l,void 0,r)}}function sE(t,e){if(t instanceof ve)return CR(t,e);if(t instanceof Na)return lQ(t,e);if(t instanceof jf)return cQ(t,e)}function uQ(t,e,n){var r=t.style;if(j$(r)){var i=z$(t),a=n.shadowCache,o=a[i];if(!o){var s=t.getGlobalScale(),l=s[0],c=s[1];if(!l||!c)return;var u=r.shadowOffsetX||0,f=r.shadowOffsetY||0,h=r.shadowBlur,d=If(r.shadowColor),p=d.opacity,v=d.color,g=h/2/l,y=h/2/c,m=g+" "+y;o=n.zrId+"-s"+n.shadowIdx++,n.defs[o]=fn("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[fn("feDropShadow","",{dx:u/l,dy:f/c,stdDeviation:m,"flood-color":v,"flood-opacity":p})]),a[i]=o}e.filter=Gg(o)}}function kR(t,e,n,r){var i=t[n],a,o={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(hD(i))a="linearGradient",o.x1=i.x,o.y1=i.y,o.x2=i.x2,o.y2=i.y2;else if(dD(i))a="radialGradient",o.cx=Pt(i.x,.5),o.cy=Pt(i.y,.5),o.r=Pt(i.r,.5);else return;for(var s=i.colorStops,l=[],c=0,u=s.length;c<u;++c){var f=Q1(s[c].offset)*100+"%",h=s[c].color,d=If(h),p=d.color,v=d.opacity,g={offset:f};g["stop-color"]=p,v<1&&(g["stop-opacity"]=v),l.push(fn("stop",c+"",g))}var y=fn(a,"",o,l),m=H2(y),b=r.gradientCache,x=b[m];x||(x=r.zrId+"-g"+r.gradientIdx++,b[m]=x,o.id=x,r.defs[x]=fn(a,x,o,l)),e[n]=Gg(x)}function LR(t,e,n,r){var i=t.style[n],a=t.getBoundingRect(),o={},s=i.repeat,l=s==="no-repeat",c=s==="repeat-x",u=s==="repeat-y",f;if(fD(i)){var h=i.imageWidth,d=i.imageHeight,p=void 0,v=i.image;if(vt(v)?p=v:ER(v)?p=v.src:PR(v)&&(p=v.toDataURL()),typeof Image>"u"){var g="Image width/height must been given explictly in svg-ssr renderer.";xi(h,g),xi(d,g)}else if(h==null||d==null){var y=function(T,A){if(T){var P=T.elm,E=h||A.width,C=d||A.height;T.tag==="pattern"&&(c?(C=1,E/=a.width):u&&(E=1,C/=a.height)),T.attrs.width=E,T.attrs.height=C,P&&(P.setAttribute("width",E),P.setAttribute("height",C))}},m=Z_(p,null,t,function(T){l||y(w,T),y(f,T)});m&&m.width&&m.height&&(h=h||m.width,d=d||m.height)}f=fn("image","img",{href:p,width:h,height:d}),o.width=h,o.height=d}else i.svgElement&&(f=Yt(i.svgElement),o.width=i.svgWidth,o.height=i.svgHeight);if(f){var b,x;l?b=x=1:c?(x=1,b=o.width/a.width):u?(b=1,x=o.height/a.height):o.patternUnits="userSpaceOnUse",b!=null&&!isNaN(b)&&(o.width=b),x!=null&&!isNaN(x)&&(o.height=x);var _=gD(i);_&&(o.patternTransform=_);var w=fn("pattern","",o,[f]),S=H2(w),O=r.patternCache,M=O[S];M||(M=r.zrId+"-p"+r.patternIdx++,O[S]=M,o.id=M,w=r.defs[M]=fn("pattern",M,o,[f])),e[n]=Gg(M)}}function fQ(t,e,n){var r=n.clipPathCache,i=n.defs,a=r[t.id];if(!a){a=n.zrId+"-c"+n.clipPathIdx++;var o={id:a};r[t.id]=a,i[a]=fn("clipPath",a,o,[CR(t,n)])}e["clip-path"]=Gg(a)}function lE(t){return document.createTextNode(t)}function ms(t,e,n){t.insertBefore(e,n)}function cE(t,e){t.removeChild(e)}function uE(t,e){t.appendChild(e)}function DR(t){return t.parentNode}function IR(t){return t.nextSibling}function Im(t,e){t.textContent=e}var fE=58,hQ=120,dQ=fn("","");function Zb(t){return t===void 0}function Li(t){return t!==void 0}function pQ(t,e,n){for(var r={},i=e;i<=n;++i){var a=t[i].key;a!==void 0&&(r[a]=i)}return r}function Gu(t,e){var n=t.key===e.key,r=t.tag===e.tag;return r&&n}function Jf(t){var e,n=t.children,r=t.tag;if(Li(r)){var i=t.elm=MR(r);if(U2(dQ,t),ht(n))for(e=0;e<n.length;++e){var a=n[e];a!=null&&uE(i,Jf(a))}else Li(t.text)&&!Mt(t.text)&&uE(i,lE(t.text))}else t.elm=lE(t.text);return t.elm}function RR(t,e,n,r,i){for(;r<=i;++r){var a=n[r];a!=null&&ms(t,Jf(a),e)}}function Rv(t,e,n,r){for(;n<=r;++n){var i=e[n];if(i!=null)if(Li(i.tag)){var a=DR(i.elm);cE(a,i.elm)}else cE(t,i.elm)}}function U2(t,e){var n,r=e.elm,i=t&&t.attrs||{},a=e.attrs||{};if(i!==a){for(n in a){var o=a[n],s=i[n];s!==o&&(o===!0?r.setAttribute(n,""):o===!1?r.removeAttribute(n):n==="style"?r.style.cssText=o:n.charCodeAt(0)!==hQ?r.setAttribute(n,o):n==="xmlns:xlink"||n==="xmlns"?r.setAttributeNS(XK,n,o):n.charCodeAt(3)===fE?r.setAttributeNS(UK,n,o):n.charCodeAt(5)===fE?r.setAttributeNS(OR,n,o):r.setAttribute(n,o))}for(n in i)n in a||r.removeAttribute(n)}}function vQ(t,e,n){for(var r=0,i=0,a=e.length-1,o=e[0],s=e[a],l=n.length-1,c=n[0],u=n[l],f,h,d,p;r<=a&&i<=l;)o==null?o=e[++r]:s==null?s=e[--a]:c==null?c=n[++i]:u==null?u=n[--l]:Gu(o,c)?(Cl(o,c),o=e[++r],c=n[++i]):Gu(s,u)?(Cl(s,u),s=e[--a],u=n[--l]):Gu(o,u)?(Cl(o,u),ms(t,o.elm,IR(s.elm)),o=e[++r],u=n[--l]):Gu(s,c)?(Cl(s,c),ms(t,s.elm,o.elm),s=e[--a],c=n[++i]):(Zb(f)&&(f=pQ(e,r,a)),h=f[c.key],Zb(h)?ms(t,Jf(c),o.elm):(d=e[h],d.tag!==c.tag?ms(t,Jf(c),o.elm):(Cl(d,c),e[h]=void 0,ms(t,d.elm,o.elm))),c=n[++i]);(r<=a||i<=l)&&(r>a?(p=n[l+1]==null?null:n[l+1].elm,RR(t,p,n,i,l)):Rv(t,e,r,a))}function Cl(t,e){var n=e.elm=t.elm,r=t.children,i=e.children;t!==e&&(U2(t,e),Zb(e.text)?Li(r)&&Li(i)?r!==i&&vQ(n,r,i):Li(i)?(Li(t.text)&&Im(n,""),RR(n,null,i,0,i.length-1)):Li(r)?Rv(n,r,0,r.length-1):Li(t.text)&&Im(n,""):t.text!==e.text&&(Li(r)&&Rv(n,r,0,r.length-1),Im(n,e.text)))}function gQ(t,e){if(Gu(t,e))Cl(t,e);else{var n=t.elm,r=DR(n);Jf(e),r!==null&&(ms(r,e.elm,IR(n)),Rv(r,[t],0,0))}return e}var yQ=0,mQ=function(){function t(e,n,r){if(this.type="svg",this.refreshHover=hE(),this.configLayer=hE(),this.storage=n,this._opts=r=lt({},r),this.root=e,this._id="zr"+yQ++,this._oldVNode=tE(r.width,r.height),e&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=MR("svg");U2(null,this._oldVNode),i.appendChild(a),e.appendChild(i)}this.resize(r.width,r.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",gQ(this._oldVNode,e),this._oldVNode=e}},t.prototype.renderOneToVNode=function(e){return sE(e,qb(this._id))},t.prototype.renderToVNode=function(e){e=e||{};var n=this.storage.getDisplayList(!0),r=this._width,i=this._height,a=qb(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis;var o=[],s=this._bgVNode=bQ(r,i,this._backgroundColor,a);s&&o.push(s);var l=e.compress?null:this._mainVNode=fn("g","main",{},[]);this._paintList(n,a,l?l.children:o),l&&o.push(l);var c=yt(Ut(a.defs),function(h){return a.defs[h]});if(c.length&&o.push(fn("defs","defs",{},c)),e.animation){var u=KK(a.cssNodes,a.cssAnims,{newline:!0});if(u){var f=fn("style","stl",{},[],u);o.push(f)}}return tE(r,i,o,e.useViewBox)},t.prototype.renderToString=function(e){return e=e||{},H2(this.renderToVNode({animation:Pt(e.cssAnimation,!0),emphasis:Pt(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Pt(e.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(e,n,r){for(var i=e.length,a=[],o=0,s,l,c=0,u=0;u<i;u++){var f=e[u];if(!f.invisible){var h=f.__clipPaths,d=h&&h.length||0,p=l&&l.length||0,v=void 0;for(v=Math.max(d-1,p-1);v>=0&&!(h&&l&&h[v]===l[v]);v--);for(var g=p-1;g>v;g--)o--,s=a[o-1];for(var y=v+1;y<d;y++){var m={};fQ(h[y],m,n);var b=fn("g","clip-g-"+c++,m,[]);(s?s.children:r).push(b),a[o++]=b,s=b}l=h;var x=sE(f,n);x&&(s?s.children:r).push(x)}}},t.prototype.resize=function(e,n){var r=this._opts,i=this.root,a=this._viewport;if(e!=null&&(r.width=e),n!=null&&(r.height=n),i&&a&&(a.style.display="none",e=DT(i,0,r),n=DT(i,1,r),a.style.display=""),this._width!==e||this._height!==n){if(this._width=e,this._height=n,a){var o=a.style;o.width=e+"px",o.height=n+"px"}if(G_(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",n));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",n))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(e){var n=this.renderToString(),r="data:image/svg+xml;";return e?(n=G$(n),n&&r+"base64,"+n):r+"charset=UTF-8,"+encodeURIComponent(n)},t}();function hE(t){return function(){}}function bQ(t,e,n,r){var i;if(n&&n!=="none")if(i=fn("rect","bg",{width:t,height:e,x:"0",y:"0"}),pD(n))kR({fill:n},i.attrs,"fill",r);else if(G_(n))LR({style:{fill:n},dirty:Un,getBoundingRect:function(){return{width:t,height:e}}},i.attrs,"fill",r);else{var a=If(n),o=a.color,s=a.opacity;i.attrs.fill=o,s<1&&(i.attrs["fill-opacity"]=s)}return i}function xQ(t){t.registerPainter("svg",mQ)}const NR=()=>[["cartesian"]];NR.props={};function _Q(t,e){return t=t%(2*Math.PI),e=e%(2*Math.PI),t<0&&(t=2*Math.PI+t),e<0&&(e=2*Math.PI+e),t>=e&&(e=e+2*Math.PI),{startAngle:t,endAngle:e}}const BR=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1},n=Object.assign(Object.assign({},e),t);return Object.assign(Object.assign({},n),_Q(n.startAngle,n.endAngle))},Fh=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=BR(t);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",e,n,r,i]]};Fh.props={};const q2=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];q2.props={transform:!0};const wQ=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},FR=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=wQ(t);return[...q2(),...Fh({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};FR.props={};const jR=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},Z2=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=jR(t);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...Fh({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};Z2.props={};const K2=()=>[["parallel",0,1,0,1]];K2.props={};const zR=({focusX:t=0,focusY:e=0,distortionX:n=2,distortionY:r=2,visual:i=!1})=>[["fisheye",t,e,n,r,i]];zR.props={transform:!0};const $R=t=>{const{startAngle:e=-Math.PI/2,endAngle:n=Math.PI*3/2,innerRadius:r=0,outerRadius:i=1}=t;return[...K2(),...Fh({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};$R.props={};const GR=({value:t})=>e=>e.map(()=>t);GR.props={};const WR=({value:t})=>e=>e.map(t);WR.props={};const HR=({value:t})=>e=>e.map(n=>n[t]);HR.props={};const YR=({value:t})=>()=>t;YR.props={};var uc=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},SQ=function(t,e){if(!uc(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n};const Kn=function(t){return typeof t=="function"};var Ot=function(t){return t==null},OQ={}.toString,jh=function(t,e){return OQ.call(t)==="[object "+e+"]"};const An=function(t){return Array.isArray?Array.isArray(t):jh(t,"Array")},As=function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"};function Q2(t,e){if(t){var n;if(An(t))for(var r=0,i=t.length;r<i&&(n=e(t[r],r),n!==!1);r++);else if(As(t)){for(var a in t)if(t.hasOwnProperty(a)&&(n=e(t[a],a),n===!1))break}}}var VR=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return Q2(t,function(n,r){Kn(t)&&r==="prototype"||e.push(r)}),e};function MQ(t,e){var n=VR(e),r=n.length;if(Ot(t))return!r;for(var i=0;i<r;i+=1){var a=n[i];if(e[a]!==t[a]||!(a in t))return!1}return!0}var Kb=function(t){return typeof t=="object"&&t!==null},Ca=function(t){if(!Kb(t)||!jh(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};function fc(t,e){if(!An(t))return null;var n;if(Kn(e)&&(n=e),Ca(e)&&(n=function(i){return MQ(i,e)}),n){for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r]}return null}const Nv=function(t){if(An(t))return t.reduce(function(e,n){return Math.max(e,n)},t[0])},Bv=function(t){if(An(t))return t.reduce(function(e,n){return Math.min(e,n)},t[0])};var TQ=function(t,e,n){if(!An(t)&&!Ca(t))return t;var r=n;return Q2(t,function(i,a){r=e(r,i,a)}),r};const Ye=function(t){return jh(t,"String")};function zh(t){if(uc(t)){var e=t;return e[e.length-1]}}var We=function(t,e,n){return t<e?e:t>n?n:t},we=function(t){return jh(t,"Number")},AQ=1e-5;function xf(t,e,n){return n===void 0&&(n=AQ),Math.abs(t-e)<n}const EQ=function(t,e){if(An(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var a=t[i],o=Kn(e)?e(a):a[e];o>r&&(n=a,r=o)}return n}},PQ=function(t,e){if(An(t)){for(var n,r=1/0,i=0;i<t.length;i++){var a=t[i],o=Kn(e)?e(a):a[e];o<r&&(n=a,r=o)}return n}};var XR=function(t,e){return(t%e+e)%e};const UR=function(t){return Ot(t)?"":t.toString()};var qR=function(t){var e=UR(t);return e.charAt(0).toLowerCase()+e.substring(1)};function CQ(t,e){return!t||!e?t:t.replace(/\\?\{([^{}]+)\}/g,function(n,r){return n.charAt(0)==="\\"?n.slice(1):e[r]===void 0?"":e[r]})}var Co=function(t){var e=UR(t);return e.charAt(0).toUpperCase()+e.substring(1)},dE=function(t){return jh(t,"Boolean")},kQ=function(t){return t===null},he=function(t){return t===void 0},th=function(t){if(typeof t!="object"||t===null)return t;var e;if(An(t)){e=[];for(var n=0,r=t.length;n<r;n++)typeof t[n]=="object"&&t[n]!=null?e[n]=th(t[n]):e[n]=t[n]}else{e={};for(var i in t)typeof t[i]=="object"&&t[i]!=null?e[i]=th(t[i]):e[i]=t[i]}return e};function ZR(t,e,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,t.apply(i,a)};clearTimeout(r),r=setTimeout(o,e)}}function LQ(t){var e,n,r,i=t;function a(s,l){++e>i&&(r=n,o(1),++e),n[s]=l}function o(s){e=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return a(s,l),l},set:function(s,l){n[s]!==void 0?n[s]=l:a(s,l)}}}const DQ=function(t,e,n){if(!Kn(t))throw new TypeError("Expected a function");var r=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e?e.apply(this,i):i[0],s=r.cache;if(s.has(o))return s.get(o);var l=t.apply(this,i);return s.set(o,l),l};return r.cache=LQ(n),r};var IQ=5;function RQ(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}function KR(t,e,n,r){n=n||0,r=r||IQ;for(var i in e)if(RQ(e,i)){var a=e[i];a!==null&&Ca(a)?(Ca(t[i])||(t[i]={}),n<r?KR(t[i],a,n+1,r):t[i]=e[i]):An(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var U=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)KR(t,e[r]);return t},QR=function(t,e){if(!uc(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r},Fv=function(t,e){if(t===e)return!0;if(!t||!e||Ye(t)||Ye(e))return!1;if(uc(t)||uc(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=Fv(t[r],e[r]),!!n);r++);return n}if(Kb(t)||Kb(e)){var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(var n=!0,r=0;r<i.length&&(n=Fv(t[i[r]],e[i[r]]),!!n);r++);return n}return!1};const Re=function(t,e,n){for(var r=0,i=Ye(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return t===void 0||r<i.length?n:t},NQ=function(t,e,n){var r=t,i=Ye(e)?e.split("."):e;return i.forEach(function(a,o){o<i.length-1?(As(r[a])||(r[a]=we(i[o+1])?[]:{}),r=r[a]):r[a]=n}),t};var BQ=Object.prototype.hasOwnProperty;const FQ=function(t,e){if(t===null||!Ca(t))return{};var n={};return Q2(e,function(r){BQ.call(t,r)&&(n[r]=t[r])}),n},J2=function(t,e){return TQ(t,function(n,r,i){return e.includes(i)||(n[i]=r),n},{})},Ls=function(t,e,n){var r,i,a,o,s=0;n||(n={});var l=function(){s=n.leading===!1?0:Date.now(),r=null,o=t.apply(i,a),r||(i=a=null)},c=function(){var u=Date.now();!s&&n.leading===!1&&(s=u);var f=e-(u-s);return i=this,a=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),s=u,o=t.apply(i,a),r||(i=a=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),o};return c.cancel=function(){clearTimeout(r),s=0,r=i=a=null},c},Rm=function(){},Ds=function(t){return t};function jv(t){return Ot(t)?0:uc(t)?t.length:Object.keys(t).length}var De=1e-6,Je=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Hc(){var t=new Je(9);return Je!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function jQ(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function zQ(t){var e=new Je(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function $Q(t,e,n,r,i,a,o,s,l){var c=new Je(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=a,c[6]=o,c[7]=s,c[8]=l,c}function GQ(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=u*o-s*c,h=-u*a+s*l,d=c*a-o*l,p=n*f+r*h+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-u*r+i*c)*p,t[2]=(s*r-i*o)*p,t[3]=h*p,t[4]=(u*n-i*l)*p,t[5]=(-s*n+i*a)*p,t[6]=d*p,t[7]=(-c*n+r*l)*p,t[8]=(o*n-r*a)*p,t):null}function WQ(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],h=n[0],d=n[1],p=n[2],v=n[3],g=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=h*r+d*o+p*c,t[1]=h*i+d*s+p*u,t[2]=h*a+d*l+p*f,t[3]=v*r+g*o+y*c,t[4]=v*i+g*s+y*u,t[5]=v*a+g*l+y*f,t[6]=m*r+b*o+x*c,t[7]=m*i+b*s+x*u,t[8]=m*a+b*l+x*f,t}function HQ(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function YQ(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function VQ(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}var XQ=WQ;function Qt(){var t=new Je(16);return Je!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function tw(t){var e=new Je(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function hc(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function UQ(t,e,n,r,i,a,o,s,l,c,u,f,h,d,p,v){var g=new Je(16);return g[0]=t,g[1]=e,g[2]=n,g[3]=r,g[4]=i,g[5]=a,g[6]=o,g[7]=s,g[8]=l,g[9]=c,g[10]=u,g[11]=f,g[12]=h,g[13]=d,g[14]=p,g[15]=v,g}function Qb(t,e,n,r,i,a,o,s,l,c,u,f,h,d,p,v,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=l,t[8]=c,t[9]=u,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=g,t}function Us(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function JR(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function yi(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15],m=n*s-r*o,b=n*l-i*o,x=n*c-a*o,_=r*l-i*s,w=r*c-a*s,S=i*c-a*l,O=u*v-f*p,M=u*g-h*p,T=u*y-d*p,A=f*g-h*v,P=f*y-d*v,E=h*y-d*g,C=m*E-b*P+x*A+_*T-w*M+S*O;return C?(C=1/C,t[0]=(s*E-l*P+c*A)*C,t[1]=(i*P-r*E-a*A)*C,t[2]=(v*S-g*w+y*_)*C,t[3]=(h*w-f*S-d*_)*C,t[4]=(l*T-o*E-c*M)*C,t[5]=(n*E-i*T+a*M)*C,t[6]=(g*x-p*S-y*b)*C,t[7]=(u*S-h*x+d*b)*C,t[8]=(o*P-s*T+c*O)*C,t[9]=(r*T-n*P-a*O)*C,t[10]=(p*w-v*x+y*m)*C,t[11]=(f*x-u*w-d*m)*C,t[12]=(s*M-o*A-l*O)*C,t[13]=(n*A-r*M+i*O)*C,t[14]=(v*b-p*_-g*m)*C,t[15]=(u*_-f*b+h*m)*C,t):null}function qQ(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15];return t[0]=s*(h*y-d*g)-f*(l*y-c*g)+v*(l*d-c*h),t[1]=-(r*(h*y-d*g)-f*(i*y-a*g)+v*(i*d-a*h)),t[2]=r*(l*y-c*g)-s*(i*y-a*g)+v*(i*c-a*l),t[3]=-(r*(l*d-c*h)-s*(i*d-a*h)+f*(i*c-a*l)),t[4]=-(o*(h*y-d*g)-u*(l*y-c*g)+p*(l*d-c*h)),t[5]=n*(h*y-d*g)-u*(i*y-a*g)+p*(i*d-a*h),t[6]=-(n*(l*y-c*g)-o*(i*y-a*g)+p*(i*c-a*l)),t[7]=n*(l*d-c*h)-o*(i*d-a*h)+u*(i*c-a*l),t[8]=o*(f*y-d*v)-u*(s*y-c*v)+p*(s*d-c*f),t[9]=-(n*(f*y-d*v)-u*(r*y-a*v)+p*(r*d-a*f)),t[10]=n*(s*y-c*v)-o*(r*y-a*v)+p*(r*c-a*s),t[11]=-(n*(s*d-c*f)-o*(r*d-a*f)+u*(r*c-a*s)),t[12]=-(o*(f*g-h*v)-u*(s*g-l*v)+p*(s*h-l*f)),t[13]=n*(f*g-h*v)-u*(r*g-i*v)+p*(r*h-i*f),t[14]=-(n*(s*g-l*v)-o*(r*g-i*v)+p*(r*l-i*s)),t[15]=n*(s*h-l*f)-o*(r*h-i*f)+u*(r*l-i*s),t}function t3(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],f=t[10],h=t[11],d=t[12],p=t[13],v=t[14],g=t[15],y=e*o-n*a,m=e*s-r*a,b=e*l-i*a,x=n*s-r*o,_=n*l-i*o,w=r*l-i*s,S=c*p-u*d,O=c*v-f*d,M=c*g-h*d,T=u*v-f*p,A=u*g-h*p,P=f*g-h*v;return y*P-m*A+b*T+x*M-_*O+w*S}function Nn(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],g=e[13],y=e[14],m=e[15],b=n[0],x=n[1],_=n[2],w=n[3];return t[0]=b*r+x*s+_*f+w*v,t[1]=b*i+x*l+_*h+w*g,t[2]=b*a+x*c+_*d+w*y,t[3]=b*o+x*u+_*p+w*m,b=n[4],x=n[5],_=n[6],w=n[7],t[4]=b*r+x*s+_*f+w*v,t[5]=b*i+x*l+_*h+w*g,t[6]=b*a+x*c+_*d+w*y,t[7]=b*o+x*u+_*p+w*m,b=n[8],x=n[9],_=n[10],w=n[11],t[8]=b*r+x*s+_*f+w*v,t[9]=b*i+x*l+_*h+w*g,t[10]=b*a+x*c+_*d+w*y,t[11]=b*o+x*u+_*p+w*m,b=n[12],x=n[13],_=n[14],w=n[15],t[12]=b*r+x*s+_*f+w*v,t[13]=b*i+x*l+_*h+w*g,t[14]=b*a+x*c+_*d+w*y,t[15]=b*o+x*u+_*p+w*m,t}function Ql(t,e,n){var r=n[0],i=n[1],a=n[2],o,s,l,c,u,f,h,d,p,v,g,y;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*a+e[12],t[13]=e[1]*r+e[5]*i+e[9]*a+e[13],t[14]=e[2]*r+e[6]*i+e[10]*a+e[14],t[15]=e[3]*r+e[7]*i+e[11]*a+e[15]):(o=e[0],s=e[1],l=e[2],c=e[3],u=e[4],f=e[5],h=e[6],d=e[7],p=e[8],v=e[9],g=e[10],y=e[11],t[0]=o,t[1]=s,t[2]=l,t[3]=c,t[4]=u,t[5]=f,t[6]=h,t[7]=d,t[8]=p,t[9]=v,t[10]=g,t[11]=y,t[12]=o*r+u*i+p*a+e[12],t[13]=s*r+f*i+v*a+e[13],t[14]=l*r+h*i+g*a+e[14],t[15]=c*r+d*i+y*a+e[15]),t}function e3(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ZQ(t,e,n,r){var i=r[0],a=r[1],o=r[2],s=Math.hypot(i,a,o),l,c,u,f,h,d,p,v,g,y,m,b,x,_,w,S,O,M,T,A,P,E,C,k;return s<De?null:(s=1/s,i*=s,a*=s,o*=s,l=Math.sin(n),c=Math.cos(n),u=1-c,f=e[0],h=e[1],d=e[2],p=e[3],v=e[4],g=e[5],y=e[6],m=e[7],b=e[8],x=e[9],_=e[10],w=e[11],S=i*i*u+c,O=a*i*u+o*l,M=o*i*u-a*l,T=i*a*u-o*l,A=a*a*u+c,P=o*a*u+i*l,E=i*o*u+a*l,C=a*o*u-i*l,k=o*o*u+c,t[0]=f*S+v*O+b*M,t[1]=h*S+g*O+x*M,t[2]=d*S+y*O+_*M,t[3]=p*S+m*O+w*M,t[4]=f*T+v*A+b*P,t[5]=h*T+g*A+x*P,t[6]=d*T+y*A+_*P,t[7]=p*T+m*A+w*P,t[8]=f*E+v*C+b*k,t[9]=h*E+g*C+x*k,t[10]=d*E+y*C+_*k,t[11]=p*E+m*C+w*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function n3(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*r,t[5]=o*i+u*r,t[6]=s*i+f*r,t[7]=l*i+h*r,t[8]=c*i-a*r,t[9]=u*i-o*r,t[10]=f*i-s*r,t[11]=h*i-l*r,t}function r3(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[8],u=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*r,t[1]=o*i-u*r,t[2]=s*i-f*r,t[3]=l*i-h*r,t[8]=a*r+c*i,t[9]=o*r+u*i,t[10]=s*r+f*i,t[11]=l*r+h*i,t}function KQ(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[4],u=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*r,t[1]=o*i+u*r,t[2]=s*i+f*r,t[3]=l*i+h*r,t[4]=c*i-a*r,t[5]=u*i-o*r,t[6]=f*i-s*r,t[7]=h*i-l*r,t}function Ka(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Qa(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i3(t,e,n){var r=n[0],i=n[1],a=n[2],o=Math.hypot(r,i,a),s,l,c;return o<De?null:(o=1/o,r*=o,i*=o,a*=o,s=Math.sin(e),l=Math.cos(e),c=1-l,t[0]=r*r*c+l,t[1]=i*r*c+a*s,t[2]=a*r*c-i*s,t[3]=0,t[4]=r*i*c-a*s,t[5]=i*i*c+l,t[6]=a*i*c+r*s,t[7]=0,t[8]=r*a*c+i*s,t[9]=i*a*c-r*s,t[10]=a*a*c+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function a3(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function o3(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Jb(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function s3(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,l=i+i,c=a+a,u=r*s,f=r*l,h=r*c,d=i*l,p=i*c,v=a*c,g=o*s,y=o*l,m=o*c;return t[0]=1-(d+v),t[1]=f+m,t[2]=h-y,t[3]=0,t[4]=f-m,t[5]=1-(u+v),t[6]=p+g,t[7]=0,t[8]=h+y,t[9]=p-g,t[10]=1-(u+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function QQ(t,e){var n=new Je(3),r=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=r*r+i*i+a*a+o*o;return f>0?(n[0]=(s*o+u*r+l*a-c*i)*2/f,n[1]=(l*o+u*i+c*r-s*a)*2/f,n[2]=(c*o+u*a+s*i-l*r)*2/f):(n[0]=(s*o+u*r+l*a-c*i)*2,n[1]=(l*o+u*i+c*r-s*a)*2,n[2]=(c*o+u*a+s*i-l*r)*2),s3(t,e,n),t}function zv(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function dc(t,e){var n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],s=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(a,o,s),t[2]=Math.hypot(l,c,u),t}function $v(t,e){var n=new Je(3);dc(n,e);var r=1/n[0],i=1/n[1],a=1/n[2],o=e[0]*r,s=e[1]*i,l=e[2]*a,c=e[4]*r,u=e[5]*i,f=e[6]*a,h=e[8]*r,d=e[9]*i,p=e[10]*a,v=o+u+p,g=0;return v>0?(g=Math.sqrt(v+1)*2,t[3]=.25*g,t[0]=(f-d)/g,t[1]=(h-l)/g,t[2]=(s-c)/g):o>u&&o>p?(g=Math.sqrt(1+o-u-p)*2,t[3]=(f-d)/g,t[0]=.25*g,t[1]=(s+c)/g,t[2]=(h+l)/g):u>p?(g=Math.sqrt(1+u-o-p)*2,t[3]=(h-l)/g,t[0]=(s+c)/g,t[1]=.25*g,t[2]=(f+d)/g):(g=Math.sqrt(1+p-o-u)*2,t[3]=(s-c)/g,t[0]=(h+l)/g,t[1]=(f+d)/g,t[2]=.25*g),t}function JQ(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],l=i+i,c=a+a,u=o+o,f=i*l,h=i*c,d=i*u,p=a*c,v=a*u,g=o*u,y=s*l,m=s*c,b=s*u,x=r[0],_=r[1],w=r[2];return t[0]=(1-(p+g))*x,t[1]=(h+b)*x,t[2]=(d-m)*x,t[3]=0,t[4]=(h-b)*_,t[5]=(1-(f+g))*_,t[6]=(v+y)*_,t[7]=0,t[8]=(d+m)*w,t[9]=(v-y)*w,t[10]=(1-(f+p))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function _f(t,e,n,r,i){var a=e[0],o=e[1],s=e[2],l=e[3],c=a+a,u=o+o,f=s+s,h=a*c,d=a*u,p=a*f,v=o*u,g=o*f,y=s*f,m=l*c,b=l*u,x=l*f,_=r[0],w=r[1],S=r[2],O=i[0],M=i[1],T=i[2],A=(1-(v+y))*_,P=(d+x)*_,E=(p-b)*_,C=(d-x)*w,k=(1-(h+y))*w,L=(g+m)*w,R=(p+b)*S,D=(g-m)*S,I=(1-(h+v))*S;return t[0]=A,t[1]=P,t[2]=E,t[3]=0,t[4]=C,t[5]=k,t[6]=L,t[7]=0,t[8]=R,t[9]=D,t[10]=I,t[11]=0,t[12]=n[0]+O-(A*O+C*M+R*T),t[13]=n[1]+M-(P*O+k*M+D*T),t[14]=n[2]+T-(E*O+L*M+I*T),t[15]=1,t}function ew(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,l=i+i,c=n*o,u=r*o,f=r*s,h=i*o,d=i*s,p=i*l,v=a*o,g=a*s,y=a*l;return t[0]=1-f-p,t[1]=u+y,t[2]=h-g,t[3]=0,t[4]=u-y,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=h+g,t[9]=d-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function tJ(t,e,n,r,i,a,o){var s=1/(n-e),l=1/(i-r),c=1/(a-o);return t[0]=a*2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a*2*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}function l3(t,e,n,r,i){var a=1/Math.tan(e/2),o;return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}var eJ=l3;function nJ(t,e,n,r,i){var a=1/Math.tan(e/2),o;return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t}function rJ(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+s),c=2/(i+a);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((o-s)*l*.5),t[9]=(i-a)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function c3(t,e,n,r,i,a,o){var s=1/(e-n),l=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(o+a)*c,t[15]=1,t}var u3=c3;function f3(t,e,n,r,i,a,o){var s=1/(e-n),l=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=a*c,t[15]=1,t}function h3(t,e,n,r){var i,a,o,s,l,c,u,f,h,d,p=e[0],v=e[1],g=e[2],y=r[0],m=r[1],b=r[2],x=n[0],_=n[1],w=n[2];return Math.abs(p-x)<De&&Math.abs(v-_)<De&&Math.abs(g-w)<De?Us(t):(u=p-x,f=v-_,h=g-w,d=1/Math.hypot(u,f,h),u*=d,f*=d,h*=d,i=m*h-b*f,a=b*u-y*h,o=y*f-m*u,d=Math.hypot(i,a,o),d?(d=1/d,i*=d,a*=d,o*=d):(i=0,a=0,o=0),s=f*o-h*a,l=h*i-u*o,c=u*a-f*i,d=Math.hypot(s,l,c),d?(d=1/d,s*=d,l*=d,c*=d):(s=0,l=0,c=0),t[0]=i,t[1]=s,t[2]=u,t[3]=0,t[4]=a,t[5]=l,t[6]=f,t[7]=0,t[8]=o,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*p+a*v+o*g),t[13]=-(s*p+l*v+c*g),t[14]=-(u*p+f*v+h*g),t[15]=1,t)}function iJ(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=r[0],l=r[1],c=r[2],u=i-n[0],f=a-n[1],h=o-n[2],d=u*u+f*f+h*h;d>0&&(d=1/Math.sqrt(d),u*=d,f*=d,h*=d);var p=l*h-c*f,v=c*u-s*h,g=s*f-l*u;return d=p*p+v*v+g*g,d>0&&(d=1/Math.sqrt(d),p*=d,v*=d,g*=d),t[0]=p,t[1]=v,t[2]=g,t[3]=0,t[4]=f*g-h*v,t[5]=h*p-u*g,t[6]=u*v-f*p,t[7]=0,t[8]=u,t[9]=f,t[10]=h,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function aJ(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function oJ(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function sJ(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function d3(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function lJ(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function cJ(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function uJ(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function fJ(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],f=t[9],h=t[10],d=t[11],p=t[12],v=t[13],g=t[14],y=t[15],m=e[0],b=e[1],x=e[2],_=e[3],w=e[4],S=e[5],O=e[6],M=e[7],T=e[8],A=e[9],P=e[10],E=e[11],C=e[12],k=e[13],L=e[14],R=e[15];return Math.abs(n-m)<=De*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(r-b)<=De*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-x)<=De*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-_)<=De*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-w)<=De*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-S)<=De*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-O)<=De*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(c-M)<=De*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(u-T)<=De*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(f-A)<=De*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(h-P)<=De*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(d-E)<=De*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(p-C)<=De*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(v-k)<=De*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(g-L)<=De*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(y-R)<=De*Math.max(1,Math.abs(y),Math.abs(R))}var nw=Nn,hJ=d3;const dJ=Object.freeze(Object.defineProperty({__proto__:null,add:sJ,adjoint:qQ,clone:tw,copy:hc,create:Qt,determinant:t3,equals:fJ,exactEquals:uJ,frob:oJ,fromQuat:ew,fromQuat2:QQ,fromRotation:i3,fromRotationTranslation:s3,fromRotationTranslationScale:JQ,fromRotationTranslationScaleOrigin:_f,fromScaling:Qa,fromTranslation:Ka,fromValues:UQ,fromXRotation:a3,fromYRotation:o3,fromZRotation:Jb,frustum:tJ,getRotation:$v,getScaling:dc,getTranslation:zv,identity:Us,invert:yi,lookAt:h3,mul:nw,multiply:Nn,multiplyScalar:lJ,multiplyScalarAndAdd:cJ,ortho:u3,orthoNO:c3,orthoZO:f3,perspective:eJ,perspectiveFromFieldOfView:rJ,perspectiveNO:l3,perspectiveZO:nJ,rotate:ZQ,rotateX:n3,rotateY:r3,rotateZ:KQ,scale:e3,set:Qb,str:aJ,sub:hJ,subtract:d3,targetTo:iJ,translate:Ql,transpose:JR},Symbol.toStringTag,{value:"Module"}));function Bt(){var t=new Je(3);return Je!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function da(t){var e=new Je(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function ga(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Xt(t,e,n){var r=new Je(3);return r[0]=t,r[1]=e,r[2]=n,r}function ao(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function pi(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Jl(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function pE(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function pJ(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function tx(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function vJ(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function Es(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function zi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function nv(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],l=n[2];return t[0]=i*l-a*s,t[1]=a*o-r*l,t[2]=r*s-i*o,t}function ex(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t}function cn(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}function p3(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function gJ(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=e[0],l=e[1],c=e[2],u=i*c-a*l,f=a*s-r*c,h=r*l-i*s,d=i*h-a*f,p=a*u-r*h,v=r*f-i*u,g=o*2;return u*=g,f*=g,h*=g,d*=2,p*=2,v*=2,t[0]=s+u+d,t[1]=l+f+p,t[2]=c+h+v,t}function Ou(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(n-a)<=De*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=De*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=De*Math.max(1,Math.abs(i),Math.abs(s))}var vE=vJ,v3=ga;(function(){var t=Bt();return function(e,n,r,i,a,o){var s,l;for(n||(n=3),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}})();function Fl(){var t=new Je(4);return Je!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function yJ(t,e,n,r){var i=new Je(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function mJ(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function bJ(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o,t}function jl(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}(function(){var t=Fl();return function(e,n,r,i,a,o){var s,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}})();function an(){var t=new Je(4);return Je!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function oo(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function vo(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+o*s+i*c-a*l,t[1]=i*u+o*l+a*s-r*c,t[2]=a*u+o*c+r*l-i*s,t[3]=o*u-r*s-i*l-a*c,t}function Nm(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],l=n[0],c=n[1],u=n[2],f=n[3],h,d,p,v,g;return d=i*l+a*c+o*u+s*f,d<0&&(d=-d,l=-l,c=-c,u=-u,f=-f),1-d>De?(h=Math.acos(d),p=Math.sin(h),v=Math.sin((1-r)*h)/p,g=Math.sin(r*h)/p):(v=1-r,g=r),t[0]=v*i+g*l,t[1]=v*a+g*c,t[2]=v*o+g*u,t[3]=v*s+g*f,t}function Bm(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t}function xJ(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[a*3+a]-e[o*3+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[a*3+o]-e[o*3+a])*r,t[a]=(e[a*3+i]+e[i*3+a])*r,t[o]=(e[o*3+i]+e[i*3+o])*r}return t}function Zd(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var a=Math.sin(e),o=Math.cos(e),s=Math.sin(n),l=Math.cos(n),c=Math.sin(r),u=Math.cos(r);return t[0]=a*l*u-o*s*c,t[1]=o*s*u+a*l*c,t[2]=o*l*c-a*s*u,t[3]=o*l*u+a*s*c,t}var Fm=yJ,Kd=mJ,gE=vo,Gv=bJ;(function(){var t=Bt(),e=Xt(1,0,0),n=Xt(0,1,0);return function(r,i,a){var o=zi(i,a);return o<-.999999?(nv(t,e,i),v3(t)<1e-6&&nv(t,n,i),Es(t,t),oo(r,t,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(nv(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+o,Gv(r,r))}})();(function(){var t=an(),e=an();return function(n,r,i,a,o,s){return Nm(t,r,o,s),Nm(e,i,a,s),Nm(n,t,e,2*s*(1-s)),n}})();(function(){var t=Hc();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],Gv(e,xJ(e,t))}})();function _J(){var t=new Je(2);return Je!=Float32Array&&(t[0]=0,t[1]=0),t}function wJ(t,e){var n=new Je(2);return n[0]=t,n[1]=e,n}function SJ(t,e){return t[0]=e[0],t[1]=e[1],t}function OJ(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function MJ(t,e){return t[0]*e[0]+t[1]*e[1]}function TJ(t,e){return t[0]===e[0]&&t[1]===e[1]}(function(){var t=_J();return function(e,n,r,i,a,o){var s,l;for(n||(n=2),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}})();var nx=function(t,e){return nx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},nx(t,e)};function Et(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var bt=function(){return bt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bt.apply(this,arguments)};function qs(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pc(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})}function vc(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ja(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function et(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function AJ(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function _t(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var g3={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function EJ(t,e,n){if(t[n].length>7){t[n].shift();for(var r=t[n],i=n;r.length;)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}var wf={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function y3(t){return Array.isArray(t)&&t.every(function(e){var n=e[0].toLowerCase();return wf[n]===e.length-1&&"achlmqstvz".includes(n)})}function m3(t){return y3(t)&&t.every(function(e){var n=e[0];return n===n.toUpperCase()})}function b3(t){return m3(t)&&t.every(function(e){var n=e[0];return"ACLMQZ".includes(n)})}function yE(t){for(var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;r.length>=wf[n]&&(n==="m"&&r.length>2?(t.segments.push([e].concat(r.splice(0,2))),n="l",e=e==="m"?"l":"L"):t.segments.push([e].concat(r.splice(0,wf[n]))),!!wf[n]););}function PJ(t){var e=t.index,n=t.pathValue,r=n.charCodeAt(e);if(r===48){t.param=0,t.index+=1;return}if(r===49){t.param=1,t.index+=1;return}t.err='[path-util]: invalid Arc flag "'+n[e]+'", expecting 0 or 1 at index '+e}function CJ(t){return t>=48&&t<=57||t===43||t===45||t===46}function xl(t){return t>=48&&t<=57}function kJ(t){var e=t.max,n=t.pathValue,r=t.index,i=r,a=!1,o=!1,s=!1,l=!1,c;if(i>=e){t.err="[path-util]: Invalid path value at index "+i+', "pathValue" is missing param';return}if(c=n.charCodeAt(i),(c===43||c===45)&&(i+=1,c=n.charCodeAt(i)),!xl(c)&&c!==46){t.err="[path-util]: Invalid path value at index "+i+', "'+n[i]+'" is not a number';return}if(c!==46){if(a=c===48,i+=1,c=n.charCodeAt(i),a&&i<e&&c&&xl(c)){t.err="[path-util]: Invalid path value at index "+r+', "'+n[r]+'" illegal number';return}for(;i<e&&xl(n.charCodeAt(i));)i+=1,o=!0;c=n.charCodeAt(i)}if(c===46){for(l=!0,i+=1;xl(n.charCodeAt(i));)i+=1,s=!0;c=n.charCodeAt(i)}if(c===101||c===69){if(l&&!o&&!s){t.err="[path-util]: Invalid path value at index "+i+', "'+n[i]+'" invalid float exponent';return}if(i+=1,c=n.charCodeAt(i),(c===43||c===45)&&(i+=1),i<e&&xl(n.charCodeAt(i)))for(;i<e&&xl(n.charCodeAt(i));)i+=1;else{t.err="[path-util]: Invalid path value at index "+i+', "'+n[i]+'" invalid integer exponent';return}}t.index=i,t.param=+t.pathValue.slice(r,i)}function LJ(t){var e=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return t===10||t===13||t===8232||t===8233||t===32||t===9||t===11||t===12||t===160||t>=5760&&e.includes(t)}function rv(t){for(var e=t.pathValue,n=t.max;t.index<n&&LJ(e.charCodeAt(t.index));)t.index+=1}function DJ(t){switch(t|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function IJ(t){return(t|32)===97}function RJ(t){var e=t.max,n=t.pathValue,r=t.index,i=n.charCodeAt(r),a=wf[n[r].toLowerCase()];if(t.segmentStart=r,!DJ(i)){t.err='[path-util]: Invalid path value "'+n[r]+'" is not a path command';return}if(t.index+=1,rv(t),t.data=[],!a){yE(t);return}for(;;){for(var o=a;o>0;o-=1){if(IJ(i)&&(o===3||o===4)?PJ(t):kJ(t),t.err.length)return;t.data.push(t.param),rv(t),t.index<e&&n.charCodeAt(t.index)===44&&(t.index+=1,rv(t))}if(t.index>=t.max||!CJ(n.charCodeAt(t.index)))break}yE(t)}var NJ=function(){function t(e){this.pathValue=e,this.segments=[],this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return t}();function BJ(t){if(y3(t))return[].concat(t);var e=new NJ(t);for(rv(e);e.index<e.max&&!e.err.length;)RJ(e);return e.err?e.err:e.segments}function FJ(t){if(m3(t))return[].concat(t);var e=BJ(t),n=0,r=0,i=0,a=0;return e.map(function(o){var s=o.slice(1).map(Number),l=o[0],c=l.toUpperCase();if(l==="M")return n=s[0],r=s[1],i=n,a=r,["M",n,r];var u;if(l!==c)switch(c){case"A":u=[c,s[0],s[1],s[2],s[3],s[4],s[5]+n,s[6]+r];break;case"V":u=[c,s[0]+r];break;case"H":u=[c,s[0]+n];break;default:{var f=s.map(function(d,p){return d+(p%2?r:n)});u=[c].concat(f)}}else u=[c].concat(s);var h=u.length;switch(c){case"Z":n=i,r=a;break;case"H":n=u[1];break;case"V":r=u[1];break;default:n=u[h-2],r=u[h-1],c==="M"&&(i=n,a=r)}return u})}function jJ(t,e){var n=t[0],r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=t.slice(1).map(Number),l=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),n==="H")l=["L",t[1],i];else if(n==="V")l=["L",r,t[1]];else if(n==="S"){var c=r*2-a,u=i*2-o;e.x1=c,e.y1=u,l=["C",c,u].concat(s)}else if(n==="T"){var f=r*2-e.qx,h=i*2-e.qy;e.qx=f,e.qy=h,l=["Q",f,h].concat(s)}else if(n==="Q"){var d=s[0],p=s[1];e.qx=d,e.qy=p}return l}function Wv(t){if(b3(t))return[].concat(t);for(var e=FJ(t),n=bt({},g3),r=0;r<e.length;r+=1){e[r]=jJ(e[r],n);var i=e[r],a=i.length;n.x1=+i[a-2],n.y1=+i[a-1],n.x2=+i[a-4]||n.x1,n.y2=+i[a-3]||n.y1}return e}function zJ(t){return b3(t)&&t.every(function(e){var n=e[0];return"MC".includes(n)})}function Qd(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}}function rw(t,e,n,r,i,a,o,s,l,c){var u=t,f=e,h=n,d=r,p=s,v=l,g=Math.PI*120/180,y=Math.PI/180*(+i||0),m=[],b,x,_,w,S;if(c)x=c[0],_=c[1],w=c[2],S=c[3];else{b=Qd(u,f,-y),u=b.x,f=b.y,b=Qd(p,v,-y),p=b.x,v=b.y;var O=(u-p)/2,M=(f-v)/2,T=O*O/(h*h)+M*M/(d*d);T>1&&(T=Math.sqrt(T),h*=T,d*=T);var A=h*h,P=d*d,E=(a===o?-1:1)*Math.sqrt(Math.abs((A*P-A*M*M-P*O*O)/(A*M*M+P*O*O)));w=E*h*M/d+(u+p)/2,S=E*-d*O/h+(f+v)/2,x=Math.asin(((f-S)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),_=Math.asin(((v-S)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),x=u<w?Math.PI-x:x,_=p<w?Math.PI-_:_,x<0&&(x=Math.PI*2+x),_<0&&(_=Math.PI*2+_),o&&x>_&&(x-=Math.PI*2),!o&&_>x&&(_-=Math.PI*2)}var C=_-x;if(Math.abs(C)>g){var k=_,L=p,R=v;_=x+g*(o&&_>x?1:-1),p=w+h*Math.cos(_),v=S+d*Math.sin(_),m=rw(p,v,h,d,i,0,o,L,R,[_,k,w,S])}C=_-x;var D=Math.cos(x),I=Math.sin(x),N=Math.cos(_),F=Math.sin(_),j=Math.tan(C/4),z=4/3*h*j,G=4/3*d*j,V=[u,f],Q=[u+z*I,f-G*D],Y=[p+z*F,v-G*N],H=[p,v];if(Q[0]=2*V[0]-Q[0],Q[1]=2*V[1]-Q[1],c)return Q.concat(Y,H,m);m=Q.concat(Y,H,m);for(var tt=[],Z=0,W=m.length;Z<W;Z+=1)tt[Z]=Z%2?Qd(m[Z-1],m[Z],y).y:Qd(m[Z],m[Z+1],y).x;return tt}function $J(t,e,n,r,i,a){var o=.3333333333333333,s=2/3;return[o*t+s*n,o*e+s*r,o*i+s*n,o*a+s*r,i,a]}function Ua(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return[r+(a-r)*n,i+(o-i)*n]}var mE=function(t,e,n,r){var i=.5,a=Ua([t,e],[n,r],i);return _t(_t([],a,!0),[n,r,n,r],!1)};function GJ(t,e){var n=t[0],r=t.slice(1).map(Number),i=r[0],a=r[1],o,s=e.x1,l=e.y1,c=e.x,u=e.y;switch("TQ".includes(n)||(e.qx=null,e.qy=null),n){case"M":return e.x=i,e.y=a,t;case"A":return o=[s,l].concat(r),["C"].concat(rw(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]));case"Q":return e.qx=i,e.qy=a,o=[s,l].concat(r),["C"].concat($J(o[0],o[1],o[2],o[3],o[4],o[5]));case"L":return["C"].concat(mE(s,l,i,a));case"Z":return s===c&&l===u?["C",s,l,c,u,c,u]:["C"].concat(mE(s,l,c,u))}return t}function rx(t,e){if(e===void 0&&(e=!1),zJ(t)){var n=[].concat(t);return e?[n,[]]:n}for(var r=Wv(t),i=bt({},g3),a=[],o="",s=r.length,l,c,u=[],f=0;f<s;f+=1){r[f]&&(o=r[f][0]),a[f]=o;var h=GJ(r[f],i);r[f]=h,EJ(r,a,f),s=r.length,o==="Z"&&u.push(f),l=r[f],c=l.length,i.x1=+l[c-2],i.y1=+l[c-1],i.x2=+l[c-4]||i.x1,i.y2=+l[c-3]||i.y1}return e?[r,u]:r}function WJ(t){return t.map(function(e){return Array.isArray(e)?[].concat(e):e})}function HJ(t){var e=t.slice(1).map(function(n,r,i){return r?i[r-1].slice(-2).concat(n.slice(1)):t[0].slice(1).concat(n.slice(1))}).map(function(n){return n.map(function(r,i){return n[n.length-i-2*(1-i%2)]})}).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(function(n){return["C"].concat(n.slice(2))}))}function sr(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function ix(t,e,n,r,i){var a=sr([t,e],[n,r]),o={x:0,y:0};if(typeof i=="number")if(i<=0)o={x:t,y:e};else if(i>=a)o={x:n,y:r};else{var s=Ua([t,e],[n,r],i/a),l=s[0],c=s[1];o={x:l,y:c}}return{length:a,point:o,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}}function bE(t,e){var n=t.x,r=t.y,i=e.x,a=e.y,o=n*i+r*a,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(a,2))),l=n*a-r*i<0?-1:1,c=l*Math.acos(o/s);return c}function YJ(t,e,n,r,i,a,o,s,l,c){var u=Math.abs,f=Math.sin,h=Math.cos,d=Math.sqrt,p=Math.PI,v=u(n),g=u(r),y=(i%360+360)%360,m=y*(p/180);if(t===s&&e===l)return{x:t,y:e};if(v===0||g===0)return ix(t,e,s,l,c).point;var b=(t-s)/2,x=(e-l)/2,_={x:h(m)*b+f(m)*x,y:-f(m)*b+h(m)*x},w=Math.pow(_.x,2)/Math.pow(v,2)+Math.pow(_.y,2)/Math.pow(g,2);w>1&&(v*=d(w),g*=d(w));var S=Math.pow(v,2)*Math.pow(g,2)-Math.pow(v,2)*Math.pow(_.y,2)-Math.pow(g,2)*Math.pow(_.x,2),O=Math.pow(v,2)*Math.pow(_.y,2)+Math.pow(g,2)*Math.pow(_.x,2),M=S/O;M=M<0?0:M;var T=(a!==o?1:-1)*d(M),A={x:T*(v*_.y/g),y:T*(-(g*_.x)/v)},P={x:h(m)*A.x-f(m)*A.y+(t+s)/2,y:f(m)*A.x+h(m)*A.y+(e+l)/2},E={x:(_.x-A.x)/v,y:(_.y-A.y)/g},C=bE({x:1,y:0},E),k={x:(-_.x-A.x)/v,y:(-_.y-A.y)/g},L=bE(E,k);!o&&L>0?L-=2*p:o&&L<0&&(L+=2*p),L%=2*p;var R=C+L*c,D=v*h(R),I=g*f(R),N={x:h(m)*D-f(m)*I+P.x,y:f(m)*D+h(m)*I+P.y};return N}function VJ(t,e,n,r,i,a,o,s,l,c,u){var f,h=u.bbox,d=h===void 0?!0:h,p=u.length,v=p===void 0?!0:p,g=u.sampleSize,y=g===void 0?30:g,m=typeof c=="number",b=t,x=e,_=0,w=[b,x,_],S=[b,x],O=0,M={x:0,y:0},T=[{x:b,y:x}];m&&c<=0&&(M={x:b,y:x});for(var A=0;A<=y;A+=1){if(O=A/y,f=YJ(t,e,n,r,i,a,o,s,l,O),b=f.x,x=f.y,d&&T.push({x:b,y:x}),v&&(_+=sr(S,[b,x])),S=[b,x],m&&_>=c&&c>w[2]){var P=(_-c)/(_-w[2]);M={x:S[0]*(1-P)+w[0]*P,y:S[1]*(1-P)+w[1]*P}}w=[b,x,_]}return m&&c>=_&&(M={x:s,y:l}),{length:_,point:M,min:{x:Math.min.apply(null,T.map(function(E){return E.x})),y:Math.min.apply(null,T.map(function(E){return E.y}))},max:{x:Math.max.apply(null,T.map(function(E){return E.x})),y:Math.max.apply(null,T.map(function(E){return E.y}))}}}function XJ(t,e,n,r,i,a,o,s,l){var c=1-l;return{x:Math.pow(c,3)*t+3*Math.pow(c,2)*l*n+3*c*Math.pow(l,2)*i+Math.pow(l,3)*o,y:Math.pow(c,3)*e+3*Math.pow(c,2)*l*r+3*c*Math.pow(l,2)*a+Math.pow(l,3)*s}}function x3(t,e,n,r,i,a,o,s,l,c){var u,f=c.bbox,h=f===void 0?!0:f,d=c.length,p=d===void 0?!0:d,v=c.sampleSize,g=v===void 0?10:v,y=typeof l=="number",m=t,b=e,x=0,_=[m,b,x],w=[m,b],S=0,O={x:0,y:0},M=[{x:m,y:b}];y&&l<=0&&(O={x:m,y:b});for(var T=0;T<=g;T+=1){if(S=T/g,u=XJ(t,e,n,r,i,a,o,s,S),m=u.x,b=u.y,h&&M.push({x:m,y:b}),p&&(x+=sr(w,[m,b])),w=[m,b],y&&x>=l&&l>_[2]){var A=(x-l)/(x-_[2]);O={x:w[0]*(1-A)+_[0]*A,y:w[1]*(1-A)+_[1]*A}}_=[m,b,x]}return y&&l>=x&&(O={x:o,y:s}),{length:x,point:O,min:{x:Math.min.apply(null,M.map(function(P){return P.x})),y:Math.min.apply(null,M.map(function(P){return P.y}))},max:{x:Math.max.apply(null,M.map(function(P){return P.x})),y:Math.max.apply(null,M.map(function(P){return P.y}))}}}function UJ(t,e,n,r,i,a,o){var s=1-o;return{x:Math.pow(s,2)*t+2*s*o*n+Math.pow(o,2)*i,y:Math.pow(s,2)*e+2*s*o*r+Math.pow(o,2)*a}}function qJ(t,e,n,r,i,a,o,s){var l,c=s.bbox,u=c===void 0?!0:c,f=s.length,h=f===void 0?!0:f,d=s.sampleSize,p=d===void 0?10:d,v=typeof o=="number",g=t,y=e,m=0,b=[g,y,m],x=[g,y],_=0,w={x:0,y:0},S=[{x:g,y}];v&&o<=0&&(w={x:g,y});for(var O=0;O<=p;O+=1){if(_=O/p,l=UJ(t,e,n,r,i,a,_),g=l.x,y=l.y,u&&S.push({x:g,y}),h&&(m+=sr(x,[g,y])),x=[g,y],v&&m>=o&&o>b[2]){var M=(m-o)/(m-b[2]);w={x:x[0]*(1-M)+b[0]*M,y:x[1]*(1-M)+b[1]*M}}b=[g,y,m]}return v&&o>=m&&(w={x:i,y:a}),{length:m,point:w,min:{x:Math.min.apply(null,S.map(function(T){return T.x})),y:Math.min.apply(null,S.map(function(T){return T.y}))},max:{x:Math.max.apply(null,S.map(function(T){return T.x})),y:Math.max.apply(null,S.map(function(T){return T.y}))}}}function _3(t,e,n){for(var r,i,a,o,s,l,c=Wv(t),u=typeof e=="number",f,h=[],d,p=0,v=0,g=0,y=0,m,b=[],x=[],_=0,w={x:0,y:0},S=w,O=w,M=w,T=0,A=0,P=c.length;A<P;A+=1)m=c[A],d=m[0],f=d==="M",h=f?h:[p,v].concat(m.slice(1)),f?(g=m[1],y=m[2],w={x:g,y},S=w,_=0,u&&e<.001&&(M=w)):d==="L"?(r=ix(h[0],h[1],h[2],h[3],(e||0)-T),_=r.length,w=r.min,S=r.max,O=r.point):d==="A"?(i=VJ(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],(e||0)-T,n||{}),_=i.length,w=i.min,S=i.max,O=i.point):d==="C"?(a=x3(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],(e||0)-T,n||{}),_=a.length,w=a.min,S=a.max,O=a.point):d==="Q"?(o=qJ(h[0],h[1],h[2],h[3],h[4],h[5],(e||0)-T,n||{}),_=o.length,w=o.min,S=o.max,O=o.point):d==="Z"&&(h=[p,v,g,y],s=ix(h[0],h[1],h[2],h[3],(e||0)-T),_=s.length,w=s.min,S=s.max,O=s.point),u&&T<e&&T+_>=e&&(M=O),x.push(S),b.push(w),T+=_,l=d!=="Z"?m.slice(-2):[g,y],p=l[0],v=l[1];return u&&e>=T&&(M={x:p,y:v}),{length:T,point:M,min:{x:Math.min.apply(null,b.map(function(E){return E.x})),y:Math.min.apply(null,b.map(function(E){return E.y}))},max:{x:Math.max.apply(null,x.map(function(E){return E.x})),y:Math.max.apply(null,x.map(function(E){return E.y}))}}}function ZJ(t,e){return _3(t,void 0,bt(bt({},e),{bbox:!1,length:!0})).length}function KJ(t){var e=t.length,n=e-1;return t.map(function(r,i){return t.map(function(a,o){var s=i+o,l;return o===0||t[s]&&t[s][0]==="M"?(l=t[s],["M"].concat(l.slice(-2))):(s>=e&&(s-=n),t[s])})})}function QJ(t,e){var n=t.length-1,r=[],i=0,a=0,o=KJ(t);return o.forEach(function(s,l){t.slice(1).forEach(function(c,u){a+=sr(t[(l+u)%n].slice(-2),e[u%n].slice(-2))}),r[l]=a,a=0}),i=r.indexOf(Math.min.apply(null,r)),o[i]}function JJ(t,e,n,r,i,a,o,s){return 3*((s-e)*(n+i)-(o-t)*(r+a)+r*(t-i)-n*(e-a)+s*(i+t/3)-o*(a+e/3))/20}function ttt(t){var e=0,n=0,r=0;return rx(t).map(function(i){var a;switch(i[0]){case"M":return e=i[1],n=i[2],0;default:var o=i.slice(1),s=o[0],l=o[1],c=o[2],u=o[3],f=o[4],h=o[5];return r=JJ(e,n,s,l,c,u,f,h),a=i.slice(-2),e=a[0],n=a[1],r}}).reduce(function(i,a){return i+a},0)}function xE(t){return ttt(t)>=0}function ett(t,e,n){return _3(t,e,bt(bt({},n),{bbox:!1,length:!0})).point}function ntt(t,e){e===void 0&&(e=.5);var n=t.slice(0,2),r=t.slice(2,4),i=t.slice(4,6),a=t.slice(6,8),o=Ua(n,r,e),s=Ua(r,i,e),l=Ua(i,a,e),c=Ua(o,s,e),u=Ua(s,l,e),f=Ua(c,u,e);return[["C"].concat(o,c,f),["C"].concat(u,l,a)]}function _E(t){return t.map(function(e,n,r){var i=n&&r[n-1].slice(-2).concat(e.slice(1)),a=n?x3(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0,o;return n?o=a?ntt(i):[e,e]:o=[e],{s:e,ss:o,l:a}})}function w3(t,e,n){var r=_E(t),i=_E(e),a=r.length,o=i.length,s=r.filter(function(g){return g.l}).length,l=i.filter(function(g){return g.l}).length,c=r.filter(function(g){return g.l}).reduce(function(g,y){var m=y.l;return g+m},0)/s||0,u=i.filter(function(g){return g.l}).reduce(function(g,y){var m=y.l;return g+m},0)/l||0,f=n||Math.max(a,o),h=[c,u],d=[f-a,f-o],p=0,v=[r,i].map(function(g,y){return g.l===f?g.map(function(m){return m.s}):g.map(function(m,b){return p=b&&d[y]&&m.l>=h[y],d[y]-=p?1:0,p?m.ss:[m.s]}).flat()});return v[0].length===v[1].length?v:w3(v[0],v[1],f)}function wE(t){var e=document.createElement("div");e.innerHTML=t;var n=e.childNodes[0];return n&&e.contains(n)&&e.removeChild(n),n}function ge(t,e){if(t!==null)return{type:"column",value:t,field:e}}function d0(t,e){const n=ge(t,e);return Object.assign(Object.assign({},n),{inferred:!0})}function Hv(t,e){if(t!==null)return{type:"column",value:t,field:e,visual:!0}}function rtt(t,e){const n=ge(t,e);return Object.assign(Object.assign({},n),{constant:!1})}function go(t,e){const n=[];for(const r of t)n[r]=e;return n}function Ht(t,e){const n=t[e];if(!n)return[null,null];const{value:r,field:i=null}=n;return[r,i]}function eh(t,...e){for(const n of e)if(typeof n=="string"){const[r,i]=Ht(t,n);if(r!==null)return[r,i]}else return[n,null];return[null,null]}function $h(t){return t instanceof Date?!1:typeof t=="object"}const Gh=()=>(t,e)=>{const{encode:n}=e,{y1:r}=n;return r!==void 0?[t,e]:[t,U({},e,{encode:{y1:d0(go(t,0))}})]};Gh.props={};function ze(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function itt(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yo(t){let e,n,r;t.length!==2?(e=ze,n=(s,l)=>ze(t(s),l),r=(s,l)=>t(s)-l):(e=t===ze||t===itt?t:att,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function att(){return 0}function ax(t){return t===null?NaN:+t}function*ott(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const S3=yo(ze),stt=S3.right,ltt=S3.left,ctt=yo(ax).center;function O3(t,e){let n=0;for(let r of t)r!=null&&(r=+r)>=r&&++n;return n}function utt(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of t)(s=e(s,++o,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function M3(t,e){const n=utt(t,e);return n&&Math.sqrt(n)}function wa(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Is{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}let ftt=class extends Map{constructor(e,n=ptt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(SE(this,e))}has(e){return super.has(SE(this,e))}set(e,n){return super.set(htt(this,e),n)}delete(e){return super.delete(dtt(this,e))}};function SE({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function htt({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dtt({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ptt(t){return t!==null&&typeof t=="object"?t.valueOf():t}function nh(t){return t}function Pe(t,...e){return p0(t,nh,nh,e)}function iw(t,...e){return p0(t,Array.from,nh,e)}function aw(t,e,...n){return p0(t,nh,e,n)}function ow(t,e,...n){return p0(t,Array.from,e,n)}function p0(t,e,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new ftt,l=r[o++];let c=-1;for(const u of a){const f=l(u,++c,a),h=s.get(f);h?h.push(u):s.set(f,[u])}for(const[u,f]of s)s.set(u,i(f,o));return e(s)}(t,0)}function vtt(t,e){return Array.from(e,n=>t[n])}function mi(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of e){const s=rh(o[i],o[a]);if(s)return s}})):(n=t.map(n),r.sort((i,a)=>rh(n[i],n[a]))),vtt(t,r)}return t.sort(T3(n))}function T3(t=ze){if(t===ze)return rh;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function rh(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function gtt(t,e,n){return(e.length!==2?mi(aw(t,e,n),([r,i],[a,o])=>ze(i,o)||ze(r,a)):mi(Pe(t,n),([r,i],[a,o])=>e(i,o)||ze(r,a))).map(([r])=>r)}var ytt=Array.prototype,mtt=ytt.slice;function jm(t){return()=>t}const btt=Math.sqrt(50),xtt=Math.sqrt(10),_tt=Math.sqrt(2);function Yv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=btt?10:a>=xtt?5:a>=_tt?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Yv(t,e,n*2):[s,l,c]}function wtt(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Yv(e,t,n):Yv(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function ox(t,e,n){return e=+e,t=+t,n=+n,Yv(t,e,n)[2]}function Stt(t,e,n){let r;for(;;){const i=ox(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function Ott(t){return Math.max(1,Math.ceil(Math.log(O3(t))/Math.LN2)+1)}function Mtt(){var t=nh,e=wa,n=Ott;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,l,c=new Array(o);for(a=0;a<o;++a)c[a]=t(i[a],a,i);var u=e(c),f=u[0],h=u[1],d=n(c,f,h);if(!Array.isArray(d)){const b=h,x=+d;if(e===wa&&([f,h]=Stt(f,h,x)),d=wtt(f,h,x),d[0]<=f&&(l=ox(f,h,x)),d[d.length-1]>=h)if(b>=h&&e===wa){const _=ox(f,h,x);isFinite(_)&&(_>0?h=(Math.floor(h/_)+1)*_:_<0&&(h=(Math.ceil(h*-_)+1)/-_))}else d.pop()}for(var p=d.length,v=0,g=p;d[v]<=f;)++v;for(;d[g-1]>h;)--g;(v||g<p)&&(d=d.slice(v,g),p=g-v);var y=new Array(p+1),m;for(a=0;a<=p;++a)m=y[a]=[],m.x0=a>0?d[a-1]:f,m.x1=a<p?d[a]:h;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(s=c[a])!=null&&f<=s&&s<=h&&y[Math.min(p,Math.floor((s-f)/l))].push(i[a]);else if(l<0){for(a=0;a<o;++a)if((s=c[a])!=null&&f<=s&&s<=h){const b=Math.floor((f-s)*l);y[Math.min(p,b+(d[b]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=c[a])!=null&&f<=s&&s<=h&&y[stt(d,s,0,p)].push(i[a]);return y}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:jm(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:jm([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:jm(Array.isArray(i)?mtt.call(i):i),r):n},r}function Jt(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Yc(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Er(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Wh(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function sw(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?rh:T3(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(n,Math.floor(e-c*f/l+h)),p=Math.min(r,Math.floor(e+(l-c)*f/l+h));sw(t,e,d,p,i)}const a=t[e];let o=n,s=r;for(Mu(t,n,e),i(t[r],a)>0&&Mu(t,n,r);o<s;){for(Mu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Mu(t,n,s):(++s,Mu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Mu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Ttt(t,e=ze){let n,r=!1;if(e.length===1){let i;for(const a of t){const o=e(a);(r?ze(o,i)>0:ze(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function v0(t,e,n){if(t=Float64Array.from(ott(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Er(t);if(e>=1)return Jt(t);var r,i=(r-1)*e,a=Math.floor(i),o=Jt(sw(t,a).subarray(0,a+1)),s=Er(t.subarray(a+1));return o+(s-o)*(i-a)}}function Att(t,e,n=ax){if(!isNaN(e=+e)){if(r=Float64Array.from(t,(s,l)=>ax(n(t[l],l,t))),e<=0)return Wh(r);if(e>=1)return Yc(r);var r,i=Uint32Array.from(t,(s,l)=>l),a=r.length-1,o=Math.floor(a*e);return sw(i,o,0,a,(s,l)=>rh(r[s],r[l])),o=Ttt(i.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function Ett(t,e,n){const r=O3(t),i=M3(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function ih(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function lw(t,e){return v0(t,.5,e)}function Ptt(t,e){return Att(t,.5,e)}function*Ctt(t){for(const e of t)yield*e}function A3(t){return Array.from(Ctt(t))}function zl(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Qr(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}var ktt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};function Rs(t){return t}function cw(t){return t.reduce((e,n)=>(r,...i)=>n(e(r,...i),...i),Rs)}function Ltt(t){return t.reduce((e,n)=>r=>ktt(this,void 0,void 0,function*(){const i=yield e(r);return n(i)}),Rs)}function uw(t){return t.replace(/( |^)[a-z]/g,e=>e.toUpperCase())}function gc(t=""){throw new Error(t)}function fw(t,e){const{attributes:n}=e,r=new Set(["id","className"]);for(const[i,a]of Object.entries(n))r.has(i)||t.attr(i,a)}function pe(t){return t!=null&&!Number.isNaN(t)}function Dtt(t){const e=new Map;return n=>{if(e.has(n))return e.get(n);const r=t(n);return e.set(n,r),r}}function Itt(t,e){const{transform:n}=t.style,i=(a=>a==="none"||a===void 0)(n)?"":n;t.style.transform=`${i} ${e}`.trimStart()}function nt(t,e){return E3(t,e)||{}}function E3(t,e){const n=Object.entries(t||{}).filter(([r])=>r.startsWith(e)).map(([r,i])=>[qR(r.replace(e,"").trim()),i]).filter(([r])=>!!r);return n.length===0?null:Object.fromEntries(n)}function Rtt(t,e){return Object.fromEntries(Object.entries(t).filter(([n])=>e.find(r=>n.startsWith(r))))}function zm(t,...e){return Object.fromEntries(Object.entries(t).filter(([n])=>e.every(r=>!n.startsWith(r))))}function OE(t,e){if(t===void 0)return null;if(typeof t=="number")return t;const n=+t.replace("%","");return Number.isNaN(n)?null:n/100*e}function yc(t){return typeof t=="object"&&!(t instanceof Date)&&t!==null&&!Array.isArray(t)}function ka(t){return t===null||t===!1}function P3(t,e,n=5,r=0){if(!(r>=n)){for(const i of Object.keys(e)){const a=e[i];!Ca(a)||!Ca(t[i])?t[i]=a:P3(t[i],a,n,r+1)}return t}}function qi(t,e){return Object.entries(t).reduce((n,[r,i])=>(n[r]=e(i,r,t),n),{})}function Zs(t){return t.map((e,n)=>n)}function Ntt(t){return t[0]}function C3(t){return t[t.length-1]}function Btt(t){return Array.from(new Set(t))}function k3(t,e){const n=[[],[]];return t.forEach(r=>{n[e(r)?0:1].push(r)}),n}function L3(t,e=t.length){if(e===1)return t.map(r=>[r]);const n=[];for(let r=0;r<t.length;r++){const i=t.slice(r+1);L3(i,e-1).forEach(o=>{n.push([t[r],...o])})}return n}function Ftt(t){if(t.length===1)return[t];const e=[];for(let n=1;n<=t.length;n++)e.push(...L3(t,n));return e}function ko(t,e,n){const{encode:r}=n;if(t===null)return[e];const i=jtt(t).map(o=>{var s;return[o,(s=Ht(r,o))===null||s===void 0?void 0:s[0]]}).filter(([,o])=>pe(o)),a=o=>i.map(([,s])=>s[o]).join("-");return Array.from(Pe(e,a).values())}function D3(t){return Array.isArray(t)?Gtt(t):typeof t=="function"?$tt(t):t==="series"?ztt:t==="value"?Wtt:t==="sum"?Htt:t==="maxIndex"?Ytt:null}function I3(t,e){for(const n of t)n.sort(e)}function R3(t,e){return(e==null?void 0:e.domain)||Array.from(new Set(t))}function jtt(t){return Array.isArray(t)?t:[t]}function ztt(t,e,n){return Hh(r=>n[r])}function $tt(t){return(e,n,r)=>Hh(i=>t(e[i]))}function Gtt(t){return(e,n,r)=>(i,a)=>t.reduce((o,s)=>o!==0?o:ze(e[i][s],e[a][s]),0)}function Wtt(t,e,n){return Hh(r=>e[r])}function Htt(t,e,n){const r=Zs(t),i=Array.from(Pe(r,o=>n[+o]).entries()),a=new Map(i.map(([o,s])=>[o,s.reduce((l,c)=>l+ +e[c])]));return Hh(o=>a.get(n[o]))}function Ytt(t,e,n){const r=Zs(t),i=Array.from(Pe(r,o=>n[+o]).entries()),a=new Map(i.map(([o,s])=>[o,Yc(s,l=>e[l])]));return Hh(o=>a.get(n[o]))}function Hh(t){return(e,n)=>ze(t(e),t(n))}const N3=(t={})=>{const{groupBy:e="x",orderBy:n=null,reverse:r=!1,y:i="y",y1:a="y1",series:o=!0}=t;return(s,l)=>{var c;const{data:u,encode:f,style:h={}}=l,[d,p]=Ht(f,"y"),[v,g]=Ht(f,"y1"),[y]=o?eh(f,"series","color"):Ht(f,"color"),m=ko(e,s,l),x=((c=D3(n))!==null&&c!==void 0?c:()=>null)(u,d,y);x&&I3(m,x);const _=new Array(s.length),w=new Array(s.length),S=new Array(s.length),O=[],M=[];for(const C of m){r&&C.reverse();const k=v?+v[C[0]]:0,L=[],R=[];for(const G of C){const V=S[G]=+d[G]-k;V<0?R.push(G):V>=0&&L.push(G)}const D=L.length>0?L:R,I=R.length>0?R:L;let N=L.length-1,F=0;for(;N>0&&d[D[N]]===0;)N--;for(;F<I.length-1&&d[I[F]]===0;)F++;O.push(D[N]),M.push(I[F]);let j=k;for(const G of R.reverse()){const V=S[G];j=_[G]=(w[G]=j)+V}let z=k;for(const G of L){const V=S[G];V>0?z=_[G]=(w[G]=z)+V:_[G]=w[G]=z}}const T=new Set(O),A=new Set(M),P=i==="y"?_:w,E=a==="y"?_:w;return[s,U({},l,{encode:{y0:d0(d,p),y:ge(P,p),y1:ge(E,g)},style:Object.assign({first:(C,k)=>T.has(k),last:(C,k)=>A.has(k)},h)})]}};N3.props={};function Tu(t){return Math.abs(t)>10?String(t):t.toString().padStart(2,"0")}function Vtt(t){const e=t.getFullYear(),n=Tu(t.getMonth()+1),r=Tu(t.getDate()),i=`${e}-${n}-${r}`,a=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return a||o||s?`${i} ${Tu(a)}:${Tu(o)}:${Tu(s)}`:i}const g0=(t={})=>{const{channel:e="x"}=t;return(n,r)=>{const{encode:i}=r,{tooltip:a}=r;if(ka(a))return[n,r];const{title:o}=a;if(o!==void 0)return[n,r];const s=Object.keys(i).filter(c=>c.startsWith(e)).filter(c=>!i[c].inferred).map(c=>Ht(i,c)).filter(([c])=>c).map(c=>c[0]);if(s.length===0)return[n,r];const l=[];for(const c of n)l[c]={value:s.map(u=>u[c]instanceof Date?Vtt(u[c]):u[c]).join(", ")};return[n,U({},r,{tooltip:{title:l}})]}};g0.props={};const Ks=()=>(t,e)=>{const{encode:n}=e,{x:r}=n;return r!==void 0?[t,e]:[t,U({},e,{encode:{x:d0(go(t,0))},scale:{x:{guide:null}}})]};Ks.props={};const y0=()=>(t,e)=>{const{encode:n}=e,{y:r}=n;return r!==void 0?[t,e]:[t,U({},e,{encode:{y:d0(go(t,0))},scale:{y:{guide:null}}})]};y0.props={};const B3=()=>(t,e)=>{const{encode:n}=e,{size:r}=n;return r!==void 0?[t,e]:[t,U({},e,{encode:{size:Hv(go(t,3))}})]};B3.props={};var Xtt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const F3=()=>(t,e)=>{const{encode:n}=e,{key:r}=n,i=Xtt(n,["key"]);if(r!==void 0)return[t,e];const a=Object.values(i).map(({value:s})=>s),o=t.map(s=>a.filter(Array.isArray).map(l=>l[s]).join("-"));return[t,U({},e,{encode:{key:ge(o)}})]};F3.props={};const hw=()=>(t,e)=>{const{encode:n}=e,{series:r,color:i}=n;if(r!==void 0||i===void 0)return[t,e];const[a,o]=Ht(n,"color");return[t,U({},e,{encode:{series:ge(a,o)}})]};hw.props={};const j3=()=>(t,e)=>{const{data:n}=e;return!Array.isArray(n)||n.some($h)?[t,e]:[t,U({},e,{encode:{y:ge(n)}})]};j3.props={};const z3=()=>(t,e)=>{const{data:n}=e;return!Array.isArray(n)||n.some($h)?[t,e]:[t,U({},e,{encode:{x:ge(n)}})]};z3.props={};const $3=()=>(t,e)=>{const{encode:n}=e,{y1:r}=n;if(r)return[t,e];const[i]=Ht(n,"y");return[t,U({},e,{encode:{y1:ge([...i])}})]};$3.props={};const G3=()=>(t,e)=>{const{encode:n}=e,{x1:r}=n;if(r)return[t,e];const[i]=Ht(n,"x");return[t,U({},e,{encode:{x1:ge([...i])}})]};G3.props={};const W3=()=>(t,e)=>{const{data:n}=e;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some($h))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[t,U({},e,{encode:{x:ge(r(n,0)),x1:ge(r(n,1))}})]}return[t,e]};W3.props={};const H3=()=>(t,e)=>{const{data:n}=e;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some($h))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[t,U({},e,{encode:{y:ge(r(n,0)),y1:ge(r(n,1))}})]}return[t,e]};H3.props={};const m0=t=>{const{channel:e}=t;return(n,r)=>{const{encode:i,tooltip:a}=r;if(ka(a))return[n,r];const{items:o=[]}=a;if(!o||o.length>0)return[n,r];const l=(Array.isArray(e)?e:[e]).flatMap(c=>Object.keys(i).filter(u=>u.startsWith(c)).map(u=>{const{field:f,value:h,inferred:d=!1,aggregate:p}=i[u];return d?null:p&&h?{channel:u}:f?{field:f}:h?{channel:u}:null}).filter(u=>u!==null));return[n,U({},r,{tooltip:{items:l}})]}};m0.props={};const dw=()=>(t,e)=>[t,U({scale:{x:{padding:0},y:{padding:0}}},e)];dw.props={};var ME=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const b0=()=>(t,e)=>{const{data:n,style:r={}}=e,i=ME(e,["data","style"]),{x:a,y:o}=r,s=ME(r,["x","y"]);if(a==null||o==null)return[t,e];const l=a||0,c=o||0;return[[0],U({},i,{data:[0],cartesian:!0,encode:{x:ge([l]),y:ge([c])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};b0.props={};const Y3=()=>(t,e)=>{const{style:n={}}=e;return[t,U({},e,{style:Object.assign(Object.assign({},n),Object.fromEntries(Object.entries(n).filter(([,r])=>typeof r=="function").map(([r,i])=>[r,()=>i])))})]};Y3.props={};const x0=()=>(t,e)=>{const{data:n}=e;if(!Array.isArray(n)||n.some($h))return[t,e];const r=Array.isArray(n[0])?n:[n],i=r.map(o=>o[0]),a=r.map(o=>o[1]);return[t,U({},e,{encode:{x:ge(i),y:ge(a)}})]};x0.props={};const V3=()=>(t,e)=>{const{style:n={},encode:r}=e,{series:i}=r,{gradient:a}=n;return!a||i?[t,e]:[t,U({},e,{encode:{series:Hv(go(t,void 0))}})]};V3.props={};var Utt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const X3=(t={})=>{const{groupBy:e="x",reverse:n=!1,orderBy:r,padding:i}=t;return Utt(t,["groupBy","reverse","orderBy","padding"]),(a,o)=>{const{data:s,encode:l,scale:c}=o,{series:u}=c,[f]=Ht(l,"y"),[h]=eh(l,"series","color"),d=R3(h,u),p=U({},o,{scale:{series:{domain:d,paddingInner:i}}}),v=ko(e,a,o),g=D3(r);if(!g)return[a,U(p,{encode:{series:ge(h)}})];const y=g(s,f,h);y&&I3(v,y);const m=new Array(a.length);for(const b of v){n&&b.reverse();for(let x=0;x<b.length;x++)m[b[x]]=d[x]}return[a,U(p,{encode:{series:ge(r?m:h)}})]}};X3.props={};const U3=t=>{const{groupBy:e=["x"],reducer:n=(o,s)=>s[o[0]],orderBy:r=null,reverse:i=!1,duration:a}=t;return(o,s)=>{const{encode:l}=s,u=(Array.isArray(e)?e:[e]).map(g=>[g,Ht(l,g)[0]]);if(u.length===0)return[o,s];let f=[o];for(const[,g]of u){const y=[];for(const m of f){const b=Array.from(Pe(m,x=>g[x]).values());y.push(...b)}f=y}if(r){const[g]=Ht(l,r);g&&f.sort((y,m)=>n(y,g)-n(m,g)),i&&f.reverse()}const h=(a||3e3)/f.length,[d]=a?[go(o,h)]:eh(l,"enterDuration",go(o,h)),[p]=eh(l,"enterDelay",go(o,0)),v=new Array(o.length);for(let g=0,y=0;g<f.length;g++){const m=f[g],b=Jt(m,x=>+d[x]);for(const x of m)v[x]=+p[x]+y;y+=b}return[o,U({},s,{encode:{enterDuration:Hv(d),enterDelay:Hv(v)}})]}};U3.props={};var qtt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Ztt(t){return typeof t=="function"?t:{min:(n,r)=>Er(n,i=>r[+i]),max:(n,r)=>Jt(n,i=>r[+i]),first:(n,r)=>r[n[0]],last:(n,r)=>r[n[n.length-1]],mean:(n,r)=>ih(n,i=>r[+i]),median:(n,r)=>lw(n,i=>r[+i]),sum:(n,r)=>Qr(n,i=>r[+i]),deviation:(n,r)=>M3(n,i=>r[+i])}[t]||Jt}const q3=(t={})=>{const{groupBy:e="x",basis:n="max"}=t;return(r,i)=>{const{encode:a,tooltip:o}=i,s=qtt(a,["x"]),l=Object.entries(s).filter(([p])=>p.startsWith("y")).map(([p])=>[p,Ht(a,p)[0]]),[,c]=l.find(([p])=>p==="y"),u=l.map(([p])=>[p,new Array(r.length)]),f=ko(e,r,i),h=Ztt(n);for(const p of f){const v=h(p,c);for(const g of p)for(let y=0;y<l.length;y++){const[,m]=l[y],[,b]=u[y];b[g]=+m[g]/v}}const d=ka(o)||(o==null?void 0:o.items)&&(o==null?void 0:o.items.length)!==0;return[r,U({},i,Object.assign({encode:Object.fromEntries(u.map(([p,v])=>[p,ge(v,Ht(a,p)[1])]))},!d&&a.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};q3.props={};function mc(t,...e){return e.reduce((n,r)=>i=>n(r(i)),t)}function Vv(t,e){return e-t?n=>(n-t)/(e-t):n=>.5}function Ktt(t,e){const n=e<t?e:t,r=t>e?t:e;return i=>Math.min(Math.max(n,i),r)}function pw(t,e,n,r,i){let a=n||0,o=r||t.length;const s=i||(l=>l);for(;a<o;){const l=Math.floor((a+o)/2);s(t[l])>e?o=l:a=l+1}return a}const sx=Math.sqrt(50),lx=Math.sqrt(10),cx=Math.sqrt(2);function iv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=sx?10:a>=lx?5:a>=cx?2:1)*10**i:-(10**-i)/(a>=sx?10:a>=lx?5:a>=cx?2:1)}function TE(t,e,n){const r=Math.abs(e-t)/Math.max(0,n);let i=10**Math.floor(Math.log(r)/Math.LN10);const a=r/i;return a>=sx?i*=10:a>=lx?i*=5:a>=cx&&(i*=2),e<t?-i:i}const Z3=(t,e,n=5)=>{const r=[t,e];let i=0,a=r.length-1,o=r[i],s=r[a],l;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),l=iv(o,s,n),l>0?(o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l,l=iv(o,s,n)):l<0&&(o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l,l=iv(o,s,n)),l>0?(r[i]=Math.floor(o/l)*l,r[a]=Math.ceil(s/l)*l):l<0&&(r[i]=Math.ceil(o*l)/l,r[a]=Math.floor(s*l)/l),r},ah=1e3,oh=ah*60,sh=oh*60,Ns=sh*24,Sf=Ns*7,K3=Ns*30,Q3=Ns*365;function Fn(t,e,n,r){const i=(c,u)=>{const f=d=>r(d)%u===0;let h=u;for(;h&&!f(c);)n(c,-1),h-=1;return c},a=(c,u)=>{u&&i(c,u),e(c)},o=(c,u)=>{const f=new Date(+c);return a(f,u),f},s=(c,u)=>{const f=new Date(+c-1);return a(f,u),n(f,u),a(f),f};return{ceil:s,floor:o,range:(c,u,f,h)=>{const d=[],p=Math.floor(f),v=h?s(c,f):s(c);for(let g=v;g<u;n(g,p),a(g))d.push(new Date(+g));return d},duration:t}}const Qtt=Fn(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),Jtt=Fn(ah,t=>{t.setMilliseconds(0)},(t,e=1)=>{t.setTime(+t+ah*e)},t=>t.getSeconds()),tet=Fn(oh,t=>{t.setSeconds(0,0)},(t,e=1)=>{t.setTime(+t+oh*e)},t=>t.getMinutes()),eet=Fn(sh,t=>{t.setMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+sh*e)},t=>t.getHours()),net=Fn(Ns,t=>{t.setHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+Ns*e)},t=>t.getDate()-1),J3=Fn(K3,t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e=1)=>{const n=t.getMonth();t.setMonth(n+e)},t=>t.getMonth()),ret=Fn(Sf,t=>{t.setDate(t.getDate()-t.getDay()%7),t.setHours(0,0,0,0)},(t,e=1)=>{t.setDate(t.getDate()+7*e)},t=>{const e=J3.floor(t),n=new Date(+t);return Math.floor((+n-+e)/Sf)}),iet=Fn(Q3,t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e=1)=>{const n=t.getFullYear();t.setFullYear(n+e)},t=>t.getFullYear()),tN={millisecond:Qtt,second:Jtt,minute:tet,hour:eet,day:net,week:ret,month:J3,year:iet},aet=Fn(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),oet=Fn(ah,t=>{t.setUTCMilliseconds(0)},(t,e=1)=>{t.setTime(+t+ah*e)},t=>t.getUTCSeconds()),set=Fn(oh,t=>{t.setUTCSeconds(0,0)},(t,e=1)=>{t.setTime(+t+oh*e)},t=>t.getUTCMinutes()),cet=Fn(sh,t=>{t.setUTCMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+sh*e)},t=>t.getUTCHours()),uet=Fn(Ns,t=>{t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+Ns*e)},t=>t.getUTCDate()-1),eN=Fn(K3,t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const n=t.getUTCMonth();t.setUTCMonth(n+e)},t=>t.getUTCMonth()),fet=Fn(Sf,t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7)%7),t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+Sf*e)},t=>{const e=eN.floor(t),n=new Date(+t);return Math.floor((+n-+e)/Sf)}),het=Fn(Q3,t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const n=t.getUTCFullYear();t.setUTCFullYear(n+e)},t=>t.getUTCFullYear()),nN={millisecond:aet,second:oet,minute:set,hour:cet,day:uet,week:fet,month:eN,year:het};function det(t){const e=t?nN:tN,{year:n,month:r,week:i,day:a,hour:o,minute:s,second:l,millisecond:c}=e;return{tickIntervals:[[l,1],[l,5],[l,15],[l,30],[s,1],[s,5],[s,15],[s,30],[o,1],[o,3],[o,6],[o,12],[a,1],[a,2],[i,1],[r,1],[r,3],[n,1]],year:n,millisecond:c}}function rN(t,e,n,r,i){const a=+t,o=+e,{tickIntervals:s,year:l,millisecond:c}=det(i),u=([g,y])=>g.duration*y,f=r?(o-a)/r:n||5,h=r||(o-a)/f,d=s.length,p=pw(s,h,0,d,u);let v;if(p===d){const g=TE(a/l.duration,o/l.duration,f);v=[l,g]}else if(p){const g=h/u(s[p-1])<u(s[p])/h,[y,m]=g?s[p-1]:s[p],b=r?Math.ceil(r/y.duration):m;v=[y,b]}else{const g=Math.max(TE(a,o,f),1);v=[c,g]}return v}const pet=(t,e,n,r,i)=>{const a=t>e,o=a?e:t,s=a?t:e,[l,c]=rN(o,s,n,r,i),u=[l.floor(o,c),l.ceil(s,c)];return a?u.reverse():u};function Xv(t){return!he(t)&&!kQ(t)&&!Number.isNaN(t)}const iN=t=>e=>-t(-e),vw=(t,e)=>{const n=Math.log(t),r=t===Math.E?Math.log:t===10?Math.log10:t===2?Math.log2:i=>Math.log(i)/n;return e?iN(r):r},gw=(t,e)=>{const n=t===Math.E?Math.exp:r=>t**r;return e?iN(n):n},vet=(t,e,n,r)=>{const i=t<0,a=vw(r,i),o=gw(r,i),s=t>e,l=s?e:t,c=s?t:e,u=[o(Math.floor(a(l))),o(Math.ceil(a(c)))];return s?u.reverse():u},get=t=>e=>{const n=t(e);return we(n)?Math.round(n):n};function yet(t,e){return n=>{n.prototype.rescale=function(){this.initRange(),this.nice();const[r]=this.chooseTransforms();this.composeOutput(r,this.chooseClamp(r))},n.prototype.initRange=function(){const{interpolator:r}=this.options;this.options.range=t(r)},n.prototype.composeOutput=function(r,i){const{domain:a,interpolator:o,round:s}=this.getOptions(),l=e(a.map(r)),c=s?get(o):o;this.output=mc(c,l,i,r)},n.prototype.invert=void 0}}var aN={exports:{}},met={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},oN={exports:{}},bet=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")},xet=bet,_et=Array.prototype.concat,wet=Array.prototype.slice,AE=oN.exports=function(e){for(var n=[],r=0,i=e.length;r<i;r++){var a=e[r];xet(a)?n=_et.call(n,wet.call(a)):n.push(a)}return n};AE.wrap=function(t){return function(){return t(AE(arguments))}};var Oet=oN.exports,Of=met,Yh=Oet,sN=Object.hasOwnProperty,lN=Object.create(null);for(var $m in Of)sN.call(Of,$m)&&(lN[Of[$m]]=$m);var Or=aN.exports={to:{},get:{}};Or.get=function(t){var e=t.substring(0,3).toLowerCase(),n,r;switch(e){case"hsl":n=Or.get.hsl(t),r="hsl";break;case"hwb":n=Or.get.hwb(t),r="hwb";break;default:n=Or.get.rgb(t),r="rgb";break}return n?{model:r,value:n}:null};Or.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^(\w+)$/,o=[0,0,0,1],s,l,c;if(s=t.match(n)){for(c=s[2],s=s[1],l=0;l<3;l++){var u=l*2;o[l]=parseInt(s.slice(u,u+2),16)}c&&(o[3]=parseInt(c,16)/255)}else if(s=t.match(e)){for(s=s[1],c=s[3],l=0;l<3;l++)o[l]=parseInt(s[l]+s[l],16);c&&(o[3]=parseInt(c+c,16)/255)}else if(s=t.match(r)){for(l=0;l<3;l++)o[l]=parseInt(s[l+1],0);s[4]&&(s[5]?o[3]=parseFloat(s[4])*.01:o[3]=parseFloat(s[4]))}else if(s=t.match(i)){for(l=0;l<3;l++)o[l]=Math.round(parseFloat(s[l+1])*2.55);s[4]&&(s[5]?o[3]=parseFloat(s[4])*.01:o[3]=parseFloat(s[4]))}else return(s=t.match(a))?s[1]==="transparent"?[0,0,0,0]:sN.call(Of,s[1])?(o=Of[s[1]],o[3]=1,o):null:null;for(l=0;l<3;l++)o[l]=mo(o[l],0,255);return o[3]=mo(o[3],0,1),o};Or.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,a=mo(parseFloat(n[2]),0,100),o=mo(parseFloat(n[3]),0,100),s=mo(isNaN(r)?1:r,0,1);return[i,a,o,s]}return null};Or.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,a=mo(parseFloat(n[2]),0,100),o=mo(parseFloat(n[3]),0,100),s=mo(isNaN(r)?1:r,0,1);return[i,a,o,s]}return null};Or.to.hex=function(){var t=Yh(arguments);return"#"+Jd(t[0])+Jd(t[1])+Jd(t[2])+(t[3]<1?Jd(Math.round(t[3]*255)):"")};Or.to.rgb=function(){var t=Yh(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Or.to.rgb.percent=function(){var t=Yh(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"};Or.to.hsl=function(){var t=Yh(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Or.to.hwb=function(){var t=Yh(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Or.to.keyword=function(t){return lN[t.slice(0,3)]};function mo(t,e,n){return Math.min(Math.max(e,t),n)}function Jd(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}var Met=aN.exports;const Tet=P_(Met);function Gm(t,e,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Aet(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100,i=t[3];if(n===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+n):r+n-r*n,o=2*r-a,s=Gm(o,a,e+1/3),l=Gm(o,a,e),c=Gm(o,a,e-1/3);return[s*255,l*255,c*255,i]}function EE(t){const e=Tet.get(t);if(!e)return null;const{model:n,value:r}=e;return n==="rgb"?r:n==="hsl"?Aet(r):null}const bc=(t,e)=>n=>t*(1-n)+e*n,Eet=(t,e)=>{const n=EE(t),r=EE(e);return n===null||r===null?n?()=>t:()=>e:i=>{const a=new Array(4);for(let u=0;u<4;u+=1){const f=n[u],h=r[u];a[u]=f*(1-i)+h*i}const[o,s,l,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(l)}, ${c})`}},Vh=(t,e)=>typeof t=="number"&&typeof e=="number"?bc(t,e):typeof t=="string"&&typeof e=="string"?Eet(t,e):()=>t,Pet=(t,e)=>{const n=bc(t,e);return r=>Math.round(n(r))};function Cet(t,e){const{second:n,minute:r,hour:i,day:a,week:o,month:s,year:l}=e;return n.floor(t)<t?".SSS":r.floor(t)<t?":ss":i.floor(t)<t?"hh:mm":a.floor(t)<t?"hh A":s.floor(t)<t?o.floor(t)<t?"MMM DD":"ddd DD":l.floor(t)<t?"MMMM":"YYYY"}function PE({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ket({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Let({map:t,initKey:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Det(t){return typeof t=="object"?t.valueOf():t}class CE extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=Det,e!==null)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(PE({map:this.map,initKey:this.initKey},e))}has(e){return super.has(PE({map:this.map,initKey:this.initKey},e))}set(e,n){return super.set(ket({map:this.map,initKey:this.initKey},e),n)}delete(e){return super.delete(Let({map:this.map,initKey:this.initKey},e))}}class Xh{constructor(e){this.options=U({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=U({},this.options,e),this.rescale(e)}rescale(e){}}const _0=Symbol("defaultUnknown");function kE(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function LE(t){const{value:e,from:n,to:r,mapper:i,notFoundReturn:a}=t;let o=i.get(e);if(o===void 0){if(a!==_0)return a;o=n.push(e)-1,i.set(e,o)}return r[o%r.length]}function DE(t){return t instanceof Date?e=>`${e}`:typeof t=="object"?e=>JSON.stringify(e):e=>e}let cN=class uN extends Xh{getDefaultOptions(){return{domain:[],range:[],unknown:_0}}constructor(e){super(e)}map(e){return this.domainIndexMap.size===0&&kE(this.domainIndexMap,this.getDomain(),this.domainKey),LE({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return this.rangeIndexMap.size===0&&kE(this.rangeIndexMap,this.getRange(),this.rangeKey),LE({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=DE(n),this.rangeKey=DE(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!e||e.range)&&this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new uN(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:n}=this.options;return this.sortedDomain=n?[...e].sort(n):e,this.sortedDomain}};function Iet(t){const e=Math.min(...t);return t.map(n=>n/e)}function Ret(t,e){const n=t.length,r=e-n;return r>0?[...t,...new Array(r).fill(1)]:r<0?t.slice(0,e):t}function Net(t){return Math.round(t*1e12)/1e12}function Bet(t){const{domain:e,range:n,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=t,l=e.length,c=Ret(a,l),[u,f]=n,h=f-u,d=2/l*r+1-1/l*i,p=h/d,v=p*i/l,g=p-l*v,y=Iet(c),m=y.reduce((P,E)=>P+E),b=g/m,x=new CE(e.map((P,E)=>{const C=y[E]*b;return[P,o?Math.floor(C):C]})),_=new CE(e.map((P,E)=>{const k=y[E]*b+v;return[P,o?Math.floor(k):k]})),w=Array.from(_.values()).reduce((P,E)=>P+E),O=(h-(w-w/l*i))*s,M=u+O;let T=o?Math.round(M):M;const A=new Array(l);for(let P=0;P<l;P+=1){A[P]=Net(T);const E=e[P];T+=_.get(E)}return{valueBandWidth:x,valueStep:_,adjustedRange:A}}function Fet(t){var e;const{domain:n}=t,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((e=t.flex)===null||e===void 0)&&e.length))return Bet(t);const{range:a,paddingOuter:o,paddingInner:s,round:l,align:c}=t;let u,f,h=a[0];const p=a[1]-h,v=o*2,g=r-s;u=p/Math.max(1,v+g),l&&(u=Math.floor(u)),h+=(p-u*(r-s))*c,f=u*(1-s),l&&(h=Math.round(h),f=Math.round(f));const y=new Array(r).fill(0).map((m,b)=>h+b*u);return{valueStep:u,valueBandWidth:f,adjustedRange:y}}let xc=class fN extends cN{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:_0,flex:[]}}constructor(e){super(e)}clone(){return new fN(this.options)}getStep(e){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:e===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:e===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:n}=this.options;return e>0?e:n}getPaddingOuter(){const{padding:e,paddingOuter:n}=this.options;return e>0?e:n}rescale(){super.rescale();const{align:e,domain:n,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:l}=Fet({align:e,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=l,this.valueBandWidth=s,this.adjustedRange=o}};const Bs=(t,e,n)=>{let r,i,a=t,o=e;if(a===o&&n>0)return[a];let s=iv(a,o,n);if(s===0||!Number.isFinite(s))return[];if(s>0){a=Math.ceil(a/s),o=Math.floor(o/s),i=new Array(r=Math.ceil(o-a+1));for(let l=0;l<r;l+=1)i[l]=(a+l)*s}else{s=-s,a=Math.ceil(a*s),o=Math.floor(o*s),i=new Array(r=Math.ceil(o-a+1));for(let l=0;l<r;l+=1)i[l]=(a+l)/s}return i};let yw=class hN extends Xh{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:Bs}}map(e){const[n]=this.options.range;return n!==void 0?n:this.options.unknown}invert(e){const[n]=this.options.range;return e===n&&n!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:e,domain:n,tickCount:r}=this.options,[i,a]=n;return!we(i)||!we(a)?[]:e(i,a,r)}clone(){return new hN(this.options)}};function Au(t){return Math.abs(t)<1e-14?t:parseFloat(t.toFixed(14))}const jet=[1,5,2,2.5,4,3],IE=Number.EPSILON*100;function zet(t,e){return(t%e+e)%e}function $et(t){return Math.round(t*1e12)/1e12}function Get(t,e,n,r,i,a){const o=jv(e),s=QR(e,t);let l=0;const c=zet(r,a);return(c<IE||a-c<IE)&&r<=0&&i>=0&&(l=1),1-s/(o-1)-n+l}function Wet(t,e,n){const r=jv(e);return 1-QR(e,t)/(r-1)-n+1}function Het(t,e,n,r,i,a){const o=(t-1)/(a-i),s=(e-1)/(Math.max(a,r)-Math.min(n,i));return 2-Math.max(o/s,s/o)}function Yet(t,e){return t>=e?2-(t-1)/(e-1):1}function Vet(t,e,n,r){const i=e-t;return 1-.5*((e-r)**2+(t-n)**2)/(.1*i)**2}function Xet(t,e,n){const r=e-t;return n>r?1-((n-r)/2)**2/(.1*r)**2:1}function Uet(){return 1}const mw=(t,e,n=5,r=!0,i=jet,a=[.25,.2,.5,.05])=>{const o=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||typeof t!="number"||typeof e!="number"||!o)return[];if(e-t<1e-15||o===1)return[t];const s={score:-2,lmin:0,lmax:0,lstep:0};let l=1;for(;l<1/0;){for(let p=0;p<i.length;p+=1){const v=i[p],g=Wet(v,i,l);if(a[0]*g+a[1]+a[2]+a[3]<s.score){l=1/0;break}let y=2;for(;y<1/0;){const m=Yet(y,o);if(a[0]*g+a[1]+a[2]*m+a[3]<s.score)break;const b=(e-t)/(y+1)/l/v;let x=Math.ceil(Math.log10(b));for(;x<1/0;){const _=l*v*10**x,w=Xet(t,e,_*(y-1));if(a[0]*g+a[1]*w+a[2]*m+a[3]<s.score)break;const S=Math.floor(e/_)*l-(y-1)*l,O=Math.ceil(t/_)*l;if(S<=O){const M=O-S;for(let T=0;T<=M;T+=1){const P=(S+T)*(_/l),E=P+_*(y-1),C=_,k=Get(v,i,l,P,E,C),L=Vet(t,e,P,E),R=Het(y,o,t,e,P,E),D=Uet(),I=a[0]*k+a[1]*L+a[2]*R+a[3]*D;I>s.score&&(!r||P<=t&&E>=e)&&(s.lmin=P,s.lmax=E,s.lstep=C,s.score=I)}}x+=1}y+=1}}l+=1}const c=Au(s.lmax),u=Au(s.lmin),f=Au(s.lstep),h=Math.floor($et((c-u)/f))+1,d=new Array(h);d[0]=Au(u);for(let p=1;p<h;p+=1)d[p]=Au(d[p-1]+f);return d};let dN=class pN extends Xh{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:mw}}map(e){return Xv(e)?e:this.options.unknown}invert(e){return this.map(e)}clone(){return new pN(this.options)}getTicks(){const{domain:e,tickCount:n,tickMethod:r}=this.options,[i,a]=e;return!we(i)||!we(a)?[]:r(i,a,n)}};const qet=(t,e,n)=>{const[r,i]=t,[a,o]=e;let s,l;return r<i?(s=Vv(r,i),l=n(a,o)):(s=Vv(i,r),l=n(o,a)),mc(l,s)},Zet=(t,e,n)=>{const r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=t[0]>t[r],s=o?[...t].reverse():t,l=o?[...e].reverse():e;for(let c=0;c<r;c+=1)i[c]=Vv(s[c],s[c+1]),a[c]=n(l[c],l[c+1]);return c=>{const u=pw(t,c,1,r)-1,f=i[u],h=a[u];return mc(h,f)(c)}},RE=(t,e,n,r)=>(Math.min(t.length,e.length)>2?Zet:qet)(t,e,r?Pet:n);let w0=class extends Xh{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:bc,tickCount:5}}map(e){return Xv(e)?this.output(e):this.options.unknown}invert(e){return Xv(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,n,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,n,r,...i)}getTicks(){const{tickMethod:e}=this.options,[n,r,i,...a]=this.getTickMethodOptions();return e(n,r,i,...a)}getTickMethodOptions(){const{domain:e,tickCount:n}=this.options,r=e[0],i=e[e.length-1];return[r,i,n]}chooseNice(){return Z3}rescale(){this.nice();const[e,n]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,n,this.chooseClamp(n))}chooseClamp(e){const{clamp:n,range:r}=this.options,i=this.options.domain.map(e),a=Math.min(i.length,r.length);return n?Ktt(i[0],i[a-1]):Ds}composeOutput(e,n){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=RE(r.map(e),i,o,a);this.output=mc(s,n,e)}composeInput(e,n,r){const{domain:i,range:a}=this.options,o=RE(a,i.map(e),bc);this.input=mc(n,r,o)}},xe=class vN extends w0{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Vh,tickMethod:Bs,tickCount:5}}chooseTransforms(){return[Ds,Ds]}clone(){return new vN(this.options)}},gN=class yN extends xc{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:_0,paddingInner:1,paddingOuter:0}}constructor(e){super(e)}getPaddingInner(){return 1}clone(){return new yN(this.options)}update(e){super.update(e)}getPaddingOuter(){return this.options.padding}};const Ket=t=>e=>e<0?-((-e)**t):e**t,Qet=t=>e=>e<0?-((-e)**(1/t)):e**(1/t),Jet=t=>t<0?-Math.sqrt(-t):Math.sqrt(t);let mN=class bN extends w0{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:Vh,tickMethod:Bs,tickCount:5}}constructor(e){super(e)}chooseTransforms(){const{exponent:e}=this.options;if(e===1)return[Ds,Ds];const n=e===.5?Jet:Ket(e),r=Qet(e);return[n,r]}clone(){return new bN(this.options)}},tnt=class xN extends mN{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Vh,tickMethod:Bs,tickCount:5,exponent:.5}}constructor(e){super(e)}update(e){super.update(e)}clone(){return new xN(this.options)}},S0=class _N extends Xh{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(e){super(e)}map(e){if(!Xv(e))return this.options.unknown;const n=pw(this.thresholds,e,0,this.n);return this.options.range[n]}invert(e){const{range:n}=this.options,r=n.indexOf(e),i=this.thresholds;return[i[r-1],i[r]]}clone(){return new _N(this.options)}rescale(){const{domain:e,range:n}=this.options;this.n=Math.min(e.length,n.length-1),this.thresholds=e}};const ent=(t,e,n,r=10)=>{const i=t<0,a=gw(r,i),o=vw(r,i),s=e<t,l=s?e:t,c=s?t:e;let u=o(l),f=o(c),h=[];if(!(r%1)&&f-u<n){if(u=Math.floor(u),f=Math.ceil(f),i)for(;u<=f;u+=1){const d=a(u);for(let p=r-1;p>=1;p-=1){const v=d*p;if(v>c)break;v>=l&&h.push(v)}}else for(;u<=f;u+=1){const d=a(u);for(let p=1;p<r;p+=1){const v=d*p;if(v>c)break;v>=l&&h.push(v)}}h.length*2<n&&(h=Bs(l,c,n))}else{const d=n===-1?f-u:Math.min(f-u,n);h=Bs(u,f,d).map(a)}return s?h.reverse():h};let nnt=class wN extends w0{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:Vh,tickMethod:ent,tickCount:5}}chooseNice(){return vet}getTickMethodOptions(){const{domain:e,tickCount:n,base:r}=this.options,i=e[0],a=e[e.length-1];return[i,a,n,r]}chooseTransforms(){const{base:e,domain:n}=this.options,r=n[0]<0;return[vw(e,r),gw(e,r)]}clone(){return new wN(this.options)}},SN=class ON extends S0{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:mw}}constructor(e){super(e)}nice(){const{nice:e}=this.options;if(e){const[n,r,i]=this.getTickMethodOptions();this.options.domain=Z3(n,r,i)}}getTicks(){const{tickMethod:e}=this.options,[n,r,i]=this.getTickMethodOptions();return e(n,r,i)}getTickMethodOptions(){const{domain:e,tickCount:n}=this.options,r=e[0],i=e[e.length-1];return[r,i,n]}rescale(){this.nice();const{range:e,domain:n}=this.options,[r,i]=n;this.n=e.length-1,this.thresholds=new Array(this.n);for(let a=0;a<this.n;a+=1)this.thresholds[a]=((a+1)*i-(a-this.n)*r)/(this.n+1)}invert(e){const[n,r]=super.invert(e),[i,a]=this.options.domain;return n===void 0&&r===void 0?[n,r]:[n||i,r||a]}getThresholds(){return this.thresholds}clone(){return new ON(this.options)}};function rnt(t,e){const n=t.length;if(!n)return;if(n<2)return t[n-1];const r=(n-1)*e,i=Math.floor(r),a=t[i],o=t[i+1];return a+(o-a)*(r-i)}function int(t,e,n=!1){const r=t;n||r.sort((a,o)=>a-o);const i=[];for(let a=1;a<e;a+=1)i.push(rnt(r,a/e));return i}let MN=class TN extends S0{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:mw}}constructor(e){super(e)}rescale(){const{domain:e,range:n}=this.options;this.n=n.length-1,this.thresholds=int(e,this.n+1,!1)}invert(e){const[n,r]=super.invert(e),{domain:i}=this.options,a=i[0],o=i[i.length-1];return n===void 0&&r===void 0?[n,r]:[n||a,r||o]}getThresholds(){return this.thresholds}clone(){return new TN(this.options)}getTicks(){const{tickCount:e,domain:n,tickMethod:r}=this.options,i=n.length-1,a=n[0],o=n[i];return r(a,o,e)}};var ant=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,ont=/\[([^]*?)\]/gm;function AN(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function ux(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];for(var o in a)t[o]=a[o]}return t}var EN=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],PN=["January","February","March","April","May","June","July","August","September","October","November","December"],snt=AN(PN,3),lnt=AN(EN,3),cnt={dayNamesShort:lnt,dayNames:EN,monthNamesShort:snt,monthNames:PN,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},unt=ux({},cnt),rr=function(t,e){for(e===void 0&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},fnt={D:function(t){return String(t.getDate())},DD:function(t){return rr(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return rr(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return rr(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return rr(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return rr(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return rr(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return rr(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return rr(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return rr(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return rr(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return rr(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+rr(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+rr(Math.floor(Math.abs(e)/60),2)+":"+rr(Math.abs(e)%60,2)}},NE={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},hnt=function(t,e,n){if(e===void 0&&(e=NE.default),n===void 0&&(n={}),typeof t=="number"&&(t=new Date(t)),Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=NE[e]||e;var r=[];e=e.replace(ont,function(a,o){return r.push(o),"@@@"});var i=ux(ux({},unt),n);return e=e.replace(ant,function(a){return fnt[a](t,i)}),e.replace(/@@@/g,function(){return r.shift()})};const dnt=(t,e,n,r,i)=>{const a=t>e,o=a?e:t,s=a?t:e,[l,c]=rN(o,s,n,r,i),u=l.range(o,new Date(+s+1),c,!0);return a?u.reverse():u};function pnt(t){const e=t.getTimezoneOffset(),n=new Date(t);return n.setMinutes(n.getMinutes()+e,n.getSeconds(),n.getMilliseconds()),n}let vnt=class CN extends w0{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:dnt,interpolate:bc,mask:void 0,utc:!1}}chooseTransforms(){return[r=>+r,r=>new Date(r)]}chooseNice(){return pet}getTickMethodOptions(){const{domain:e,tickCount:n,tickInterval:r,utc:i}=this.options,a=e[0],o=e[e.length-1];return[a,o,n,r,i]}getFormatter(){const{mask:e,utc:n}=this.options,r=n?nN:tN,i=n?pnt:Ds;return a=>hnt(i(a),e||Cet(a,r))}clone(){return new CN(this.options)}};var gnt=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},fx;function ynt(t){return[t(0),t(1)]}const mnt=t=>{const[e,n]=t;return mc(bc(0,1),Vv(e,n))};let hx=fx=class extends xe{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Ds,tickMethod:Bs,tickCount:5}}constructor(e){super(e)}clone(){return new fx(this.options)}};hx=fx=gnt([yet(ynt,mnt)],hx);function Uv(t,e,n){if(t===null)return[-.5,.5];const r=R3(t,e),a=new xc({domain:r,range:[0,1],padding:n}).getBandWidth();return[-a/2,a/2]}function qv(t,e,n){return e*(1-t)+n*t}const kN=(t={})=>{const{padding:e=0,paddingX:n=e,paddingY:r=e,random:i=Math.random}=t;return(a,o)=>{const{encode:s,scale:l}=o,{x:c,y:u}=l,[f]=Ht(s,"x"),[h]=Ht(s,"y"),d=Uv(f,c,n),p=Uv(h,u,r),v=a.map(()=>qv(i(),...p)),g=a.map(()=>qv(i(),...d));return[a,U({scale:{x:{padding:.5},y:{padding:.5}}},o,{encode:{dy:ge(v),dx:ge(g)}})]}};kN.props={};const LN=(t={})=>{const{padding:e=0,random:n=Math.random}=t;return(r,i)=>{const{encode:a,scale:o}=i,{x:s}=o,[l]=Ht(a,"x"),c=Uv(l,s,e),u=r.map(()=>qv(n(),...c));return[r,U({scale:{x:{padding:.5}}},i,{encode:{dx:ge(u)}})]}};LN.props={};const DN=(t={})=>{const{padding:e=0,random:n=Math.random}=t;return(r,i)=>{const{encode:a,scale:o}=i,{y:s}=o,[l]=Ht(a,"y"),c=Uv(l,s,e),u=r.map(()=>qv(n(),...c));return[r,U({scale:{y:{padding:.5}}},i,{encode:{dy:ge(u)}})]}};DN.props={};var bnt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const IN=(t={})=>{const{groupBy:e="x"}=t;return(n,r)=>{const{encode:i}=r,a=bnt(i,["x"]),o=Object.entries(a).filter(([f])=>f.startsWith("y")).map(([f])=>[f,Ht(i,f)[0]]),s=o.map(([f])=>[f,new Array(n.length)]),l=ko(e,n,r),c=new Array(l.length);for(let f=0;f<l.length;f++){const d=l[f].flatMap(g=>o.map(([,y])=>+y[g])),[p,v]=wa(d);c[f]=(p+v)/2}const u=Math.max(...c);for(let f=0;f<l.length;f++){const h=u-c[f],d=l[f];for(const p of d)for(let v=0;v<o.length;v++){const[,g]=o[v],[,y]=s[v];y[p]=+g[p]+h}}return[n,U({},r,{encode:Object.fromEntries(s.map(([f,h])=>[f,ge(h,Ht(i,f)[1])]))})]}};IN.props={};const RN=(t={})=>{const{groupBy:e="x",series:n=!0}=t;return(r,i)=>{const{encode:a}=i,[o]=Ht(a,"y"),[s,l]=Ht(a,"y1");n?eh(a,"series","color"):Ht(a,"color");const c=ko(e,r,i),u=new Array(r.length);for(const f of c){const h=f.map(d=>+o[d]);for(let d=0;d<f.length;d++){const p=f[d],v=Math.max(...h.filter((g,y)=>y!==d));u[p]=+o[p]>v?v:o[p]}}return[r,U({},i,{encode:{y1:ge(u,l)}})]}};RN.props={};function BE(t,e){return[t[0]]}function xnt(t,e){const n=t.length-1;return[t[n]]}function _nt(t,e){const n=Yc(t,r=>e[r]);return[t[n]]}function wnt(t,e){const n=Wh(t,r=>e[r]);return[t[n]]}function Snt(t){return typeof t=="function"?t:{first:BE,last:xnt,max:_nt,min:wnt}[t]||BE}const O0=(t={})=>{const{groupBy:e="series",channel:n,selector:r}=t;return(i,a)=>{const{encode:o}=a,s=ko(e,i,a),[l]=Ht(o,n),c=Snt(r);return[s.flatMap(u=>c(u,l)),a]}};O0.props={};var Ont=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const NN=(t={})=>{const{selector:e}=t,n=Ont(t,["selector"]);return O0(Object.assign({channel:"x",selector:e},n))};NN.props={};var Mnt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const BN=(t={})=>{const{selector:e}=t,n=Mnt(t,["selector"]);return O0(Object.assign({channel:"y",selector:e},n))};BN.props={};var Tnt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Lo(t){return e=>e===null?t:`${t} of ${e}`}function Ant(t){if(typeof t=="function")return[t,null];const n={mean:Ent,max:Cnt,count:Lnt,first:Int,last:Rnt,sum:Dnt,min:knt,median:Pnt}[t];if(!n)throw new Error(`Unknown reducer: ${t}.`);return n()}function Ent(){const t=(n,r)=>ih(n,i=>+r[i]),e=Lo("mean");return[t,e]}function Pnt(){const t=(n,r)=>lw(n,i=>+r[i]),e=Lo("median");return[t,e]}function Cnt(){const t=(n,r)=>Jt(n,i=>+r[i]),e=Lo("max");return[t,e]}function knt(){const t=(n,r)=>Er(n,i=>+r[i]),e=Lo("min");return[t,e]}function Lnt(){const t=(n,r)=>n.length,e=Lo("count");return[t,e]}function Dnt(){const t=(n,r)=>Qr(n,i=>+r[i]),e=Lo("sum");return[t,e]}function Int(){const t=(n,r)=>r[n[0]],e=Lo("first");return[t,e]}function Rnt(){const t=(n,r)=>r[n[n.length-1]],e=Lo("last");return[t,e]}const bw=(t={})=>{const{groupBy:e}=t,n=Tnt(t,["groupBy"]);return(r,i)=>{const{data:a,encode:o}=i,s=e(r,i);if(!s)return[r,i];const l=(d,p)=>{if(d)return d;const{from:v}=p;if(!v)return d;const[,g]=Ht(o,v);return g},c=Object.entries(n).map(([d,p])=>{const[v,g]=Ant(p),[y,m]=Ht(o,d),b=l(m,p),x=s.map(_=>v(_,y??a));return[d,Object.assign(Object.assign({},rtt(x,(g==null?void 0:g(b))||b)),{aggregate:!0})]}),u=Object.keys(o).map(d=>{const[p,v]=Ht(o,d),g=s.map(y=>p[y[0]]);return[d,ge(g,v)]}),f=s.map(d=>a[d[0]]);return[Zs(s),U({},i,{data:f,encode:Object.fromEntries([...u,...c])})]}};bw.props={};var Nnt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Uh=(t={})=>{const{channels:e=["x","y"]}=t,n=Nnt(t,["channels"]),r=(i,a)=>ko(e,i,a);return bw(Object.assign(Object.assign({},n),{groupBy:r}))};Uh.props={};const FN=(t={})=>Uh(Object.assign(Object.assign({},t),{channels:["x","color","series"]}));FN.props={};const jN=(t={})=>Uh(Object.assign(Object.assign({},t),{channels:["y","color","series"]}));jN.props={};const zN=(t={})=>Uh(Object.assign(Object.assign({},t),{channels:["color"]}));zN.props={};var $N=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Bnt(t,e,n){const{by:r=t,reducer:i="max"}=e,[a]=Ht(n,r);if(typeof i=="function")return o=>i(o,a);if(i==="max")return o=>Jt(o,s=>+a[s]);if(i==="min")return o=>Er(o,s=>+a[s]);if(i==="sum")return o=>Qr(o,s=>+a[s]);if(i==="median")return o=>lw(o,s=>+a[s]);if(i==="mean")return o=>ih(o,s=>+a[s]);if(i==="first")return o=>a[o[0]];if(i==="last")return o=>a[o[o.length-1]];throw new Error(`Unknown reducer: ${i}`)}function Fnt(t,e,n){const{reverse:r,channel:i}=n,{encode:a}=e,[o]=Ht(a,i),s=mi(t,l=>o[l]);return r&&s.reverse(),[s,e]}function jnt(t,e,n){if(!Array.isArray(n))return t;const r=new Set(n);return t.filter(i=>r.has(e[i]))}function znt(t,e,n){var r;const{reverse:i,slice:a,channel:o}=n,s=$N(n,["reverse","slice","channel"]),{encode:l,scale:c={}}=e,u=(r=c[o])===null||r===void 0?void 0:r.domain,[f]=Ht(l,o),h=Bnt(o,s,l),d=jnt(t,f,u),p=gtt(d,h,y=>f[y]);i&&p.reverse();const v=typeof a=="number"?[0,a]:a,g=a?p.slice(...v):p;return[t,U(e,{scale:{[o]:{domain:g}}})]}const M0=(t={})=>{const{reverse:e=!1,slice:n,channel:r,ordinal:i=!0}=t,a=$N(t,["reverse","slice","channel","ordinal"]);return(o,s)=>i?znt(o,s,Object.assign({reverse:e,slice:n,channel:r},a)):Fnt(o,s,Object.assign({reverse:e,slice:n,channel:r},a))};M0.props={};const GN=(t={})=>M0(Object.assign(Object.assign({},t),{channel:"x"}));GN.props={};const WN=(t={})=>M0(Object.assign(Object.assign({},t),{channel:"color"}));WN.props={};const HN=(t={})=>M0(Object.assign(Object.assign({},t),{channel:"y"}));HN.props={};function $nt(t,e){return typeof e=="string"?t.map(n=>n[e]):t.map(e)}function Gnt(t,e){if(typeof t=="function")return n=>t(n,e);if(t==="sum")return n=>Qr(n,r=>+e[r]);throw new Error(`Unknown reducer: ${t}`)}const YN=(t={})=>{const{field:e,channel:n="y",reducer:r="sum"}=t;return(i,a)=>{const{data:o,encode:s}=a,[l]=Ht(s,"x"),c=e?$nt(o,e):Ht(s,n)[0],u=Gnt(r,c),f=ow(i,u,h=>l[h]).map(h=>h[1]);return[i,U({},a,{scale:{x:{flex:f}}})]}};YN.props={};function $e([t,e],[n,r]){return[t-n,e-r]}function tp([t,e],[n,r]){return[t+n,e+r]}function Ne([t,e],[n,r]){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))}function ti([t,e]){return Math.atan2(e,t)}function _c([t,e]){return ti([t,e])+Math.PI/2}function VN(t,e){const n=ti(t),r=ti(e);return n<r?r-n:Math.PI*2-(n-r)}function xw(t){let e=1/0,n=-1/0,r=1/0,i=-1/0;for(const[s,l]of t)e=Math.min(s,e),n=Math.max(s,n),r=Math.min(l,r),i=Math.max(l,i);const a=n-e,o=i-r;return[e,r,a,o]}function XN([t,e],[n,r]){return[(t+n)/2,(e+r)/2]}function Wnt(t){const{padding:e=0,direction:n="col"}=t;return(r,i,a)=>{const o=r.length;if(o===0)return[];const{innerWidth:s,innerHeight:l}=a,c=l/s;let u=Math.ceil(Math.sqrt(i/c)),f=s/u,h=Math.ceil(i/u),d=h*f;for(;d>l;)u=u+1,f=s/u,h=Math.ceil(i/u),d=h*f;const p=l-h*f,v=h<=1?0:p/(h-1),[g,y]=h<=1?[(s-o*f)/(o-1),(l-f)/2]:[0,0];return r.map((m,b)=>{const[x,_,w,S]=xw(m),O=n==="col"?b%u:Math.floor(b/h),M=n==="col"?Math.floor(b/u):b%h,T=O*f,A=(h-M-1)*f+p,P=(f-e)/w,E=(f-e)/S,C=T-x+g*O+1/2*e,k=A-_-v*M-y+1/2*e;return`translate(${C}, ${k}) scale(${P}, ${E})`})}}const UN=t=>(e,n)=>[e,U({},n,{modifier:Wnt(t),axis:!1})];UN.props={};var Hnt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const FE="thresholds";function Ynt(t){const[e,n]=wa(t);return Math.min(200,Ett(t,e,n))}const _w=(t={})=>{const{groupChannels:e=["color"],binChannels:n=["x","y"]}=t,r=Hnt(t,["groupChannels","binChannels"]),i={},a=(o,s)=>{const{encode:l}=s,c=n.map(p=>{const[v]=Ht(l,p);return v}),u=nt(r,FE),f=o.filter(p=>c.every(v=>pe(v[p]))),h=[...e.map(p=>{const[v]=Ht(l,p);return v}).filter(pe).map(p=>v=>p[v]),...n.map((p,v)=>{const g=c[v],y=u[p]||Ynt(g),m=Mtt().thresholds(y).value(x=>+g[x])(f),b=new Map(m.flatMap(x=>{const{x0:_,x1:w}=x,S=`${_},${w}`;return x.map(O=>[O,S])}));return i[p]=b,x=>b.get(x)})],d=p=>h.map(v=>v(p)).join("-");return Array.from(Pe(f,d).values())};return bw(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter(([o])=>!o.startsWith(FE)))),Object.fromEntries(n.flatMap(o=>{const s=([c])=>+i[o].get(c).split(",")[0],l=([c])=>+i[o].get(c).split(",")[1];return l.from=o,[[o,s],[`${o}1`,l]]}))),{groupBy:a}))};_w.props={};const qN=(t={})=>{const{thresholds:e}=t;return _w(Object.assign(Object.assign({},t),{thresholdsX:e,groupChannels:["color"],binChannels:["x"]}))};qN.props={};function Vnt(t,e,n,r){const i=t.length;if(r>=i||r===0)return t;const a=d=>e[t[d]]*1,o=d=>n[t[d]]*1,s=[],l=(i-2)/(r-2);let c=0,u,f,h;s.push(c);for(let d=0;d<r-2;d++){let p=0,v=0,g=Math.floor((d+1)*l)+1,y=Math.floor((d+2)*l)+1;y=Math.min(y,i);const m=y-g;for(;g<y;g++)p+=a(g),v+=o(g);p/=m,v/=m;let b=Math.floor((d+0)*l)+1;const x=Math.floor((d+1)*l)+1,_=[a(c),o(c)];for(u=f=-1;b<x;b++)f=Math.abs((_[0]-p)*(a(b)-_[1])-(_[0]-o(b))*(v-_[0]))*.5,f>u&&(u=f,h=b);s.push(h),c=h}return s.push(i-1),s.map(d=>t[d])}function Xnt(t){if(typeof t=="function")return t;if(t==="lttb")return Vnt;const e={first:r=>[r[0]],last:r=>[r[r.length-1]],min:(r,i,a)=>[r[Wh(r,o=>a[o])]],max:(r,i,a)=>[r[Yc(r,o=>a[o])]],median:(r,i,a)=>[r[Ptt(r,o=>a[o])]]},n=e[t]||e.median;return(r,i,a,o)=>{const s=Math.max(1,Math.floor(r.length/o));return Unt(r,s).flatMap(c=>n(c,i,a))}}function Unt(t,e){const n=t.length,r=[];let i=0;for(;i<n;)r.push(t.slice(i,i+=e));return r}const ZN=(t={})=>{const{strategy:e="median",thresholds:n=2e3,groupBy:r=["series","color"]}=t,i=Xnt(e);return(a,o)=>{const{encode:s}=o,l=ko(r,a,o),[c]=Ht(s,"x"),[u]=Ht(s,"y");return[l.flatMap(f=>i(f,c,u,n)),o]}};ZN.props={};function qnt(t){return typeof t=="object"?[t.value,t.ordinal]:[t,!0]}function Znt(t){var e;const{encode:n}=t,r=Object.assign(Object.assign({},t),{encode:Object.assign(Object.assign({},t.encode),{y:Object.assign(Object.assign({},t.encode.y),{value:[]})})}),i=(e=n==null?void 0:n.color)===null||e===void 0?void 0:e.field;if(!n||!i)return r;let a;for(const[o,s]of Object.entries(n))(o==="x"||o==="y")&&s.field===i&&(a=Object.assign(Object.assign({},a),{[o]:Object.assign(Object.assign({},s),{value:[]})}));return a?Object.assign(Object.assign({},t),{encode:Object.assign(Object.assign({},t.encode),a)}):r}const KN=(t={})=>(e,n)=>{const{encode:r,data:i}=n,a=Object.entries(t).map(([u,f])=>{const[h]=Ht(r,u);if(!h)return null;const[d,p=!0]=qnt(f);if(typeof d=="function")return v=>d(h[v]);if(p){const v=Array.isArray(d)?d:[d];return v.length===0?null:g=>v.includes(h[g])}else{const[v,g]=d;return y=>h[y]>=v&&h[y]<=g}}).filter(pe),o=u=>a.every(f=>f(u)),s=e.filter(o),l=s.map((u,f)=>f);if(a.length===0){const u=Znt(n);return[e,u]}const c=Object.entries(r).map(([u,f])=>[u,Object.assign(Object.assign({},f),{value:l.map(h=>f.value[s[h]]).filter(h=>h!==void 0)})]);return[l,U({},n,{encode:Object.fromEntries(c),data:s.map(u=>i[u])})]};KN.props={};function Ae(t){return function(){return t}}const jE=Math.abs,kn=Math.atan2,cs=Math.cos,Knt=Math.max,Wm=Math.min,Pi=Math.sin,$l=Math.sqrt,Ln=1e-12,lh=Math.PI,Zv=lh/2,Qnt=2*lh;function Jnt(t){return t>1?0:t<-1?lh:Math.acos(t)}function zE(t){return t>=1?Zv:t<=-1?-Zv:Math.asin(t)}const dx=Math.PI,px=2*dx,gs=1e-6,trt=px-gs;function QN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ert(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return QN;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let ww=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?QN:ert(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,c=i-n,u=o-e,f=s-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>gs)if(!(Math.abs(f*l-c*u)>gs)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,p=i-s,v=l*l+c*c,g=d*d+p*p,y=Math.sqrt(v),m=Math.sqrt(h),b=a*Math.tan((dx-Math.acos((v+h-g)/(2*y*m)))/2),x=b/m,_=b/y;Math.abs(x-1)>gs&&this._append`L${e+x*u},${n+x*f}`,this._append`A${a},${a},0,0,${+(f*d>u*p)},${this._x1=e+_*l},${this._y1=n+_*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>gs||Math.abs(this._y1-u)>gs)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%px+px),h>trt?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>gs&&this._append`A${r},${r},0,${+(h>=dx)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function ii(){return new ww}ii.prototype=ww.prototype;function Sw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ww(e)}function nrt(t){return t.innerRadius}function rrt(t){return t.outerRadius}function irt(t){return t.startAngle}function art(t){return t.endAngle}function ort(t){return t&&t.padAngle}function srt(t,e,n,r,i,a,o,s){var l=n-t,c=r-e,u=o-i,f=s-a,h=f*l-u*c;if(!(h*h<Ln))return h=(u*(e-a)-f*(t-i))/h,[t+h*l,e+h*c]}function ep(t,e,n,r,i,a,o){var s=t-n,l=e-r,c=(o?a:-a)/$l(s*s+l*l),u=c*l,f=-c*s,h=t+u,d=e+f,p=n+u,v=r+f,g=(h+p)/2,y=(d+v)/2,m=p-h,b=v-d,x=m*m+b*b,_=i-a,w=h*v-p*d,S=(b<0?-1:1)*$l(Knt(0,_*_*x-w*w)),O=(w*b-m*S)/x,M=(-w*m-b*S)/x,T=(w*b+m*S)/x,A=(-w*m+b*S)/x,P=O-g,E=M-y,C=T-g,k=A-y;return P*P+E*E>C*C+k*k&&(O=T,M=A),{cx:O,cy:M,x01:-u,y01:-f,x11:O*(i/_-1),y11:M*(i/_-1)}}function T0(){var t=nrt,e=rrt,n=Ae(0),r=null,i=irt,a=art,o=ort,s=null,l=Sw(c);function c(){var u,f,h=+t.apply(this,arguments),d=+e.apply(this,arguments),p=i.apply(this,arguments)-Zv,v=a.apply(this,arguments)-Zv,g=jE(v-p),y=v>p;if(s||(s=u=l()),d<h&&(f=d,d=h,h=f),!(d>Ln))s.moveTo(0,0);else if(g>Qnt-Ln)s.moveTo(d*cs(p),d*Pi(p)),s.arc(0,0,d,p,v,!y),h>Ln&&(s.moveTo(h*cs(v),h*Pi(v)),s.arc(0,0,h,v,p,y));else{var m=p,b=v,x=p,_=v,w=g,S=g,O=o.apply(this,arguments)/2,M=O>Ln&&(r?+r.apply(this,arguments):$l(h*h+d*d)),T=Wm(jE(d-h)/2,+n.apply(this,arguments)),A=T,P=T,E,C;if(M>Ln){var k=zE(M/h*Pi(O)),L=zE(M/d*Pi(O));(w-=k*2)>Ln?(k*=y?1:-1,x+=k,_-=k):(w=0,x=_=(p+v)/2),(S-=L*2)>Ln?(L*=y?1:-1,m+=L,b-=L):(S=0,m=b=(p+v)/2)}var R=d*cs(m),D=d*Pi(m),I=h*cs(_),N=h*Pi(_);if(T>Ln){var F=d*cs(b),j=d*Pi(b),z=h*cs(x),G=h*Pi(x),V;if(g<lh)if(V=srt(R,D,z,G,F,j,I,N)){var Q=R-V[0],Y=D-V[1],H=F-V[0],tt=j-V[1],Z=1/Pi(Jnt((Q*H+Y*tt)/($l(Q*Q+Y*Y)*$l(H*H+tt*tt)))/2),W=$l(V[0]*V[0]+V[1]*V[1]);A=Wm(T,(h-W)/(Z-1)),P=Wm(T,(d-W)/(Z+1))}else A=P=0}S>Ln?P>Ln?(E=ep(z,G,R,D,d,P,y),C=ep(F,j,I,N,d,P,y),s.moveTo(E.cx+E.x01,E.cy+E.y01),P<T?s.arc(E.cx,E.cy,P,kn(E.y01,E.x01),kn(C.y01,C.x01),!y):(s.arc(E.cx,E.cy,P,kn(E.y01,E.x01),kn(E.y11,E.x11),!y),s.arc(0,0,d,kn(E.cy+E.y11,E.cx+E.x11),kn(C.cy+C.y11,C.cx+C.x11),!y),s.arc(C.cx,C.cy,P,kn(C.y11,C.x11),kn(C.y01,C.x01),!y))):(s.moveTo(R,D),s.arc(0,0,d,m,b,!y)):s.moveTo(R,D),!(h>Ln)||!(w>Ln)?s.lineTo(I,N):A>Ln?(E=ep(I,N,F,j,h,-A,y),C=ep(R,D,z,G,h,-A,y),s.lineTo(E.cx+E.x01,E.cy+E.y01),A<T?s.arc(E.cx,E.cy,A,kn(E.y01,E.x01),kn(C.y01,C.x01),!y):(s.arc(E.cx,E.cy,A,kn(E.y01,E.x01),kn(E.y11,E.x11),!y),s.arc(0,0,h,kn(E.cy+E.y11,E.cx+E.x11),kn(C.cy+C.y11,C.cx+C.x11),y),s.arc(C.cx,C.cy,A,kn(C.y11,C.x11),kn(C.y01,C.x01),!y))):s.arc(0,0,h,_,x,y)}if(s.closePath(),u)return s=null,u+""||null}return c.centroid=function(){var u=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-lh/2;return[cs(f)*u,Pi(f)*u]},c.innerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Ae(+u),c):t},c.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Ae(+u),c):e},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Ae(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Ae(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Ae(+u),c):i},c.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:Ae(+u),c):a},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Ae(+u),c):o},c.context=function(u){return arguments.length?(s=u??null,c):s},c}function JN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function t4(t){this._context=t}t4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qh(t){return new t4(t)}function e4(t){return t[0]}function n4(t){return t[1]}function Qs(t,e){var n=Ae(!0),r=null,i=qh,a=null,o=Sw(s);t=typeof t=="function"?t:t===void 0?e4:Ae(t),e=typeof e=="function"?e:e===void 0?n4:Ae(e);function s(l){var c,u=(l=JN(l)).length,f,h=!1,d;for(r==null&&(a=i(d=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(d)return a=null,d+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ae(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ae(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ae(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function vx(t,e,n){var r=null,i=Ae(!0),a=null,o=qh,s=null,l=Sw(c);t=typeof t=="function"?t:t===void 0?e4:Ae(+t),e=typeof e=="function"?e:Ae(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?n4:Ae(+n);function c(f){var h,d,p,v=(f=JN(f)).length,g,y=!1,m,b=new Array(v),x=new Array(v);for(a==null&&(s=o(m=l())),h=0;h<=v;++h){if(!(h<v&&i(g=f[h],h,f))===y)if(y=!y)d=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=h-1;p>=d;--p)s.point(b[p],x[p]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+t(g,h,f),x[h]=+e(g,h,f),s.point(r?+r(g,h,f):b[h],n?+n(g,h,f):x[h]))}if(m)return s=null,m+""||null}function u(){return Qs().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ae(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}var r4=Ow(qh);function i4(t){this._curve=t}i4.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Ow(t){function e(n){return new i4(t(n))}return e._curve=t,e}function Wu(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Ow(n)):e()._curve},t}function lrt(){return Wu(Qs().curve(r4))}function crt(){var t=vx().curve(r4),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Wu(n())},delete t.lineX0,t.lineEndAngle=function(){return Wu(r())},delete t.lineX1,t.lineInnerRadius=function(){return Wu(i())},delete t.lineY0,t.lineOuterRadius=function(){return Wu(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(Ow(o)):e()._curve},t}function wc(){}function gx(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Mw(t,e){this._context=t,this._k=(1-e)/6}Mw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:gx(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:gx(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return new Mw(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Tw(t,e){this._context=t,this._k=(1-e)/6}Tw.prototype={areaStart:wc,areaEnd:wc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:gx(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return new Tw(r,e)}return n.tension=function(r){return t(+r)},n})(0);function a4(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Ln){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Ln){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function o4(t,e){this._context=t,this._alpha=e}o4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:a4(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return e?new o4(r,e):new Mw(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function s4(t,e){this._context=t,this._alpha=e}s4.prototype={areaStart:wc,areaEnd:wc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:a4(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const l4=function t(e){function n(r){return e?new s4(r,e):new Tw(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function c4(t){this._context=t}c4.prototype={areaStart:wc,areaEnd:wc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Aw(t){return new c4(t)}function $E(t){return t<0?-1:1}function GE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return($E(a)+$E(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function WE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hm(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Kv(t){this._context=t}Kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hm(this,this._t0,WE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hm(this,WE(this,n=GE(this,t,e)),n);break;default:Hm(this,this._t0,n=GE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function u4(t){this._context=new f4(t)}(u4.prototype=Object.create(Kv.prototype)).point=function(t,e){Kv.prototype.point.call(this,e,t)};function f4(t){this._context=t}f4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function h4(t){return new Kv(t)}function d4(t){return new u4(t)}function A0(t,e){this._context=t,this._t=e}A0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function p4(t){return new A0(t,.5)}function v4(t){return new A0(t,0)}function g4(t){return new A0(t,1)}function ke(t){const{transformations:e}=t.getOptions();return e.map(([r])=>r).filter(r=>r==="transpose").length%2!==0}function ce(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="polar")}function E0(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="reflect")&&e.some(([n])=>n.startsWith("transpose"))}function y4(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="helix")}function P0(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="parallel")}function m4(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="fisheye")}function urt(t){return P0(t)&&ce(t)}function Vc(t){return y4(t)||ce(t)}function frt(t){return ce(t)&&ke(t)}function hrt(t){if(Vc(t)){const[e,n]=t.getSize(),r=t.getOptions().transformations.find(i=>i[0]==="polar");if(r)return Math.max(e,n)/2*r[4]}return 0}function C0(t){const{transformations:e}=t.getOptions(),[,,,n,r]=e.find(i=>i[0]==="polar");return[+n,+r]}function Ew(t,e=!0){const{transformations:n}=t.getOptions(),[,r,i]=n.find(a=>a[0]==="polar");return e?[+r*180/Math.PI,+i*180/Math.PI]:[r,i]}function drt(t,e){const{transformations:n}=t.getOptions(),[,...r]=n.find(i=>i[0]===e);return r}var b4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,p=new Array(d);h<d;h++)p[h]=f[h].fn;return p},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,d,p){var v=n?n+c:c;if(!this._events[v])return!1;var g=this._events[v],y=arguments.length,m,b;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,d),!0;case 6:return g.fn.call(g.context,u,f,h,d,p),!0}for(b=1,m=new Array(y-1);b<y;b++)m[b-1]=arguments[b];g.fn.apply(g.context,m)}else{var x=g.length,_;for(b=0;b<x;b++)switch(g[b].once&&this.removeListener(c,g[b].fn,void 0,!0),y){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,u);break;case 3:g[b].fn.call(g[b].context,u,f);break;case 4:g[b].fn.call(g[b].context,u,f,h);break;default:if(!m)for(_=1,m=new Array(y-1);_<y;_++)m[_-1]=arguments[_];g[b].fn.apply(g[b].context,m)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var d=n?n+c:c;if(!this._events[d])return this;if(!u)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===u&&(!h||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var v=0,g=[],y=p.length;v<y;v++)(p[v].fn!==u||h&&!p[v].once||f&&p[v].context!==f)&&g.push(p[v]);g.length?this._events[d]=g.length===1?g[0]:g:o(this,d)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(b4);var prt=b4.exports;const Pw=P_(prt);function k0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Cw(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xc(){}var Fs=.7,Sc=1/Fs,tc="\\s*([+-]?\\d+)\\s*",ch="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vrt=/^#([0-9a-f]{3,8})$/,grt=new RegExp(`^rgb\\(${tc},${tc},${tc}\\)$`),yrt=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),mrt=new RegExp(`^rgba\\(${tc},${tc},${tc},${ch}\\)$`),brt=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${ch}\\)$`),xrt=new RegExp(`^hsl\\(${ch},${Yi},${Yi}\\)$`),_rt=new RegExp(`^hsla\\(${ch},${Yi},${Yi},${ch}\\)$`),HE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k0(Xc,L0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:YE,formatHex:YE,formatHex8:wrt,formatHsl:Srt,formatRgb:VE,toString:VE});function YE(){return this.rgb().formatHex()}function wrt(){return this.rgb().formatHex8()}function Srt(){return _4(this).formatHsl()}function VE(){return this.rgb().formatRgb()}function L0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vrt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?XE(e):n===3?new Bn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?np(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?np(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=grt.exec(t))?new Bn(e[1],e[2],e[3],1):(e=yrt.exec(t))?new Bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mrt.exec(t))?np(e[1],e[2],e[3],e[4]):(e=brt.exec(t))?np(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xrt.exec(t))?ZE(e[1],e[2]/100,e[3]/100,1):(e=_rt.exec(t))?ZE(e[1],e[2]/100,e[3]/100,e[4]):HE.hasOwnProperty(t)?XE(HE[t]):t==="transparent"?new Bn(NaN,NaN,NaN,0):null}function XE(t){return new Bn(t>>16&255,t>>8&255,t&255,1)}function np(t,e,n,r){return r<=0&&(t=e=n=NaN),new Bn(t,e,n,r)}function x4(t){return t instanceof Xc||(t=L0(t)),t?(t=t.rgb(),new Bn(t.r,t.g,t.b,t.opacity)):new Bn}function uh(t,e,n,r){return arguments.length===1?x4(t):new Bn(t,e,n,r??1)}function Bn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}k0(Bn,uh,Cw(Xc,{brighter(t){return t=t==null?Sc:Math.pow(Sc,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fs:Math.pow(Fs,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bn(Ps(this.r),Ps(this.g),Ps(this.b),Qv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UE,formatHex:UE,formatHex8:Ort,formatRgb:qE,toString:qE}));function UE(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}`}function Ort(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}${ws((isNaN(this.opacity)?1:this.opacity)*255)}`}function qE(){const t=Qv(this.opacity);return`${t===1?"rgb(":"rgba("}${Ps(this.r)}, ${Ps(this.g)}, ${Ps(this.b)}${t===1?")":`, ${t})`}`}function Qv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ps(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ws(t){return t=Ps(t),(t<16?"0":"")+t.toString(16)}function ZE(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vi(t,e,n,r)}function _4(t){if(t instanceof vi)return new vi(t.h,t.s,t.l,t.opacity);if(t instanceof Xc||(t=L0(t)),!t)return new vi;if(t instanceof vi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new vi(o,s,l,t.opacity)}function Mrt(t,e,n,r){return arguments.length===1?_4(t):new vi(t,e,n,r??1)}function vi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}k0(vi,Mrt,Cw(Xc,{brighter(t){return t=t==null?Sc:Math.pow(Sc,t),new vi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fs:Math.pow(Fs,t),new vi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Bn(Ym(t>=240?t-240:t+120,i,r),Ym(t,i,r),Ym(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vi(KE(this.h),rp(this.s),rp(this.l),Qv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qv(this.opacity);return`${t===1?"hsl(":"hsla("}${KE(this.h)}, ${rp(this.s)*100}%, ${rp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function KE(t){return t=(t||0)%360,t<0?t+360:t}function rp(t){return Math.max(0,Math.min(1,t||0))}function Ym(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Trt=Math.PI/180,Art=180/Math.PI;var w4=-.14861,kw=1.78277,Lw=-.29227,D0=-.90649,fh=1.97294,QE=fh*D0,JE=fh*kw,tP=kw*Lw-D0*w4;function Ert(t){if(t instanceof Cs)return new Cs(t.h,t.s,t.l,t.opacity);t instanceof Bn||(t=x4(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(tP*r+QE*e-JE*n)/(tP+QE-JE),a=r-i,o=(fh*(n-i)-Lw*a)/D0,s=Math.sqrt(o*o+a*a)/(fh*i*(1-i)),l=s?Math.atan2(o,a)*Art-120:NaN;return new Cs(l<0?l+360:l,s,i,t.opacity)}function Zi(t,e,n,r){return arguments.length===1?Ert(t):new Cs(t,e,n,r??1)}function Cs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}k0(Cs,Zi,Cw(Xc,{brighter(t){return t=t==null?Sc:Math.pow(Sc,t),new Cs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fs:Math.pow(Fs,t),new Cs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Trt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Bn(255*(e+n*(w4*r+kw*i)),255*(e+n*(Lw*r+D0*i)),255*(e+n*(fh*r)),this.opacity)}}));function Sa(t,e,n,r){var i=t-n,a=e-r;return Math.sqrt(i*i+a*a)}function S4(t,e){var n=Math.min.apply(Math,_t([],et(t),!1)),r=Math.min.apply(Math,_t([],et(e),!1)),i=Math.max.apply(Math,_t([],et(t),!1)),a=Math.max.apply(Math,_t([],et(e),!1));return{x:n,y:r,width:i-n,height:a-r}}function Prt(t,e,n){return Math.atan(-e/t*Math.tan(n))}function Crt(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function krt(t,e,n,r,i,a){return n*Math.cos(i)*Math.cos(a)-r*Math.sin(i)*Math.sin(a)+t}function Lrt(t,e,n,r,i,a){return n*Math.sin(i)*Math.cos(a)+r*Math.cos(i)*Math.sin(a)+e}function Drt(t,e,n,r,i,a,o){for(var s=Prt(n,r,i),l=1/0,c=-1/0,u=[a,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var h=s+f;a<o?a<h&&h<o&&u.push(h):o<h&&h<a&&u.push(h)}for(var f=0;f<u.length;f++){var d=krt(t,e,n,r,i,u[f]);d<l&&(l=d),d>c&&(c=d)}for(var p=Crt(n,r,i),v=1/0,g=-1/0,y=[a,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var m=p+f;a<o?a<m&&m<o&&y.push(m):o<m&&m<a&&y.push(m)}for(var f=0;f<y.length;f++){var b=Lrt(t,e,n,r,i,y[f]);b<v&&(v=b),b>g&&(g=b)}return{x:l,y:v,width:c-l,height:g-v}}var Irt=1e-4;function O4(t,e,n,r,i,a){var o=-1,s=1/0,l=[n,r],c=20;a&&a>200&&(c=a/10);for(var u=1/c,f=u/10,h=0;h<=c;h++){var d=h*u,p=[i.apply(void 0,_t([],et(t.concat([d])),!1)),i.apply(void 0,_t([],et(e.concat([d])),!1))],v=Sa(l[0],l[1],p[0],p[1]);v<s&&(o=d,s=v)}if(o===0)return{x:t[0],y:e[0]};if(o===1){var g=t.length;return{x:t[g-1],y:e[g-1]}}s=1/0;for(var h=0;h<32&&!(f<Irt);h++){var y=o-f,m=o+f,p=[i.apply(void 0,_t([],et(t.concat([y])),!1)),i.apply(void 0,_t([],et(e.concat([y])),!1))],v=Sa(l[0],l[1],p[0],p[1]);if(y>=0&&v<s)o=y,s=v;else{var b=[i.apply(void 0,_t([],et(t.concat([m])),!1)),i.apply(void 0,_t([],et(e.concat([m])),!1))],x=Sa(l[0],l[1],b[0],b[1]);m<=1&&x<s?(o=m,s=x):f*=.5}}return{x:i.apply(void 0,_t([],et(t.concat([o])),!1)),y:i.apply(void 0,_t([],et(e.concat([o])),!1))}}function M4(t,e,n,r){return Sa(t,e,n,r)}function T4(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}}function Rrt(t,e,n,r,i,a){var o=[n-t,r-e];if(TJ(o,[0,0]))return Math.sqrt((i-t)*(i-t)+(a-e)*(a-e));var s=[-o[1],o[0]];OJ(s,s);var l=[i-t,a-e];return Math.abs(MJ(l,s))}function yx(t,e,n,r,i){var a=1-i;return a*a*a*t+3*e*i*a*a+3*n*i*i*a+r*i*i*i}function eP(t,e,n,r){var i=-3*t+9*e-9*n+3*r,a=6*t-12*e+6*n,o=3*e-3*t,s=[],l,c,u;if(xf(i,0))xf(a,0)||(l=-o/a,l>=0&&l<=1&&s.push(l));else{var f=a*a-4*i*o;xf(f,0)?s.push(-a/(2*i)):f>0&&(u=Math.sqrt(f),l=(-a+u)/(2*i),c=(-a-u)/(2*i),l>=0&&l<=1&&s.push(l),c>=0&&c<=1&&s.push(c))}return s}function Nrt(t,e,n,r,i,a,o,s){for(var l=[t,o],c=[e,s],u=eP(t,n,i,o),f=eP(e,r,a,s),h=0;h<u.length;h++)l.push(yx(t,n,i,o,u[h]));for(var h=0;h<f.length;h++)c.push(yx(e,r,a,s,f[h]));return S4(l,c)}function Brt(t,e,n,r,i,a,o,s,l,c,u){return O4([t,n,i,o],[e,r,a,s],l,c,yx,u)}function nP(t,e,n,r,i,a,o,s,l,c,u){var f=Brt(t,e,n,r,i,a,o,s,l,c,u);return Sa(f.x,f.y,l,c)}function Frt(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=Sa(r[0],r[1],i[0],i[1])}return e}function jrt(t){return Frt(t)}function mx(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function rP(t,e,n){var r=t+n-2*e;if(xf(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function zrt(t,e,n,r,i,a){var o=rP(t,n,i)[0],s=rP(e,r,a)[0],l=[t,i],c=[e,a];return o!==void 0&&l.push(mx(t,n,i,o)),s!==void 0&&c.push(mx(e,r,a,s)),S4(l,c)}function $rt(t,e,n,r,i,a,o,s){return O4([t,n,i],[e,r,a],o,s,mx)}function Grt(t,e,n,r,i,a,o,s){var l=$rt(t,e,n,r,i,a,o,s);return Sa(l.x,l.y,o,s)}var Wrt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A4={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Wrt,function(){function n(_,w,S,O,M){r(_,w,S||0,O||_.length-1,M||a)}function r(_,w,S,O,M){for(;O>S;){if(O-S>600){var T=O-S+1,A=w-S+1,P=Math.log(T),E=.5*Math.exp(2*P/3),C=.5*Math.sqrt(P*E*(T-E)/T)*(A-T/2<0?-1:1),k=Math.max(S,Math.floor(w-A*E/T+C)),L=Math.min(O,Math.floor(w+(T-A)*E/T+C));r(_,w,k,L,M)}var R=_[w],D=S,I=O;for(i(_,S,w),M(_[O],R)>0&&i(_,S,O);D<I;){for(i(_,D,I),D++,I--;M(_[D],R)<0;)D++;for(;M(_[I],R)>0;)I--}M(_[S],R)===0?i(_,S,I):(I++,i(_,I,O)),I<=w&&(S=I+1),w<=I&&(O=I-1)}}function i(_,w,S){var O=_[w];_[w]=_[S],_[S]=O}function a(_,w){return _<w?-1:_>w?1:0}var o=function(w){w===void 0&&(w=9),this._maxEntries=Math.max(4,w),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(w){var S=this.data,O=[];if(!m(w,S))return O;for(var M=this.toBBox,T=[];S;){for(var A=0;A<S.children.length;A++){var P=S.children[A],E=S.leaf?M(P):P;m(w,E)&&(S.leaf?O.push(P):y(w,E)?this._all(P,O):T.push(P))}S=T.pop()}return O},o.prototype.collides=function(w){var S=this.data;if(!m(w,S))return!1;for(var O=[];S;){for(var M=0;M<S.children.length;M++){var T=S.children[M],A=S.leaf?this.toBBox(T):T;if(m(w,A)){if(S.leaf||y(w,A))return!0;O.push(T)}}S=O.pop()}return!1},o.prototype.load=function(w){if(!(w&&w.length))return this;if(w.length<this._minEntries){for(var S=0;S<w.length;S++)this.insert(w[S]);return this}var O=this._build(w.slice(),0,w.length-1,0);if(!this.data.children.length)this.data=O;else if(this.data.height===O.height)this._splitRoot(this.data,O);else{if(this.data.height<O.height){var M=this.data;this.data=O,O=M}this._insert(O,this.data.height-O.height-1,!0)}return this},o.prototype.insert=function(w){return w&&this._insert(w,this.data.height-1),this},o.prototype.clear=function(){return this.data=b([]),this},o.prototype.remove=function(w,S){if(!w)return this;for(var O=this.data,M=this.toBBox(w),T=[],A=[],P,E,C;O||T.length;){if(O||(O=T.pop(),E=T[T.length-1],P=A.pop(),C=!0),O.leaf){var k=s(w,O.children,S);if(k!==-1)return O.children.splice(k,1),T.push(O),this._condense(T),this}!C&&!O.leaf&&y(O,M)?(T.push(O),A.push(P),P=0,E=O,O=O.children[0]):E?(P++,O=E.children[P],C=!1):O=null}return this},o.prototype.toBBox=function(w){return w},o.prototype.compareMinX=function(w,S){return w.minX-S.minX},o.prototype.compareMinY=function(w,S){return w.minY-S.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(w){return this.data=w,this},o.prototype._all=function(w,S){for(var O=[];w;)w.leaf?S.push.apply(S,w.children):O.push.apply(O,w.children),w=O.pop();return S},o.prototype._build=function(w,S,O,M){var T=O-S+1,A=this._maxEntries,P;if(T<=A)return P=b(w.slice(S,O+1)),l(P,this.toBBox),P;M||(M=Math.ceil(Math.log(T)/Math.log(A)),A=Math.ceil(T/Math.pow(A,M-1))),P=b([]),P.leaf=!1,P.height=M;var E=Math.ceil(T/A),C=E*Math.ceil(Math.sqrt(A));x(w,S,O,C,this.compareMinX);for(var k=S;k<=O;k+=C){var L=Math.min(k+C-1,O);x(w,k,L,E,this.compareMinY);for(var R=k;R<=L;R+=E){var D=Math.min(R+E-1,L);P.children.push(this._build(w,R,D,M-1))}}return l(P,this.toBBox),P},o.prototype._chooseSubtree=function(w,S,O,M){for(;M.push(S),!(S.leaf||M.length-1===O);){for(var T=1/0,A=1/0,P=void 0,E=0;E<S.children.length;E++){var C=S.children[E],k=d(C),L=v(w,C)-k;L<A?(A=L,T=k<T?k:T,P=C):L===A&&k<T&&(T=k,P=C)}S=P||S.children[0]}return S},o.prototype._insert=function(w,S,O){var M=O?w:this.toBBox(w),T=[],A=this._chooseSubtree(M,this.data,S,T);for(A.children.push(w),u(A,M);S>=0&&T[S].children.length>this._maxEntries;)this._split(T,S),S--;this._adjustParentBBoxes(M,T,S)},o.prototype._split=function(w,S){var O=w[S],M=O.children.length,T=this._minEntries;this._chooseSplitAxis(O,T,M);var A=this._chooseSplitIndex(O,T,M),P=b(O.children.splice(A,O.children.length-A));P.height=O.height,P.leaf=O.leaf,l(O,this.toBBox),l(P,this.toBBox),S?w[S-1].children.push(P):this._splitRoot(O,P)},o.prototype._splitRoot=function(w,S){this.data=b([w,S]),this.data.height=w.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(w,S,O){for(var M,T=1/0,A=1/0,P=S;P<=O-S;P++){var E=c(w,0,P,this.toBBox),C=c(w,P,O,this.toBBox),k=g(E,C),L=d(E)+d(C);k<T?(T=k,M=P,A=L<A?L:A):k===T&&L<A&&(A=L,M=P)}return M||O-S},o.prototype._chooseSplitAxis=function(w,S,O){var M=w.leaf?this.compareMinX:f,T=w.leaf?this.compareMinY:h,A=this._allDistMargin(w,S,O,M),P=this._allDistMargin(w,S,O,T);A<P&&w.children.sort(M)},o.prototype._allDistMargin=function(w,S,O,M){w.children.sort(M);for(var T=this.toBBox,A=c(w,0,S,T),P=c(w,O-S,O,T),E=p(A)+p(P),C=S;C<O-S;C++){var k=w.children[C];u(A,w.leaf?T(k):k),E+=p(A)}for(var L=O-S-1;L>=S;L--){var R=w.children[L];u(P,w.leaf?T(R):R),E+=p(P)}return E},o.prototype._adjustParentBBoxes=function(w,S,O){for(var M=O;M>=0;M--)u(S[M],w)},o.prototype._condense=function(w){for(var S=w.length-1,O=void 0;S>=0;S--)w[S].children.length===0?S>0?(O=w[S-1].children,O.splice(O.indexOf(w[S]),1)):this.clear():l(w[S],this.toBBox)};function s(_,w,S){if(!S)return w.indexOf(_);for(var O=0;O<w.length;O++)if(S(_,w[O]))return O;return-1}function l(_,w){c(_,0,_.children.length,w,_)}function c(_,w,S,O,M){M||(M=b(null)),M.minX=1/0,M.minY=1/0,M.maxX=-1/0,M.maxY=-1/0;for(var T=w;T<S;T++){var A=_.children[T];u(M,_.leaf?O(A):A)}return M}function u(_,w){return _.minX=Math.min(_.minX,w.minX),_.minY=Math.min(_.minY,w.minY),_.maxX=Math.max(_.maxX,w.maxX),_.maxY=Math.max(_.maxY,w.maxY),_}function f(_,w){return _.minX-w.minX}function h(_,w){return _.minY-w.minY}function d(_){return(_.maxX-_.minX)*(_.maxY-_.minY)}function p(_){return _.maxX-_.minX+(_.maxY-_.minY)}function v(_,w){return(Math.max(w.maxX,_.maxX)-Math.min(w.minX,_.minX))*(Math.max(w.maxY,_.maxY)-Math.min(w.minY,_.minY))}function g(_,w){var S=Math.max(_.minX,w.minX),O=Math.max(_.minY,w.minY),M=Math.min(_.maxX,w.maxX),T=Math.min(_.maxY,w.maxY);return Math.max(0,M-S)*Math.max(0,T-O)}function y(_,w){return _.minX<=w.minX&&_.minY<=w.minY&&w.maxX<=_.maxX&&w.maxY<=_.maxY}function m(_,w){return w.minX<=_.maxX&&w.minY<=_.maxY&&w.maxX>=_.minX&&w.maxY>=_.minY}function b(_){return{children:_,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(_,w,S,O,M){for(var T=[w,S];T.length;)if(S=T.pop(),w=T.pop(),!(S-w<=O)){var A=w+Math.ceil((S-w)/O/2)*O;n(_,A,w,S,M),T.push(w,A,A,S)}}return o})})(A4);var Hrt=A4.exports,q;(function(t){t.GROUP="g",t.CIRCLE="circle",t.ELLIPSE="ellipse",t.IMAGE="image",t.RECT="rect",t.LINE="line",t.POLYLINE="polyline",t.POLYGON="polygon",t.TEXT="text",t.PATH="path",t.HTML="html",t.MESH="mesh"})(q||(q={}));var ec;(function(t){t[t.ZERO=0]="ZERO",t[t.NEGATIVE_ONE=1]="NEGATIVE_ONE"})(ec||(ec={}));var Do=function(){function t(){this.plugins=[]}return t.prototype.addRenderingPlugin=function(e){this.plugins.push(e),this.context.renderingPlugins.push(e)},t.prototype.removeAllRenderingPlugins=function(){var e=this;this.plugins.forEach(function(n){var r=e.context.renderingPlugins.indexOf(n);r>=0&&e.context.renderingPlugins.splice(r,1)})},t}(),Yrt=function(){function t(e){this.clipSpaceNearZ=ec.NEGATIVE_ONE,this.plugins=[],this.config=bt({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0},e)}return t.prototype.registerPlugin=function(e){var n=this.plugins.findIndex(function(r){return r===e});n===-1&&this.plugins.push(e)},t.prototype.unregisterPlugin=function(e){var n=this.plugins.findIndex(function(r){return r===e});n>-1&&this.plugins.splice(n,1)},t.prototype.getPlugins=function(){return this.plugins},t.prototype.getPlugin=function(e){return this.plugins.find(function(n){return n.name===e})},t.prototype.getConfig=function(){return this.config},t.prototype.setConfig=function(e){Object.assign(this.config,e)},t}();function _l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Vm(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function av(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function iP(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function Vrt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function Xrt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function nc(t){return t===void 0?0:t>360||t<-360?t%360:t}function Hn(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=0),Array.isArray(t)&&t.length===3?da(t):we(t)?Xt(t,e,n):Xt(t[0],t[1]||e,t[2]||n)}function oe(t){return t*(Math.PI/180)}function Gr(t){return t*(180/Math.PI)}function Urt(t){return 360*t}function qrt(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n,s=r*r,l=i*i,c=a*a,u=o+s+l+c,f=n*a-r*i;return f>.499995*u?(t[0]=Math.PI/2,t[1]=2*Math.atan2(r,n),t[2]=0):f<-.499995*u?(t[0]=-Math.PI/2,t[1]=2*Math.atan2(r,n),t[2]=0):(t[0]=Math.asin(2*(n*i-a*r)),t[1]=Math.atan2(2*(n*a+r*i),1-2*(l+c)),t[2]=Math.atan2(2*(n*r+i*a),1-2*(s+l))),t}function Zrt(t,e){var n,r,i=Math.PI*.5,a=et(dc(Bt(),e),3),o=a[0],s=a[1],l=a[2],c=Math.asin(-e[2]/o);return c<i?c>-i?(n=Math.atan2(e[6]/s,e[10]/l),r=Math.atan2(e[1]/o,e[0]/o)):(r=0,n=-Math.atan2(e[4]/s,e[5]/s)):(r=0,n=Math.atan2(e[4]/s,e[5]/s)),t[0]=n,t[1]=c,t[2]=r,t}function Xm(t,e){return e.length===16?Zrt(t,e):qrt(t,e)}function Krt(t,e,n,r,i){var a=Math.cos(t),o=Math.sin(t);return $Q(r*a,i*o,0,-r*o,i*a,0,e,n,1)}function Qrt(t,e,n,r,i,a,o,s){s===void 0&&(s=!1);var l=2*a/(n-e),c=2*a/(r-i),u=(n+e)/(n-e),f=(r+i)/(r-i),h,d;return s?(h=-o/(o-a),d=-o*a/(o-a)):(h=-(o+a)/(o-a),d=-2*o*a/(o-a)),t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=u,t[9]=f,t[10]=h,t[11]=-1,t[12]=0,t[13]=0,t[14]=d,t[15]=0,t}function aP(t){var e=t[0],n=t[1],r=t[3],i=t[4],a=Math.sqrt(e*e+n*n),o=Math.sqrt(r*r+i*i),s=e*i-n*r;s<0&&(e<i?a=-a:o=-o),a&&(e*=1/a,n*=1/a),o&&(r*=1/o,i*=1/o);var l=Math.atan2(n,e),c=Gr(l);return[t[6],t[7],a,o,c]}var Ci=Qt(),ui=Qt(),Eu=Fl(),St=[Bt(),Bt(),Bt()],oP=Bt();function Jrt(t,e,n,r,i,a){if(!tit(Ci,t)||(hc(ui,Ci),ui[3]=0,ui[7]=0,ui[11]=0,ui[15]=1,Math.abs(t3(ui))<1e-8))return!1;var o=Ci[3],s=Ci[7],l=Ci[11],c=Ci[12],u=Ci[13],f=Ci[14],h=Ci[15];if(o!==0||s!==0||l!==0){Eu[0]=o,Eu[1]=s,Eu[2]=l,Eu[3]=h;var d=yi(ui,ui);if(!d)return!1;JR(ui,ui),jl(i,Eu,ui)}else i[0]=i[1]=i[2]=0,i[3]=1;if(e[0]=c,e[1]=u,e[2]=f,eit(St,Ci),n[0]=ga(St[0]),Es(St[0],St[0]),r[0]=zi(St[0],St[1]),Um(St[1],St[1],St[0],1,-r[0]),n[1]=ga(St[1]),Es(St[1],St[1]),r[0]/=n[1],r[1]=zi(St[0],St[2]),Um(St[2],St[2],St[0],1,-r[1]),r[2]=zi(St[1],St[2]),Um(St[2],St[2],St[1],1,-r[2]),n[2]=ga(St[2]),Es(St[2],St[2]),r[1]/=n[2],r[2]/=n[2],nv(oP,St[1],St[2]),zi(St[0],oP)<0)for(var p=0;p<3;p++)n[p]*=-1,St[p][0]*=-1,St[p][1]*=-1,St[p][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+St[0][0]-St[1][1]-St[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-St[0][0]+St[1][1]-St[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-St[0][0]-St[1][1]+St[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+St[0][0]+St[1][1]+St[2][2],0)),St[2][1]>St[1][2]&&(a[0]=-a[0]),St[0][2]>St[2][0]&&(a[1]=-a[1]),St[1][0]>St[0][1]&&(a[2]=-a[2]),!0}function tit(t,e){var n=e[15];if(n===0)return!1;for(var r=1/n,i=0;i<16;i++)t[i]=e[i]*r;return!0}function eit(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}function Um(t,e,n,r,i){t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i}var Ze=function(){function t(){this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return t.isEmpty=function(e){return!e||e.halfExtents[0]===0&&e.halfExtents[1]===0&&e.halfExtents[2]===0},t.prototype.update=function(e,n){_l(this.center,e),_l(this.halfExtents,n),Vm(this.min,this.center,this.halfExtents),av(this.max,this.center,this.halfExtents)},t.prototype.setMinMax=function(e,n){av(this.center,n,e),iP(this.center,this.center,.5),Vm(this.halfExtents,n,e),iP(this.halfExtents,this.halfExtents,.5),_l(this.min,e),_l(this.max,n)},t.prototype.getMin=function(){return this.min},t.prototype.getMax=function(){return this.max},t.prototype.add=function(e){if(!t.isEmpty(e)){if(t.isEmpty(this)){this.setMinMax(e.getMin(),e.getMax());return}var n=this.center,r=n[0],i=n[1],a=n[2],o=this.halfExtents,s=o[0],l=o[1],c=o[2],u=r-s,f=r+s,h=i-l,d=i+l,p=a-c,v=a+c,g=e.center,y=g[0],m=g[1],b=g[2],x=e.halfExtents,_=x[0],w=x[1],S=x[2],O=y-_,M=y+_,T=m-w,A=m+w,P=b-S,E=b+S;O<u&&(u=O),M>f&&(f=M),T<h&&(h=T),A>d&&(d=A),P<p&&(p=P),E>v&&(v=E),n[0]=(u+f)*.5,n[1]=(h+d)*.5,n[2]=(p+v)*.5,o[0]=(f-u)*.5,o[1]=(d-h)*.5,o[2]=(v-p)*.5,this.min[0]=u,this.min[1]=h,this.min[2]=p,this.max[0]=f,this.max[1]=d,this.max[2]=v}},t.prototype.setFromTransformedAABB=function(e,n){var r=this.center,i=this.halfExtents,a=e.center,o=e.halfExtents,s=n[0],l=n[4],c=n[8],u=n[1],f=n[5],h=n[9],d=n[2],p=n[6],v=n[10],g=Math.abs(s),y=Math.abs(l),m=Math.abs(c),b=Math.abs(u),x=Math.abs(f),_=Math.abs(h),w=Math.abs(d),S=Math.abs(p),O=Math.abs(v);r[0]=n[12]+s*a[0]+l*a[1]+c*a[2],r[1]=n[13]+u*a[0]+f*a[1]+h*a[2],r[2]=n[14]+d*a[0]+p*a[1]+v*a[2],i[0]=g*o[0]+y*o[1]+m*o[2],i[1]=b*o[0]+x*o[1]+_*o[2],i[2]=w*o[0]+S*o[1]+O*o[2],Vm(this.min,r,i),av(this.max,r,i)},t.prototype.intersects=function(e){var n=this.getMax(),r=this.getMin(),i=e.getMax(),a=e.getMin();return r[0]<=i[0]&&n[0]>=a[0]&&r[1]<=i[1]&&n[1]>=a[1]&&r[2]<=i[2]&&n[2]>=a[2]},t.prototype.intersection=function(e){if(!this.intersects(e))return null;var n=new t,r=Vrt([0,0,0],this.getMin(),e.getMin()),i=Xrt([0,0,0],this.getMax(),e.getMax());return n.setMinMax(r,i),n},t.prototype.getNegativeFarPoint=function(e){return e.pnVertexFlag===273?_l([0,0,0],this.min):e.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:e.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:e.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:e.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:e.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:e.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]},t.prototype.getPositiveFarPoint=function(e){return e.pnVertexFlag===273?_l([0,0,0],this.max):e.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:e.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:e.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:e.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:e.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:e.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]},t}(),nit=function(){function t(e,n){this.distance=e||0,this.normal=n||Xt(0,1,0),this.updatePNVertexFlag()}return t.prototype.updatePNVertexFlag=function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)},t.prototype.distanceToPoint=function(e){return zi(e,this.normal)-this.distance},t.prototype.normalize=function(){var e=1/v3(this.normal);tx(this.normal,this.normal,e),this.distance*=e},t.prototype.intersectsLine=function(e,n,r){var i=this.distanceToPoint(e),a=this.distanceToPoint(n),o=i/(i-a),s=o>=0&&o<=1;return s&&r&&ex(r,e,n,o),s},t}(),qa;(function(t){t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE"})(qa||(qa={}));var rit=function(){function t(e){if(this.planes=[],e)this.planes=e;else for(var n=0;n<6;n++)this.planes.push(new nit)}return t.prototype.extractFromVPMatrix=function(e){var n=et(e,16),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],f=n[8],h=n[9],d=n[10],p=n[11],v=n[12],g=n[13],y=n[14],m=n[15];pi(this.planes[0].normal,o-r,u-s,p-f),this.planes[0].distance=m-v,pi(this.planes[1].normal,o+r,u+s,p+f),this.planes[1].distance=m+v,pi(this.planes[2].normal,o+i,u+l,p+h),this.planes[2].distance=m+g,pi(this.planes[3].normal,o-i,u-l,p-h),this.planes[3].distance=m-g,pi(this.planes[4].normal,o-a,u-c,p-d),this.planes[4].distance=m-y,pi(this.planes[5].normal,o+a,u+c,p+d),this.planes[5].distance=m+y,this.planes.forEach(function(b){b.normalize(),b.updatePNVertexFlag()})},t}(),Mn=function(){function t(e,n){e===void 0&&(e=0),n===void 0&&(n=0),this.x=0,this.y=0,this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){this.x=e.x,this.y=e.y},t}(),js=function(){function t(e,n,r,i){this.x=e,this.y=n,this.width=r,this.height=i,this.left=e,this.right=e+r,this.top=n,this.bottom=n+i}return t.prototype.toJSON=function(){},t}(),re="Method not implemented.",wl="Use document.documentElement instead.",iit="Cannot append a destroyed element.",Kt;(function(t){t[t.ORBITING=0]="ORBITING",t[t.EXPLORING=1]="EXPLORING",t[t.TRACKING=2]="TRACKING"})(Kt||(Kt={}));var hh;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ROTATIONAL=1]="ROTATIONAL",t[t.TRANSLATIONAL=2]="TRANSLATIONAL",t[t.CINEMATIC=3]="CINEMATIC"})(hh||(hh={}));var ar;(function(t){t[t.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",t[t.PERSPECTIVE=1]="PERSPECTIVE"})(ar||(ar={}));var E4={UPDATED:"updated"},sP=2e-4,P4=function(){function t(){this.clipSpaceNearZ=ec.NEGATIVE_ONE,this.eventEmitter=new Pw,this.matrix=Qt(),this.right=Xt(1,0,0),this.up=Xt(0,1,0),this.forward=Xt(0,0,1),this.position=Xt(0,0,1),this.focalPoint=Xt(0,0,0),this.distanceVector=Xt(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=Qt(),this.projectionMatrixInverse=Qt(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Kt.EXPLORING,this.trackingMode=hh.DEFAULT,this.projectionMode=ar.PERSPECTIVE,this.frustum=new rit,this.orthoMatrix=Qt()}return t.prototype.isOrtho=function(){return this.projectionMode===ar.ORTHOGRAPHIC},t.prototype.getProjectionMode=function(){return this.projectionMode},t.prototype.getPerspective=function(){return this.jitteredProjectionMatrix||this.projectionMatrix},t.prototype.getPerspectiveInverse=function(){return this.projectionMatrixInverse},t.prototype.getFrustum=function(){return this.frustum},t.prototype.getPosition=function(){return this.position},t.prototype.getFocalPoint=function(){return this.focalPoint},t.prototype.getDollyingStep=function(){return this.dollyingStep},t.prototype.getNear=function(){return this.near},t.prototype.getFar=function(){return this.far},t.prototype.getZoom=function(){return this.zoom},t.prototype.getOrthoMatrix=function(){return this.orthoMatrix},t.prototype.getView=function(){return this.view},t.prototype.setEnableUpdate=function(e){this.enableUpdate=e},t.prototype.setType=function(e,n){return this.type=e,this.type===Kt.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Kt.TRACKING&&n!==void 0&&this.setTrackingMode(n),this},t.prototype.setProjectionMode=function(e){return this.projectionMode=e,this},t.prototype.setTrackingMode=function(e){if(this.type!==Kt.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this},t.prototype.setWorldRotation=function(e){return this.rotateWorld=e,this._getAngles(),this},t.prototype.getViewTransform=function(){return yi(Qt(),this.matrix)},t.prototype.getWorldTransform=function(){return this.matrix},t.prototype.jitterProjectionMatrix=function(e,n){var r=Ka(Qt(),[e,n,0]);this.jitteredProjectionMatrix=Nn(Qt(),r,this.projectionMatrix)},t.prototype.clearJitterProjectionMatrix=function(){this.jitteredProjectionMatrix=void 0},t.prototype.setMatrix=function(e){return this.matrix=e,this._update(),this},t.prototype.setProjectionMatrix=function(e){this.projectionMatrix=e},t.prototype.setFov=function(e){return this.setPerspective(this.near,this.far,e,this.aspect),this},t.prototype.setAspect=function(e){return this.setPerspective(this.near,this.far,this.fov,e),this},t.prototype.setNear=function(e){return this.projectionMode===ar.PERSPECTIVE?this.setPerspective(e,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,e,this.far),this},t.prototype.setFar=function(e){return this.projectionMode===ar.PERSPECTIVE?this.setPerspective(this.near,e,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,e),this},t.prototype.setViewOffset=function(e,n,r,i,a,o){return this.aspect=e/n,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.projectionMode===ar.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},t.prototype.clearViewOffset=function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===ar.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},t.prototype.setZoom=function(e){return this.zoom=e,this.projectionMode===ar.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===ar.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this},t.prototype.setZoomByViewportPoint=function(e,n){var r=this.canvas.viewport2Canvas({x:n[0],y:n[1]}),i=r.x,a=r.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(i,a),this.setFocalPoint(i,a),this.setZoom(e),this.rotate(0,0,o);var s=this.canvas.viewport2Canvas({x:n[0],y:n[1]}),l=s.x,c=s.y,u=Xt(l-i,c-a,0),f=zi(u,this.right)/ga(this.right),h=zi(u,this.up)/ga(this.up),d=et(this.getPosition(),2),p=d[0],v=d[1],g=et(this.getFocalPoint(),2),y=g[0],m=g[1];return this.setPosition(p-f,v-h),this.setFocalPoint(y-f,m-h),this},t.prototype.setPerspective=function(e,n,r,i){var a;this.projectionMode=ar.PERSPECTIVE,this.fov=r,this.near=e,this.far=n,this.aspect=i;var o=this.near*Math.tan(oe(.5*this.fov))/this.zoom,s=2*o,l=this.aspect*s,c=-.5*l;if(!((a=this.view)===null||a===void 0)&&a.enabled){var u=this.view.fullWidth,f=this.view.fullHeight;c+=this.view.offsetX*l/u,o-=this.view.offsetY*s/f,l*=this.view.width/u,s*=this.view.height/f}return Qrt(this.projectionMatrix,c,c+l,o-s,o,e,this.far,this.clipSpaceNearZ===ec.ZERO),yi(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this},t.prototype.setOrthographic=function(e,n,r,i,a,o){var s;this.projectionMode=ar.ORTHOGRAPHIC,this.rright=n,this.left=e,this.top=r,this.bottom=i,this.near=a,this.far=o;var l=(this.rright-this.left)/(2*this.zoom),c=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,f=(this.top+this.bottom)/2,h=u-l,d=u+l,p=f+c,v=f-c;if(!((s=this.view)===null||s===void 0)&&s.enabled){var g=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h+=g*this.view.offsetX,d=h+g*this.view.width,p-=y*this.view.offsetY,v=p-y*this.view.height}return this.clipSpaceNearZ===ec.NEGATIVE_ONE?u3(this.projectionMatrix,h,d,p,v,a,o):f3(this.projectionMatrix,h,d,p,v,a,o),yi(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this},t.prototype.setPosition=function(e,n,r){n===void 0&&(n=this.position[1]),r===void 0&&(r=this.position[2]);var i=Hn(e,n,r);return this._setPosition(i),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this},t.prototype.setFocalPoint=function(e,n,r){n===void 0&&(n=this.focalPoint[1]),r===void 0&&(r=this.focalPoint[2]);var i=Xt(0,1,0);if(this.focalPoint=Hn(e,n,r),this.trackingMode===hh.CINEMATIC){var a=pE(Bt(),this.focalPoint,this.position);e=a[0],n=a[1],r=a[2];var o=ga(a),s=Gr(Math.asin(n/o)),l=90+Gr(Math.atan2(r,e)),c=Qt();r3(c,c,oe(l)),n3(c,c,oe(s)),i=cn(Bt(),[0,1,0],c)}return yi(this.matrix,h3(Qt(),this.position,this.focalPoint,i)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this},t.prototype.getDistance=function(){return this.distance},t.prototype.getDistanceVector=function(){return this.distanceVector},t.prototype.setDistance=function(e){if(this.distance===e||e<0)return this;this.distance=e,this.distance<sP&&(this.distance=sP),this.dollyingStep=this.distance/100;var n=Bt();e=this.distance;var r=this.forward,i=this.focalPoint;return n[0]=e*r[0]+i[0],n[1]=e*r[1]+i[1],n[2]=e*r[2]+i[2],this._setPosition(n),this.triggerUpdate(),this},t.prototype.setMaxDistance=function(e){return this.maxDistance=e,this},t.prototype.setMinDistance=function(e){return this.minDistance=e,this},t.prototype.setAzimuth=function(e){return this.azimuth=nc(e),this.computeMatrix(),this._getAxes(),this.type===Kt.ORBITING||this.type===Kt.EXPLORING?this._getPosition():this.type===Kt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getAzimuth=function(){return this.azimuth},t.prototype.setElevation=function(e){return this.elevation=nc(e),this.computeMatrix(),this._getAxes(),this.type===Kt.ORBITING||this.type===Kt.EXPLORING?this._getPosition():this.type===Kt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getElevation=function(){return this.elevation},t.prototype.setRoll=function(e){return this.roll=nc(e),this.computeMatrix(),this._getAxes(),this.type===Kt.ORBITING||this.type===Kt.EXPLORING?this._getPosition():this.type===Kt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getRoll=function(){return this.roll},t.prototype._update=function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()},t.prototype.computeMatrix=function(){var e=oo(an(),[0,0,1],oe(this.roll));Us(this.matrix);var n=oo(an(),[1,0,0],oe((this.rotateWorld&&this.type!==Kt.TRACKING||this.type===Kt.TRACKING?1:-1)*this.elevation)),r=oo(an(),[0,1,0],oe((this.rotateWorld&&this.type!==Kt.TRACKING||this.type===Kt.TRACKING?1:-1)*this.azimuth)),i=vo(an(),r,n);i=vo(an(),i,e);var a=ew(Qt(),i);this.type===Kt.ORBITING||this.type===Kt.EXPLORING?(Ql(this.matrix,this.matrix,this.focalPoint),Nn(this.matrix,this.matrix,a),Ql(this.matrix,this.matrix,[0,0,this.distance])):this.type===Kt.TRACKING&&(Ql(this.matrix,this.matrix,this.position),Nn(this.matrix,this.matrix,a))},t.prototype._setPosition=function(e,n,r){this.position=Hn(e,n,r);var i=this.matrix;i[12]=this.position[0],i[13]=this.position[1],i[14]=this.position[2],i[15]=1,this._getOrthoMatrix()},t.prototype._getAxes=function(){ao(this.right,Hn(jl(Fl(),[1,0,0,0],this.matrix))),ao(this.up,Hn(jl(Fl(),[0,1,0,0],this.matrix))),ao(this.forward,Hn(jl(Fl(),[0,0,1,0],this.matrix))),Es(this.right,this.right),Es(this.up,this.up),Es(this.forward,this.forward)},t.prototype._getAngles=function(){var e=this.distanceVector[0],n=this.distanceVector[1],r=this.distanceVector[2],i=ga(this.distanceVector);if(i===0){this.elevation=0,this.azimuth=0;return}this.type===Kt.TRACKING?(this.elevation=Gr(Math.asin(n/i)),this.azimuth=Gr(Math.atan2(-e,-r))):this.rotateWorld?(this.elevation=Gr(Math.asin(n/i)),this.azimuth=Gr(Math.atan2(-e,-r))):(this.elevation=-Gr(Math.asin(n/i)),this.azimuth=-Gr(Math.atan2(-e,-r)))},t.prototype._getPosition=function(){ao(this.position,Hn(jl(Fl(),[0,0,0,1],this.matrix))),this._getDistance()},t.prototype._getFocalPoint=function(){p3(this.distanceVector,[0,0,-this.distance],jQ(Hc(),this.matrix)),Jl(this.focalPoint,this.position,this.distanceVector),this._getDistance()},t.prototype._getDistance=function(){this.distanceVector=pE(Bt(),this.focalPoint,this.position),this.distance=ga(this.distanceVector),this.dollyingStep=this.distance/100},t.prototype._getOrthoMatrix=function(){if(this.projectionMode===ar.ORTHOGRAPHIC){var e=this.position,n=oo(an(),[0,0,1],-this.roll*Math.PI/180);_f(this.orthoMatrix,n,Xt((this.rright-this.left)/2-e[0],(this.top-this.bottom)/2-e[1],0),Xt(this.zoom,this.zoom,1),e)}},t.prototype.triggerUpdate=function(){if(this.enableUpdate){var e=this.getViewTransform(),n=Nn(Qt(),this.getPerspective(),e);this.getFrustum().extractFromVPMatrix(n),this.eventEmitter.emit(E4.UPDATED)}},t.prototype.rotate=function(e,n,r){throw new Error(re)},t.prototype.pan=function(e,n){throw new Error(re)},t.prototype.dolly=function(e){throw new Error(re)},t.prototype.createLandmark=function(e,n){throw new Error(re)},t.prototype.gotoLandmark=function(e,n){throw new Error(re)},t.prototype.cancelLandmarkAnimation=function(){throw new Error(re)},t}();function En(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=t.apply(this,r);return n.cache=o.set(a,s)||o,s};return n.cache=new(En.Cache||Map),n}En.Cache=Map;var rt;(function(t){t[t.kUnknown=0]="kUnknown",t[t.kNumber=1]="kNumber",t[t.kPercentage=2]="kPercentage",t[t.kEms=3]="kEms",t[t.kPixels=4]="kPixels",t[t.kRems=5]="kRems",t[t.kDegrees=6]="kDegrees",t[t.kRadians=7]="kRadians",t[t.kGradians=8]="kGradians",t[t.kTurns=9]="kTurns",t[t.kMilliseconds=10]="kMilliseconds",t[t.kSeconds=11]="kSeconds",t[t.kInteger=12]="kInteger"})(rt||(rt={}));var Sr;(function(t){t[t.kUNumber=0]="kUNumber",t[t.kUPercent=1]="kUPercent",t[t.kULength=2]="kULength",t[t.kUAngle=3]="kUAngle",t[t.kUTime=4]="kUTime",t[t.kUOther=5]="kUOther"})(Sr||(Sr={}));var lP;(function(t){t[t.kAll=0]="kAll",t[t.kNonNegative=1]="kNonNegative",t[t.kInteger=2]="kInteger",t[t.kNonNegativeInteger=3]="kNonNegativeInteger",t[t.kPositiveInteger=4]="kPositiveInteger"})(lP||(lP={}));var bx;(function(t){t[t.kYes=0]="kYes",t[t.kNo=1]="kNo"})(bx||(bx={}));var xx;(function(t){t[t.kYes=0]="kYes",t[t.kNo=1]="kNo"})(xx||(xx={}));var ait=[{name:"em",unit_type:rt.kEms},{name:"px",unit_type:rt.kPixels},{name:"deg",unit_type:rt.kDegrees},{name:"rad",unit_type:rt.kRadians},{name:"grad",unit_type:rt.kGradians},{name:"ms",unit_type:rt.kMilliseconds},{name:"s",unit_type:rt.kSeconds},{name:"rem",unit_type:rt.kRems},{name:"turn",unit_type:rt.kTurns}],To;(function(t){t[t.kUnknownType=0]="kUnknownType",t[t.kUnparsedType=1]="kUnparsedType",t[t.kKeywordType=2]="kKeywordType",t[t.kUnitType=3]="kUnitType",t[t.kSumType=4]="kSumType",t[t.kProductType=5]="kProductType",t[t.kNegateType=6]="kNegateType",t[t.kInvertType=7]="kInvertType",t[t.kMinType=8]="kMinType",t[t.kMaxType=9]="kMaxType",t[t.kClampType=10]="kClampType",t[t.kTransformType=11]="kTransformType",t[t.kPositionType=12]="kPositionType",t[t.kURLImageType=13]="kURLImageType",t[t.kColorType=14]="kColorType",t[t.kUnsupportedColorType=15]="kUnsupportedColorType"})(To||(To={}));var oit=function(t){return ait.find(function(e){return e.name===t}).unit_type},sit=function(t){return t?t==="number"?rt.kNumber:t==="percent"||t==="%"?rt.kPercentage:oit(t):rt.kUnknown},lit=function(t){switch(t){case rt.kNumber:case rt.kInteger:return Sr.kUNumber;case rt.kPercentage:return Sr.kUPercent;case rt.kPixels:return Sr.kULength;case rt.kMilliseconds:case rt.kSeconds:return Sr.kUTime;case rt.kDegrees:case rt.kRadians:case rt.kGradians:case rt.kTurns:return Sr.kUAngle;default:return Sr.kUOther}},cit=function(t){switch(t){case Sr.kUNumber:return rt.kNumber;case Sr.kULength:return rt.kPixels;case Sr.kUPercent:return rt.kPercentage;case Sr.kUTime:return rt.kSeconds;case Sr.kUAngle:return rt.kDegrees;default:return rt.kUnknown}},cP=function(t){var e=1;switch(t){case rt.kPixels:case rt.kDegrees:case rt.kSeconds:break;case rt.kMilliseconds:e=.001;break;case rt.kRadians:e=180/Math.PI;break;case rt.kGradians:e=.9;break;case rt.kTurns:e=360;break}return e},_x=function(t){switch(t){case rt.kNumber:case rt.kInteger:return"";case rt.kPercentage:return"%";case rt.kEms:return"em";case rt.kRems:return"rem";case rt.kPixels:return"px";case rt.kDegrees:return"deg";case rt.kRadians:return"rad";case rt.kGradians:return"grad";case rt.kMilliseconds:return"ms";case rt.kSeconds:return"s";case rt.kTurns:return"turn"}return""},I0=function(){function t(){}return t.isAngle=function(e){return e===rt.kDegrees||e===rt.kRadians||e===rt.kGradians||e===rt.kTurns},t.isLength=function(e){return e>=rt.kEms&&e<rt.kDegrees},t.isRelativeUnit=function(e){return e===rt.kPercentage||e===rt.kEms||e===rt.kRems},t.isTime=function(e){return e===rt.kSeconds||e===rt.kMilliseconds},t.prototype.toString=function(){return this.buildCSSText(bx.kNo,xx.kNo,"")},t.prototype.isNumericValue=function(){return this.getType()>=To.kUnitType&&this.getType()<=To.kClampType},t}(),uit=function(t){Et(e,t);function e(n){var r=t.call(this)||this;return r.colorSpace=n,r}return e.prototype.getType=function(){return To.kColorType},e.prototype.to=function(n){return this},e}(I0),$i;(function(t){t[t.Constant=0]="Constant",t[t.LinearGradient=1]="LinearGradient",t[t.RadialGradient=2]="RadialGradient"})($i||($i={}));var ip=function(t){Et(e,t);function e(n,r){var i=t.call(this)||this;return i.type=n,i.value=r,i}return e.prototype.clone=function(){return new e(this.type,this.value)},e.prototype.buildCSSText=function(n,r,i){return i},e.prototype.getType=function(){return To.kColorType},e}(I0),mr=function(t){Et(e,t);function e(n){var r=t.call(this)||this;return r.value=n,r}return e.prototype.clone=function(){return new e(this.value)},e.prototype.getType=function(){return To.kKeywordType},e.prototype.buildCSSText=function(n,r,i){return i+this.value},e}(I0),fit=En(function(t){return t===void 0&&(t=""),t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}),uP=function(t){return t.split("").map(function(e,n){return e.toUpperCase()===e?"".concat(n!==0?"-":"").concat(e.toLowerCase()):e}).join("")};function hit(t){if(!t)throw new Error}function Gl(t){return typeof t=="function"}function dit(t){return typeof t=="symbol"}var pit={d:{alias:"path"},strokeDasharray:{alias:"lineDash"},strokeWidth:{alias:"lineWidth"},textAnchor:{alias:"textAlign"},src:{alias:"img"}},Sx=En(function(t){var e=fit(t),n=pit[e];return e=(n==null?void 0:n.alias)||e,e}),vit=function(t,e){e===void 0&&(e="");var n="";return Number.isFinite(t)?(hit(Number.isNaN(t)),n="NaN"):t>0?n="infinity":n="-infinity",n+=e},Ox=function(t){return cit(lit(t))},ie=function(t){Et(e,t);function e(n,r){r===void 0&&(r=rt.kNumber);var i=t.call(this)||this,a;return typeof r=="string"?a=sit(r):a=r,i.unit=a,i.value=n,i}return e.prototype.clone=function(){return new e(this.value,this.unit)},e.prototype.equals=function(n){var r=n;return this.value===r.value&&this.unit===r.unit},e.prototype.getType=function(){return To.kUnitType},e.prototype.convertTo=function(n){if(this.unit===n)return new e(this.value,this.unit);var r=Ox(this.unit);if(r!==Ox(n)||r===rt.kUnknown)return null;var i=cP(this.unit)/cP(n);return new e(this.value*i,n)},e.prototype.buildCSSText=function(n,r,i){var a;switch(this.unit){case rt.kUnknown:break;case rt.kInteger:a=Number(this.value).toFixed(0);break;case rt.kNumber:case rt.kPercentage:case rt.kEms:case rt.kRems:case rt.kPixels:case rt.kDegrees:case rt.kRadians:case rt.kGradians:case rt.kMilliseconds:case rt.kSeconds:case rt.kTurns:{var o=-999999,s=999999,l=this.value,c=_x(this.unit);if(l<o||l>s){var u=_x(this.unit);!Number.isFinite(l)||Number.isNaN(l)?a=vit(l,u):a=l+(u||"")}else a="".concat(l).concat(c)}}return i+=a,i},e}(I0),qe=new ie(0,"px");new ie(1,"px");var Xr=new ie(0,"deg"),Dw=function(t){Et(e,t);function e(n,r,i,a,o){a===void 0&&(a=1),o===void 0&&(o=!1);var s=t.call(this,"rgb")||this;return s.r=n,s.g=r,s.b=i,s.alpha=a,s.isNone=o,s}return e.prototype.clone=function(){return new e(this.r,this.g,this.b,this.alpha)},e.prototype.buildCSSText=function(n,r,i){return i+"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")},e}(uit),Te=new mr("unset"),git=new mr("initial"),yit=new mr("inherit"),qm={"":Te,unset:Te,initial:git,inherit:yit},Mx=function(t){return qm[t]||(qm[t]=new mr(t)),qm[t]},Jv=new Dw(0,0,0,0,!0),C4=new Dw(0,0,0,0),mit=En(function(t,e,n,r){return new Dw(t,e,n,r)},function(t,e,n,r){return"rgba(".concat(t,",").concat(e,",").concat(n,",").concat(r,")")}),de=function(t,e){return e===void 0&&(e=rt.kNumber),new ie(t,e)};new ie(50,"%");var Tx;(function(t){t[t.Standard=0]="Standard"})(Tx||(Tx={}));var Oc;(function(t){t[t.ADDED=0]="ADDED",t[t.REMOVED=1]="REMOVED",t[t.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED"})(Oc||(Oc={}));var k4={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new js(0,0,0,0)},st;(function(t){t.COORDINATE="<coordinate>",t.COLOR="<color>",t.PAINT="<paint>",t.NUMBER="<number>",t.ANGLE="<angle>",t.OPACITY_VALUE="<opacity-value>",t.SHADOW_BLUR="<shadow-blur>",t.LENGTH="<length>",t.PERCENTAGE="<percentage>",t.LENGTH_PERCENTAGE="<length> | <percentage>",t.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",t.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",t.LIST_OF_POINTS="<list-of-points>",t.PATH="<path>",t.FILTER="<filter>",t.Z_INDEX="<z-index>",t.OFFSET_DISTANCE="<offset-distance>",t.DEFINED_PATH="<defined-path>",t.MARKER="<marker>",t.TRANSFORM="<transform>",t.TRANSFORM_ORIGIN="<transform-origin>",t.TEXT="<text>",t.TEXT_TRANSFORM="<text-transform>"})(st||(st={}));function bit(t){var e=t.type,n=t.value;return e==="hex"?"#".concat(n):e==="literal"?n:e==="rgb"?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}var xit=function(){var t={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function n(R){throw new Error(e+": "+R)}function r(){var R=i();return e.length>0&&n("Invalid input not EOF"),R}function i(){return b(a)}function a(){return o("linear-gradient",t.linearGradient,l)||o("repeating-linear-gradient",t.repeatingLinearGradient,l)||o("radial-gradient",t.radialGradient,f)||o("repeating-radial-gradient",t.repeatingRadialGradient,f)||o("conic-gradient",t.conicGradient,f)}function o(R,D,I){return s(D,function(N){var F=I();return F&&(k(t.comma)||n("Missing comma before color stops")),{type:R,orientation:F,colorStops:b(x)}})}function s(R,D){var I=k(R);if(I){k(t.startCall)||n("Missing (");var N=D(I);return k(t.endCall)||n("Missing )"),N}}function l(){return c()||u()}function c(){return C("directional",t.sideOrCorner,1)}function u(){return C("angular",t.angleValue,1)}function f(){var R,D=h(),I;return D&&(R=[],R.push(D),I=e,k(t.comma)&&(D=h(),D?R.push(D):e=I)),R}function h(){var R=d()||p();if(R)R.at=g();else{var D=v();if(D){R=D;var I=g();I&&(R.at=I)}else{var N=y();N&&(R={type:"default-radial",at:N})}}return R}function d(){var R=C("shape",/^(circle)/i,0);return R&&(R.style=E()||v()),R}function p(){var R=C("shape",/^(ellipse)/i,0);return R&&(R.style=A()||v()),R}function v(){return C("extent-keyword",t.extentKeywords,1)}function g(){if(C("position",/^at/,0)){var R=y();return R||n("Missing positioning value"),R}}function y(){var R=m();if(R.x||R.y)return{type:"position",value:R}}function m(){return{x:A(),y:A()}}function b(R){var D=R(),I=[];if(D)for(I.push(D);k(t.comma);)D=R(),D?I.push(D):n("One extra comma");return I}function x(){var R=_();return R||n("Expected color definition"),R.length=A(),R}function _(){return S()||M()||O()||w()}function w(){return C("literal",t.literalColor,0)}function S(){return C("hex",t.hexColor,1)}function O(){return s(t.rgbColor,function(){return{type:"rgb",value:b(T)}})}function M(){return s(t.rgbaColor,function(){return{type:"rgba",value:b(T)}})}function T(){return k(t.number)[1]}function A(){return C("%",t.percentageValue,1)||P()||E()}function P(){return C("position-keyword",t.positionKeywords,1)}function E(){return C("px",t.pixelValue,1)||C("em",t.emValue,1)}function C(R,D,I){var N=k(D);if(N)return{type:R,value:N[I]}}function k(R){var D=/^[\n\r\t\s]+/.exec(e);D&&L(D[0].length);var I=R.exec(e);return I&&L(I[0].length),I}function L(R){e=e.substring(R)}return function(R){return e=R,r()}}();function _it(t,e,n,r){var i=oe(r.value),a=0,o=0,s=a+e/2,l=o+n/2,c=Math.abs(e*Math.cos(i))+Math.abs(n*Math.sin(i)),u=t[0]+s-Math.cos(i)*c/2,f=t[1]+l-Math.sin(i)*c/2,h=t[0]+s+Math.cos(i)*c/2,d=t[1]+l+Math.sin(i)*c/2;return{x1:u,y1:f,x2:h,y2:d}}function wit(t,e,n,r,i,a){var o=r.value,s=i.value;r.unit===rt.kPercentage&&(o=r.value/100*e),i.unit===rt.kPercentage&&(s=i.value/100*n);var l=Math.max(sr([0,0],[o,s]),sr([0,n],[o,s]),sr([e,n],[o,s]),sr([e,0],[o,s]));return a&&(a instanceof ie?l=a.value:a instanceof mr&&(a.value==="closest-side"?l=Math.min(o,e-o,s,n-s):a.value==="farthest-side"?l=Math.max(o,e-o,s,n-s):a.value==="closest-corner"&&(l=Math.min(sr([0,0],[o,s]),sr([0,n],[o,s]),sr([e,n],[o,s]),sr([e,0],[o,s]))))),{x:o+t[0],y:s+t[1],r:l}}var Sit=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Oit=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Mit=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,L4=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Tit(t){var e,n,r,i=t.length;t[i-1].length=(e=t[i-1].length)!==null&&e!==void 0?e:{type:"%",value:"100"},i>1&&(t[0].length=(n=t[0].length)!==null&&n!==void 0?n:{type:"%",value:"0"});for(var a=0,o=Number(t[0].length.value),s=1;s<i;s++){var l=(r=t[s].length)===null||r===void 0?void 0:r.value;if(!Ot(l)&&!Ot(o)){for(var c=1;c<s-a;c++)t[a+c].length={type:"%",value:"".concat(o+(Number(l)-o)*c/(s-a))};a=s,o=Number(l)}}}var Ait={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},Eit=En(function(t){var e;return t.type==="angular"?e=Number(t.value):e=Ait[t.value]||0,de(e,"deg")}),Pit=En(function(t){var e=50,n=50,r="%",i="%";if((t==null?void 0:t.type)==="position"){var a=t.value,o=a.x,s=a.y;(o==null?void 0:o.type)==="position-keyword"&&(o.value==="left"?e=0:o.value==="center"?e=50:o.value==="right"?e=100:o.value==="top"?n=0:o.value==="bottom"&&(n=100)),(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?e=0:s.value==="center"?n=50:s.value==="right"?e=100:s.value==="top"?n=0:s.value==="bottom"&&(n=100)),((o==null?void 0:o.type)==="px"||(o==null?void 0:o.type)==="%"||(o==null?void 0:o.type)==="em")&&(r=o==null?void 0:o.type,e=Number(o.value)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(i=s==null?void 0:s.type,n=Number(s.value))}return{cx:de(e,r),cy:de(n,i)}}),Cit=En(function(t){var e;if(t.indexOf("linear")>-1||t.indexOf("radial")>-1){var n=xit(t);return n.map(function(s){var l=s.type,c=s.orientation,u=s.colorStops;Tit(u);var f=u.map(function(b){return{offset:de(Number(b.length.value),"%"),color:bit(b)}});if(l==="linear-gradient")return new ip($i.LinearGradient,{angle:c?Eit(c):Xr,steps:f});if(l==="radial-gradient"&&(c||(c=[{type:"shape",value:"circle"}]),c[0].type==="shape"&&c[0].value==="circle")){var h=Pit(c[0].at),d=h.cx,p=h.cy,v=void 0;if(c[0].style){var g=c[0].style,y=g.type,m=g.value;y==="extent-keyword"?v=Mx(m):v=de(m,y)}return new ip($i.RadialGradient,{cx:d,cy:p,size:v,steps:f})}})}var r=t[0];if(t[1]==="("||t[2]==="("){if(r==="l"){var i=Sit.exec(t);if(i){var a=((e=i[2].match(L4))===null||e===void 0?void 0:e.map(function(s){return s.split(":")}))||[];return[new ip($i.LinearGradient,{angle:de(parseFloat(i[1]),"deg"),steps:a.map(function(s){var l=et(s,2),c=l[0],u=l[1];return{offset:de(Number(c)*100,"%"),color:u}})})]}}else if(r==="r"){var o=kit(t);if(o)if(Ye(o))t=o;else return[new ip($i.RadialGradient,o)]}else if(r==="p")return Lit(t)}});function kit(t){var e,n=Oit.exec(t);if(n){var r=((e=n[4].match(L4))===null||e===void 0?void 0:e.map(function(i){return i.split(":")}))||[];return{cx:de(50,"%"),cy:de(50,"%"),steps:r.map(function(i){var a=et(i,2),o=a[0],s=a[1];return{offset:de(Number(o)*100,"%"),color:s}})}}return null}function Lit(t){var e=Mit.exec(t);if(e){var n=e[1],r=e[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;case"n":n="no-repeat";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}function dh(t){return t&&!!t.image}function tg(t){return t&&!Ot(t.r)&&!Ot(t.g)&&!Ot(t.b)}var Oa=En(function(t){if(dh(t))return bt({repetition:"repeat"},t);if(Ot(t)&&(t=""),t==="transparent")return C4;if(t==="currentColor")t="black";else if(t==="none")return Jv;var e=Cit(t);if(e)return e;var n=L0(t),r=[0,0,0,0];return n!==null&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),mit.apply(void 0,_t([],et(r),!1))});function Dit(t,e){if(!(!tg(t)||!tg(e)))return[[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(n){var r=n.slice();if(r[3])for(var i=0;i<3;i++)r[i]=Math.round(We(r[i],0,255));return r[3]=We(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function Zh(t,e){if(Ot(e))return de(0,"px");if(e="".concat(e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(t)>=0)return de(Number(e),"px");if("deg".search(t)>=0)return de(Number(e),"deg")}var n=[];e=e.replace(t,function(i){return n.push(i),"U"+i});var r="U("+t.source+")";return n.map(function(i){return de(Number(e.replace(new RegExp("U"+i,"g"),"").replace(new RegExp(r,"g"),"*0")),i)})[0]}var D4=function(t){return Zh(new RegExp("px","g"),t)},Iit=En(D4),Rit=function(t){return Zh(new RegExp("%","g"),t)};En(Rit);var ph=function(t){return we(t)||isFinite(Number(t))?de(Number(t)||0,"px"):Zh(new RegExp("px|%|em|rem","g"),t)},Mc=En(ph),Iw=function(t){return Zh(new RegExp("deg|rad|grad|turn","g"),t)},I4=En(Iw);function Nit(t,e,n,r,i){i===void 0&&(i=0);var a="",o=t.value||0,s=e.value||0,l=Ox(t.unit),c=t.convertTo(l),u=e.convertTo(l);return c&&u?(o=c.value,s=u.value,a=_x(t.unit)):(ie.isLength(t.unit)||ie.isLength(e.unit))&&(o=wr(t,i,n),s=wr(e,i,n),a="px"),[o,s,function(f){return f+a}]}function lr(t){var e=0;return t.unit===rt.kDegrees?e=t.value:t.unit===rt.kRadians?e=Gr(Number(t.value)):t.unit===rt.kTurns&&(e=Urt(Number(t.value))),e}function fP(t,e){var n;return Array.isArray(t)?n=t.map(function(r){return Number(r)}):Ye(t)?n=t.split(" ").map(function(r){return Number(r)}):we(t)&&(n=[t]),e===2?n.length===1?[n[0],n[0]]:[n[0],n[1]]:n.length===1?[n[0],n[0],n[0],n[0]]:n.length===2?[n[0],n[1],n[0],n[1]]:n.length===3?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]}function R4(t){return Ye(t)?t.split(" ").map(function(e){return Mc(e)}):t.map(function(e){return Mc(e.toString())})}function wr(t,e,n,r){if(r===void 0&&(r=!1),t.unit===rt.kPixels)return Number(t.value);if(t.unit===rt.kPercentage&&n){var i=n.nodeName===q.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?i.min[e]:0)+t.value/100*i.halfExtents[e]*2}return 0}var Bit=function(t){return Zh(/deg|rad|grad|turn|px|%/g,t)},Fit=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function N4(t){if(t===void 0&&(t=""),t=t.toLowerCase().trim(),t==="none")return[];for(var e=/\s*([\w-]+)\(([^)]*)\)/g,n=[],r,i=0;r=e.exec(t);){if(r.index!==i)return[];if(i=r.index+r[0].length,Fit.indexOf(r[1])>-1&&n.push({name:r[1],params:r[2].split(" ").map(function(a){return Bit(a)||Oa(a)})}),e.lastIndex===t.length)return n}return[]}function B4(t){return t.toString()}var Uc=function(t){return typeof t=="number"?de(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?de(Number(t)):de(0)},zs=En(Uc);En(function(t){return Ye(t)?t.split(" ").map(zs):t.map(zs)});function Rw(t,e){return[t,e,B4]}function Nw(t,e){return function(n,r){return[n,r,function(i){return B4(We(i,t,e))}]}}function F4(t,e){if(t.length===e.length)return[t,e,function(n){return n}]}function Ax(t){return t.parsedStyle.d.totalLength===0&&(t.parsedStyle.d.totalLength=ZJ(t.parsedStyle.d.absolutePath)),t.parsedStyle.d.totalLength}function jit(t){return t.parsedStyle.points.totalLength===0&&(t.parsedStyle.points.totalLength=jrt(t.parsedStyle.points.points)),t.parsedStyle.points.totalLength}function zit(t){for(var e=0;e<t.length;e++){var n=t[e-1],r=t[e],i=r[0];if(i==="M"&&n){var a=n[0],o=[r[1],r[2]],s=void 0;a==="L"||a==="M"?s=[n[1],n[2]]:(a==="C"||a==="A"||a==="Q")&&(s=[n[n.length-2],n[n.length-1]]),s&&eg(o,s)&&(t.splice(e,1),e--)}}}function $it(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r],a=i[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function Git(t){for(var e=[],n=[],r=[],i=0;i<t.length;i++){var a=t[i],o=a[0];o==="M"?(r.length&&(n.push(r),r=[]),r.push([a[1],a[2]])):o==="Z"?r.length&&(e.push(r),r=[]):r.push([a[1],a[2]])}return r.length>0&&n.push(r),{polygons:e,polylines:n}}function eg(t,e){return t[0]===e[0]&&t[1]===e[1]}function Wit(t,e){for(var n=[],r=[],i=[],a=0;a<t.length;a++){var o=t[a],s=o.currentPoint,l=o.params,c=o.prePoint,u=void 0;switch(o.command){case"Q":u=zrt(c[0],c[1],l[1],l[2],l[3],l[4]);break;case"C":u=Nrt(c[0],c[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=o.arcParams;u=Drt(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}u&&(o.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height))}n=n.filter(function(y){return!Number.isNaN(y)&&y!==1/0&&y!==-1/0}),r=r.filter(function(y){return!Number.isNaN(y)&&y!==1/0&&y!==-1/0});var h=Bv(n),d=Bv(r),p=Nv(n),v=Nv(r);if(i.length===0)return{x:h,y:d,width:p-h,height:v-d};for(var a=0;a<i.length;a++){var o=i[a],s=o.currentPoint,g=void 0;s[0]===h?(g=ap(o,e),h=h-g.xExtra):s[0]===p&&(g=ap(o,e),p=p+g.xExtra),s[1]===d?(g=ap(o,e),d=d-g.yExtra):s[1]===v&&(g=ap(o,e),v=v+g.yExtra)}return{x:h,y:d,width:p-h,height:v-d}}function ap(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,a=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||Math.sin(l)===0||xf(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),u=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u;var f={xExtra:Math.cos(l/2-c)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(u-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return f}function hP(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}var dP=function(t,e){var n=t.x*e.x+t.y*e.y,r=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2))),i=t.x*e.y-t.y*e.x<0?-1:1,a=i*Math.acos(n/r);return a},pP=function(t,e,n,r,i,a,o,s){e=Math.abs(e),n=Math.abs(n),r=XR(r,360);var l=oe(r);if(t.x===o.x&&t.y===o.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(e===0||n===0)return{x:0,y:0,ellipticalArcAngle:0};var c=(t.x-o.x)/2,u=(t.y-o.y)/2,f={x:Math.cos(l)*c+Math.sin(l)*u,y:-Math.sin(l)*c+Math.cos(l)*u},h=Math.pow(f.x,2)/Math.pow(e,2)+Math.pow(f.y,2)/Math.pow(n,2);h>1&&(e=Math.sqrt(h)*e,n=Math.sqrt(h)*n);var d=Math.pow(e,2)*Math.pow(n,2)-Math.pow(e,2)*Math.pow(f.y,2)-Math.pow(n,2)*Math.pow(f.x,2),p=Math.pow(e,2)*Math.pow(f.y,2)+Math.pow(n,2)*Math.pow(f.x,2),v=d/p;v=v<0?0:v;var g=(i!==a?1:-1)*Math.sqrt(v),y={x:g*(e*f.y/n),y:g*(-(n*f.x)/e)},m={x:Math.cos(l)*y.x-Math.sin(l)*y.y+(t.x+o.x)/2,y:Math.sin(l)*y.x+Math.cos(l)*y.y+(t.y+o.y)/2},b={x:(f.x-y.x)/e,y:(f.y-y.y)/n},x=dP({x:1,y:0},b),_={x:(-f.x-y.x)/e,y:(-f.y-y.y)/n},w=dP(b,_);!a&&w>0?w-=2*Math.PI:a&&w<0&&(w+=2*Math.PI),w%=2*Math.PI;var S=x+w*s,O=e*Math.cos(S),M=n*Math.sin(S),T={x:Math.cos(l)*O-Math.sin(l)*M+m.x,y:Math.sin(l)*O+Math.cos(l)*M+m.y,ellipticalArcStartAngle:x,ellipticalArcEndAngle:x+w,ellipticalArcAngle:S,ellipticalArcCenter:m,resultantRx:e,resultantRy:n};return T};function Hit(t){for(var e=[],n=null,r=null,i=null,a=0,o=t.length,s=0;s<o;s++){var l=t[s];r=t[s+1];var c=l[0],u={command:c,prePoint:n,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":i=[l[1],l[2]],a=s;break;case"A":var f=Yit(n,l);u.arcParams=f;break}if(c==="Z")n=i,r=t[a+1];else{var h=l.length;n=[l[h-2],l[h-1]]}r&&r[0]==="Z"&&(r=t[a],e[a]&&(e[a].prePoint=n)),u.currentPoint=n,e[a]&&eg(n,e[a].currentPoint)&&(e[a].prePoint=u.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;u.nextPoint=d;var p=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]];else if(c==="Q"){var v=[l[1],l[2]];u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]]}else if(c==="T"){var g=e[s-1],v=hP(g.currentPoint,p);g.command==="Q"?(u.command="Q",u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]]):(u.command="TL",u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]])}else if(c==="C"){var y=[l[1],l[2]],m=[l[3],l[4]];u.startTangent=[p[0]-y[0],p[1]-y[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]],u.startTangent[0]===0&&u.startTangent[1]===0&&(u.startTangent=[y[0]-m[0],y[1]-m[1]]),u.endTangent[0]===0&&u.endTangent[1]===0&&(u.endTangent=[m[0]-y[0],m[1]-y[1]])}else if(c==="S"){var g=e[s-1],y=hP(g.currentPoint,p),m=[l[1],l[2]];g.command==="C"?(u.command="C",u.startTangent=[p[0]-y[0],p[1]-y[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]]):(u.command="SQ",u.startTangent=[p[0]-m[0],p[1]-m[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]])}else if(c==="A"){var b=vP(u,0),x=b.x,_=b.y,w=vP(u,1,!1),S=w.x,O=w.y;u.startTangent=[x,_],u.endTangent=[S,O]}e.push(u)}return e}function vP(t,e,n){n===void 0&&(n=!0);var r=t.arcParams,i=r.rx,a=i===void 0?0:i,o=r.ry,s=o===void 0?0:o,l=r.xRotation,c=r.arcFlag,u=r.sweepFlag,f=pP({x:t.prePoint[0],y:t.prePoint[1]},a,s,l,!!c,!!u,{x:t.currentPoint[0],y:t.currentPoint[1]},e),h=pP({x:t.prePoint[0],y:t.prePoint[1]},a,s,l,!!c,!!u,{x:t.currentPoint[0],y:t.currentPoint[1]},n?e+.005:e-.005),d=h.x-f.x,p=h.y-f.y,v=Math.sqrt(d*d+p*p);return{x:-d/v,y:-p/v}}function op(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Ex(t,e){return op(t)*op(e)?(t[0]*e[0]+t[1]*e[1])/(op(t)*op(e)):1}function gP(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Ex(t,e))}function Yit(t,e){var n=e[1],r=e[2],i=XR(oe(e[3]),Math.PI*2),a=e[4],o=e[5],s=t[0],l=t[1],c=e[6],u=e[7],f=Math.cos(i)*(s-c)/2+Math.sin(i)*(l-u)/2,h=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(l-u)/2,d=f*f/(n*n)+h*h/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(h*h)+r*r*(f*f),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;a===o&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*h/r:0,y=n?v*-r*f/n:0,m=(s+c)/2+Math.cos(i)*g-Math.sin(i)*y,b=(l+u)/2+Math.sin(i)*g+Math.cos(i)*y,x=[(f-g)/n,(h-y)/r],_=[(-1*f-g)/n,(-1*h-y)/r],w=gP([1,0],x),S=gP(x,_);return Ex(x,_)<=-1&&(S=Math.PI),Ex(x,_)>=1&&(S=0),o===0&&S>0&&(S=S-2*Math.PI),o===1&&S<0&&(S=S+2*Math.PI),{cx:m,cy:b,rx:eg(t,[c,u])?0:n,ry:eg(t,[c,u])?0:r,startAngle:w,endAngle:w+S,xRotation:i,arcFlag:a,sweepFlag:o}}function Vit(t,e,n){return t.reduce(function(r,i){var a="";if(i[0]==="M"||i[0]==="L"){var o=Xt(i[1],i[2],0);n&&cn(o,o,n),a="".concat(i[0]).concat(o[0],",").concat(o[1])}else if(i[0]==="Z")a=i[0];else if(i[0]==="C"){var s=Xt(i[1],i[2],0),l=Xt(i[3],i[4],0),c=Xt(i[5],i[6],0);n&&(cn(s,s,n),cn(l,l,n),cn(c,c,n)),a="".concat(i[0]).concat(s[0],",").concat(s[1],",").concat(l[0],",").concat(l[1],",").concat(c[0],",").concat(c[1])}else if(i[0]==="A"){var u=Xt(i[6],i[7],0);n&&cn(u,u,n),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],",").concat(i[5],",").concat(u[0],",").concat(u[1])}else if(i[0]==="Q"){var s=Xt(i[1],i[2],0),l=Xt(i[3],i[4],0);n&&(cn(s,s,n),cn(l,l,n)),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],"}")}return r+=a},"")}function Xit(t,e,n,r){return[["M",t,e],["L",n,r]]}function yP(t,e,n,r){var i=(-1+Math.sqrt(2))/3*4,a=t*i,o=e*i,s=n-t,l=n+t,c=r-e,u=r+e;return[["M",s,r],["C",s,r-o,n-a,c,n,c],["C",n+a,c,l,r-o,l,r],["C",l,r+o,n+a,u,n,u],["C",n-a,u,s,r+o,s,r],["Z"]]}function Uit(t,e){var n=t.map(function(r,i){return[i===0?"M":"L",r[0],r[1]]});return e&&n.push(["Z"]),n}function qit(t,e,n,r,i){if(i){var a=et(i,4),o=a[0],s=a[1],l=a[2],c=a[3],u=t>0?1:-1,f=e>0?1:-1,h=u+f!==0?1:0;return[["M",u*o+n,r],["L",t-u*s+n,r],s?["A",s,s,0,0,h,t+n,f*s+r]:null,["L",t+n,e-f*l+r],l?["A",l,l,0,0,h,t+n-u*l,e+r]:null,["L",n+u*c,e+r],c?["A",c,c,0,0,h,n,e+r-f*c]:null,["L",n,f*o+r],o?["A",o,o,0,0,h,u*o+n,r]:null,["Z"]].filter(function(d){return d})}return[["M",n,r],["L",n+t,r],["L",n+t,r+e],["L",n,r+e],["Z"]]}function j4(t,e){e===void 0&&(e=t.getLocalTransform());var n=[];switch(t.nodeName){case q.LINE:var r=t.parsedStyle,i=r.x1,a=i===void 0?0:i,o=r.y1,s=o===void 0?0:o,l=r.x2,c=l===void 0?0:l,u=r.y2,f=u===void 0?0:u;n=Xit(a,s,c,f);break;case q.CIRCLE:{var h=t.parsedStyle,d=h.r,p=d===void 0?0:d,v=h.cx,g=v===void 0?0:v,y=h.cy,m=y===void 0?0:y;n=yP(p,p,g,m);break}case q.ELLIPSE:{var b=t.parsedStyle,x=b.rx,_=x===void 0?0:x,w=b.ry,S=w===void 0?0:w,O=b.cx,g=O===void 0?0:O,M=b.cy,m=M===void 0?0:M;n=yP(_,S,g,m);break}case q.POLYLINE:case q.POLYGON:var T=t.parsedStyle.points;n=Uit(T.points,t.nodeName===q.POLYGON);break;case q.RECT:var A=t.parsedStyle,P=A.width,E=P===void 0?0:P,C=A.height,k=C===void 0?0:C,L=A.x,R=L===void 0?0:L,D=A.y,I=D===void 0?0:D,N=A.radius,F=N&&N.some(function(z){return z!==0});n=qit(E,k,R,I,F&&N.map(function(z){return We(z,0,Math.min(Math.abs(E)/2,Math.abs(k)/2))}));break;case q.PATH:var j=t.parsedStyle.d.absolutePath;n=_t([],et(j),!1);break}if(n.length)return Vit(n,t,e)}var z4=function(t){if(t===""||Array.isArray(t)&&t.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=Wv(t)}catch{e=Wv(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}zit(e);var n=$it(e),r=Git(e),i=r.polygons,a=r.polylines,o=Hit(e),s=Wit(o,0),l=s.x,c=s.y,u=s.width,f=s.height;return{absolutePath:e,hasArc:n,segments:o,polygons:i,polylines:a,totalLength:0,rect:{x:Number.isFinite(l)?l:0,y:Number.isFinite(c)?c:0,width:Number.isFinite(u)?u:0,height:Number.isFinite(f)?f:0}}},Zit=En(z4);function Px(t){return Ye(t)?Zit(t):z4(t)}function Kit(t,e,n){var r=t.curve,i=e.curve;(!r||r.length===0)&&(r=rx(t.absolutePath,!1),t.curve=r),(!i||i.length===0)&&(i=rx(e.absolutePath,!1),e.curve=i);var a=[r,i];r.length!==i.length&&(a=w3(r,i));var o=xE(a[0])!==xE(a[1])?HJ(a[0]):WJ(a[0]);return[o,QJ(a[1],o),function(s){return s}]}function $4(t,e){var n;return Ye(t)?n=t.split(" ").map(function(r){var i=et(r.split(","),2),a=i[0],o=i[1];return[Number(a),Number(o)]}):n=t,{points:n,totalLength:0,segments:[]}}function Qit(t,e){return[t.points,e.points,function(n){return n}]}var Fe=null;function ir(t){return function(e){var n=0;return t.map(function(r){return r===Fe?e[n++]:r})}}function us(t){return t}var ng={matrix:["NNNNNN",[Fe,Fe,0,0,Fe,Fe,0,0,0,0,1,0,Fe,Fe,0,1],us],matrix3d:["NNNNNNNNNNNNNNNN",us],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",ir([Fe,Fe,new ie(1)]),us],scalex:["N",ir([Fe,new ie(1),new ie(1)]),ir([Fe,new ie(1)])],scaley:["N",ir([new ie(1),Fe,new ie(1)]),ir([new ie(1),Fe])],scalez:["N",ir([new ie(1),new ie(1),Fe])],scale3d:["NNN",us],skew:["Aa",null,us],skewx:["A",null,ir([Fe,Xr])],skewy:["A",null,ir([Xr,Fe])],translate:["Tt",ir([Fe,Fe,qe]),us],translatex:["T",ir([Fe,qe,qe]),ir([Fe,qe])],translatey:["T",ir([qe,Fe,qe]),ir([qe,Fe])],translatez:["L",ir([qe,qe,Fe])],translate3d:["TTL",us]};function Bw(t){if(t=(t||"none").toLowerCase().trim(),t==="none")return[];for(var e=/\s*(\w+)\(([^)]*)\)/g,n=[],r,i=0;r=e.exec(t);){if(r.index!==i)return[];i=r.index+r[0].length;var a=r[1],o=ng[a];if(!o)return[];var s=r[2].split(","),l=o[0];if(l.length<s.length)return[];for(var c=[],u=0;u<l.length;u++){var f=s[u],h=l[u],d=void 0;if(f?d={A:function(p){return p.trim()==="0"?Xr:I4(p)},N:zs,T:Mc,L:Iit}[h.toUpperCase()](f):d={a:Xr,n:c[0],t:qe}[h],d===void 0)return[];c.push(d)}if(n.push({t:a,d:c}),e.lastIndex===t.length)return n}return[]}function mP(t){if(t=(t||"none").toLowerCase().trim(),t==="none")return[];for(var e=/\s*(\w+)\(([^)]*)\)/g,n=[],r,i=0;r=e.exec(t);){if(r.index!==i)return[];i=r.index+r[0].length;var a=r[1],o=ng[a];if(!o)return[];var s=r[2].split(","),l=o[0];if(l.length<s.length)return[];for(var c=[],u=0;u<l.length;u++){var f=s[u],h=l[u],d=void 0;if(f?d={A:function(p){return p.trim()==="0"?Xr:Iw(p)},N:Uc,T:ph,L:D4}[h.toUpperCase()](f):d={a:Xr,n:c[0],t:qe}[h],d===void 0)return[];c.push(d)}if(n.push({t:a,d:c}),e.lastIndex===t.length)return n}return[]}function Jit(t){var e,n,r,i;switch(t.t){case"rotatex":return i=oe(lr(t.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotatey":return i=oe(lr(t.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotatez":return i=oe(lr(t.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=t.d[0].value,n=t.d[1].value,r=t.d[2].value,i=oe(lr(t.d[3]));var a=e*e+n*n+r*r;if(a===0)e=1,n=0,r=0;else if(a!==1){var o=Math.sqrt(a);e/=o,n/=o,r/=o}var s=Math.sin(i/2),l=s*Math.cos(i/2),c=s*s;return[1-2*(n*n+r*r)*c,2*(e*n*c+r*l),2*(e*r*c-n*l),0,2*(e*n*c-r*l),1-2*(e*e+r*r)*c,2*(n*r*c+e*l),0,2*(e*r*c+n*l),2*(n*r*c-e*l),1-2*(e*e+n*n)*c,0,0,0,0,1];case"scale":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0].value,0,0,0,0,1];case"scale3d":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,t.d[2].value,0,0,0,0,1];case"skew":var u=oe(lr(t.d[0])),f=oe(lr(t.d[1]));return[1,Math.tan(f),0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return i=oe(lr(t.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return i=oe(lr(t.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return e=wr(t.d[0],0,null)||0,n=wr(t.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1];case"translatex":return e=wr(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,0,0,1];case"translatey":return n=wr(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,n,0,1];case"translatez":return r=wr(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return e=wr(t.d[0],0,null)||0,n=wr(t.d[1],0,null)||0,r=wr(t.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,r,1];case"perspective":var h=wr(t.d[0],0,null)||0,d=h?-1/h:0;return[1,0,0,0,0,1,0,0,0,0,1,d,0,0,0,1];case"matrix":return[t.d[0].value,t.d[1].value,0,0,t.d[2].value,t.d[3].value,0,0,0,0,1,0,t.d[4].value,t.d[5].value,0,1];case"matrix3d":return t.d.map(function(p){return p.value})}}function tat(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function eat(t){return t.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(Jit).reduce(tat)}function bP(t){var e=[0,0,0],n=[1,1,1],r=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return Jrt(eat(t),e,n,r,i,a),[[e,n,r,a,i]]}var nat=function(){function t(r,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var l=0;l<4;l++)a[o][s]+=i[o][l]*r[l][s];return a}function e(r){return r[0][2]==0&&r[0][3]==0&&r[1][2]==0&&r[1][3]==0&&r[2][0]==0&&r[2][1]==0&&r[2][2]==1&&r[2][3]==0&&r[3][2]==0&&r[3][3]==1}function n(r,i,a,o,s){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],c=0;c<4;c++)l[c][3]=s[c];for(var c=0;c<3;c++)for(var u=0;u<3;u++)l[3][c]+=r[u]*l[u][c];var f=o[0],h=o[1],d=o[2],p=o[3],v=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];v[0][0]=1-2*(h*h+d*d),v[0][1]=2*(f*h-d*p),v[0][2]=2*(f*d+h*p),v[1][0]=2*(f*h+d*p),v[1][1]=1-2*(f*f+d*d),v[1][2]=2*(h*d-f*p),v[2][0]=2*(f*d-h*p),v[2][1]=2*(h*d+f*p),v[2][2]=1-2*(f*f+h*h),l=t(l,v);var g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(g[2][1]=a[2],l=t(l,g)),a[1]&&(g[2][1]=0,g[2][0]=a[0],l=t(l,g)),a[0]&&(g[2][0]=0,g[1][0]=a[0],l=t(l,g));for(var c=0;c<3;c++)for(var u=0;u<3;u++)l[c][u]*=i[c];return e(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return n}();function rat(t){return t.toFixed(6).replace(".000000","")}function Zm(t,e){var n,r;return t.decompositionPair!==e&&(t.decompositionPair=e,n=bP(t)),e.decompositionPair!==t&&(e.decompositionPair=t,r=bP(e)),n[0]===null||r[0]===null?[[!1],[!0],function(i){return i?e[0].d:t[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(i){var a=aat(n[0][3],r[0][3],i[5]),o=nat(i[0],i[1],i[2],a,i[4]),s=o.map(rat).join(",");return s}])}function iat(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n}function aat(t,e,n){var r=iat(t,e);r=We(r,-1,1);var i=[];if(r===1)i=t;else for(var a=Math.acos(r),o=Math.sin(n*a)*1/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(t[s]*(Math.cos(n*a)-r*o)+e[s]*o);return i}function Km(t){return t.replace(/[xy]/,"")}function Qm(t){return t.replace(/(x|y|z|3d)?$/,"3d")}var oat=function(t,e){return t==="perspective"&&e==="perspective"||(t==="matrix"||t==="matrix3d")&&(e==="matrix"||e==="matrix3d")};function sat(t,e,n){var r=!1;if(!t.length||!e.length){t.length||(r=!0,t=e,e=[]);for(var i=function(w){var S=t[w],O=S.t,M=S.d,T=O.substring(0,5)==="scale"?1:0;e.push({t:O,d:M.map(function(A){return typeof A=="number"?de(T):de(T,A.unit)})})},a=0;a<t.length;a++)i(a)}var o=[],s=[],l=[];if(t.length!==e.length){var c=Zm(t,e);o=[c[0]],s=[c[1]],l=[["matrix",[c[2]]]]}else for(var a=0;a<t.length;a++){var u=t[a].t,f=e[a].t,h=t[a].d,d=e[a].d,p=ng[u],v=ng[f],g=void 0;if(oat(u,f)){var c=Zm([t[a]],[e[a]]);o.push(c[0]),s.push(c[1]),l.push(["matrix",[c[2]]]);continue}else if(u===f)g=u;else if(p[2]&&v[2]&&Km(u)===Km(f))g=Km(u),h=p[2](h),d=v[2](d);else if(p[1]&&v[1]&&Qm(u)===Qm(f))g=Qm(u),h=p[1](h),d=v[1](d);else{var c=Zm(t,e);o=[c[0]],s=[c[1]],l=[["matrix",[c[2]]]];break}for(var y=[],m=[],b=[],x=0;x<h.length;x++){var c=Nit(h[x],d[x],n,!1,x);y[x]=c[0],m[x]=c[1],b.push(c[2])}o.push(y),s.push(m),l.push([g,b])}if(r){var _=o;o=s,s=_}return[o,s,function(w){return w.map(function(S,O){var M=S.map(function(T,A){return l[O][1][A](T)}).join(",");return l[O][0]==="matrix"&&M.split(",").length===16&&(l[O][0]="matrix3d"),l[O][0]==="matrix3d"&&M.split(",").length===6&&(l[O][0]="matrix"),l[O][0]+"("+M+")"}).join(" ")}]}var G4=En(function(t){if(Ye(t)){if(t==="text-anchor")return[de(0,"px"),de(0,"px")];var e=t.split(" ");return e.length===1&&(e[0]==="top"||e[0]==="bottom"?(e[1]=e[0],e[0]="center"):e[1]="center"),e.length!==2?null:[Mc(rg(e[0])),Mc(rg(e[1]))]}else return[de(t[0]||0,"px"),de(t[1]||0,"px")]}),lat=function(t){if(Ye(t)){if(t==="text-anchor")return[de(0,"px"),de(0,"px")];var e=t.split(" ");return e.length===1&&(e[0]==="top"||e[0]==="bottom"?(e[1]=e[0],e[0]="center"):e[1]="center"),e.length!==2?null:[ph(rg(e[0])),ph(rg(e[1]))]}else return[de(t[0]||0,"px"),de(t[1]||0,"px")]};function rg(t){return t==="center"?"50%":t==="left"||t==="top"?"0%":t==="right"||t==="bottom"?"100%":t}var Fw=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:st.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:st.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:st.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:st.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:st.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:st.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:st.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:st.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:st.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:st.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:st.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:st.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:st.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:st.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:st.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:st.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:st.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:st.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:st.FILTER},{n:"clipPath",syntax:st.DEFINED_PATH},{n:"textPath",syntax:st.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:st.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:st.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:st.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:st.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:st.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:st.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:st.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:st.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:st.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:st.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:st.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:st.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:st.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:st.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:st.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:st.COORDINATE},{n:"y1",int:!0,l:!0,syntax:st.COORDINATE},{n:"z1",int:!0,l:!0,syntax:st.COORDINATE},{n:"x2",int:!0,l:!0,syntax:st.COORDINATE},{n:"y2",int:!0,l:!0,syntax:st.COORDINATE},{n:"z2",int:!0,l:!0,syntax:st.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:st.PATH,p:50},{n:"points",int:!0,l:!0,syntax:st.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:st.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:st.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:st.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:st.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:st.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:st.NUMBER,d:function(t){return t===q.PATH||t===q.POLYGON||t===q.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:st.MARKER},{n:"markerEnd",syntax:st.MARKER},{n:"markerMid",syntax:st.MARKER},{n:"markerStartOffset",syntax:st.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:st.LENGTH,l:!0,int:!0,d:"0"}],xP=Fw.filter(function(t){return!!t.l}).map(function(t){return t.n}),Xa={},kl=new WeakMap,cat=function(t,e){var n=kl.get(t);return!n||n.length===0?!0:n.includes(e)},uat=function(){function t(e){var n=this;this.runtime=e,Fw.forEach(function(r){n.registerMetadata(r)})}return t.prototype.registerMetadata=function(e){_t([e.n],et(e.a||[]),!1).forEach(function(n){Xa[n]=e})},t.prototype.unregisterMetadata=function(e){delete Xa[e]},t.prototype.getPropertySyntax=function(e){return this.runtime.CSSPropertySyntaxFactory[e]},t.prototype.processProperties=function(e,n,r){var i=this;if(r===void 0&&(r={skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0}),this.runtime.enableCSSParsing){var u=r.skipUpdateAttribute,f=r.skipParse,h=r.forceUpdateGeometry,d=r.usedAttributes,p=r.memoize,v=h,g=Object.keys(n);g.forEach(function(y){var m;u||(e.attributes[y]=n[y]),!v&&(!((m=Xa[y])===null||m===void 0)&&m.l)&&(v=!0)}),f||g.forEach(function(y){e.computedStyle[y]=i.parseProperty(y,e.attributes[y],e,p)}),d!=null&&d.length&&(g=Array.from(new Set(g.concat(d)))),g.forEach(function(y){y in e.computedStyle&&(e.parsedStyle[y]=i.computeProperty(y,e.computedStyle[y],e,p))}),v&&(e.geometry.dirty=!0,e.renderable.boundsDirty=!0,e.renderable.renderBoundsDirty=!0,r.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(e)),g.forEach(function(y){y in e.parsedStyle&&i.postProcessProperty(y,e,g)}),this.runtime.enableCSSParsing&&e.children.length&&g.forEach(function(y){y in e.parsedStyle&&i.isPropertyInheritable(y)&&e.children.forEach(function(m){m.internalSetAttribute(y,null,{skipUpdateAttribute:!0,skipParse:!0})})})}else{Object.assign(e.attributes,n);var a=Object.keys(n),o=e.parsedStyle.clipPath,s=e.parsedStyle.offsetPath;e.parsedStyle=Object.assign(e.parsedStyle,n);var l=!!r.forceUpdateGeometry;if(!l){for(var c=0;c<xP.length;c++)if(xP[c]in n){l=!0;break}}n.fill&&(e.parsedStyle.fill=Oa(n.fill)),n.stroke&&(e.parsedStyle.stroke=Oa(n.stroke)),n.shadowColor&&(e.parsedStyle.shadowColor=Oa(n.shadowColor)),n.filter&&(e.parsedStyle.filter=N4(n.filter)),Ot(n.radius)||(e.parsedStyle.radius=fP(n.radius,4)),Ot(n.lineDash)||(e.parsedStyle.lineDash=fP(n.lineDash,2)),n.points&&(e.parsedStyle.points=$4(n.points)),n.d===""&&(e.parsedStyle.d=bt({},k4)),n.d&&(e.parsedStyle.d=Px(n.d)),n.textTransform&&this.runtime.CSSPropertySyntaxFactory["<text-transform>"].calculator(null,null,{value:n.textTransform},e,null),he(n.clipPath)||this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("clipPath",o,n.clipPath,e,this.runtime),n.offsetPath&&this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("offsetPath",s,n.offsetPath,e,this.runtime),n.transform&&(e.parsedStyle.transform=Bw(n.transform)),n.transformOrigin&&(e.parsedStyle.transformOrigin=G4(n.transformOrigin)),n.markerStart&&(e.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,n.markerStart,n.markerStart,null,null)),n.markerEnd&&(e.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,n.markerEnd,n.markerEnd,null,null)),n.markerMid&&(e.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator("",n.markerMid,n.markerMid,null,null)),Ot(n.zIndex)||this.runtime.CSSPropertySyntaxFactory["<z-index>"].postProcessor(e,a),Ot(n.offsetDistance)||this.runtime.CSSPropertySyntaxFactory["<offset-distance>"].postProcessor(e,a),n.transform&&this.runtime.CSSPropertySyntaxFactory["<transform>"].postProcessor(e,a),n.transformOrigin&&this.runtime.CSSPropertySyntaxFactory["<transform-origin>"].postProcessor(e,a),l&&(e.geometry.dirty=!0,e.renderable.boundsDirty=!0,e.renderable.renderBoundsDirty=!0,r.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(e))}},t.prototype.parseProperty=function(e,n,r,i){var a=Xa[e],o=n;if((n===""||Ot(n))&&(n="unset"),n==="unset"||n==="initial"||n==="inherit")o=Mx(n);else if(a){var s=a.k,l=a.syntax,c=l&&this.getPropertySyntax(l);s&&s.indexOf(n)>-1?o=Mx(n):c&&(!i&&c.parserUnmemoize?o=c.parserUnmemoize(n,r):c.parser&&(o=c.parser(n,r)))}return o},t.prototype.computeProperty=function(e,n,r,i){var a=Xa[e],o=r.id==="g-root",s=n;if(a){var l=a.syntax,c=a.inh,u=a.d;if(n instanceof mr){var f=n.value;if(f==="unset"&&(c&&!o?f="inherit":f="initial"),f==="initial")Ot(u)||(n=this.parseProperty(e,Gl(u)?u(r.nodeName):u,r,i));else if(f==="inherit"){var h=this.tryToResolveProperty(r,e,{inherited:!0});if(Ot(h)){this.addUnresolveProperty(r,e);return}else return h}}var d=l&&this.getPropertySyntax(l);if(d&&d.calculator){var p=r.parsedStyle[e];s=d.calculator(e,p,n,r,this.runtime)}else n instanceof mr?s=n.value:s=n}return s},t.prototype.postProcessProperty=function(e,n,r){var i=Xa[e];if(i&&i.syntax){var a=i.syntax&&this.getPropertySyntax(i.syntax),o=a;o&&o.postProcessor&&o.postProcessor(n,r)}},t.prototype.addUnresolveProperty=function(e,n){var r=kl.get(e);r||(kl.set(e,[]),r=kl.get(e)),r.indexOf(n)===-1&&r.push(n)},t.prototype.tryToResolveProperty=function(e,n,r){r===void 0&&(r={});var i=r.inherited;if(i&&e.parentElement&&cat(e.parentElement,n)){var a=e.parentElement.parsedStyle[n];return a==="unset"||a==="initial"||a==="inherit"?void 0:a}},t.prototype.recalc=function(e){var n=kl.get(e);if(n&&n.length){var r={};n.forEach(function(i){r[i]=e.attributes[i]}),this.processProperties(e,r),kl.delete(e)}},t.prototype.updateGeometry=function(e){var n=e.nodeName,r=this.runtime.geometryUpdaterFactory[n];if(r){var i=e.geometry;i.contentBounds||(i.contentBounds=new Ze),i.renderBounds||(i.renderBounds=new Ze);var a=e.parsedStyle,o=r.update(a,e),s=o.cx,l=s===void 0?0:s,c=o.cy,u=c===void 0?0:c,f=o.cz,h=f===void 0?0:f,d=o.hwidth,p=d===void 0?0:d,v=o.hheight,g=v===void 0?0:v,y=o.hdepth,m=y===void 0?0:y,b=[Math.abs(p),Math.abs(g),m],x=a,_=x.stroke,w=x.lineWidth,S=w===void 0?1:w,O=x.increasedLineWidthForHitTesting,M=O===void 0?0:O,T=x.shadowType,A=T===void 0?"outer":T,P=x.shadowColor,E=x.filter,C=E===void 0?[]:E,k=x.transformOrigin,L=[l,u,h];i.contentBounds.update(L,b);var R=n===q.POLYLINE||n===q.POLYGON||n===q.PATH?Math.SQRT2:.5,D=_&&!_.isNone;if(D){var I=((S||0)+(M||0))*R;b[0]+=I,b[1]+=I}if(i.renderBounds.update(L,b),P&&A&&A!=="inner"){var N=i.renderBounds,F=N.min,j=N.max,z=a,G=z.shadowBlur,V=z.shadowOffsetX,Q=z.shadowOffsetY,Y=G||0,H=V||0,tt=Q||0,Z=F[0]-Y+H,W=j[0]+Y+H,K=F[1]-Y+tt,ot=j[1]+Y+tt;F[0]=Math.min(F[0],Z),j[0]=Math.max(j[0],W),F[1]=Math.min(F[1],K),j[1]=Math.max(j[1],ot),i.renderBounds.setMinMax(F,j)}C.forEach(function(mt){var Gt=mt.name,Oe=mt.params;if(Gt==="blur"){var Ve=Oe[0].value;i.renderBounds.update(i.renderBounds.center,av(i.renderBounds.halfExtents,i.renderBounds.halfExtents,[Ve,Ve,0]))}else if(Gt==="drop-shadow"){var Me=Oe[0].value,dn=Oe[1].value,Be=Oe[2].value,zn=i.renderBounds,ue=zn.min,ye=zn.max,xn=ue[0]-Be+Me,sn=ye[0]+Be+Me,ct=ue[1]-Be+dn,xt=ye[1]+Be+dn;ue[0]=Math.min(ue[0],xn),ye[0]=Math.max(ye[0],sn),ue[1]=Math.min(ue[1],ct),ye[1]=Math.max(ye[1],xt),i.renderBounds.setMinMax(ue,ye)}}),e.geometry.dirty=!1;var at=p<0,ft=g<0,Tt=(at?-1:1)*(k?wr(k[0],0,e,!0):0),dt=(ft?-1:1)*(k?wr(k[1],1,e,!0):0);(Tt||dt)&&e.setOrigin(Tt,dt)}},t.prototype.updateSizeAttenuation=function(e,n){e.style.isSizeAttenuation?(e.style.rawLineWidth||(e.style.rawLineWidth=e.style.lineWidth),e.style.lineWidth=(e.style.rawLineWidth||1)/n,e.nodeName===q.CIRCLE&&(e.style.rawR||(e.style.rawR=e.style.r),e.style.r=(e.style.rawR||1)/n)):(e.style.rawLineWidth&&(e.style.lineWidth=e.style.rawLineWidth,delete e.style.rawLineWidth),e.nodeName===q.CIRCLE&&e.style.rawR&&(e.style.r=e.style.rawR,delete e.style.rawR))},t.prototype.isPropertyInheritable=function(e){var n=Xa[e];return n?n.inh:!1},t}(),fat=function(){function t(){this.parser=I4,this.parserUnmemoize=Iw,this.parserWithCSSDisabled=null,this.mixer=Rw}return t.prototype.calculator=function(e,n,r,i){return lr(r)},t}(),hat=function(){function t(){}return t.prototype.calculator=function(e,n,r,i,a){return r instanceof mr&&(r=null),a.sceneGraphService.updateDisplayObjectDependency(e,n,r,i),e==="clipPath"&&i.forEach(function(o){o.childNodes.length===0&&a.sceneGraphService.dirtifyToRoot(o)}),r},t}(),dat=function(){function t(){this.parser=Oa,this.parserWithCSSDisabled=Oa,this.mixer=Dit}return t.prototype.calculator=function(e,n,r,i){return r instanceof mr?r.value==="none"?Jv:C4:r},t}(),pat=function(){function t(){this.parser=N4}return t.prototype.calculator=function(e,n,r){return r instanceof mr?[]:r},t}();function _P(t){var e=t.parsedStyle.fontSize;return Ot(e)?null:e}var Cx=function(){function t(){this.parser=Mc,this.parserUnmemoize=ph,this.parserWithCSSDisabled=null,this.mixer=Rw}return t.prototype.calculator=function(e,n,r,i,a){var o;if(we(r))return r;if(ie.isRelativeUnit(r.unit)){var s=a.styleValueRegistry;if(r.unit===rt.kPercentage)return 0;if(r.unit===rt.kEms){if(i.parentNode){var l=_P(i.parentNode);if(l)return l*=r.value,l;s.addUnresolveProperty(i,e)}else s.addUnresolveProperty(i,e);return 0}else if(r.unit===rt.kRems){if(!((o=i==null?void 0:i.ownerDocument)===null||o===void 0)&&o.documentElement){var l=_P(i.ownerDocument.documentElement);if(l)return l*=r.value,l;s.addUnresolveProperty(i,e)}else s.addUnresolveProperty(i,e);return 0}}else return r.value},t}(),vat=function(){function t(){this.mixer=F4}return t.prototype.parser=function(e){var n=R4(we(e)?[e]:e),r;return n.length===1?r=[n[0],n[0]]:r=[n[0],n[1]],r},t.prototype.calculator=function(e,n,r){return r.map(function(i){return i.value})},t}(),gat=function(){function t(){this.mixer=F4}return t.prototype.parser=function(e){var n=R4(we(e)?[e]:e),r;return n.length===1?r=[n[0],n[0],n[0],n[0]]:n.length===2?r=[n[0],n[1],n[0],n[1]]:n.length===3?r=[n[0],n[1],n[2],n[1]]:r=[n[0],n[1],n[2],n[3]],r},t.prototype.calculator=function(e,n,r){return r.map(function(i){return i.value})},t}(),yat=function(){function t(){}return t.prototype.calculator=function(e,n,r,i){r instanceof mr&&(r=null);var a=r==null?void 0:r.cloneNode(!0);return a&&(a.style.isMarker=!0),a},t}(),mat=function(){function t(){this.mixer=Rw,this.parser=zs,this.parserUnmemoize=Uc,this.parserWithCSSDisabled=null}return t.prototype.calculator=function(e,n,r){return r.value},t}(),bat=function(){function t(){this.parser=zs,this.parserUnmemoize=Uc,this.parserWithCSSDisabled=null,this.mixer=Nw(0,1)}return t.prototype.calculator=function(e,n,r){return r.value},t.prototype.postProcessor=function(e){var n=e.parsedStyle,r=n.offsetPath,i=n.offsetDistance;if(r){var a=r.nodeName;if(a===q.LINE||a===q.PATH||a===q.POLYLINE){var o=r.getPoint(i);o&&e.setLocalPosition(o.x,o.y)}}},t}(),xat=function(){function t(){this.parser=zs,this.parserUnmemoize=Uc,this.parserWithCSSDisabled=null,this.mixer=Nw(0,1)}return t.prototype.calculator=function(e,n,r){return r.value},t}(),_at=function(){function t(){this.parser=Px,this.parserWithCSSDisabled=Px,this.mixer=Kit}return t.prototype.calculator=function(e,n,r){return r instanceof mr&&r.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new js(0,0,0,0)}:r},t}(),wat=function(){function t(){this.parser=$4,this.mixer=Qit}return t}(),Sat=function(t){Et(e,t);function e(){var n=t.apply(this,_t([],et(arguments),!1))||this;return n.mixer=Nw(0,1/0),n}return e}(Cx),Oat=function(){function t(){}return t.prototype.calculator=function(e,n,r,i){return r instanceof mr?r.value==="unset"?"":r.value:"".concat(r)},t.prototype.postProcessor=function(e){e.nodeValue="".concat(e.parsedStyle.text)||""},t}(),Mat=function(){function t(){}return t.prototype.calculator=function(e,n,r,i){var a=i.getAttribute("text");if(a){var o=a;r.value==="capitalize"?o=a.charAt(0).toUpperCase()+a.slice(1):r.value==="lowercase"?o=a.toLowerCase():r.value==="uppercase"&&(o=a.toUpperCase()),i.parsedStyle.text=o}return r.value},t}(),Jm={},Tat=0;function Aat(t,e){if(t){var n=typeof t=="string"?t:t.id||Tat++;Jm[n]&&Jm[n].destroy(),Jm[n]=e}}var Kh=typeof window<"u"&&typeof window.document<"u";function Eat(t){return!!t.getAttribute}function Pat(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;W4(t[i],e)<0?n=i+1:r=i}return n}function W4(t,e){var n=Number(t.parsedStyle.zIndex||0),r=Number(e.parsedStyle.zIndex||0);if(n===r){var i=t.parentNode;if(i){var a=i.childNodes||[];return a.indexOf(t)-a.indexOf(e)}}return n-r}function H4(t){var e,n=t;do{var r=(e=n.parsedStyle)===null||e===void 0?void 0:e.clipPath;if(r)return n;n=n.parentElement}while(n!==null);return null}var wP="px";function Cat(t,e,n){Kh&&t.style&&(t.style.width=e+wP,t.style.height=n+wP)}function Y4(t,e){if(Kh)return document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function kat(t){var e=Y4(t,"width");return e==="auto"?t.offsetWidth:parseFloat(e)}function Lat(t){var e=Y4(t,"height");return e==="auto"?t.offsetHeight:parseFloat(e)}var Dat=1,Iat={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},kx=typeof performance=="object"&&performance.now?performance:Date;function Js(t,e,n){t===void 0&&(t="auto");var r=!1,i=!1,a=!!e&&!e.isNone,o=!!n&&!n.isNone;return t==="visiblepainted"||t==="painted"||t==="auto"?(r=a,i=o):t==="visiblefill"||t==="fill"?r=!0:t==="visiblestroke"||t==="stroke"?i=!0:(t==="visible"||t==="all")&&(r=!0,i=!0),[r,i]}var Rat=1,Nat=function(){return Rat++},Vi=typeof self=="object"&&self.self==self?self:typeof global=="object"&&global.global==global?global:{},Bat=Date.now(),Fat=function(){return Vi.performance&&typeof Vi.performance.now=="function"?Vi.performance.now():Date.now()-Bat},Hu={},SP=Date.now(),jat=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");var e=Date.now(),n=e-SP,r=n>16?0:16-n,i=Nat();return Hu[i]=t,Object.keys(Hu).length>1||setTimeout(function(){SP=e;var a=Hu;Hu={},Object.keys(a).forEach(function(o){return a[o](Fat())})},r),i},zat=function(t){delete Hu[t]},$at=["","webkit","moz","ms","o"],V4=function(t){return typeof t!="string"?jat:t===""?Vi.requestAnimationFrame:Vi[t+"RequestAnimationFrame"]},Gat=function(t){return typeof t!="string"?zat:t===""?Vi.cancelAnimationFrame:Vi[t+"CancelAnimationFrame"]||Vi[t+"CancelRequestAnimationFrame"]},Wat=function(t,e){for(var n=0;t[n]!==void 0;){if(e(t[n]))return t[n];n=n+1}},X4=Wat($at,function(t){return!!V4(t)}),jw=V4(X4),U4=Gat(X4);Vi.requestAnimationFrame=jw;Vi.cancelAnimationFrame=U4;var Hat=function(){function t(){this.callbacks=[]}return t.prototype.getCallbacksNum=function(){return this.callbacks.length},t.prototype.tapPromise=function(e,n){this.callbacks.push(n)},t.prototype.promise=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Promise.all(this.callbacks.map(function(r){return r.apply(void 0,_t([],et(e),!1))}))},t}(),Yat=function(){function t(){this.callbacks=[]}return t.prototype.tapPromise=function(e,n){this.callbacks.push(n)},t.prototype.promise=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return pc(this,void 0,void 0,function(){var r,i,a,o;return vc(this,function(s){switch(s.label){case 0:return this.callbacks.length?[4,(o=this.callbacks)[0].apply(o,_t([],et(e),!1))]:[3,6];case 1:r=s.sent(),i=0,s.label=2;case 2:return i<this.callbacks.length-1?(a=this.callbacks[i],[4,a(r)]):[3,5];case 3:r=s.sent(),s.label=4;case 4:return i++,[3,2];case 5:return[2,r];case 6:return[2,null]}})})},t}(),$n=function(){function t(){this.callbacks=[]}return t.prototype.tap=function(e,n){this.callbacks.push(n)},t.prototype.call=function(){var e=arguments;this.callbacks.forEach(function(n){n.apply(void 0,e)})},t}(),t1=function(){function t(){this.callbacks=[]}return t.prototype.tap=function(e,n){this.callbacks.push(n)},t.prototype.call=function(){if(this.callbacks.length){for(var e=arguments,n=this.callbacks[0].apply(void 0,e),r=0;r<this.callbacks.length-1;r++){var i=this.callbacks[r];n=i(n)}return n}return null},t}(),Vat=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Xat=/([\"\'])[^\'\"]+\1/;function Uat(t){for(var e=t.fontSize,n=e===void 0?16:e,r=t.fontFamily,i=r===void 0?"sans-serif":r,a=t.fontStyle,o=a===void 0?"normal":a,s=t.fontVariant,l=s===void 0?"normal":s,c=t.fontWeight,u=c===void 0?"normal":c,f=we(n)&&"".concat(n,"px")||"16px",h=i.split(","),d=h.length-1;d>=0;d--){var p=h[d].trim();!Xat.test(p)&&Vat.indexOf(p)<0&&(p='"'.concat(p,'"')),h[d]=p}return"".concat(o," ").concat(l," ").concat(u," ").concat(f," ").concat(h.join(","))}function e1(t,e,n){return Us(t),t[4]=Math.tan(e),t[1]=Math.tan(n),t}var Pu=1e-5,qat=Qt(),nn=Qt();function q4(t,e){if(t.length){var n=Us(qat);t.forEach(function(r){var i=r.t,a=r.d;if(i==="scale"){var o=(a==null?void 0:a.map(function(y){return Math.max(y.value,Pu)}))||[1,1];Qa(nn,[o[0],o[1],1])}else if(i==="scalex"){var o=(a==null?void 0:a.map(function(m){return Math.max(m.value,Pu)}))||[1];Qa(nn,[o[0],1,1])}else if(i==="scaley"){var o=(a==null?void 0:a.map(function(m){return Math.max(m.value,Pu)}))||[1];Qa(nn,[1,o[0],1])}else if(i==="scalez"){var o=(a==null?void 0:a.map(function(m){return Math.max(m.value,Pu)}))||[1];Qa(nn,[1,1,o[0]])}else if(i==="scale3d"){var o=(a==null?void 0:a.map(function(m){return Math.max(m.value,Pu)}))||[1,1,1];Qa(nn,[o[0],o[1],o[2]])}else if(i==="translate"){var s=a||[qe,qe];Ka(nn,[s[0].value,s[1].value,0])}else if(i==="translatex"){var s=a||[qe];Ka(nn,[s[0].value,0,0])}else if(i==="translatey"){var s=a||[qe];Ka(nn,[0,s[0].value,0])}else if(i==="translatez"){var s=a||[qe];Ka(nn,[0,0,s[0].value])}else if(i==="translate3d"){var s=a||[qe,qe,qe];Ka(nn,[s[0].value,s[1].value,s[2].value])}else if(i==="rotate"){var l=a||[Xr];Jb(nn,oe(lr(l[0])))}else if(i==="rotatex"){var l=a||[Xr];a3(nn,oe(lr(l[0])))}else if(i==="rotatey"){var l=a||[Xr];o3(nn,oe(lr(l[0])))}else if(i==="rotatez"){var l=a||[Xr];Jb(nn,oe(lr(l[0])))}else if(i==="rotate3d"){var l=a||[qe,qe,qe,Xr];i3(nn,oe(lr(l[3])),[l[0].value,l[1].value,l[2].value])}else if(i==="skew"){var c=(a==null?void 0:a.map(function(y){return y.value}))||[0,0];e1(nn,oe(c[0]),oe(c[1]))}else if(i==="skewx"){var c=(a==null?void 0:a.map(function(m){return m.value}))||[0];e1(nn,oe(c[0]),0)}else if(i==="skewy"){var c=(a==null?void 0:a.map(function(m){return m.value}))||[0];e1(nn,0,oe(c[0]))}else if(i==="matrix"){var u=et(a.map(function(y){return y.value}),6),f=u[0],h=u[1],d=u[2],p=u[3],v=u[4],g=u[5];Qb(nn,f,h,0,0,d,p,0,0,0,0,1,0,v,g,0,1)}else i==="matrix3d"&&Qb.apply(dJ,_t([nn],et(a.map(function(y){return y.value})),!1));nw(n,n,nn)}),e.setLocalTransform(n)}else e.resetLocalTransform();return e.getLocalTransform()}var Zat=function(){function t(){this.parser=Bw,this.parserUnmemoize=mP,this.parserWithCSSDisabled=mP,this.mixer=sat}return t.prototype.calculator=function(e,n,r,i){return r instanceof mr?[]:r},t.prototype.postProcessor=function(e){var n=e.parsedStyle.transform;q4(n,e)},t}(),Kat=function(){function t(){this.parser=G4,this.parserUnmemoize=lat}return t.prototype.postProcessor=function(e){var n=e.parsedStyle.transformOrigin;n[0].unit===rt.kPixels&&n[1].unit===rt.kPixels?e.setOrigin(n[0].value,n[1].value):e.getGeometryBounds()},t}(),Qat=function(){function t(){this.parser=zs,this.parserUnmemoize=Uc}return t.prototype.calculator=function(e,n,r,i){return r.value},t.prototype.postProcessor=function(e){if(e.parentNode){var n=e.parentNode,r=n.renderable,i=n.sortable;r&&(r.dirty=!0),i&&(i.dirty=!0,i.dirtyReason=Oc.Z_INDEX_CHANGED)}},t}(),Jat=function(){function t(){}return t.prototype.update=function(e,n){var r=e.cx,i=r===void 0?0:r,a=e.cy,o=a===void 0?0:a,s=e.r,l=s===void 0?0:s;return{cx:i,cy:o,hwidth:l,hheight:l}},t}(),tot=function(){function t(){}return t.prototype.update=function(e,n){var r=e.cx,i=r===void 0?0:r,a=e.cy,o=a===void 0?0:a,s=e.rx,l=s===void 0?0:s,c=e.ry,u=c===void 0?0:c;return{cx:i,cy:o,hwidth:l,hheight:u}},t}(),eot=function(){function t(){}return t.prototype.update=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2,o=Math.min(n,i),s=Math.max(n,i),l=Math.min(r,a),c=Math.max(r,a),u=s-o,f=c-l,h=u/2,d=f/2;return{cx:o+h,cy:l+d,hwidth:h,hheight:d}},t}(),not=function(){function t(){}return t.prototype.update=function(e){var n=e.d,r=n.rect,i=r.x,a=r.y,o=r.width,s=r.height,l=o/2,c=s/2;return{cx:i+l,cy:a+c,hwidth:l,hheight:c}},t}(),rot=function(){function t(){}return t.prototype.update=function(e){if(e.points&&An(e.points.points)){var n=e.points.points,r=Math.min.apply(Math,_t([],et(n.map(function(f){return f[0]})),!1)),i=Math.max.apply(Math,_t([],et(n.map(function(f){return f[0]})),!1)),a=Math.min.apply(Math,_t([],et(n.map(function(f){return f[1]})),!1)),o=Math.max.apply(Math,_t([],et(n.map(function(f){return f[1]})),!1)),s=i-r,l=o-a,c=s/2,u=l/2;return{cx:r+c,cy:a+u,hwidth:c,hheight:u}}return{cx:0,cy:0,hwidth:0,hheight:0}},t}(),iot=function(){function t(){}return t.prototype.update=function(e,n){var r=e.x,i=r===void 0?0:r,a=e.y,o=a===void 0?0:a,s=e.src,l=e.width,c=l===void 0?0:l,u=e.height,f=u===void 0?0:u,h=c,d=f;return s&&!Ye(s)&&(h||(h=s.width,e.width=h),d||(d=s.height,e.height=d)),{cx:i+h/2,cy:o+d/2,hwidth:h/2,hheight:d/2}},t}(),aot=function(){function t(e){this.globalRuntime=e}return t.prototype.isReadyToMeasure=function(e,n){var r=e.text,i=e.textAlign,a=e.textBaseline,o=e.fontSize,s=e.fontStyle,l=e.fontWeight,c=e.fontVariant,u=e.lineWidth;return X.enableCSSParsing?r&&o&&s&&l&&c&&i&&a&&!Ot(u):r},t.prototype.update=function(e,n){var r,i,a=e.text,o=e.textAlign,s=o===void 0?"start":o,l=e.lineWidth,c=l===void 0?1:l,u=e.textBaseline,f=u===void 0?"alphabetic":u,h=e.dx,d=h===void 0?0:h,p=e.dy,v=p===void 0?0:p,g=e.x,y=g===void 0?0:g,m=e.y,b=m===void 0?0:m;if(!this.isReadyToMeasure(e,n))return e.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var x=(((i=(r=n==null?void 0:n.ownerDocument)===null||r===void 0?void 0:r.defaultView)===null||i===void 0?void 0:i.getConfig())||{}).offscreenCanvas,_=this.globalRuntime.textService.measureText(a,e,x);e.metrics=_;var w=_.width,S=_.height,O=_.lineHeight,M=_.fontProperties,T=w/2,A=S/2,P=y+T;s==="center"||s==="middle"?P+=c/2-T:(s==="right"||s==="end")&&(P+=c-T*2);var E=b-A;return f==="middle"?E+=A:f==="top"||f==="hanging"?E+=A*2:f==="alphabetic"?E+=this.globalRuntime.enableCSSParsing?O-M.ascent:0:(f==="bottom"||f==="ideographic")&&(E+=0),d&&(P+=d),v&&(E+=v),{cx:P,cy:E,hwidth:T,hheight:A}},t}(),oot=function(){function t(){}return t.prototype.update=function(e,n){return{cx:0,cy:0,hwidth:0,hheight:0}},t}();function sot(t){return!!t.type}var R0=function(){function t(e){this.eventPhase=t.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Mn,this.page=new Mn,this.canvas=new Mn,this.viewport=new Mn,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerX",{get:function(){return this.layer.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerY",{get:function(){return this.layer.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageX",{get:function(){return this.page.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageY",{get:function(){return this.page.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasX",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasY",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewportX",{get:function(){return this.viewport.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewportY",{get:function(){return this.viewport.y},enumerable:!1,configurable:!0}),t.prototype.composedPath=function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path},Object.defineProperty(t.prototype,"propagationPath",{get:function(){return this.composedPath()},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0},t.prototype.stopImmediatePropagation=function(){this.propagationImmediatelyStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.initEvent=function(){},t.prototype.initUIEvent=function(){},t.prototype.clone=function(){throw new Error(re)},t}(),Z4=function(t){Et(e,t);function e(){var n=t.apply(this,_t([],et(arguments),!1))||this;return n.client=new Mn,n.movement=new Mn,n.offset=new Mn,n.global=new Mn,n.screen=new Mn,n}return Object.defineProperty(e.prototype,"clientX",{get:function(){return this.client.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.client.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementX",{get:function(){return this.movement.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementY",{get:function(){return this.movement.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return this.offset.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this.offset.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalX",{get:function(){return this.global.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalY",{get:function(){return this.global.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenX",{get:function(){return this.screen.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenY",{get:function(){return this.screen.y},enumerable:!1,configurable:!0}),e.prototype.getModifierState=function(n){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(n)},e.prototype.initMouseEvent=function(){throw new Error(re)},e}(R0),Lx=function(t){Et(e,t);function e(){var n=t.apply(this,_t([],et(arguments),!1))||this;return n.width=0,n.height=0,n.isPrimary=!1,n}return e.prototype.getCoalescedEvents=function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]},e.prototype.getPredictedEvents=function(){throw new Error("getPredictedEvents is not supported!")},e.prototype.clone=function(){return this.manager.clonePointerEvent(this)},e}(Z4),Dx=function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.clone=function(){return this.manager.cloneWheelEvent(this)},e}(Z4),le=function(t){Et(e,t);function e(n,r){var i=t.call(this,null)||this;return i.type=n,i.detail=r,Object.assign(i,r),i}return e}(R0),OP=":",K4=function(){function t(){this.emitter=new Pw}return t.prototype.on=function(e,n,r){return this.addEventListener(e,n,r),this},t.prototype.addEventListener=function(e,n,r){var i=dE(r)&&r||As(r)&&r.capture,a=As(r)&&r.once,o=Gl(n)?void 0:n,s=!1,l="";if(e.indexOf(OP)>-1){var c=et(e.split(OP),2),u=c[0],f=c[1];e=f,l=u,s=!0}if(e=i?"".concat(e,"capture"):e,n=Gl(n)?n:n.handleEvent,s){var h=n;n=function(){for(var d,p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];((d=p[0].target)===null||d===void 0?void 0:d.name)===l&&h.apply(void 0,_t([],et(p),!1))}}return a?this.emitter.once(e,n,o):this.emitter.on(e,n,o),this},t.prototype.off=function(e,n,r){return e?this.removeEventListener(e,n,r):this.removeAllEventListeners(),this},t.prototype.removeAllEventListeners=function(){this.emitter.removeAllListeners()},t.prototype.removeEventListener=function(e,n,r){var i=dE(r)&&r||As(r)&&r.capture,a=Gl(n)?void 0:n;return e=i?"".concat(e,"capture"):e,n=Gl(n)?n:n==null?void 0:n.handleEvent,this.emitter.off(e,n,a),this},t.prototype.emit=function(e,n){this.dispatchEvent(new le(e,n))},t.prototype.dispatchEvent=function(e,n){var r,i;if(n===void 0&&(n=!1),!sot(e))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");var a;if(this.document?a=this:this.defaultView?a=this.defaultView:a=(r=this.ownerDocument)===null||r===void 0?void 0:r.defaultView,a){if(e.manager=a.getEventService()||null,!e.manager)return!1;e.defaultPrevented=!1,e.path=[],n||(e.target=this),(i=e.manager)===null||i===void 0||i.dispatchEvent(e,e.type,n)}return!e.defaultPrevented},t}(),vn=function(t){Et(e,t);function e(){var n=t.call(this)||this;return n.shadow=!1,n.ownerDocument=null,n.isConnected=!1,n.baseURI="",n.childNodes=[],n.nodeType=0,n.nodeName="",n.nodeValue=null,n.parentNode=null,n}return e.isNode=function(n){return!!n.childNodes},Object.defineProperty(e.prototype,"textContent",{get:function(){var n,r,i="";this.nodeName===q.TEXT&&(i+=this.style.text);try{for(var a=Ja(this.childNodes),o=a.next();!o.done;o=a.next()){var s=o.value;s.nodeName===q.TEXT?i+=s.nodeValue:i+=s.textContent}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},set:function(n){var r=this;this.childNodes.slice().forEach(function(i){r.removeChild(i)}),this.nodeName===q.TEXT&&(this.style.text="".concat(n))},enumerable:!1,configurable:!0}),e.prototype.getRootNode=function(n){return n===void 0&&(n={}),this.parentNode?this.parentNode.getRootNode(n):n.composed&&this.host?this.host.getRootNode(n):this},e.prototype.hasChildNodes=function(){return this.childNodes.length>0},e.prototype.isDefaultNamespace=function(n){throw new Error(re)},e.prototype.lookupNamespaceURI=function(n){throw new Error(re)},e.prototype.lookupPrefix=function(n){throw new Error(re)},e.prototype.normalize=function(){throw new Error(re)},e.prototype.isEqualNode=function(n){return this===n},e.prototype.isSameNode=function(n){return this.isEqualNode(n)},Object.defineProperty(e.prototype,"parent",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.childNodes.length>0?this.childNodes[0]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null},enumerable:!1,configurable:!0}),e.prototype.compareDocumentPosition=function(n){var r;if(n===this)return 0;for(var i=n,a=this,o=[i],s=[a];(r=i.parentNode)!==null&&r!==void 0?r:a.parentNode;)i=i.parentNode?(o.push(i.parentNode),i.parentNode):i,a=a.parentNode?(s.push(a.parentNode),a.parentNode):a;if(i!==a)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var l=o.length>s.length?o:s,c=l===o?s:o;if(l[l.length-c.length]===c[0])return l===o?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var u=l.length-c.length,f=c.length-1;f>=0;f--){var h=c[f],d=l[u+f];if(d!==h){var p=h.parentNode.childNodes;return p.indexOf(h)<p.indexOf(d)?c===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:l===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING},e.prototype.contain=function(n){return this.contains(n)},e.prototype.contains=function(n){for(var r=n;r&&this!==r;)r=r.parentNode;return!!r},e.prototype.getAncestor=function(n){for(var r=this;n>0&&r;)r=r.parentNode,n--;return r},e.prototype.forEach=function(n,r){r===void 0&&(r=!1),n(this)||(r?this.childNodes.slice():this.childNodes).forEach(function(i){i.forEach(n)})},e.DOCUMENT_POSITION_DISCONNECTED=1,e.DOCUMENT_POSITION_PRECEDING=2,e.DOCUMENT_POSITION_FOLLOWING=4,e.DOCUMENT_POSITION_CONTAINS=8,e.DOCUMENT_POSITION_CONTAINED_BY=16,e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,e}(K4),lot=2048,cot=function(){function t(e,n){var r=this;this.globalRuntime=e,this.context=n,this.emitter=new Pw,this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=Qt(),this.tmpVec3=Bt(),this.onPointerDown=function(i){var a=r.createPointerEvent(i);if(r.dispatchEvent(a,"pointerdown"),a.pointerType==="touch")r.dispatchEvent(a,"touchstart");else if(a.pointerType==="mouse"||a.pointerType==="pen"){var o=a.button===2;r.dispatchEvent(a,o?"rightdown":"mousedown")}var s=r.trackingData(i.pointerId);s.pressTargetsByButton[i.button]=a.composedPath(),r.freeEvent(a)},this.onPointerUp=function(i){var a,o=kx.now(),s=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(s,"pointerup"),s.pointerType==="touch")r.dispatchEvent(s,"touchend");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var l=s.button===2;r.dispatchEvent(s,l?"rightup":"mouseup")}var c=r.trackingData(i.pointerId),u=r.findMountedTarget(c.pressTargetsByButton[i.button]),f=u;if(u&&!s.composedPath().includes(u)){for(var h=u;h&&!s.composedPath().includes(h);){if(s.currentTarget=h,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch")r.notifyTarget(s,"touchendoutside");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var l=s.button===2;r.notifyTarget(s,l?"rightupoutside":"mouseupoutside")}vn.isNode(h)&&(h=h.parentNode)}delete c.pressTargetsByButton[i.button],f=h}if(f){var d=r.clonePointerEvent(s,"click");d.target=f,d.path=[],c.clicksByButton[i.button]||(c.clicksByButton[i.button]={clickCount:0,target:d.target,timeStamp:o});var p=c.clicksByButton[i.button];p.target===d.target&&o-p.timeStamp<200?++p.clickCount:p.clickCount=1,p.target=d.target,p.timeStamp=o,d.detail=p.clickCount,!((a=s.detail)===null||a===void 0)&&a.preventClick||(!r.context.config.useNativeClickEvent&&(d.pointerType==="mouse"||d.pointerType==="touch")&&r.dispatchEvent(d,"click"),r.dispatchEvent(d,"pointertap")),r.freeEvent(d)}r.freeEvent(s)},this.onPointerMove=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),o=a.pointerType==="mouse"||a.pointerType==="pen",s=r.trackingData(i.pointerId),l=r.findMountedTarget(s.overTargets);if(s.overTargets&&l!==a.target){var c=i.type==="mousemove"?"mouseout":"pointerout",u=r.createPointerEvent(i,c,l||void 0);if(r.dispatchEvent(u,"pointerout"),o&&r.dispatchEvent(u,"mouseout"),!a.composedPath().includes(l)){var f=r.createPointerEvent(i,"pointerleave",l||void 0);for(f.eventPhase=f.AT_TARGET;f.target&&!a.composedPath().includes(f.target);)f.currentTarget=f.target,r.notifyTarget(f),o&&r.notifyTarget(f,"mouseleave"),vn.isNode(f.target)&&(f.target=f.target.parentNode);r.freeEvent(f)}r.freeEvent(u)}if(l!==a.target){var h=i.type==="mousemove"?"mouseover":"pointerover",d=r.clonePointerEvent(a,h);r.dispatchEvent(d,"pointerover"),o&&r.dispatchEvent(d,"mouseover");for(var p=l&&vn.isNode(l)&&l.parentNode;p&&p!==(vn.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&p!==a.target;)p=p.parentNode;var v=!p||p===(vn.isNode(r.rootTarget)&&r.rootTarget.parentNode);if(v){var g=r.clonePointerEvent(a,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==l&&g.target!==(vn.isNode(r.rootTarget)&&r.rootTarget.parentNode);)g.currentTarget=g.target,r.notifyTarget(g),o&&r.notifyTarget(g,"mouseenter"),vn.isNode(g.target)&&(g.target=g.target.parentNode);r.freeEvent(g)}r.freeEvent(d)}r.dispatchEvent(a,"pointermove"),a.pointerType==="touch"&&r.dispatchEvent(a,"touchmove"),o&&(r.dispatchEvent(a,"mousemove"),r.cursor=r.getCursor(a.target)),s.overTargets=a.composedPath(),r.freeEvent(a)},this.onPointerOut=function(i){var a=r.trackingData(i.pointerId);if(a.overTargets){var o=i.pointerType==="mouse"||i.pointerType==="pen",s=r.findMountedTarget(a.overTargets),l=r.createPointerEvent(i,"pointerout",s||void 0);r.dispatchEvent(l),o&&r.dispatchEvent(l,"mouseout");var c=r.createPointerEvent(i,"pointerleave",s||void 0);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==(vn.isNode(r.rootTarget)&&r.rootTarget.parentNode);)c.currentTarget=c.target,r.notifyTarget(c),o&&r.notifyTarget(c,"mouseleave"),vn.isNode(c.target)&&(c.target=c.target.parentNode);a.overTargets=null,r.freeEvent(l),r.freeEvent(c)}r.cursor=null},this.onPointerOver=function(i){var a=r.trackingData(i.pointerId),o=r.createPointerEvent(i),s=o.pointerType==="mouse"||o.pointerType==="pen";r.dispatchEvent(o,"pointerover"),s&&r.dispatchEvent(o,"mouseover"),o.pointerType==="mouse"&&(r.cursor=r.getCursor(o.target));var l=r.clonePointerEvent(o,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==(vn.isNode(r.rootTarget)&&r.rootTarget.parentNode);)l.currentTarget=l.target,r.notifyTarget(l),s&&r.notifyTarget(l,"mouseenter"),vn.isNode(l.target)&&(l.target=l.target.parentNode);a.overTargets=o.composedPath(),r.freeEvent(o),r.freeEvent(l)},this.onPointerUpOutside=function(i){var a=r.trackingData(i.pointerId),o=r.findMountedTarget(a.pressTargetsByButton[i.button]),s=r.createPointerEvent(i);if(o){for(var l=o;l;)s.currentTarget=l,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"||(s.pointerType==="mouse"||s.pointerType==="pen")&&r.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),vn.isNode(l)&&(l=l.parentNode);delete a.pressTargetsByButton[i.button]}r.freeEvent(s)},this.onWheel=function(i){var a=r.createWheelEvent(i);r.dispatchEvent(a),r.freeEvent(a)},this.onClick=function(i){if(r.context.config.useNativeClickEvent){var a=r.createPointerEvent(i);r.dispatchEvent(a),r.freeEvent(a)}},this.onPointerCancel=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(a),r.freeEvent(a)}}return t.prototype.init=function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)},t.prototype.destroy=function(){this.emitter.removeAllListeners(),this.mappingTable={},this.mappingState={},this.eventPool.clear()},t.prototype.getScale=function(){var e=this.context.contextService.getBoundingClientRect(),n=1,r=1,i=this.context.contextService.getDomElement();if(i&&e){var a=i.offsetWidth,o=i.offsetHeight;a&&o&&(n=e.width/a,r=e.height/o)}return{scaleX:n,scaleY:r,bbox:e}},t.prototype.client2Viewport=function(e){var n=this.getScale(),r=n.scaleX,i=n.scaleY,a=n.bbox;return new Mn((e.x-((a==null?void 0:a.left)||0))/r,(e.y-((a==null?void 0:a.top)||0))/i)},t.prototype.viewport2Client=function(e){var n=this.getScale(),r=n.scaleX,i=n.scaleY,a=n.bbox;return new Mn((e.x+((a==null?void 0:a.left)||0))*r,(e.y+((a==null?void 0:a.top)||0))*i)},t.prototype.viewport2Canvas=function(e){var n=e.x,r=e.y,i=this.rootTarget.defaultView,a=i.getCamera(),o=this.context.config,s=o.width,l=o.height,c=a.getPerspectiveInverse(),u=a.getWorldTransform(),f=Nn(this.tmpMatrix,u,c),h=pi(this.tmpVec3,n/s*2-1,(1-r/l)*2-1,0);return cn(h,h,f),new Mn(h[0],h[1])},t.prototype.canvas2Viewport=function(e){var n=this.rootTarget.defaultView,r=n.getCamera(),i=r.getPerspective(),a=r.getViewTransform(),o=Nn(this.tmpMatrix,i,a),s=pi(this.tmpVec3,e.x,e.y,0);cn(this.tmpVec3,this.tmpVec3,o);var l=this.context.config,c=l.width,u=l.height;return new Mn((s[0]+1)/2*c,(1-(s[1]+1)/2)*u)},t.prototype.setPickHandler=function(e){this.pickHandler=e},t.prototype.addEventMapping=function(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort(function(r,i){return r.priority-i.priority})},t.prototype.mapEvent=function(e){if(this.rootTarget){var n=this.mappingTable[e.type];if(n)for(var r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn("[EventService]: Event mapping not defined for ".concat(e.type))}},t.prototype.dispatchEvent=function(e,n,r){if(!r)e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n);else{e.eventPhase=e.AT_TARGET;var i=this.rootTarget.defaultView||null;e.currentTarget=i,this.notifyListeners(e,n)}this.emitter.emit(n||e.type,e)},t.prototype.propagate=function(e,n){if(e.target){var r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var i=r.length-1;i>=1;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){var a=r.indexOf(e.currentTarget);e.eventPhase=e.BUBBLING_PHASE;for(var i=a+1;i<r.length;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}},t.prototype.propagationPath=function(e){var n=[e],r=this.rootTarget.defaultView||null;if(r&&r===e)return n.unshift(r.document),n;for(var i=0;i<lot&&e!==this.rootTarget;i++)vn.isNode(e)&&e.parentNode&&(n.push(e.parentNode),e=e.parentNode);return r&&n.push(r),n},t.prototype.hitTest=function(e){var n=e.viewportX,r=e.viewportY,i=this.context.config,a=i.width,o=i.height,s=i.disableHitTesting;return n<0||r<0||n>a||r>o?null:!s&&this.pickHandler(e)||this.rootTarget||null},t.prototype.isNativeEventFromCanvas=function(e,n){var r=n==null?void 0:n.target;if(r!=null&&r.shadowRoot&&(r=n.composedPath()[0]),r){if(r===e)return!0;if(e&&e.contains)return e.contains(r)}return n!=null&&n.composedPath?n.composedPath().indexOf(e)>-1:!1},t.prototype.getExistedHTML=function(e){var n,r;if(e.nativeEvent.composedPath)try{for(var i=Ja(e.nativeEvent.composedPath()),a=i.next();!a.done;a=i.next()){var o=a.value,s=this.nativeHTMLMap.get(o);if(s)return s}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null},t.prototype.pickTarget=function(e){return this.hitTest({clientX:e.clientX,clientY:e.clientY,viewportX:e.viewportX,viewportY:e.viewportY,x:e.canvasX,y:e.canvasY})},t.prototype.createPointerEvent=function(e,n,r,i){var a=this.allocateEvent(Lx);this.copyPointerData(e,a),this.copyMouseData(e,a),this.copyData(e,a),a.nativeEvent=e.nativeEvent,a.originalEvent=e;var o=this.getExistedHTML(a),s=this.context.contextService.getDomElement();return a.target=r??(o||this.isNativeEventFromCanvas(s,a.nativeEvent)&&this.pickTarget(a)||i),typeof n=="string"&&(a.type=n),a},t.prototype.createWheelEvent=function(e){var n=this.allocateEvent(Dx);this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e;var r=this.getExistedHTML(n),i=this.context.contextService.getDomElement();return n.target=r||this.isNativeEventFromCanvas(i,n.nativeEvent)&&this.pickTarget(n),n},t.prototype.trackingData=function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]},t.prototype.cloneWheelEvent=function(e){var n=this.allocateEvent(Dx);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=e.type,n},t.prototype.clonePointerEvent=function(e,n){var r=this.allocateEvent(Lx);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r},t.prototype.copyPointerData=function(e,n){n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist},t.prototype.copyMouseData=function(e,n){n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey,n.client.copyFrom(e.client),n.movement.copyFrom(e.movement),n.canvas.copyFrom(e.canvas),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global),n.offset.copyFrom(e.offset)},t.prototype.copyWheelData=function(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ},t.prototype.copyData=function(e,n){n.isTrusted=e.isTrusted,n.timeStamp=kx.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.page.copyFrom(e.page),n.viewport.copyFrom(e.viewport)},t.prototype.allocateEvent=function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=[],n.target=null,n},t.prototype.freeEvent=function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)},t.prototype.notifyTarget=function(e,n){n=n??e.type;var r=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(n,"capture"):n;this.notifyListeners(e,r),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)},t.prototype.notifyListeners=function(e,n){var r=e.currentTarget.emitter,i=r._events[n];if(i)if("fn"in i)i.once&&r.removeListener(n,i.fn,void 0,!0),i.fn.call(e.currentTarget||i.context,e);else for(var a=0;a<i.length&&!e.propagationImmediatelyStopped;a++)i[a].once&&r.removeListener(n,i[a].fn,void 0,!0),i[a].fn.call(e.currentTarget||i[a].context,e)},t.prototype.findMountedTarget=function(e){if(!e)return null;for(var n=e[e.length-1],r=e.length-2;r>=0;r--){var i=e[r];if(i===this.rootTarget||vn.isNode(i)&&i.parentNode===n)n=e[r];else break}return n},t.prototype.getCursor=function(e){for(var n=e;n;){var r=Eat(n)&&n.getAttribute("cursor");if(r)return r;n=vn.isNode(n)&&n.parentNode}},t}(),uot=function(){function t(){}return t.prototype.getOrCreateCanvas=function(e,n){if(this.canvas)return this.canvas;if(e||X.offscreenCanvas)this.canvas=e||X.offscreenCanvas,this.context=this.canvas.getContext("2d",bt({willReadFrequently:!0},n));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",bt({willReadFrequently:!0},n)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",bt({willReadFrequently:!0},n))}return this.canvas.width=10,this.canvas.height=10,this.canvas},t.prototype.getOrCreateContext=function(e,n){return this.context?this.context:(this.getOrCreateCanvas(e,n),this.context)},t}(),bo;(function(t){t[t.CAMERA_CHANGED=0]="CAMERA_CHANGED",t[t.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",t[t.NONE=2]="NONE"})(bo||(bo={}));var fot=function(){function t(e,n){this.globalRuntime=e,this.context=n,this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new $n,initAsync:new Hat,dirtycheck:new t1,cull:new t1,beginFrame:new $n,beforeRender:new $n,render:new $n,afterRender:new $n,endFrame:new $n,destroy:new $n,pick:new Yat,pickSync:new t1,pointerDown:new $n,pointerUp:new $n,pointerMove:new $n,pointerOut:new $n,pointerOver:new $n,pointerWheel:new $n,pointerCancel:new $n,click:new $n}}return t.prototype.init=function(e){var n=this,r=bt(bt({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(i){i.apply(r,n.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,e()):this.hooks.initAsync.promise().then(function(){n.inited=!0,e()})},t.prototype.getStats=function(){return this.stats},t.prototype.disableDirtyRectangleRendering=function(){var e=this.context.config.renderer,n=e.getConfig().enableDirtyRectangleRendering;return!n||this.context.renderingContext.renderReasons.has(bo.CAMERA_CHANGED)},t.prototype.render=function(e,n,r){var i=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var a=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(a.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),a.renderReasons.size&&this.inited){a.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var o=a.renderReasons.size===1&&a.renderReasons.has(bo.CAMERA_CHANGED),s=!e.disableRenderHooks||!(e.disableRenderHooks&&o);s&&this.renderDisplayObject(a.root,e,a),this.hooks.beginFrame.call(n),s&&a.renderListCurrentFrame.forEach(function(l){i.hooks.beforeRender.call(l),i.hooks.render.call(l),i.hooks.afterRender.call(l)}),this.hooks.endFrame.call(n),a.renderListCurrentFrame=[],a.renderReasons.clear(),r()}},t.prototype.renderDisplayObject=function(e,n,r){var i=this,a=n.renderer.getConfig(),o=a.enableDirtyCheck,s=a.enableCulling;this.globalRuntime.enableCSSParsing&&this.globalRuntime.styleValueRegistry.recalc(e);var l=e.renderable,c=o?l.dirty||r.dirtyRectangleRenderingDisabled?e:null:e;if(c){var u=s?this.hooks.cull.call(c,this.context.camera):c;u&&(this.stats.rendered++,r.renderListCurrentFrame.push(u))}e.renderable.dirty=!1,e.sortable.renderOrder=this.zIndexCounter++,this.stats.total++;var f=e.sortable;f.dirty&&(this.sort(e,f),f.dirty=!1,f.dirtyChildren=[],f.dirtyReason=void 0),(f.sorted||e.childNodes).forEach(function(h){i.renderDisplayObject(h,n,r)})},t.prototype.sort=function(e,n){n.sorted&&n.dirtyReason!==Oc.Z_INDEX_CHANGED?n.dirtyChildren.forEach(function(r){var i=e.childNodes.indexOf(r);if(i===-1){var a=n.sorted.indexOf(r);a>=0&&n.sorted.splice(a,1)}else if(n.sorted.length===0)n.sorted.push(r);else{var o=Pat(n.sorted,r);n.sorted.splice(o,0,r)}}):n.sorted=e.childNodes.slice().sort(W4)},t.prototype.destroy=function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()},t.prototype.dirtify=function(){this.context.renderingContext.renderReasons.add(bo.DISPLAY_OBJECT_CHANGED)},t}(),hot=/\[\s*(.*)=(.*)\s*\]/,dot=function(){function t(){}return t.prototype.selectOne=function(e,n){var r=this;if(e.startsWith("."))return n.find(function(s){return((s==null?void 0:s.classList)||[]).indexOf(r.getIdOrClassname(e))>-1});if(e.startsWith("#"))return n.find(function(s){return s.id===r.getIdOrClassname(e)});if(e.startsWith("[")){var i=this.getAttribute(e),a=i.name,o=i.value;return a?n.find(function(s){return n!==s&&(a==="name"?s.name===o:r.attributeToString(s,a)===o)}):null}else return n.find(function(s){return n!==s&&s.nodeName===e})},t.prototype.selectAll=function(e,n){var r=this;if(e.startsWith("."))return n.findAll(function(s){return n!==s&&((s==null?void 0:s.classList)||[]).indexOf(r.getIdOrClassname(e))>-1});if(e.startsWith("#"))return n.findAll(function(s){return n!==s&&s.id===r.getIdOrClassname(e)});if(e.startsWith("[")){var i=this.getAttribute(e),a=i.name,o=i.value;return a?n.findAll(function(s){return n!==s&&(a==="name"?s.name===o:r.attributeToString(s,a)===o)}):[]}else return n.findAll(function(s){return n!==s&&s.nodeName===e})},t.prototype.is=function(e,n){if(e.startsWith("."))return n.className===this.getIdOrClassname(e);if(e.startsWith("#"))return n.id===this.getIdOrClassname(e);if(e.startsWith("[")){var r=this.getAttribute(e),i=r.name,a=r.value;return i==="name"?n.name===a:this.attributeToString(n,i)===a}else return n.nodeName===e},t.prototype.getIdOrClassname=function(e){return e.substring(1)},t.prototype.getAttribute=function(e){var n=e.match(hot),r="",i="";return n&&n.length>2&&(r=n[1].replace(/"/g,""),i=n[2].replace(/"/g,"")),{name:r,value:i}},t.prototype.attributeToString=function(e,n){if(!e.getAttribute)return"";var r=e.getAttribute(n);return Ot(r)?"":r.toString?r.toString():""},t}(),$s=function(t){Et(e,t);function e(n,r,i,a,o,s,l,c){var u=t.call(this,null)||this;return u.relatedNode=r,u.prevValue=i,u.newValue=a,u.attrName=o,u.attrChange=s,u.prevParsedValue=l,u.newParsedValue=c,u.type=n,u}return e.ADDITION=2,e.MODIFICATION=1,e.REMOVAL=3,e}(R0),Ct;(function(t){t.REPARENT="reparent",t.DESTROY="destroy",t.ATTR_MODIFIED="DOMAttrModified",t.INSERTED="DOMNodeInserted",t.REMOVED="removed",t.MOUNTED="DOMNodeInsertedIntoDocument",t.UNMOUNTED="DOMNodeRemovedFromDocument",t.BOUNDS_CHANGED="bounds-changed",t.CULLED="culled"})(Ct||(Ct={}));function MP(t){var e=t.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0)}var pot=new $s(Ct.REPARENT,null,"","","",0,"",""),vot=function(){function t(e){var n=this;this.runtime=e,this.pendingEvents=[],this.boundsChangedEvent=new le(Ct.BOUNDS_CHANGED),this.rotate=function(){var r=an();return function(i,a,o,s,l){o===void 0&&(o=0),s===void 0&&(s=0),l===void 0&&(l=!0),typeof a=="number"&&(a=Xt(a,o,s));var c=i.transformable;if(i.parentNode===null||!i.parentNode.transformable)n.rotateLocal(i,a);else{var u=an();Zd(u,a[0],a[1],a[2]);var f=n.getRotation(i),h=n.getRotation(i.parentNode);Kd(r,h),Bm(r,r),vo(u,r,u),vo(c.localRotation,u,f),Gv(c.localRotation,c.localRotation),l&&n.dirtifyLocal(i,c)}}}(),this.rotateLocal=function(){var r=an();return function(i,a,o,s,l){o===void 0&&(o=0),s===void 0&&(s=0),l===void 0&&(l=!0),typeof a=="number"&&(a=Xt(a,o,s));var c=i.transformable;Zd(r,a[0],a[1],a[2]),gE(c.localRotation,c.localRotation,r),l&&n.dirtifyLocal(i,c)}}(),this.setEulerAngles=function(){var r=an();return function(i,a,o,s,l){o===void 0&&(o=0),s===void 0&&(s=0),l===void 0&&(l=!0),typeof a=="number"&&(a=Xt(a,o,s));var c=i.transformable;if(i.parentNode===null||!i.parentNode.transformable)n.setLocalEulerAngles(i,a);else{Zd(c.localRotation,a[0],a[1],a[2]);var u=n.getRotation(i.parentNode);Kd(r,Bm(an(),u)),gE(c.localRotation,c.localRotation,r),l&&n.dirtifyLocal(i,c)}}}(),this.translateLocal=function(){return function(r,i,a,o,s){a===void 0&&(a=0),o===void 0&&(o=0),s===void 0&&(s=!0),typeof i=="number"&&(i=Xt(i,a,o));var l=r.transformable;Ou(i,Bt())||(gJ(i,i,l.localRotation),Jl(l.localPosition,l.localPosition,i),s&&n.dirtifyLocal(r,l))}}(),this.setPosition=function(){var r=Qt(),i=Bt();return function(a,o,s){s===void 0&&(s=!0);var l=a.transformable;if(i[0]=o[0],i[1]=o[1],i[2]=o[2]||0,!Ou(n.getPosition(a),i)){if(ao(l.position,i),a.parentNode===null||!a.parentNode.transformable)ao(l.localPosition,i);else{var c=a.parentNode.transformable;hc(r,c.worldTransform),yi(r,r),cn(l.localPosition,i,r)}s&&n.dirtifyLocal(a,l)}}}(),this.setLocalPosition=function(){var r=Bt();return function(i,a,o){o===void 0&&(o=!0);var s=i.transformable;r[0]=a[0],r[1]=a[1],r[2]=a[2]||0,!Ou(s.localPosition,r)&&(ao(s.localPosition,r),o&&n.dirtifyLocal(i,s))}}(),this.translate=function(){var r=Bt(),i=Bt(),a=Bt();return function(o,s,l,c,u){l===void 0&&(l=0),c===void 0&&(c=0),u===void 0&&(u=!0),typeof s=="number"&&(s=pi(i,s,l,c)),!Ou(s,r)&&(Jl(a,n.getPosition(o),s),n.setPosition(o,a,u))}}(),this.setRotation=function(){var r=an();return function(i,a,o,s,l,c){c===void 0&&(c=!0);var u=i.transformable;if(typeof a=="number"&&(a=Fm(a,o,s,l)),i.parentNode===null||!i.parentNode.transformable)n.setLocalRotation(i,a);else{var f=n.getRotation(i.parentNode);Kd(r,f),Bm(r,r),vo(u.localRotation,r,a),Gv(u.localRotation,u.localRotation),c&&n.dirtifyLocal(i,u)}}},this.displayObjectDependencyMap=new WeakMap,this.calcLocalTransform=function(){var r=Qt(),i=Bt(),a=Fm(0,0,0,1);return function(o){var s=o.localSkew[0]!==0||o.localSkew[1]!==0;if(s){if(_f(o.localTransform,o.localRotation,o.localPosition,Xt(1,1,1),o.origin),o.localSkew[0]!==0||o.localSkew[1]!==0){var l=Us(r);l[4]=Math.tan(o.localSkew[0]),l[1]=Math.tan(o.localSkew[1]),Nn(o.localTransform,o.localTransform,l)}var c=_f(r,a,i,o.localScale,o.origin);Nn(o.localTransform,o.localTransform,c)}else _f(o.localTransform,o.localRotation,o.localPosition,o.localScale,o.origin)}}()}return t.prototype.matches=function(e,n){return this.runtime.sceneGraphSelector.is(e,n)},t.prototype.querySelector=function(e,n){return this.runtime.sceneGraphSelector.selectOne(e,n)},t.prototype.querySelectorAll=function(e,n){return this.runtime.sceneGraphSelector.selectAll(e,n)},t.prototype.attach=function(e,n,r){var i,a=!1;e.parentNode&&(a=e.parentNode!==n,this.detach(e)),e.parentNode=n,Ot(r)?e.parentNode.childNodes.push(e):e.parentNode.childNodes.splice(r,0,e);var o=n.sortable;(!((i=o==null?void 0:o.sorted)===null||i===void 0)&&i.length||e.parsedStyle.zIndex)&&(o.dirtyChildren.indexOf(e)===-1&&o.dirtyChildren.push(e),o.dirty=!0,o.dirtyReason=Oc.ADDED);var s=e.transformable;s&&this.dirtifyWorld(e,s),s.frozen&&this.unfreezeParentToRoot(e),a&&e.dispatchEvent(pot)},t.prototype.detach=function(e){var n,r;if(e.parentNode){var i=e.transformable,a=e.parentNode.sortable;(!((n=a==null?void 0:a.sorted)===null||n===void 0)&&n.length||!((r=e.style)===null||r===void 0)&&r.zIndex)&&(a.dirtyChildren.indexOf(e)===-1&&a.dirtyChildren.push(e),a.dirty=!0,a.dirtyReason=Oc.REMOVED);var o=e.parentNode.childNodes.indexOf(e);o>-1&&e.parentNode.childNodes.splice(o,1),i&&this.dirtifyWorld(e,i),e.parentNode=null}},t.prototype.getOrigin=function(e){return e.getGeometryBounds(),e.transformable.origin},t.prototype.setOrigin=function(e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=0),typeof n=="number"&&(n=[n,r,i]);var a=e.transformable;if(!(n[0]===a.origin[0]&&n[1]===a.origin[1]&&n[2]===a.origin[2])){var o=a.origin;o[0]=n[0],o[1]=n[1],o[2]=n[2]||0,this.dirtifyLocal(e,a)}},t.prototype.setLocalEulerAngles=function(e,n,r,i,a){r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=!0),typeof n=="number"&&(n=Xt(n,r,i));var o=e.transformable;Zd(o.localRotation,n[0],n[1],n[2]),a&&this.dirtifyLocal(e,o)},t.prototype.scaleLocal=function(e,n,r){r===void 0&&(r=!0);var i=e.transformable;pJ(i.localScale,i.localScale,Xt(n[0],n[1],n[2]||1)),r&&this.dirtifyLocal(e,i)},t.prototype.setLocalScale=function(e,n,r){r===void 0&&(r=!0);var i=e.transformable,a=Xt(n[0],n[1],n[2]||i.localScale[2]);Ou(a,i.localScale)||(ao(i.localScale,a),r&&this.dirtifyLocal(e,i))},t.prototype.setLocalRotation=function(e,n,r,i,a,o){o===void 0&&(o=!0),typeof n=="number"&&(n=Fm(n,r,i,a));var s=e.transformable;Kd(s.localRotation,n),o&&this.dirtifyLocal(e,s)},t.prototype.setLocalSkew=function(e,n,r){typeof n=="number"&&(n=wJ(n,r));var i=e.transformable;SJ(i.localSkew,n),this.dirtifyLocal(e,i)},t.prototype.dirtifyLocal=function(e,n){n.localDirtyFlag||(n.localDirtyFlag=!0,n.dirtyFlag||this.dirtifyWorld(e,n))},t.prototype.dirtifyWorld=function(e,n){n.dirtyFlag||this.unfreezeParentToRoot(e),this.dirtifyWorldInternal(e,n),this.dirtifyToRoot(e,!0)},t.prototype.triggerPendingEvents=function(){var e=this,n=new Set,r=function(i,a){i.isConnected&&!n.has(i.entity)&&(e.boundsChangedEvent.detail=a,e.boundsChangedEvent.target=i,i.isMutationObserved?i.dispatchEvent(e.boundsChangedEvent):i.ownerDocument.defaultView.dispatchEvent(e.boundsChangedEvent,!0),n.add(i.entity))};this.pendingEvents.forEach(function(i){var a=et(i,2),o=a[0],s=a[1];s.affectChildren?o.forEach(function(l){r(l,s)}):r(o,s)}),this.clearPendingEvents(),n.clear()},t.prototype.clearPendingEvents=function(){this.pendingEvents=[]},t.prototype.dirtifyToRoot=function(e,n){n===void 0&&(n=!1);var r=e;for(r.renderable&&(r.renderable.dirty=!0);r;)MP(r),r=r.parentNode;n&&e.forEach(function(i){MP(i)}),this.informDependentDisplayObjects(e),this.pendingEvents.push([e,{affectChildren:n}])},t.prototype.updateDisplayObjectDependency=function(e,n,r,i){if(n&&n!==r){var a=this.displayObjectDependencyMap.get(n);if(a&&a[e]){var o=a[e].indexOf(i);a[e].splice(o,1)}}if(r){var s=this.displayObjectDependencyMap.get(r);s||(this.displayObjectDependencyMap.set(r,{}),s=this.displayObjectDependencyMap.get(r)),s[e]||(s[e]=[]),s[e].push(i)}},t.prototype.informDependentDisplayObjects=function(e){var n=this,r=this.displayObjectDependencyMap.get(e);r&&Object.keys(r).forEach(function(i){r[i].forEach(function(a){n.dirtifyToRoot(a,!0),a.dispatchEvent(new $s(Ct.ATTR_MODIFIED,a,n,n,i,$s.MODIFICATION,n,n)),a.isCustomElement&&a.isConnected&&a.attributeChangedCallback&&a.attributeChangedCallback(i,n,n)})})},t.prototype.getPosition=function(e){var n=e.transformable;return zv(n.position,this.getWorldTransform(e,n))},t.prototype.getRotation=function(e){var n=e.transformable;return $v(n.rotation,this.getWorldTransform(e,n))},t.prototype.getScale=function(e){var n=e.transformable;return dc(n.scaling,this.getWorldTransform(e,n))},t.prototype.getWorldTransform=function(e,n){return n===void 0&&(n=e.transformable),!n.localDirtyFlag&&!n.dirtyFlag||(e.parentNode&&e.parentNode.transformable&&this.getWorldTransform(e.parentNode),this.sync(e,n)),n.worldTransform},t.prototype.getLocalPosition=function(e){return e.transformable.localPosition},t.prototype.getLocalRotation=function(e){return e.transformable.localRotation},t.prototype.getLocalScale=function(e){return e.transformable.localScale},t.prototype.getLocalSkew=function(e){return e.transformable.localSkew},t.prototype.getLocalTransform=function(e){var n=e.transformable;return n.localDirtyFlag&&(this.calcLocalTransform(n),n.localDirtyFlag=!1),n.localTransform},t.prototype.setLocalTransform=function(e,n){var r=zv(Bt(),n),i=$v(an(),n),a=dc(Bt(),n);this.setLocalScale(e,a,!1),this.setLocalPosition(e,r,!1),this.setLocalRotation(e,i,void 0,void 0,void 0,!1),this.dirtifyLocal(e,e.transformable)},t.prototype.resetLocalTransform=function(e){this.setLocalScale(e,[1,1,1]),this.setLocalPosition(e,[0,0,0]),this.setLocalEulerAngles(e,[0,0,0]),this.setLocalSkew(e,[0,0])},t.prototype.getTransformedGeometryBounds=function(e,n,r){n===void 0&&(n=!1);var i=this.getGeometryBounds(e,n);if(Ze.isEmpty(i))return null;var a=r||new Ze;return a.setFromTransformedAABB(i,this.getWorldTransform(e)),a},t.prototype.getGeometryBounds=function(e,n){n===void 0&&(n=!1);var r=e.geometry;r.dirty&&X.styleValueRegistry.updateGeometry(e);var i=n?r.renderBounds:r.contentBounds||null;return i||new Ze},t.prototype.getBounds=function(e,n){var r=this;n===void 0&&(n=!1);var i=e.renderable;if(!i.boundsDirty&&!n&&i.bounds)return i.bounds;if(!i.renderBoundsDirty&&n&&i.renderBounds)return i.renderBounds;var a=n?i.renderBounds:i.bounds,o=this.getTransformedGeometryBounds(e,n,a),s=e.childNodes;if(s.forEach(function(u){var f=r.getBounds(u,n);f&&(o?o.add(f):(o=a||new Ze,o.update(f.center,f.halfExtents)))}),o||(o=new Ze),n){var l=H4(e);if(l){var c=l.parsedStyle.clipPath.getBounds(n);o?c&&(o=c.intersection(o)):o.update(c.center,c.halfExtents)}}return n?(i.renderBounds=o,i.renderBoundsDirty=!1):(i.bounds=o,i.boundsDirty=!1),o},t.prototype.getLocalBounds=function(e){if(e.parentNode){var n=Qt();e.parentNode.transformable&&(n=yi(Qt(),this.getWorldTransform(e.parentNode)));var r=this.getBounds(e);if(!Ze.isEmpty(r)){var i=new Ze;return i.setFromTransformedAABB(r,n),i}}return this.getBounds(e)},t.prototype.getBoundingClientRect=function(e){var n,r,i,a=this.getGeometryBounds(e);Ze.isEmpty(a)||(i=new Ze,i.setFromTransformedAABB(a,this.getWorldTransform(e)));var o=(r=(n=e.ownerDocument)===null||n===void 0?void 0:n.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(i){var s=et(i.getMin(),2),l=s[0],c=s[1],u=et(i.getMax(),2),f=u[0],h=u[1];return new js(l+((o==null?void 0:o.left)||0),c+((o==null?void 0:o.top)||0),f-l,h-c)}return new js((o==null?void 0:o.left)||0,(o==null?void 0:o.top)||0,0,0)},t.prototype.dirtifyWorldInternal=function(e,n){var r=this;if(!n.dirtyFlag){n.dirtyFlag=!0,n.frozen=!1,e.childNodes.forEach(function(a){var o=a.transformable;o.dirtyFlag||r.dirtifyWorldInternal(a,o)});var i=e.renderable;i&&(i.renderBoundsDirty=!0,i.boundsDirty=!0,i.dirty=!0)}},t.prototype.syncHierarchy=function(e){var n=e.transformable;if(!n.frozen){n.frozen=!0,(n.localDirtyFlag||n.dirtyFlag)&&this.sync(e,n);for(var r=e.childNodes,i=0;i<r.length;i++)this.syncHierarchy(r[i])}},t.prototype.sync=function(e,n){if(n.localDirtyFlag&&(this.calcLocalTransform(n),n.localDirtyFlag=!1),n.dirtyFlag){var r=e.parentNode,i=r&&r.transformable;r===null||!i?hc(n.worldTransform,n.localTransform):Nn(n.worldTransform,i.worldTransform,n.localTransform),n.dirtyFlag=!1}},t.prototype.unfreezeParentToRoot=function(e){for(var n=e.parentNode;n;){var r=n.transformable;r&&(r.frozen=!1),n=n.parentNode}},t}(),fs={MetricsString:"|q",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},TP=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,got=/[!%),.:;?\]}'""]/,yot=/[$('"]/,mot=/[!),.:;?\]}'""]/,bot=/[([{'"]/,xot=/[)\]'"?!:;,.]/,_ot=/[(['"...]/,wot=/[!%),.:;?\]}'"]/,Sot=/[$([{'"#]/,Oot=new RegExp("".concat(got.source,"|").concat(mot.source,"|").concat(xot.source,"|").concat(wot.source)),Mot=new RegExp("".concat(yot.source,"|").concat(bot.source,"|").concat(_ot.source,"|").concat(Sot.source)),Tot=function(){function t(e){var n=this;this.runtime=e,this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,i){return n.isBreakingSpace(i)?!1:!!(r&&(Mot.exec(i)||Oot.exec(r)))},this.trimByKinsokuShorui=function(r){var i=_t([],et(r),!1),a=i[i.length-2];if(!a)return r;var o=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=o+i[i.length-1],i}}return t.prototype.measureFont=function(e,n){if(this.fontMetricsCache[e])return this.fontMetricsCache[e];var r={ascent:0,descent:0,fontSize:0},i=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(n),a=this.runtime.offscreenCanvasCreator.getOrCreateContext(n,{willReadFrequently:!0});a.font=e;var o=fs.MetricsString+fs.BaselineSymbol,s=Math.ceil(a.measureText(o).width),l=Math.ceil(a.measureText(fs.BaselineSymbol).width),c=fs.HeightMultiplier*l;l=l*fs.BaselineMultiplier|0,i.width=s,i.height=c,a.fillStyle="#f00",a.fillRect(0,0,s,c),a.font=e,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(o,0,l);var u=a.getImageData(0,0,s||1,c||1).data,f=u.length,h=s*4,d=0,p=0,v=!1;for(d=0;d<l;++d){for(var g=0;g<h;g+=4)if(u[p+g]!==255){v=!0;break}if(!v)p+=h;else break}for(r.ascent=l-d,p=f-h,v=!1,d=c;d>l;--d){for(var g=0;g<h;g+=4)if(u[p+g]!==255){v=!0;break}if(!v)p-=h;else break}return r.descent=d-l,r.fontSize=r.ascent+r.descent,this.fontMetricsCache[e]=r,r},t.prototype.measureText=function(e,n,r){var i=n.fontSize,a=i===void 0?16:i,o=n.wordWrap,s=o===void 0?!1:o,l=n.lineHeight,c=n.lineWidth,u=c===void 0?1:c,f=n.textBaseline,h=f===void 0?"alphabetic":f,d=n.textAlign,p=d===void 0?"start":d,v=n.letterSpacing,g=v===void 0?0:v,y=n.textPath;n.textPathSide,n.textPathStartOffset;var m=n.leading,b=m===void 0?0:m,x=Uat(n),_=this.measureFont(x,r);_.fontSize===0&&(_.fontSize=a,_.ascent=a);var w=this.runtime.offscreenCanvasCreator.getOrCreateContext(r);w.font=x,n.isOverflowing=!1;var S=s?this.wordWrap(e,n,r):e,O=S.split(/(?:\r\n|\r|\n)/),M=new Array(O.length),T=0;if(y){y.getTotalLength();for(var A=0;A<O.length;A++)var P=w.measureText(O[A]).width+(O[A].length-1)*g}else{for(var A=0;A<O.length;A++){var E=w.measureText(O[A]).width+(O[A].length-1)*g;M[A]=E,T=Math.max(T,E)}var P=T+u,C=l||_.fontSize+u,k=Math.max(C,_.fontSize+u)+(O.length-1)*(C+b);C+=b;var L=0;return h==="middle"?L=-k/2:h==="bottom"||h==="alphabetic"||h==="ideographic"?L=-k:(h==="top"||h==="hanging")&&(L=0),{font:x,width:P,height:k,lines:O,lineWidths:M,lineHeight:C,maxLineWidth:T,fontProperties:_,lineMetrics:M.map(function(D,I){var N=0;return p==="center"||p==="middle"?N-=D/2:(p==="right"||p==="end")&&(N-=D),new js(N-u/2,L+I*C,D+u,C)})}}},t.prototype.setGraphemeOnPath=function(){},t.prototype.wordWrap=function(e,n,r){var i=this,a=n.wordWrapWidth,o=a===void 0?0:a,s=n.letterSpacing,l=s===void 0?0:s,c=n.maxLines,u=c===void 0?1/0:c,f=n.textOverflow,h=this.runtime.offscreenCanvasCreator.getOrCreateContext(r),d=o+l,p="";f==="ellipsis"?p="...":f&&f!=="clip"&&(p=f);for(var v=[],g=0,y=0,m={},b=function(L){return i.getFromCache(L,l,m,h)},x=Array.from(p).reduce(function(L,R){return L+b(R)},0),_=Array.from(e),w=0;w<_.length;w++){var S=_[w],O=e[w-1],M=e[w+1],T=b(S);if(this.isNewline(S)){if(g++,g>=u){n.isOverflowing=!0;break}y=0,v[g]="";continue}if(y>0&&y+T>d){if(g+1>=u){if(n.isOverflowing=!0,x>0&&x<=d){for(var A=v[g].length,P=0,E=A,C=0;C<A;C++){var k=b(v[g][C]);if(P+k+x>d){E=C;break}P+=k}v[g]=(v[g]||"").slice(0,E)+p}break}if(g++,y=0,v[g]="",this.isBreakingSpace(S))continue;this.canBreakInLastChar(S)||(v=this.trimToBreakable(v),y=this.sumTextWidthByCache(v[g]||"",m)),this.shouldBreakByKinsokuShorui(S,M)&&(v=this.trimByKinsokuShorui(v),y+=b(O||""))}y+=T,v[g]=(v[g]||"")+S}return v.join(`
`)},t.prototype.isBreakingSpace=function(e){return typeof e!="string"?!1:fs.BreakingSpaces.indexOf(e.charCodeAt(0))>=0},t.prototype.isNewline=function(e){return typeof e!="string"?!1:fs.Newlines.indexOf(e.charCodeAt(0))>=0},t.prototype.trimToBreakable=function(e){var n=_t([],et(e),!1),r=n[n.length-2],i=this.findBreakableIndex(r);if(i===-1||!r)return n;var a=r.slice(i,i+1),o=this.isBreakingSpace(a),s=i+1,l=i+(o?0:1);return n[n.length-1]+=r.slice(s,r.length),n[n.length-2]=r.slice(0,l),n},t.prototype.canBreakInLastChar=function(e){return!(e&&TP.test(e))},t.prototype.sumTextWidthByCache=function(e,n){return e.split("").reduce(function(r,i){if(!n[i])throw Error("cannot count the word without cache");return r+n[i]},0)},t.prototype.findBreakableIndex=function(e){for(var n=e.length-1;n>=0;n--)if(!TP.test(e[n]))return n;return-1},t.prototype.getFromCache=function(e,n,r,i){var a=r[e];if(typeof a!="number"){var o=e.length*n;a=i.measureText(e).width+o,r[e]=a}return a},t}(),X={},Aot=function(){var t,e=new iot,n=new rot;return t={},t[q.CIRCLE]=new Jat,t[q.ELLIPSE]=new tot,t[q.RECT]=e,t[q.IMAGE]=e,t[q.GROUP]=new oot,t[q.LINE]=new eot,t[q.TEXT]=new aot(X),t[q.POLYLINE]=n,t[q.POLYGON]=n,t[q.PATH]=new not,t[q.HTML]=null,t[q.MESH]=null,t}(),Eot=function(){var t,e=new dat,n=new Cx;return t={},t[st.PERCENTAGE]=null,t[st.NUMBER]=new mat,t[st.ANGLE]=new fat,t[st.DEFINED_PATH]=new hat,t[st.PAINT]=e,t[st.COLOR]=e,t[st.FILTER]=new pat,t[st.LENGTH]=n,t[st.LENGTH_PERCENTAGE]=n,t[st.LENGTH_PERCENTAGE_12]=new vat,t[st.LENGTH_PERCENTAGE_14]=new gat,t[st.COORDINATE]=new Cx,t[st.OFFSET_DISTANCE]=new bat,t[st.OPACITY_VALUE]=new xat,t[st.PATH]=new _at,t[st.LIST_OF_POINTS]=new wat,t[st.SHADOW_BLUR]=new Sat,t[st.TEXT]=new Oat,t[st.TEXT_TRANSFORM]=new Mat,t[st.TRANSFORM]=new Zat,t[st.TRANSFORM_ORIGIN]=new Kat,t[st.Z_INDEX]=new Qat,t[st.MARKER]=new yat,t}(),Pot=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};X.CameraContribution=P4;X.AnimationTimeline=null;X.EasingFunction=null;X.offscreenCanvasCreator=new uot;X.sceneGraphSelector=new dot;X.sceneGraphService=new vot(X);X.textService=new Tot(X);X.geometryUpdaterFactory=Aot;X.CSSPropertySyntaxFactory=Eot;X.styleValueRegistry=new uat(X);X.layoutRegistry=null;X.globalThis=Pot();X.enableCSSParsing=!1;X.enableDataset=!1;X.enableStyleSyntax=!0;X.enableAttributeDashCased=!1;X.enableSizeAttenuation=!1;var Cot=0,AP=new $s(Ct.INSERTED,null,"","","",0,"",""),EP=new $s(Ct.REMOVED,null,"","","",0,"",""),kot=new le(Ct.DESTROY),Lot=function(t){Et(e,t);function e(){var n=t.call(this)||this;return n.entity=Cot++,n.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},n.cullable={strategy:Tx.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},n.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},n.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},n.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},n.rBushNode={aabb:void 0},n.namespaceURI="g",n.scrollLeft=0,n.scrollTop=0,n.clientTop=0,n.clientLeft=0,n.destroyed=!1,n.style={},n.computedStyle=X.enableCSSParsing?{opacity:Te,fillOpacity:Te,strokeOpacity:Te,fill:Te,stroke:Te,transform:Te,transformOrigin:Te,visibility:Te,pointerEvents:Te,lineWidth:Te,lineCap:Te,lineJoin:Te,increasedLineWidthForHitTesting:Te,fontSize:Te,fontFamily:Te,fontStyle:Te,fontWeight:Te,fontVariant:Te,textAlign:Te,textBaseline:Te,textTransform:Te,zIndex:Te,filter:Te,shadowType:Te}:null,n.parsedStyle={},n.attributes={},n}return Object.defineProperty(e.prototype,"className",{get:function(){return this.getAttribute("class")||""},set:function(n){this.setAttribute("class",n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classList",{get:function(){return this.className.split(" ").filter(function(n){return n!==""})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.nodeName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){if(this.parentNode){var n=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[n+1]||null}return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){if(this.parentNode){var n=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[n-1]||null}return null},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(n){throw new Error(re)},e.prototype.appendChild=function(n,r){var i;if(n.destroyed)throw new Error(iit);return X.sceneGraphService.attach(n,this,r),!((i=this.ownerDocument)===null||i===void 0)&&i.defaultView&&this.ownerDocument.defaultView.mountChildren(n),this.isMutationObserved&&(AP.relatedNode=this,n.dispatchEvent(AP)),n},e.prototype.insertBefore=function(n,r){if(!r)this.appendChild(n);else{n.parentElement&&n.parentElement.removeChild(n);var i=this.childNodes.indexOf(r);i===-1?this.appendChild(n):this.appendChild(n,i)}return n},e.prototype.replaceChild=function(n,r){var i=this.childNodes.indexOf(r);return this.removeChild(r),this.appendChild(n,i),r},e.prototype.removeChild=function(n){var r;return EP.relatedNode=this,n.dispatchEvent(EP),!((r=n.ownerDocument)===null||r===void 0)&&r.defaultView&&n.ownerDocument.defaultView.unmountChildren(n),X.sceneGraphService.detach(n),n},e.prototype.removeChildren=function(){for(var n=this.childNodes.length-1;n>=0;n--){var r=this.childNodes[n];this.removeChild(r)}},e.prototype.destroyChildren=function(){for(var n=this.childNodes.length-1;n>=0;n--){var r=this.childNodes[n];r.childNodes.length&&r.destroyChildren(),r.destroy()}},e.prototype.matches=function(n){return X.sceneGraphService.matches(n,this)},e.prototype.getElementById=function(n){return X.sceneGraphService.querySelector("#".concat(n),this)},e.prototype.getElementsByName=function(n){return X.sceneGraphService.querySelectorAll('[name="'.concat(n,'"]'),this)},e.prototype.getElementsByClassName=function(n){return X.sceneGraphService.querySelectorAll(".".concat(n),this)},e.prototype.getElementsByTagName=function(n){return X.sceneGraphService.querySelectorAll(n,this)},e.prototype.querySelector=function(n){return X.sceneGraphService.querySelector(n,this)},e.prototype.querySelectorAll=function(n){return X.sceneGraphService.querySelectorAll(n,this)},e.prototype.closest=function(n){var r=this;do{if(X.sceneGraphService.matches(n,r))return r;r=r.parentElement}while(r!==null);return null},e.prototype.find=function(n){var r=this,i=null;return this.forEach(function(a){return a!==r&&n(a)?(i=a,!0):!1}),i},e.prototype.findAll=function(n){var r=this,i=[];return this.forEach(function(a){a!==r&&n(a)&&i.push(a)}),i},e.prototype.after=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(this.parentNode){var a=this.parentNode.childNodes.indexOf(this);r.forEach(function(o,s){var l;return(l=n.parentNode)===null||l===void 0?void 0:l.appendChild(o,a+s+1)})}},e.prototype.before=function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(this.parentNode){var a=this.parentNode.childNodes.indexOf(this),o=et(r),s=o[0],l=o.slice(1);this.parentNode.appendChild(s,a),(n=s).after.apply(n,_t([],et(l),!1))}},e.prototype.replaceWith=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.after.apply(this,_t([],et(n),!1)),this.remove()},e.prototype.append=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];r.forEach(function(a){return n.appendChild(a)})},e.prototype.prepend=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];r.forEach(function(a,o){return n.appendChild(a,o)})},e.prototype.replaceChildren=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,_t([],et(n),!1))},e.prototype.remove=function(){return this.parentNode?this.parentNode.removeChild(this):this},e.prototype.destroy=function(){this.dispatchEvent(kot),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0},e.prototype.getGeometryBounds=function(){return X.sceneGraphService.getGeometryBounds(this)},e.prototype.getRenderBounds=function(){return X.sceneGraphService.getBounds(this,!0)},e.prototype.getBounds=function(){return X.sceneGraphService.getBounds(this)},e.prototype.getLocalBounds=function(){return X.sceneGraphService.getLocalBounds(this)},e.prototype.getBoundingClientRect=function(){return X.sceneGraphService.getBoundingClientRect(this)},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.computedStyleMap=function(){return new Map(Object.entries(this.computedStyle))},e.prototype.getAttributeNames=function(){return Object.keys(this.attributes)},e.prototype.getAttribute=function(n){if(dit(n))return X.enableCSSParsing?null:void 0;var r=this.attributes[n];if(r===void 0){if(X.enableAttributeDashCased){var i=Sx(n);r=this.attributes[i]}return X.enableCSSParsing&&Ot(r)?null:r}else return r},e.prototype.hasAttribute=function(n){return this.getAttributeNames().includes(n)},e.prototype.hasAttributes=function(){return!!this.getAttributeNames().length},e.prototype.removeAttribute=function(n){this.setAttribute(n,null),delete this.attributes[n]},e.prototype.setAttribute=function(n,r,i,a){this.attributes[n]=r},e.prototype.getAttributeNS=function(n,r){throw new Error(re)},e.prototype.getAttributeNode=function(n){throw new Error(re)},e.prototype.getAttributeNodeNS=function(n,r){throw new Error(re)},e.prototype.hasAttributeNS=function(n,r){throw new Error(re)},e.prototype.removeAttributeNS=function(n,r){throw new Error(re)},e.prototype.removeAttributeNode=function(n){throw new Error(re)},e.prototype.setAttributeNS=function(n,r,i){throw new Error(re)},e.prototype.setAttributeNode=function(n){throw new Error(re)},e.prototype.setAttributeNodeNS=function(n){throw new Error(re)},e.prototype.toggleAttribute=function(n,r){throw new Error(re)},e}(vn);function Vt(t){return!!(t!=null&&t.nodeName)}var PP=X.globalThis.Proxy?X.globalThis.Proxy:function(){},la=new $s(Ct.ATTR_MODIFIED,null,null,null,null,$s.MODIFICATION,null,null),Dot={opacity:"",fillOpacity:"",strokeOpacity:"",fill:"",stroke:"",transform:"",transformOrigin:"",visibility:"",pointerEvents:"",lineWidth:"",lineCap:"",lineJoin:"",increasedLineWidthForHitTesting:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",zIndex:"",filter:"",shadowType:""},Iot={fill:Jv,stroke:Jv,transform:[],zIndex:0,filter:[],shadowType:"outer",miterLimit:10},Rot=["opacity","fillOpacity","strokeOpacity","transformOrigin","visibility","pointerEvents","lineWidth","lineCap","lineJoin","increasedLineWidthForHitTesting"],Not=_t(_t([],et(Rot),!1),["fontSize","fontFamily","fontStyle","fontWeight","fontVariant","textAlign","textBaseline","textTransform"],!1),CP="data-",jn=function(t){Et(e,t);function e(n){var r=t.call(this)||this;return r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=n,r.id=r.config.id||"",r.name=r.config.name||"",(r.config.className||r.config.class)&&(r.className=r.config.className||r.config.class),r.nodeName=r.config.type||q.GROUP,X.enableCSSParsing?(Object.assign(r.attributes,Dot),Object.assign(r.parsedStyle,Iot,r.config.initialParsedStyle)):r.config.initialParsedStyle&&Object.assign(r.parsedStyle,r.config.initialParsedStyle),r.initAttributes(r.config.style),X.enableDataset&&(r.dataset=new PP({},{get:function(i,a){var o="".concat(CP).concat(uP(a));return i[o]!==void 0?i[o]:r.getAttribute(o)},set:function(i,a,o){return r.setAttribute("".concat(CP).concat(uP(a)),o),!0}})),X.enableStyleSyntax&&(r.style=new PP({setProperty:function(i,a){r.setAttribute(i,a)},getPropertyValue:function(i){return r.getAttribute(i)},removeProperty:function(i){r.removeAttribute(i)},item:function(){return""}},{get:function(i,a){return i[a]!==void 0?i[a]:r.getAttribute(a)},set:function(i,a,o){return r.setAttribute(a,o),!0}})),r}return e.prototype.destroy=function(){t.prototype.destroy.call(this),this.getAnimations().forEach(function(n){n.cancel()})},e.prototype.cloneNode=function(n,r){var i=bt({},this.attributes);for(var a in i){var o=i[a];Vt(o)&&a!=="clipPath"&&a!=="offsetPath"&&a!=="textPath"&&(i[a]=o.cloneNode(n)),r&&(i[a]=r(a,o))}var s=new this.constructor({id:this.id,name:this.name,className:this.name,interactive:this.interactive,style:i});return s.setLocalTransform(this.getLocalTransform()),n&&this.children.forEach(function(l){if(!l.style.isMarker){var c=l.cloneNode(n);s.appendChild(c)}}),s},e.prototype.initAttributes=function(n){n===void 0&&(n={});var r=this.renderable,i={forceUpdateGeometry:!0};X.enableCSSParsing&&(i.usedAttributes=Not);var a=n;if(X.enableAttributeDashCased){a={};for(var o in n){var s=Sx(o);a[s]=n[o]}}X.styleValueRegistry.processProperties(this,a,i),r.dirty=!0},e.prototype.setAttribute=function(n,r,i,a){i===void 0&&(i=!1),a===void 0&&(a=!0),X.enableAttributeDashCased&&(n=Sx(n)),!he(r)&&(i||r!==this.attributes[n])&&(this.internalSetAttribute(n,r,{memoize:a}),t.prototype.setAttribute.call(this,n,r))},e.prototype.internalSetAttribute=function(n,r,i){var a;i===void 0&&(i={});var o=this.renderable,s=this.attributes[n],l=this.parsedStyle[n];X.styleValueRegistry.processProperties(this,(a={},a[n]=r,a),i),o.dirty=!0;var c=this.parsedStyle[n];this.isConnected&&(la.relatedNode=this,la.prevValue=s,la.newValue=r,la.attrName=n,la.prevParsedValue=l,la.newParsedValue=c,this.isMutationObserved?this.dispatchEvent(la):(la.target=this,this.ownerDocument.defaultView.dispatchEvent(la,!0))),(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&this.attributeChangedCallback&&this.attributeChangedCallback(n,s,r,l,c)},e.prototype.getBBox=function(){var n=this.getBounds(),r=et(n.getMin(),2),i=r[0],a=r[1],o=et(n.getMax(),2),s=o[0],l=o[1];return new js(i,a,s-i,l-a)},e.prototype.setOrigin=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),X.sceneGraphService.setOrigin(this,Hn(n,r,i)),this},e.prototype.getOrigin=function(){return X.sceneGraphService.getOrigin(this)},e.prototype.setPosition=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),X.sceneGraphService.setPosition(this,Hn(n,r,i)),this},e.prototype.setLocalPosition=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),X.sceneGraphService.setLocalPosition(this,Hn(n,r,i)),this},e.prototype.translate=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),X.sceneGraphService.translate(this,Hn(n,r,i)),this},e.prototype.translateLocal=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),X.sceneGraphService.translateLocal(this,Hn(n,r,i)),this},e.prototype.getPosition=function(){return X.sceneGraphService.getPosition(this)},e.prototype.getLocalPosition=function(){return X.sceneGraphService.getLocalPosition(this)},e.prototype.scale=function(n,r,i){return this.scaleLocal(n,r,i)},e.prototype.scaleLocal=function(n,r,i){return typeof n=="number"&&(r=r||n,i=i||n,n=Hn(n,r,i)),X.sceneGraphService.scaleLocal(this,n),this},e.prototype.setLocalScale=function(n,r,i){return typeof n=="number"&&(r=r||n,i=i||n,n=Hn(n,r,i)),X.sceneGraphService.setLocalScale(this,n),this},e.prototype.getLocalScale=function(){return X.sceneGraphService.getLocalScale(this)},e.prototype.getScale=function(){return X.sceneGraphService.getScale(this)},e.prototype.getEulerAngles=function(){var n=et(Xm(Bt(),X.sceneGraphService.getWorldTransform(this)),3),r=n[2];return Gr(r)},e.prototype.getLocalEulerAngles=function(){var n=et(Xm(Bt(),X.sceneGraphService.getLocalRotation(this)),3),r=n[2];return Gr(r)},e.prototype.setEulerAngles=function(n){return X.sceneGraphService.setEulerAngles(this,0,0,n),this},e.prototype.setLocalEulerAngles=function(n){return X.sceneGraphService.setLocalEulerAngles(this,0,0,n),this},e.prototype.rotateLocal=function(n,r,i){return Ot(r)&&Ot(i)?X.sceneGraphService.rotateLocal(this,0,0,n):X.sceneGraphService.rotateLocal(this,n,r,i),this},e.prototype.rotate=function(n,r,i){return Ot(r)&&Ot(i)?X.sceneGraphService.rotate(this,0,0,n):X.sceneGraphService.rotate(this,n,r,i),this},e.prototype.setRotation=function(n,r,i,a){return X.sceneGraphService.setRotation(this,n,r,i,a),this},e.prototype.setLocalRotation=function(n,r,i,a){return X.sceneGraphService.setLocalRotation(this,n,r,i,a),this},e.prototype.setLocalSkew=function(n,r){return X.sceneGraphService.setLocalSkew(this,n,r),this},e.prototype.getRotation=function(){return X.sceneGraphService.getRotation(this)},e.prototype.getLocalRotation=function(){return X.sceneGraphService.getLocalRotation(this)},e.prototype.getLocalSkew=function(){return X.sceneGraphService.getLocalSkew(this)},e.prototype.getLocalTransform=function(){return X.sceneGraphService.getLocalTransform(this)},e.prototype.getWorldTransform=function(){return X.sceneGraphService.getWorldTransform(this)},e.prototype.setLocalTransform=function(n){return X.sceneGraphService.setLocalTransform(this,n),this},e.prototype.resetLocalTransform=function(){X.sceneGraphService.resetLocalTransform(this)},e.prototype.getAnimations=function(){return this.activeAnimations},e.prototype.animate=function(n,r){var i,a=(i=this.ownerDocument)===null||i===void 0?void 0:i.timeline;return a?a.play(this,n,r):null},e.prototype.isVisible=function(){var n,r;return X.enableCSSParsing?((n=this.parsedStyle)===null||n===void 0?void 0:n.visibility)==="visible":((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"},Object.defineProperty(e.prototype,"interactive",{get:function(){return this.isInteractive()},set:function(n){this.style.pointerEvents=n?"auto":"none"},enumerable:!1,configurable:!0}),e.prototype.isInteractive=function(){var n;return((n=this.parsedStyle)===null||n===void 0?void 0:n.pointerEvents)!=="none"},e.prototype.isCulled=function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)},e.prototype.toFront=function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,_t([],et(this.parentNode.children.map(function(n){return Number(n.style.zIndex)})),!1))+1),this},e.prototype.toBack=function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,_t([],et(this.parentNode.children.map(function(n){return Number(n.style.zIndex)})),!1))-1),this},e.prototype.getConfig=function(){return this.config},e.prototype.attr=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=et(r,2),o=a[0],s=a[1];return o?As(o)?(Object.keys(o).forEach(function(l){n.setAttribute(l,o[l])}),this):r.length===2?(this.setAttribute(o,s),this):this.attributes[o]:this.attributes},e.prototype.getMatrix=function(n){var r=n||this.getWorldTransform(),i=et(zv(Bt(),r),2),a=i[0],o=i[1],s=et(dc(Bt(),r),2),l=s[0],c=s[1],u=$v(an(),r),f=et(Xm(Bt(),u),3),h=f[0],d=f[2];return Krt(h||d,a,o,l,c)},e.prototype.getLocalMatrix=function(){return this.getMatrix(this.getLocalTransform())},e.prototype.setMatrix=function(n){var r=et(aP(n),5),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4];this.setEulerAngles(l).setPosition(i,a).setLocalScale(o,s)},e.prototype.setLocalMatrix=function(n){var r=et(aP(n),5),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4];this.setLocalEulerAngles(l).setLocalPosition(i,a).setLocalScale(o,s)},e.prototype.show=function(){X.enableCSSParsing?this.style.visibility="visible":this.forEach(function(n){n.style.visibility="visible"})},e.prototype.hide=function(){X.enableCSSParsing?this.style.visibility="hidden":this.forEach(function(n){n.style.visibility="hidden"})},e.prototype.getCount=function(){return this.childElementCount},e.prototype.getParent=function(){return this.parentElement},e.prototype.getChildren=function(){return this.children},e.prototype.getFirst=function(){return this.firstElementChild},e.prototype.getLast=function(){return this.lastElementChild},e.prototype.getChildByIndex=function(n){return this.children[n]||null},e.prototype.add=function(n,r){return this.appendChild(n,r)},e.prototype.set=function(n,r){this.config[n]=r},e.prototype.get=function(n){return this.config[n]},e.prototype.moveTo=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),this.setPosition(n,r,i),this},e.prototype.move=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),this.setPosition(n,r,i),this},e.prototype.setZIndex=function(n){return this.style.zIndex=n,this},e}(Lot),Ao=function(t){Et(e,t);function e(n){return n===void 0&&(n={}),t.call(this,bt({type:q.CIRCLE},n))||this}return e}(jn),zw=function(t){Et(e,t);function e(n){n===void 0&&(n={});var r=this,i=n.style,a=qs(n,["style"]);return r=t.call(this,bt({style:X.enableCSSParsing?bt({},i):bt({},i)},a))||this,r.isCustomElement=!0,r}return e}(jn),$w=function(t){Et(e,t);function e(n){return n===void 0&&(n={}),t.call(this,bt({type:q.ELLIPSE},n))||this}return e}(jn),mn=function(t){Et(e,t);function e(n){return n===void 0&&(n={}),t.call(this,bt({type:q.GROUP},n))||this}return e}(jn),N0=function(t){Et(e,t);function e(n){n===void 0&&(n={});var r=this,i=n.style,a=qs(n,["style"]);return r=t.call(this,bt({type:q.HTML,style:X.enableCSSParsing?bt({x:"",y:"",width:"auto",height:"auto",innerHTML:""},i):bt({},i)},a))||this,r.cullable.enable=!1,r}return e.prototype.getDomElement=function(){return this.parsedStyle.$el},e.prototype.getBoundingClientRect=function(){if(this.parsedStyle.$el)return this.parsedStyle.$el.getBoundingClientRect();var n=this.parsedStyle,r=n.x,i=n.y,a=n.width,o=n.height;return new js(r,i,a,o)},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.getBounds=function(){var n,r,i=this.getBoundingClientRect(),a=(r=(n=this.ownerDocument)===null||n===void 0?void 0:n.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect(),o=new Ze,s=i.left-((a==null?void 0:a.left)||0),l=i.top-((a==null?void 0:a.top)||0);return o.setMinMax([s,l,0],[s+i.width,l+i.height,0]),o},e.prototype.getLocalBounds=function(){if(this.parentNode){var n=yi(Qt(),this.parentNode.getWorldTransform()),r=this.getBounds();if(!Ze.isEmpty(r)){var i=new Ze;return i.setFromTransformedAABB(r,n),i}}return this.getBounds()},e}(jn),Gw=function(t){Et(e,t);function e(n){return n===void 0&&(n={}),t.call(this,bt({type:q.IMAGE},n))||this}return e}(jn),qc=function(t){Et(e,t);function e(n){n===void 0&&(n={});var r=this,i=n.style,a=qs(n,["style"]);r=t.call(this,bt({type:q.LINE,style:bt({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a))||this,r.markerStartAngle=0,r.markerEndAngle=0;var o=r.parsedStyle,s=o.markerStart,l=o.markerEnd;return s&&Vt(s)&&(r.markerStartAngle=s.getLocalEulerAngles(),r.appendChild(s)),l&&Vt(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return e.prototype.attributeChangedCallback=function(n,r,i,a,o){n==="x1"||n==="y1"||n==="x2"||n==="y2"||n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(a&&Vt(a)&&(this.markerStartAngle=0,a.remove()),o&&Vt(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"&&(a&&Vt(a)&&(this.markerEndAngle=0,a.remove()),o&&Vt(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1)))},e.prototype.transformMarker=function(n){var r=this.parsedStyle,i=r.markerStart,a=r.markerEnd,o=r.markerStartOffset,s=r.markerEndOffset,l=r.x1,c=r.x2,u=r.y1,f=r.y2,h=n?i:a;if(!(!h||!Vt(h))){var d=0,p,v,g,y,m,b;n?(g=l,y=u,p=c-l,v=f-u,m=o||0,b=this.markerStartAngle):(g=c,y=f,p=l-c,v=u-f,m=s||0,b=this.markerEndAngle),d=Math.atan2(v,p),h.setLocalEulerAngles(d*180/Math.PI+b),h.setLocalPosition(g+Math.cos(d)*m,y+Math.sin(d)*m)}},e.prototype.getPoint=function(n,r){r===void 0&&(r=!1);var i=this.parsedStyle,a=i.x1,o=i.y1,s=i.x2,l=i.y2,c=T4(a,o,s,l,n),u=c.x,f=c.y,h=cn(Bt(),Xt(u,f,0),r?this.getWorldTransform():this.getLocalTransform());return new Mn(h[0],h[1])},e.prototype.getPointAtLength=function(n,r){return r===void 0&&(r=!1),this.getPoint(n/this.getTotalLength(),r)},e.prototype.getTotalLength=function(){var n=this.parsedStyle,r=n.x1,i=n.y1,a=n.x2,o=n.y2;return M4(r,i,a,o)},e}(jn),Qn=function(t){Et(e,t);function e(n){n===void 0&&(n={});var r=this,i=n.style,a=qs(n,["style"]);r=t.call(this,bt({type:q.PATH,style:X.enableCSSParsing?bt({d:"",miterLimit:""},i):bt({},i),initialParsedStyle:X.enableCSSParsing?null:{miterLimit:4,d:bt({},k4)}},a))||this,r.markerStartAngle=0,r.markerEndAngle=0,r.markerMidList=[];var o=r.parsedStyle,s=o.markerStart,l=o.markerEnd,c=o.markerMid;return s&&Vt(s)&&(r.markerStartAngle=s.getLocalEulerAngles(),r.appendChild(s)),c&&Vt(c)&&r.placeMarkerMid(c),l&&Vt(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return e.prototype.attributeChangedCallback=function(n,r,i,a,o){n==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(a&&Vt(a)&&(this.markerStartAngle=0,a.remove()),o&&Vt(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"?(a&&Vt(a)&&(this.markerEndAngle=0,a.remove()),o&&Vt(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):n==="markerMid"&&this.placeMarkerMid(o)},e.prototype.transformMarker=function(n){var r=this.parsedStyle,i=r.markerStart,a=r.markerEnd,o=r.markerStartOffset,s=r.markerEndOffset,l=n?i:a;if(!(!l||!Vt(l))){var c=0,u,f,h,d,p,v;if(n){var g=et(this.getStartTangent(),2),y=g[0],m=g[1];h=m[0],d=m[1],u=y[0]-m[0],f=y[1]-m[1],p=o||0,v=this.markerStartAngle}else{var b=et(this.getEndTangent(),2),y=b[0],m=b[1];h=m[0],d=m[1],u=y[0]-m[0],f=y[1]-m[1],p=s||0,v=this.markerEndAngle}c=Math.atan2(f,u),l.setLocalEulerAngles(c*180/Math.PI+v),l.setLocalPosition(h+Math.cos(c)*p,d+Math.sin(c)*p)}},e.prototype.placeMarkerMid=function(n){var r=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(c){c.remove()}),n&&Vt(n))for(var i=1;i<r.length-1;i++){var a=et(r[i].currentPoint,2),o=a[0],s=a[1],l=i===1?n:n.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(o,s)}},e.prototype.getTotalLength=function(){return Ax(this)},e.prototype.getPointAtLength=function(n,r){r===void 0&&(r=!1);var i=this.parsedStyle.d.absolutePath,a=ett(i,n),o=a.x,s=a.y,l=cn(Bt(),Xt(o,s,0),r?this.getWorldTransform():this.getLocalTransform());return new Mn(l[0],l[1])},e.prototype.getPoint=function(n,r){return r===void 0&&(r=!1),this.getPointAtLength(n*Ax(this),r)},e.prototype.getStartTangent=function(){var n=this.parsedStyle.d.segments,r=[];if(n.length>1){var i=n[0].currentPoint,a=n[1].currentPoint,o=n[1].startTangent;r=[],o?(r.push([i[0]-o[0],i[1]-o[1]]),r.push([i[0],i[1]])):(r.push([a[0],a[1]]),r.push([i[0],i[1]]))}return r},e.prototype.getEndTangent=function(){var n=this.parsedStyle.d.segments,r=n.length,i=[];if(r>1){var a=n[r-2].currentPoint,o=n[r-1].currentPoint,s=n[r-1].endTangent;i=[],s?(i.push([o[0]-s[0],o[1]-s[1]]),i.push([o[0],o[1]])):(i.push([a[0],a[1]]),i.push([o[0],o[1]]))}return i},e}(jn),B0=function(t){Et(e,t);function e(n){n===void 0&&(n={});var r=this,i=n.style,a=qs(n,["style"]);r=t.call(this,bt({type:q.POLYGON,style:X.enableCSSParsing?bt({points:"",miterLimit:"",isClosed:!0},i):bt({},i),initialParsedStyle:X.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a))||this,r.markerStartAngle=0,r.markerEndAngle=0,r.markerMidList=[];var o=r.parsedStyle,s=o.markerStart,l=o.markerEnd,c=o.markerMid;return s&&Vt(s)&&(r.markerStartAngle=s.getLocalEulerAngles(),r.appendChild(s)),c&&Vt(c)&&r.placeMarkerMid(c),l&&Vt(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return e.prototype.attributeChangedCallback=function(n,r,i,a,o){n==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(a&&Vt(a)&&(this.markerStartAngle=0,a.remove()),o&&Vt(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"?(a&&Vt(a)&&(this.markerEndAngle=0,a.remove()),o&&Vt(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):n==="markerMid"&&this.placeMarkerMid(o)},e.prototype.transformMarker=function(n){var r=this.parsedStyle,i=r.markerStart,a=r.markerEnd,o=r.markerStartOffset,s=r.markerEndOffset,l=r.points,c=(l||{}).points,u=n?i:a;if(!(!u||!Vt(u)||!c)){var f=0,h,d,p,v,g,y;if(p=c[0][0],v=c[0][1],n)h=c[1][0]-c[0][0],d=c[1][1]-c[0][1],g=o||0,y=this.markerStartAngle;else{var m=c.length;this.parsedStyle.isClosed?(h=c[m-1][0]-c[0][0],d=c[m-1][1]-c[0][1]):(p=c[m-1][0],v=c[m-1][1],h=c[m-2][0]-c[m-1][0],d=c[m-2][1]-c[m-1][1]),g=s||0,y=this.markerEndAngle}f=Math.atan2(d,h),u.setLocalEulerAngles(f*180/Math.PI+y),u.setLocalPosition(p+Math.cos(f)*g,v+Math.sin(f)*g)}},e.prototype.placeMarkerMid=function(n){var r=this.parsedStyle.points,i=(r||{}).points;if(this.markerMidList.forEach(function(c){c.remove()}),this.markerMidList=[],n&&Vt(n)&&i)for(var a=1;a<(this.parsedStyle.isClosed?i.length:i.length-1);a++){var o=i[a][0],s=i[a][1],l=a===1?n:n.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(o,s)}},e}(jn),Ww=function(t){Et(e,t);function e(n){n===void 0&&(n={});var r=n.style,i=qs(n,["style"]);return t.call(this,bt({type:q.POLYLINE,style:X.enableCSSParsing?bt({points:"",miterLimit:"",isClosed:!1},r):bt({},r),initialParsedStyle:X.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i))||this}return e.prototype.getTotalLength=function(){return jit(this)},e.prototype.getPointAtLength=function(n,r){return r===void 0&&(r=!1),this.getPoint(n/this.getTotalLength(),r)},e.prototype.getPoint=function(n,r){r===void 0&&(r=!1);var i=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var a=[],o=0,s,l,c=this.getTotalLength();i.forEach(function(g,y){i[y+1]&&(s=[0,0],s[0]=o/c,l=M4(g[0],g[1],i[y+1][0],i[y+1][1]),o+=l,s[1]=o/c,a.push(s))}),this.parsedStyle.points.segments=a}var u=0,f=0;this.parsedStyle.points.segments.forEach(function(g,y){n>=g[0]&&n<=g[1]&&(u=(n-g[0])/(g[1]-g[0]),f=y)});var h=T4(i[f][0],i[f][1],i[f+1][0],i[f+1][1],u),d=h.x,p=h.y,v=cn(Bt(),Xt(d,p,0),r?this.getWorldTransform():this.getLocalTransform());return new Mn(v[0],v[1])},e.prototype.getStartTangent=function(){var n=this.parsedStyle.points.points,r=[];return r.push([n[1][0],n[1][1]]),r.push([n[0][0],n[0][1]]),r},e.prototype.getEndTangent=function(){var n=this.parsedStyle.points.points,r=n.length-1,i=[];return i.push([n[r-1][0],n[r-1][1]]),i.push([n[r][0],n[r][1]]),i},e}(B0),tl=function(t){Et(e,t);function e(n){return n===void 0&&(n={}),t.call(this,bt({type:q.RECT},n))||this}return e}(jn),Ki=function(t){Et(e,t);function e(n){n===void 0&&(n={});var r=n.style,i=qs(n,["style"]);return t.call(this,bt({type:q.TEXT,style:X.enableCSSParsing?bt({x:"",y:"",text:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",fill:"black",letterSpacing:"",lineHeight:"",miterLimit:"",wordWrap:!1,wordWrapWidth:0,leading:0,dx:"",dy:""},r):bt({fill:"black"},r)},i))||this}return e.prototype.getComputedTextLength=function(){var n;return this.getGeometryBounds(),((n=this.parsedStyle.metrics)===null||n===void 0?void 0:n.maxLineWidth)||0},e.prototype.getLineBoundingRects=function(){var n;return this.getGeometryBounds(),((n=this.parsedStyle.metrics)===null||n===void 0?void 0:n.lineMetrics)||[]},e.prototype.isOverflowing=function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing},e}(jn),Bot=function(){function t(){this.registry={},this.define(q.CIRCLE,Ao),this.define(q.ELLIPSE,$w),this.define(q.RECT,tl),this.define(q.IMAGE,Gw),this.define(q.LINE,qc),this.define(q.GROUP,mn),this.define(q.PATH,Qn),this.define(q.POLYGON,B0),this.define(q.POLYLINE,Ww),this.define(q.TEXT,Ki),this.define(q.HTML,N0)}return t.prototype.define=function(e,n){this.registry[e]=n},t.prototype.get=function(e){return this.registry[e]},t}(),Q4={number:function(t){return new ie(t)},percent:function(t){return new ie(t,"%")},px:function(t){return new ie(t,"px")},em:function(t){return new ie(t,"em")},rem:function(t){return new ie(t,"rem")},deg:function(t){return new ie(t,"deg")},grad:function(t){return new ie(t,"grad")},rad:function(t){return new ie(t,"rad")},turn:function(t){return new ie(t,"turn")},s:function(t){return new ie(t,"s")},ms:function(t){return new ie(t,"ms")},registerProperty:function(t){var e=t.name,n=t.inherits,r=t.interpolable,i=t.initialValue,a=t.syntax;X.styleValueRegistry.registerMetadata({n:e,inh:n,int:r,d:i,syntax:a})},registerLayout:function(t,e){X.layoutRegistry.registerLayout(t,e)}},Fot=function(t){Et(e,t);function e(){var n=t.call(this)||this;n.defaultView=null,n.ownerDocument=null,n.nodeName="document";try{n.timeline=new X.AnimationTimeline(n)}catch{}var r={};return Fw.forEach(function(i){var a=i.n,o=i.inh,s=i.d;o&&s&&(r[a]=Gl(s)?s(q.GROUP):s)}),n.documentElement=new mn({id:"g-root",style:r}),n.documentElement.ownerDocument=n,n.documentElement.parentNode=n,n.childNodes=[n.documentElement],n}return Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),e.prototype.createElement=function(n,r){if(n==="svg")return this.documentElement;var i=this.defaultView.customElements.get(n);i||(console.warn("Unsupported tagName: ",n),i=n==="tspan"?Ki:mn);var a=new i(r);return a.ownerDocument=this,a},e.prototype.createElementNS=function(n,r,i){return this.createElement(r,i)},e.prototype.cloneNode=function(n){throw new Error(re)},e.prototype.destroy=function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}},e.prototype.elementsFromBBox=function(n,r,i,a){var o=this.defaultView.context.rBushRoot,s=o.search({minX:n,minY:r,maxX:i,maxY:a}),l=[];return s.forEach(function(c){var u=c.displayObject,f=u.parsedStyle.pointerEvents,h=f===void 0?"auto":f,d=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(h);(!d||d&&u.isVisible())&&!u.isCulled()&&u.isInteractive()&&l.push(u)}),l.sort(function(c,u){return u.sortable.renderOrder-c.sortable.renderOrder}),l},e.prototype.elementFromPointSync=function(n,r){var i=this.defaultView.canvas2Viewport({x:n,y:r}),a=i.x,o=i.y,s=this.defaultView.getConfig(),l=s.width,c=s.height;if(a<0||o<0||a>l||o>c)return null;var u=this.defaultView.viewport2Client({x:a,y:o}),f=u.x,h=u.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:n,y:r,viewportX:a,viewportY:o,clientX:f,clientY:h},picked:[]}).picked;return d&&d[0]||this.documentElement},e.prototype.elementFromPoint=function(n,r){return pc(this,void 0,void 0,function(){var i,a,o,s,l,c,u,f,h,d;return vc(this,function(p){switch(p.label){case 0:return i=this.defaultView.canvas2Viewport({x:n,y:r}),a=i.x,o=i.y,s=this.defaultView.getConfig(),l=s.width,c=s.height,a<0||o<0||a>l||o>c?[2,null]:(u=this.defaultView.viewport2Client({x:a,y:o}),f=u.x,h=u.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:n,y:r,viewportX:a,viewportY:o,clientX:f,clientY:h},picked:[]})]);case 1:return d=p.sent().picked,[2,d&&d[0]||this.documentElement]}})})},e.prototype.elementsFromPointSync=function(n,r){var i=this.defaultView.canvas2Viewport({x:n,y:r}),a=i.x,o=i.y,s=this.defaultView.getConfig(),l=s.width,c=s.height;if(a<0||o<0||a>l||o>c)return[];var u=this.defaultView.viewport2Client({x:a,y:o}),f=u.x,h=u.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:n,y:r,viewportX:a,viewportY:o,clientX:f,clientY:h},picked:[]}).picked;return d[d.length-1]!==this.documentElement&&d.push(this.documentElement),d},e.prototype.elementsFromPoint=function(n,r){return pc(this,void 0,void 0,function(){var i,a,o,s,l,c,u,f,h,d;return vc(this,function(p){switch(p.label){case 0:return i=this.defaultView.canvas2Viewport({x:n,y:r}),a=i.x,o=i.y,s=this.defaultView.getConfig(),l=s.width,c=s.height,a<0||o<0||a>l||o>c?[2,[]]:(u=this.defaultView.viewport2Client({x:a,y:o}),f=u.x,h=u.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:n,y:r,viewportX:a,viewportY:o,clientX:f,clientY:h},picked:[]})]);case 1:return d=p.sent().picked,d[d.length-1]!==this.documentElement&&d.push(this.documentElement),[2,d]}})})},e.prototype.appendChild=function(n,r){throw new Error(wl)},e.prototype.insertBefore=function(n,r){throw new Error(wl)},e.prototype.removeChild=function(n,r){throw new Error(wl)},e.prototype.replaceChild=function(n,r,i){throw new Error(wl)},e.prototype.append=function(){throw new Error(wl)},e.prototype.prepend=function(){throw new Error(wl)},e.prototype.getElementById=function(n){return this.documentElement.getElementById(n)},e.prototype.getElementsByName=function(n){return this.documentElement.getElementsByName(n)},e.prototype.getElementsByTagName=function(n){return this.documentElement.getElementsByTagName(n)},e.prototype.getElementsByClassName=function(n){return this.documentElement.getElementsByClassName(n)},e.prototype.querySelector=function(n){return this.documentElement.querySelector(n)},e.prototype.querySelectorAll=function(n){return this.documentElement.querySelectorAll(n)},e.prototype.find=function(n){return this.documentElement.find(n)},e.prototype.findAll=function(n){return this.documentElement.findAll(n)},e}(vn),jot=function(){function t(e){this.strategies=e}return t.prototype.apply=function(e){var n=e.camera,r=e.renderingService,i=e.renderingContext,a=this.strategies;r.hooks.cull.tap(t.tag,function(o){if(o){var s=o.cullable;return a.length===0?s.visible=i.unculledEntities.indexOf(o.entity)>-1:s.visible=a.every(function(l){return l.isVisible(n,o)}),!o.isCulled()&&o.isVisible()?o:(o.dispatchEvent(new le(Ct.CULLED)),null)}return o}),r.hooks.afterRender.tap(t.tag,function(o){o.cullable.visibilityPlaneMask=-1})},t.tag="Culling",t}(),zot=function(){function t(){var e=this;this.autoPreventDefault=!1,this.rootPointerEvent=new Lx(null),this.rootWheelEvent=new Dx(null),this.onPointerMove=function(n){var r,i,a,o,s=(o=(a=e.context.renderingContext.root)===null||a===void 0?void 0:a.ownerDocument)===null||o===void 0?void 0:o.defaultView;if(!(s.supportsTouchEvents&&n.pointerType==="touch")){var l=e.normalizeToPointerEvent(n,s);try{for(var c=Ja(l),u=c.next();!u.done;u=c.next()){var f=u.value,h=e.bootstrapEvent(e.rootPointerEvent,f,s,n);e.context.eventService.mapEvent(h)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}e.setCursor(e.context.eventService.cursor)}},this.onClick=function(n){var r,i,a,o,s=(o=(a=e.context.renderingContext.root)===null||a===void 0?void 0:a.ownerDocument)===null||o===void 0?void 0:o.defaultView,l=e.normalizeToPointerEvent(n,s);try{for(var c=Ja(l),u=c.next();!u.done;u=c.next()){var f=u.value,h=e.bootstrapEvent(e.rootPointerEvent,f,s,n);e.context.eventService.mapEvent(h)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}e.setCursor(e.context.eventService.cursor)}}return t.prototype.apply=function(e){var n=this;this.context=e;var r=e.renderingService,i=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(a){var o=n.context.renderingService.hooks.pickSync.call({position:a,picked:[],topmost:!0}).picked;return o[0]||null}),r.hooks.pointerWheel.tap(t.tag,function(a){var o=n.normalizeWheelEvent(a);n.context.eventService.mapEvent(o)}),r.hooks.pointerDown.tap(t.tag,function(a){var o,s;if(!(i.supportsTouchEvents&&a.pointerType==="touch")){var l=n.normalizeToPointerEvent(a,i);if(n.autoPreventDefault&&l[0].isNormalized){var c=a.cancelable||!("cancelable"in a);c&&a.preventDefault()}try{for(var u=Ja(l),f=u.next();!f.done;f=u.next()){var h=f.value,d=n.bootstrapEvent(n.rootPointerEvent,h,i,a);n.context.eventService.mapEvent(d)}}catch(p){o={error:p}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}n.setCursor(n.context.eventService.cursor)}}),r.hooks.pointerUp.tap(t.tag,function(a){var o,s;if(!(i.supportsTouchEvents&&a.pointerType==="touch")){var l=n.context.contextService.getDomElement(),c=n.context.eventService.isNativeEventFromCanvas(l,a),u=c?"":"outside",f=n.normalizeToPointerEvent(a,i);try{for(var h=Ja(f),d=h.next();!d.done;d=h.next()){var p=d.value,v=n.bootstrapEvent(n.rootPointerEvent,p,i,a);v.type+=u,n.context.eventService.mapEvent(v)}}catch(g){o={error:g}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}n.setCursor(n.context.eventService.cursor)}}),r.hooks.pointerMove.tap(t.tag,this.onPointerMove),r.hooks.pointerOver.tap(t.tag,this.onPointerMove),r.hooks.pointerOut.tap(t.tag,this.onPointerMove),r.hooks.click.tap(t.tag,this.onClick),r.hooks.pointerCancel.tap(t.tag,function(a){var o,s,l=n.normalizeToPointerEvent(a,i);try{for(var c=Ja(l),u=c.next();!u.done;u=c.next()){var f=u.value,h=n.bootstrapEvent(n.rootPointerEvent,f,i,a);n.context.eventService.mapEvent(h)}}catch(d){o={error:d}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}n.setCursor(n.context.eventService.cursor)})},t.prototype.bootstrapEvent=function(e,n,r,i){e.view=r,e.originalEvent=null,e.nativeEvent=i,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n);var a=this.context.eventService.client2Viewport({x:n.clientX,y:n.clientY}),o=a.x,s=a.y;e.viewport.x=o,e.viewport.y=s;var l=this.context.eventService.viewport2Canvas(e.viewport),c=l.x,u=l.y;return e.canvas.x=c,e.canvas.y=u,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=i.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Iat[e.type]||e.type),e},t.prototype.normalizeWheelEvent=function(e){var n=this.rootWheelEvent;this.transferMouseData(n,e),n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ;var r=this.context.eventService.client2Viewport({x:e.clientX,y:e.clientY}),i=r.x,a=r.y;n.viewport.x=i,n.viewport.y=a;var o=this.context.eventService.viewport2Canvas(n.viewport),s=o.x,l=o.y;return n.canvas.x=s,n.canvas.y=l,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.nativeEvent=e,n.type=e.type,n},t.prototype.transferMouseData=function(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=kx.now(),e.type=n.type,e.altKey=n.altKey,e.metaKey=n.metaKey,e.shiftKey=n.shiftKey,e.ctrlKey=n.ctrlKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.screen.x=n.screenX,e.screen.y=n.screenY,e.relatedTarget=null},t.prototype.setCursor=function(e){this.context.contextService.applyCursorStyle(e||this.context.config.cursor||"default")},t.prototype.normalizeToPointerEvent=function(e,n){var r=[];if(n.isTouchEvent(e))for(var i=0;i<e.changedTouches.length;i++){var a=e.changedTouches[i];he(a.button)&&(a.button=0),he(a.buttons)&&(a.buttons=1),he(a.isPrimary)&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),he(a.width)&&(a.width=a.radiusX||1),he(a.height)&&(a.height=a.radiusY||1),he(a.tiltX)&&(a.tiltX=0),he(a.tiltY)&&(a.tiltY=0),he(a.pointerType)&&(a.pointerType="touch"),he(a.pointerId)&&(a.pointerId=a.identifier||0),he(a.pressure)&&(a.pressure=a.force||.5),he(a.twist)&&(a.twist=0),he(a.tangentialPressure)&&(a.tangentialPressure=0),a.isNormalized=!0,a.type=e.type,r.push(a)}else if(n.isMouseEvent(e)){var o=e;he(o.isPrimary)&&(o.isPrimary=!0),he(o.width)&&(o.width=1),he(o.height)&&(o.height=1),he(o.tiltX)&&(o.tiltX=0),he(o.tiltY)&&(o.tiltY=0),he(o.pointerType)&&(o.pointerType="mouse"),he(o.pointerId)&&(o.pointerId=Dat),he(o.pressure)&&(o.pressure=.5),he(o.twist)&&(o.twist=0),he(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,r.push(o)}else r.push(e);return r},t.tag="Event",t}(),$ot=[q.CIRCLE,q.ELLIPSE,q.IMAGE,q.RECT,q.LINE,q.POLYLINE,q.POLYGON,q.TEXT,q.PATH,q.HTML],Got=function(){function t(){}return t.prototype.isVisible=function(e,n){var r,i,a=n.cullable;if(!a.enable)return!0;var o=n.getRenderBounds();if(Ze.isEmpty(o))return!1;var s=e.getFrustum(),l=(i=(r=n.parentNode)===null||r===void 0?void 0:r.cullable)===null||i===void 0?void 0:i.visibilityPlaneMask;return a.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(n,o,l||qa.INDETERMINATE,s.planes),a.visible=a.visibilityPlaneMask!==qa.OUTSIDE,a.visible},t.prototype.computeVisibilityWithPlaneMask=function(e,n,r,i){if(r===qa.OUTSIDE||r===qa.INSIDE)return r;for(var a=qa.INSIDE,o=$ot.indexOf(e.nodeName)>-1,s=0,l=i.length;s<l;++s){var c=1<<s;if(r&c&&!(o&&(s===4||s===5))){var u=i[s],f=u.normal,h=u.distance;if(zi(f,n.getPositiveFarPoint(i[s]))+h<0)return qa.OUTSIDE;zi(f,n.getNegativeFarPoint(i[s]))+h<0&&(a|=c)}}return a},t}(),Wot=function(){function t(){this.toSync=new Set,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return t.prototype.apply=function(e){var n=this,r,i=e.renderingService,a=e.renderingContext,o=e.rBushRoot,s=a.root.ownerDocument.defaultView;this.rBush=o;var l=function(d){var p=d.target;p.renderable.dirty=!0,i.dirtify()},c=function(d){var p=d.detail.affectChildren,v=d.target;p&&v.forEach(function(y){n.toSync.add(y)});for(var g=v;g;)g.renderable&&n.toSync.add(g),g=g.parentElement;i.dirtify()},u=function(d){var p=d.target;X.enableSizeAttenuation&&X.styleValueRegistry.updateSizeAttenuation(p,s.getCamera().getZoom()),X.enableCSSParsing&&X.styleValueRegistry.recalc(p),X.sceneGraphService.dirtifyToRoot(p),i.dirtify()},f=function(d){var p=d.target,v=p.rBushNode;v.aabb&&n.rBush.remove(v.aabb),n.toSync.delete(p),X.sceneGraphService.dirtifyToRoot(p),i.dirtify()};i.hooks.init.tap(t.tag,function(){s.addEventListener(Ct.MOUNTED,u),s.addEventListener(Ct.UNMOUNTED,f),s.addEventListener(Ct.ATTR_MODIFIED,l),s.addEventListener(Ct.BOUNDS_CHANGED,c)}),i.hooks.destroy.tap(t.tag,function(){s.removeEventListener(Ct.MOUNTED,u),s.removeEventListener(Ct.UNMOUNTED,f),s.removeEventListener(Ct.ATTR_MODIFIED,l),s.removeEventListener(Ct.BOUNDS_CHANGED,c),n.toSync.clear()});var h=(r=X.globalThis.requestIdleCallback)!==null&&r!==void 0?r:jw.bind(X.globalThis);i.hooks.endFrame.tap(t.tag,function(){n.isFirstTimeRendering?(n.isFirstTimeRendering=!1,n.syncing=!0,h(function(){n.syncRTree(!0),n.isFirstTimeRenderingFinished=!0})):n.syncRTree()})},t.prototype.syncRTree=function(e){var n=this;if(e===void 0&&(e=!1),!(!e&&(this.syncing||this.toSync.size===0))){this.syncing=!0;var r=[];Array.from(this.toSync).filter(function(i){return i.isConnected}).forEach(function(i){var a=i.rBushNode;a&&a.aabb&&n.rBush.remove(a.aabb);var o=i.getRenderBounds();if(o){var s=i.renderable;e&&(s.dirtyRenderBounds||(s.dirtyRenderBounds=new Ze),s.dirtyRenderBounds.update(o.center,o.halfExtents));var l=et(o.getMin(),2),c=l[0],u=l[1],f=et(o.getMax(),2),h=f[0],d=f[1];a.aabb||(a.aabb={}),a.aabb.displayObject=i,a.aabb.minX=c,a.aabb.minY=u,a.aabb.maxX=h,a.aabb.maxY=d}a.aabb&&!isNaN(a.aabb.maxX)&&!isNaN(a.aabb.maxX)&&!isNaN(a.aabb.minX)&&!isNaN(a.aabb.minY)&&r.push(a.aabb)}),this.rBush.load(r),r.length=0,this.toSync.clear(),this.syncing=!1}},t.tag="Prepare",t}(),hr;(function(t){t.READY="ready",t.BEFORE_RENDER="beforerender",t.RERENDER="rerender",t.AFTER_RENDER="afterrender",t.BEFORE_DESTROY="beforedestroy",t.AFTER_DESTROY="afterdestroy",t.RESIZE="resize",t.DIRTY_RECTANGLE="dirtyrectangle",t.RENDERER_CHANGED="rendererchanged"})(hr||(hr={}));var kP=500,Hot=.1,Yot=1e3,n1=new le(Ct.MOUNTED),r1=new le(Ct.UNMOUNTED),LP=new le(hr.BEFORE_RENDER),Vot=new le(hr.RERENDER),DP=new le(hr.AFTER_RENDER),J4=function(t){Et(e,t);function e(n){var r=t.call(this)||this;r.Element=jn,r.inited=!1,r.context={},r.document=new Fot,r.document.defaultView=r,r.customElements=new Bot;var i=n.container,a=n.canvas,o=n.offscreenCanvas,s=n.width,l=n.height,c=n.devicePixelRatio,u=n.renderer,f=n.background,h=n.cursor,d=n.document,p=n.requestAnimationFrame,v=n.cancelAnimationFrame,g=n.createImage,y=n.supportsPointerEvents,m=n.supportsTouchEvents,b=n.supportsCSSTransform,x=n.supportsMutipleCanvasesInOneContainer,_=n.useNativeClickEvent,w=n.alwaysTriggerPointerEventOnCanvas,S=n.isTouchEvent,O=n.isMouseEvent;x||Aat(i,r);var M=s,T=l,A=c;return a&&(A=c||Kh&&window.devicePixelRatio||1,A=A>=1?Math.ceil(A):1,M=s||kat(a)||a.width/A,T=l||Lat(a)||a.height/A),o&&(X.offscreenCanvas=o),r.devicePixelRatio=A,r.requestAnimationFrame=p??jw.bind(X.globalThis),r.cancelAnimationFrame=v??U4.bind(X.globalThis),r.supportsTouchEvents=m??"ontouchstart"in X.globalThis,r.supportsPointerEvents=y??!!X.globalThis.PointerEvent,r.isTouchEvent=S??function(P){return r.supportsTouchEvents&&P instanceof X.globalThis.TouchEvent},r.isMouseEvent=O??function(P){return!X.globalThis.MouseEvent||P instanceof X.globalThis.MouseEvent&&(!r.supportsPointerEvents||!(P instanceof X.globalThis.PointerEvent))},r.initRenderingContext({container:i,canvas:a,width:M,height:T,renderer:u,offscreenCanvas:o,devicePixelRatio:A,cursor:h||"default",background:f||"transparent",createImage:g,document:d,supportsCSSTransform:b,useNativeClickEvent:_,alwaysTriggerPointerEventOnCanvas:w}),r.initDefaultCamera(M,T,u.clipSpaceNearZ),r.initRenderer(u,!0),r}return e.prototype.initRenderingContext=function(n){this.context.config=n,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}},e.prototype.initDefaultCamera=function(n,r,i){var a=this,o=new X.CameraContribution;o.clipSpaceNearZ=i,o.setType(Kt.EXPLORING,hh.DEFAULT).setPosition(n/2,r/2,kP).setFocalPoint(n/2,r/2,0).setOrthographic(n/-2,n/2,r/2,r/-2,Hot,Yot),o.canvas=this,o.eventEmitter.on(E4.UPDATED,function(){a.context.renderingContext.renderReasons.add(bo.CAMERA_CHANGED),X.enableSizeAttenuation&&a.getConfig().renderer.getConfig().enableSizeAttenuation&&a.updateSizeAttenuation()}),this.context.camera=o},e.prototype.updateSizeAttenuation=function(){var n=this.getCamera().getZoom();this.document.documentElement.forEach(function(r){X.styleValueRegistry.updateSizeAttenuation(r,n)})},e.prototype.getConfig=function(){return this.context.config},e.prototype.getRoot=function(){return this.document.documentElement},e.prototype.getCamera=function(){return this.context.camera},e.prototype.getContextService=function(){return this.context.contextService},e.prototype.getEventService=function(){return this.context.eventService},e.prototype.getRenderingService=function(){return this.context.renderingService},e.prototype.getRenderingContext=function(){return this.context.renderingContext},e.prototype.getStats=function(){return this.getRenderingService().getStats()},Object.defineProperty(e.prototype,"ready",{get:function(){var n=this;return this.readyPromise||(this.readyPromise=new Promise(function(r){n.resolveReadyPromise=function(){r(n)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),e.prototype.destroy=function(n,r){if(n===void 0&&(n=!0),r===void 0&&(r=!1),r||this.dispatchEvent(new le(hr.BEFORE_DESTROY)),this.frameId){var i=this.getConfig().cancelAnimationFrame||cancelAnimationFrame;i(this.frameId)}var a=this.getRoot();this.unmountChildren(a),n&&(this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),n&&this.context.rBushRoot&&(this.context.rBushRoot.clear(),this.context.rBushRoot=null,this.context.renderingContext.root=null),r||this.dispatchEvent(new le(hr.AFTER_DESTROY))},e.prototype.changeSize=function(n,r){this.resize(n,r)},e.prototype.resize=function(n,r){var i=this.context.config;i.width=n,i.height=r,this.getContextService().resize(n,r);var a=this.context.camera,o=a.getProjectionMode();a.setPosition(n/2,r/2,kP).setFocalPoint(n/2,r/2,0),o===ar.ORTHOGRAPHIC?a.setOrthographic(n/-2,n/2,r/2,r/-2,a.getNear(),a.getFar()):a.setAspect(n/r),this.dispatchEvent(new le(hr.RESIZE,{width:n,height:r}))},e.prototype.appendChild=function(n,r){return this.document.documentElement.appendChild(n,r)},e.prototype.insertBefore=function(n,r){return this.document.documentElement.insertBefore(n,r)},e.prototype.removeChild=function(n){return this.document.documentElement.removeChild(n)},e.prototype.removeChildren=function(){this.document.documentElement.removeChildren()},e.prototype.destroyChildren=function(){this.document.documentElement.destroyChildren()},e.prototype.render=function(n){var r=this;n&&(LP.detail=n,DP.detail=n),this.dispatchEvent(LP);var i=this.getRenderingService();i.render(this.getConfig(),n,function(){r.dispatchEvent(Vot)}),this.dispatchEvent(DP)},e.prototype.run=function(){var n=this,r=function(i,a){n.render(a),n.frameId=n.requestAnimationFrame(r)};r()},e.prototype.initRenderer=function(n,r){var i=this;if(r===void 0&&(r=!1),!n)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new Hrt,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new zot,new Wot,new jot([new Got])),this.loadRendererContainerModule(n),this.context.contextService=new this.context.ContextService(bt(bt({},X),this.context)),this.context.renderingService=new fot(X,this.context),this.context.eventService=new cot(X,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(n,r,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(n,r)})},e.prototype.initRenderingService=function(n,r,i){var a=this;r===void 0&&(r=!1),i===void 0&&(i=!1),this.context.renderingService.init(function(){a.inited=!0,r?i?a.requestAnimationFrame(function(){a.dispatchEvent(new le(hr.READY))}):a.dispatchEvent(new le(hr.READY)):a.dispatchEvent(new le(hr.RENDERER_CHANGED)),a.readyPromise&&a.resolveReadyPromise(),r||a.getRoot().forEach(function(o){var s=o.renderable;s&&(s.renderBoundsDirty=!0,s.boundsDirty=!0,s.dirty=!0)}),a.mountChildren(a.getRoot()),n.getConfig().enableAutoRendering&&a.run()})},e.prototype.loadRendererContainerModule=function(n){var r=this,i=n.getPlugins();i.forEach(function(a){a.context=r.context,a.init(X)})},e.prototype.setRenderer=function(n){var r=this.getConfig();if(r.renderer!==n){var i=r.renderer;r.renderer=n,this.destroy(!1,!0),_t([],et(i==null?void 0:i.getPlugins()),!1).reverse().forEach(function(a){a.destroy(X)}),this.initRenderer(n)}},e.prototype.setCursor=function(n){var r=this.getConfig();r.cursor=n,this.getContextService().applyCursorStyle(n)},e.prototype.unmountChildren=function(n){var r=this;n.childNodes.forEach(function(i){r.unmountChildren(i)}),this.inited&&(n.isMutationObserved?n.dispatchEvent(r1):(r1.target=n,this.dispatchEvent(r1,!0)),n!==this.document.documentElement&&(n.ownerDocument=null),n.isConnected=!1),n.isCustomElement&&n.disconnectedCallback&&n.disconnectedCallback()},e.prototype.mountChildren=function(n){var r=this;this.inited?n.isConnected||(n.ownerDocument=this.document,n.isConnected=!0,n.isMutationObserved?n.dispatchEvent(n1):(n1.target=n,this.dispatchEvent(n1,!0))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",n.nodeName),n.childNodes.forEach(function(i){r.mountChildren(i)}),n.isCustomElement&&n.connectedCallback&&n.connectedCallback()},e.prototype.client2Viewport=function(n){return this.getEventService().client2Viewport(n)},e.prototype.viewport2Client=function(n){return this.getEventService().viewport2Client(n)},e.prototype.viewport2Canvas=function(n){return this.getEventService().viewport2Canvas(n)},e.prototype.canvas2Viewport=function(n){return this.getEventService().canvas2Viewport(n)},e.prototype.getPointByClient=function(n,r){return this.client2Viewport({x:n,y:r})},e.prototype.getClientByPoint=function(n,r){return this.viewport2Client({x:n,y:r})},e}(K4),Xot=function(t){Et(e,t);function e(){var n=t.apply(this,_t([],et(arguments),!1))||this;return n.landmarks=[],n}return e.prototype.rotate=function(n,r,i){if(this.relElevation=nc(r),this.relAzimuth=nc(n),this.relRoll=nc(i),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===Kt.EXPLORING){var a=oo(an(),[1,0,0],oe((this.rotateWorld?1:-1)*this.relElevation)),o=oo(an(),[0,1,0],oe((this.rotateWorld?1:-1)*this.relAzimuth)),s=oo(an(),[0,0,1],oe(this.relRoll)),l=vo(an(),o,a);l=vo(an(),l,s);var c=ew(Qt(),l);Ql(this.matrix,this.matrix,[0,0,-this.distance]),Nn(this.matrix,this.matrix,c),Ql(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===Kt.ORBITING||this.type===Kt.EXPLORING?this._getPosition():this.type===Kt.TRACKING&&this._getFocalPoint(),this._update(),this},e.prototype.pan=function(n,r){var i=Hn(n,r,0),a=da(this.position);return Jl(a,a,tx(Bt(),this.right,i[0])),Jl(a,a,tx(Bt(),this.up,i[1])),this._setPosition(a),this.triggerUpdate(),this},e.prototype.dolly=function(n){var r=this.forward,i=da(this.position),a=n*this.dollyingStep,o=this.distance+n*this.dollyingStep;return a=Math.max(Math.min(o,this.maxDistance),this.minDistance)-this.distance,i[0]+=a*r[0],i[1]+=a*r[1],i[2]+=a*r[2],this._setPosition(i),this.type===Kt.ORBITING||this.type===Kt.EXPLORING?this._getDistance():this.type===Kt.TRACKING&&Jl(this.focalPoint,i,this.distanceVector),this.triggerUpdate(),this},e.prototype.cancelLandmarkAnimation=function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)},e.prototype.createLandmark=function(n,r){var i,a,o,s;r===void 0&&(r={});var l=r.position,c=l===void 0?this.position:l,u=r.focalPoint,f=u===void 0?this.focalPoint:u,h=r.roll,d=r.zoom,p=new X.CameraContribution;p.setType(this.type,void 0),p.setPosition(c[0],(i=c[1])!==null&&i!==void 0?i:this.position[1],(a=c[2])!==null&&a!==void 0?a:this.position[2]),p.setFocalPoint(f[0],(o=f[1])!==null&&o!==void 0?o:this.focalPoint[1],(s=f[2])!==null&&s!==void 0?s:this.focalPoint[2]),p.setRoll(h??this.roll),p.setZoom(d??this.zoom);var v={name:n,matrix:tw(p.getWorldTransform()),right:da(p.right),up:da(p.up),forward:da(p.forward),position:da(p.getPosition()),focalPoint:da(p.getFocalPoint()),distanceVector:da(p.getDistanceVector()),distance:p.getDistance(),dollyingStep:p.getDollyingStep(),azimuth:p.getAzimuth(),elevation:p.getElevation(),roll:p.getRoll(),relAzimuth:p.relAzimuth,relElevation:p.relElevation,relRoll:p.relRoll,zoom:p.getZoom()};return this.landmarks.push(v),v},e.prototype.gotoLandmark=function(n,r){var i=this;r===void 0&&(r={});var a=Ye(n)?this.landmarks.find(function(T){return T.name===n}):n;if(a){var o=we(r)?{duration:r}:r,s=o.easing,l=s===void 0?"linear":s,c=o.duration,u=c===void 0?100:c,f=o.easingFunction,h=f===void 0?void 0:f,d=o.onfinish,p=d===void 0?void 0:d,v=o.onframe,g=v===void 0?void 0:v,y=.01;this.cancelLandmarkAnimation();var m=a.position,b=a.focalPoint,x=a.zoom,_=a.roll,w=h||X.EasingFunction(l),S,O=function(){i.setFocalPoint(b),i.setPosition(m),i.setRoll(_),i.setZoom(x),i.computeMatrix(),i.triggerUpdate(),p==null||p()};if(u===0)return O();var M=function(T){S===void 0&&(S=T);var A=T-S;if(A>=u){O();return}var P=w(A/u),E=Bt(),C=Bt(),k=1,L=0;ex(E,i.focalPoint,b,P),ex(C,i.position,m,P),L=i.roll*(1-P)+_*P,k=i.zoom*(1-P)+x*P,i.setFocalPoint(E),i.setPosition(C),i.setRoll(L),i.setZoom(k);var R=vE(E,b)+vE(C,m);if(R<=y&&x==null&&_==null)return O();i.computeMatrix(),i.triggerUpdate(),A<u&&(g==null||g(P),i.landmarkAnimationID=i.canvas.requestAnimationFrame(M))};this.canvas.requestAnimationFrame(M)}},e}(P4);X.CameraContribution=Xot;var i1=function(t){Et(e,t);function e(n,r,i,a){var o=t.call(this,n)||this;return o.currentTime=i,o.timelineTime=a,o.target=r,o.type="finish",o.bubbles=!1,o.currentTarget=r,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=i,o.timelineTime=a,o}return e}(R0),Uot=0,qot=function(){function t(e,n){var r;this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=e,e.animation=this,this.timeline=n,this.id="".concat(Uot++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((r=this.effect)===null||r===void 0?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return Object.defineProperty(t.prototype,"pending",{get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playState",{get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){var e=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(n,r){e.resolveReadyPromise=function(){n(e)},e.rejectReadyPromise=function(){r(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finished",{get:function(){var e=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(n,r){e.resolveFinishedPromise=function(){n(e)},e.rejectFinishedPromise=function(){r(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(e){var n;e=Number(e),!isNaN(e)&&(this.timeline.restart(),!this._paused&&this._startTime!==null&&(this._startTime=Number((n=this.timeline)===null||n===void 0?void 0:n.currentTime)-e/this.playbackRate),this.currentTimePending=!1,this._currentTime!==e&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(e,!0),this.timeline.applyDirtiedAnimation(this)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},set:function(e){if(e!==null){if(this.updatePromises(),e=Number(e),isNaN(e)||this._paused||this._idle)return;this._startTime=e,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(e){if(e!==this._playbackRate){this.updatePromises();var n=this.currentTime;this._playbackRate=e,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),n!==null&&(this.currentTime=n),this.updatePromises()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_isFinished",{get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalDuration",{get:function(){return this._totalDuration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_needsTick",{get:function(){return this.pending||this.playState==="running"||!this._finishedFlag},enumerable:!1,configurable:!0}),t.prototype.updatePromises=function(){var e=this.oldPlayState,n=this.pending?"pending":this.playState;return this.readyPromise&&n!==e&&(n==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):e==="pending"?this.resolveReadyPromise():n==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&n!==e&&(n==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):n==="finished"?this.resolveFinishedPromise():e==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=n,this.readyPromise||this.finishedPromise},t.prototype.play=function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()},t.prototype.pause=function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()},t.prototype.finish=function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())},t.prototype.cancel=function(){var e=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var n=new i1(null,this,this.currentTime,null);setTimeout(function(){e.oncancel(n)})}},t.prototype.reverse=function(){this.updatePromises();var e=this.currentTime;this.playbackRate*=-1,this.play(),e!==null&&(this.currentTime=e),this.updatePromises()},t.prototype.updatePlaybackRate=function(e){this.playbackRate=e},t.prototype.targetAnimations=function(){var e,n=(e=this.effect)===null||e===void 0?void 0:e.target;return n.getAnimations()},t.prototype.markTarget=function(){var e=this.targetAnimations();e.indexOf(this)===-1&&e.push(this)},t.prototype.unmarkTarget=function(){var e=this.targetAnimations(),n=e.indexOf(this);n!==-1&&e.splice(n,1)},t.prototype.tick=function(e,n){!this._idle&&!this._paused&&(this._startTime===null?n&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((e-this._startTime)*this.playbackRate)),n&&(this.currentTimePending=!1,this.fireEvents(e))},t.prototype.rewind=function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")},t.prototype.persist=function(){throw new Error(re)},t.prototype.addEventListener=function(e,n,r){throw new Error(re)},t.prototype.removeEventListener=function(e,n,r){throw new Error(re)},t.prototype.dispatchEvent=function(e){throw new Error(re)},t.prototype.commitStyles=function(){throw new Error(re)},t.prototype.ensureAlive=function(){var e,n;this.playbackRate<0&&this.currentTime===0?this._inEffect=!!(!((e=this.effect)===null||e===void 0)&&e.update(-1)):this._inEffect=!!(!((n=this.effect)===null||n===void 0)&&n.update(this.currentTime)),!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))},t.prototype.tickCurrentTime=function(e,n){e!==this._currentTime&&(this._currentTime=e,this._isFinished&&!n&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())},t.prototype.fireEvents=function(e){var n=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var r=new i1(null,this,this.currentTime,e);setTimeout(function(){n.onfinish&&n.onfinish(r)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var i=new i1(null,this,this.currentTime,e);this.onframe(i)}this._finishedFlag=!1}},t}(),Zot=4,Kot=.001,Qot=1e-7,Jot=10,Yu=11,sp=1/(Yu-1),tst=typeof Float32Array=="function",tB=function(t,e){return 1-3*e+3*t},eB=function(t,e){return 3*e-6*t},nB=function(t){return 3*t},ig=function(t,e,n){return((tB(e,n)*t+eB(e,n))*t+nB(e))*t},rB=function(t,e,n){return 3*tB(e,n)*t*t+2*eB(e,n)*t+nB(e)},est=function(t,e,n,r,i){var a,o,s=0;do o=e+(n-e)/2,a=ig(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>Qot&&++s<Jot);return o},nst=function(t,e,n,r){for(var i=0;i<Zot;++i){var a=rB(e,n,r);if(a===0)return e;var o=ig(e,n,r)-t;e-=o/a}return e},Hw=function(t,e,n,r){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&n===r)return function(s){return s};for(var i=tst?new Float32Array(Yu):new Array(Yu),a=0;a<Yu;++a)i[a]=ig(a*sp,t,n);var o=function(s){for(var l=0,c=1,u=Yu-1;c!==u&&i[c]<=s;++c)l+=sp;--c;var f=(s-i[c])/(i[c+1]-i[c]),h=l+f*sp,d=rB(h,t,n);return d>=Kot?nst(s,h,t,n):d===0?h:est(s,l,l+sp,t,n)};return function(s){return s===0||s===1?s:ig(o(s),e,r)}},rst=function(t){return t=t.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}),t.charAt(0)==="-"?t.substring(1):t},lp=function(t){return Math.pow(t,2)},cp=function(t){return Math.pow(t,3)},up=function(t){return Math.pow(t,4)},fp=function(t){return Math.pow(t,5)},hp=function(t){return Math.pow(t,6)},dp=function(t){return 1-Math.cos(t*Math.PI/2)},pp=function(t){return 1-Math.sqrt(1-t*t)},vp=function(t){return t*t*(3*t-2)},gp=function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((e*3-2)/22-t,2)},yp=function(t,e){e===void 0&&(e=[]);var n=et(e,2),r=n[0],i=r===void 0?1:r,a=n[1],o=a===void 0?.5:a,s=We(Number(i),1,10),l=We(Number(o),.1,2);return t===0||t===1?t:-s*Math.pow(2,10*(t-1))*Math.sin((t-1-l/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/l)},Cu=function(t,e,n){e===void 0&&(e=[]);var r=et(e,4),i=r[0],a=i===void 0?1:i,o=r[1],s=o===void 0?100:o,l=r[2],c=l===void 0?10:l,u=r[3],f=u===void 0?0:u;a=We(a,.1,1e3),s=We(s,.1,1e3),c=We(c,.1,1e3),f=We(f,.1,1e3);var h=Math.sqrt(s/a),d=c/(2*Math.sqrt(s*a)),p=d<1?h*Math.sqrt(1-d*d):0,v=1,g=d<1?(d*h+-f)/p:-f+h,y=n?n*t/1e3:t;return d<1?y=Math.exp(-y*d*h)*(v*Math.cos(p*y)+g*Math.sin(p*y)):y=(v+g*y)*Math.exp(-y*h),t===0||t===1?t:1-y},a1=function(t,e){e===void 0&&(e=[]);var n=et(e,2),r=n[0],i=r===void 0?10:r,a=n[1],o=a=="start"?Math.ceil:Math.floor;return o(We(t,0,1)*i)/i},IP=function(t,e){e===void 0&&(e=[]);var n=et(e,4),r=n[0],i=n[1],a=n[2],o=n[3];return Hw(r,i,a,o)(t)},mp=Hw(.42,0,1,1),Dr=function(t){return function(e,n,r){return n===void 0&&(n=[]),1-t(1-e,n,r)}},Ir=function(t){return function(e,n,r){return n===void 0&&(n=[]),e<.5?t(e*2,n,r)/2:1-t(e*-2+2,n,r)/2}},Rr=function(t){return function(e,n,r){return n===void 0&&(n=[]),e<.5?(1-t(1-e*2,n,r))/2:(t(e*2-1,n,r)+1)/2}},RP={steps:a1,"step-start":function(t){return a1(t,[1,"start"])},"step-end":function(t){return a1(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":IP,ease:function(t){return IP(t,[.25,.1,.25,1])},in:mp,out:Dr(mp),"in-out":Ir(mp),"out-in":Rr(mp),"in-quad":lp,"out-quad":Dr(lp),"in-out-quad":Ir(lp),"out-in-quad":Rr(lp),"in-cubic":cp,"out-cubic":Dr(cp),"in-out-cubic":Ir(cp),"out-in-cubic":Rr(cp),"in-quart":up,"out-quart":Dr(up),"in-out-quart":Ir(up),"out-in-quart":Rr(up),"in-quint":fp,"out-quint":Dr(fp),"in-out-quint":Ir(fp),"out-in-quint":Rr(fp),"in-expo":hp,"out-expo":Dr(hp),"in-out-expo":Ir(hp),"out-in-expo":Rr(hp),"in-sine":dp,"out-sine":Dr(dp),"in-out-sine":Ir(dp),"out-in-sine":Rr(dp),"in-circ":pp,"out-circ":Dr(pp),"in-out-circ":Ir(pp),"out-in-circ":Rr(pp),"in-back":vp,"out-back":Dr(vp),"in-out-back":Ir(vp),"out-in-back":Rr(vp),"in-bounce":gp,"out-bounce":Dr(gp),"in-out-bounce":Ir(gp),"out-in-bounce":Rr(gp),"in-elastic":yp,"out-elastic":Dr(yp),"in-out-elastic":Ir(yp),"out-in-elastic":Rr(yp),spring:Cu,"spring-in":Cu,"spring-out":Dr(Cu),"spring-in-out":Ir(Cu),"spring-out-in":Rr(Cu)},ist=function(t){return rst(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},ast=function(t){return RP[ist(t)]||RP.linear},ost=function(t){return t},sst=1,lst=.5,NP=0;function BP(t,e){return function(n){if(n>=1)return 1;var r=1/t;return n+=e*r,n-n%r}}var bp="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",cst=new RegExp("cubic-bezier\\("+bp+","+bp+","+bp+","+bp+"\\)"),ust=/steps\(\s*(\d+)\s*\)/,fst=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Yw(t){var e=cst.exec(t);if(e)return Hw.apply(void 0,_t([],et(e.slice(1).map(Number)),!1));var n=ust.exec(t);if(n)return BP(Number(n[1]),NP);var r=fst.exec(t);return r?BP(Number(r[1]),{start:sst,middle:lst,end:NP}[r[2]]):ast(t)}function hst(t){return Math.abs(dst(t)/(t.playbackRate||1))}function dst(t){var e;return t.duration===0||t.iterations===0?0:(t.duration==="auto"?0:Number(t.duration))*((e=t.iterations)!==null&&e!==void 0?e:1)}var iB=0,Vw=1,F0=2,aB=3;function pst(t,e,n){if(e===null)return iB;var r=n.endTime;return e<Math.min(n.delay,r)?Vw:e>=Math.min(n.delay+t+n.endDelay,r)?F0:aB}function vst(t,e,n,r,i){switch(r){case Vw:return e==="backwards"||e==="both"?0:null;case aB:return n-i;case F0:return e==="forwards"||e==="both"?t:null;case iB:return null}}function gst(t,e,n,r,i){var a=i;return t===0?e!==Vw&&(a+=n):a+=r/t,a}function yst(t,e,n,r,i,a){var o=t===1/0?e%1:t%1;return o===0&&n===F0&&r!==0&&(i!==0||a===0)&&(o=1),o}function mst(t,e,n,r){return t===F0&&e===1/0?1/0:n===1?Math.floor(r)-1:Math.floor(r)}function bst(t,e,n){var r=t;if(t!=="normal"&&t!=="reverse"){var i=e;t==="alternate-reverse"&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return r==="normal"?n:1-n}function xst(t,e,n){var r=pst(t,e,n),i=vst(t,n.fill,e,r,n.delay);if(i===null)return null;var a=n.duration==="auto"?0:n.duration,o=gst(a,r,n.iterations,i,n.iterationStart),s=yst(o,n.iterationStart,r,n.iterations,i,a),l=mst(r,n.iterations,s,o),c=bst(n.direction,l,s);return n.currentIteration=l,n.progress=c,n.easingFunction(c)}function _st(t,e,n){var r=wst(t,e),i=Sst(r,n);return function(a,o){if(o!==null)i.filter(function(l){return o>=l.applyFrom&&o<l.applyTo}).forEach(function(l){var c=o-l.startOffset,u=l.endOffset-l.startOffset,f=u===0?0:c/u;a.setAttribute(l.property,l.interpolation(f),!1,!1)});else for(var s in r)oB(s)&&a.setAttribute(s,null)}}function oB(t){return t!=="offset"&&t!=="easing"&&t!=="composite"&&t!=="computedOffset"}function wst(t,e){for(var n={},r=0;r<t.length;r++)for(var i in t[r])if(oB(i)){var a={offset:t[r].offset,computedOffset:t[r].computedOffset,easing:t[r].easing,easingFunction:Yw(t[r].easing)||e.easingFunction,value:t[r][i]};n[i]=n[i]||[],n[i].push(a)}return n}function Sst(t,e){var n=[];for(var r in t)for(var i=t[r],a=0;a<i.length-1;a++){var o=a,s=a+1,l=i[o].computedOffset,c=i[s].computedOffset,u=l,f=c;a===0&&(u=-1/0,c===0&&(s=o)),a===i.length-2&&(f=1/0,l===1&&(o=s)),n.push({applyFrom:u,applyTo:f,startOffset:i[o].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[o].easingFunction,property:r,interpolation:Ost(r,i[o].value,i[s].value,e)})}return n.sort(function(h,d){return h.startOffset-d.startOffset}),n}var FP=function(t,e,n){return function(r){var i=sB(t,e,r);return!X.enableCSSParsing&&we(i)?i:n(i)}};function Ost(t,e,n,r){var i=Xa[t];if(i&&i.syntax&&i.int){var a=X.styleValueRegistry.getPropertySyntax(i.syntax);if(a){var o=void 0,s=void 0;if(X.enableCSSParsing){var l=X.styleValueRegistry.parseProperty(t,e,r,!1),c=X.styleValueRegistry.parseProperty(t,n,r,!1);o=X.styleValueRegistry.computeProperty(t,l,r,!1),s=X.styleValueRegistry.computeProperty(t,c,r,!1)}else{var u=a.parserWithCSSDisabled;o=u?u(e,r):e,s=u?u(n,r):n}var f=a.mixer(o,s,r);if(f){var h=FP.apply(void 0,_t([],et(f),!1));return function(d){return d===0?e:d===1?n:h(d)}}}}return FP(!1,!0,function(d){return d?n:e})}function sB(t,e,n){if(typeof t=="number"&&typeof e=="number")return t*(1-n)+e*n;if(typeof t=="boolean"&&typeof e=="boolean"||typeof t=="string"&&typeof e=="string")return n<.5?t:e;if(Array.isArray(t)&&Array.isArray(e)){for(var r=t.length,i=e.length,a=Math.max(r,i),o=[],s=0;s<a;s++)o.push(sB(t[s<r?s:r-1],e[s<i?s:i-1],n));return o}throw new Error("Mismatched interpolation arguments "+t+":"+e)}var Mst=function(){function t(){this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=ost,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return Object.defineProperty(t.prototype,"easing",{get:function(){return this._easing},set:function(e){this.easingFunction=Yw(e),this._easing=e},enumerable:!1,configurable:!0}),t}();function Tst(t){var e=[];for(var n in t)if(!(n in["easing","offset","composite"])){var r=t[n];Array.isArray(r)||(r=[r]);for(var i=r.length,a=0;a<i;a++){if(!e[a]){var o={};"offset"in t&&(o.offset=Number(t.offset)),"easing"in t&&(o.easing=t.easing),"composite"in t&&(o.composite=t.composite),e[a]=o}r[a]!==void 0&&r[a]!==null&&(e[a][n]=r[a])}}return e.sort(function(s,l){return(s.computedOffset||0)-(l.computedOffset||0)}),e}function jP(t,e){if(t===null)return[];Array.isArray(t)||(t=Tst(t));for(var n=t.map(function(l){var c={};e!=null&&e.composite&&(c.composite="auto");for(var u in l){var f=l[u];if(u==="offset"){if(f!==null){if(f=Number(f),!isFinite(f))throw new Error("Keyframe offsets must be numbers.");if(f<0||f>1)throw new Error("Keyframe offsets must be between 0 and 1.");c.computedOffset=f}}else if(u==="composite"&&["replace","add","accumulate","auto"].indexOf(f)===-1)throw new Error("".concat(f," compositing is not supported"));c[u]=f}return c.offset===void 0&&(c.offset=null),c.easing===void 0&&(c.easing=(e==null?void 0:e.easing)||"linear"),c.composite===void 0&&(c.composite="auto"),c}),r=!0,i=-1/0,a=0;a<n.length;a++){var o=n[a].offset;if(Ot(o))r=!1;else{if(o<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=o}}n=n.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1});function s(){var l,c,u=n.length;n[u-1].computedOffset=Number((l=n[u-1].offset)!==null&&l!==void 0?l:1),u>1&&(n[0].computedOffset=Number((c=n[0].offset)!==null&&c!==void 0?c:0));for(var f=0,h=Number(n[0].computedOffset),d=1;d<u;d++){var p=n[d].computedOffset;if(!Ot(p)&&!Ot(h)){for(var v=1;v<d-f;v++)n[f+v].computedOffset=h+(Number(p)-h)*v/(d-f);f=d,h=Number(p)}}}return r||s(),n}var Ast="backwards|forwards|both|none".split("|"),Est="reverse|alternate|alternate-reverse".split("|");function Pst(t,e){var n=new Mst;return typeof t=="number"&&!isNaN(t)?n.duration=t:t!==void 0&&Object.keys(t).forEach(function(r){if(t[r]!==void 0&&t[r]!==null&&t[r]!=="auto"){if((typeof n[r]=="number"||r==="duration")&&(typeof t[r]!="number"||isNaN(t[r]))||r==="fill"&&Ast.indexOf(t[r])===-1||r==="direction"&&Est.indexOf(t[r])===-1)return;n[r]=t[r]}}),n}function Cst(t,e){return t=kst(t??{duration:"auto"}),Pst(t)}function kst(t){return typeof t=="number"&&(isNaN(t)?t={duration:"auto"}:t={duration:t}),t}var Lst=function(){function t(e,n,r){var i=this;this.composite="replace",this.iterationComposite="replace",this.target=e,this.timing=Cst(r),this.timing.effect=this,this.timing.activeDuration=hst(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=jP(n,this.timing),this.interpolations=_st(this.normalizedKeyframes,this.timing,this.target);var a=X.globalThis.Proxy;this.computedTiming=a?new a(this.timing,{get:function(o,s){return s==="duration"?o.duration==="auto"?0:o.duration:s==="fill"?o.fill==="auto"?"none":o.fill:s==="localTime"?i.animation&&i.animation.currentTime||null:s==="currentIteration"?!i.animation||i.animation.playState!=="running"?null:o.currentIteration||0:s==="progress"?!i.animation||i.animation.playState!=="running"?null:o.progress||0:o[s]},set:function(){return!0}}):this.timing}return t.prototype.applyInterpolations=function(){this.interpolations(this.target,Number(this.timeFraction))},t.prototype.update=function(e){return e===null?!1:(this.timeFraction=xst(this.timing.activeDuration,e,this.timing),this.timeFraction!==null)},t.prototype.getKeyframes=function(){return this.normalizedKeyframes},t.prototype.setKeyframes=function(e){this.normalizedKeyframes=jP(e)},t.prototype.getComputedTiming=function(){return this.computedTiming},t.prototype.getTiming=function(){return this.timing},t.prototype.updateTiming=function(e){var n=this;Object.keys(e||{}).forEach(function(r){n.timing[r]=e[r]})},t}();function zP(t,e){return Number(t.id)-Number(e.id)}var Dst=function(){function t(e){var n=this;this.document=e,this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(r){n.currentTime=r,n.discardAnimations(),n.animations.length===0?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(r){var i=n.rafCallbacks;n.rafCallbacks=[],r<Number(n.currentTime)&&(r=Number(n.currentTime)),n.animations.sort(zP),n.animations=n.tick(r,!0,n.animations)[0],i.forEach(function(a){a[1](r)}),n.applyPendingEffects()}}return t.prototype.getAnimations=function(){return this.discardAnimations(),this.animations.slice()},t.prototype.isTicking=function(){return this.inTick},t.prototype.play=function(e,n,r){var i=new Lst(e,n,r),a=new qot(i,this);return this.animations.push(a),this.restartWebAnimationsNextTick(),a.updatePromises(),a.play(),a.updatePromises(),a},t.prototype.applyDirtiedAnimation=function(e){var n=this;if(!this.inTick){e.markTarget();var r=e.targetAnimations();r.sort(zP);var i=this.tick(Number(this.currentTime),!1,r.slice())[1];i.forEach(function(a){var o=n.animations.indexOf(a);o!==-1&&n.animations.splice(o,1)}),this.applyPendingEffects()}},t.prototype.restart=function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame},t.prototype.destroy=function(){this.document.defaultView.cancelAnimationFrame(this.frameId)},t.prototype.applyPendingEffects=function(){this.pendingEffects.forEach(function(e){e==null||e.applyInterpolations()}),this.pendingEffects=[]},t.prototype.updateAnimationsPromises=function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(e){return e.updatePromises()})},t.prototype.discardAnimations=function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(e){return e.playState!=="finished"&&e.playState!=="idle"})},t.prototype.restartWebAnimationsNextTick=function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))},t.prototype.rAF=function(e){var n=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([n,e]),n},t.prototype.requestAnimationFrame=function(e){var n=this;return this.rAF(function(r){n.updateAnimationsPromises(),e(r),n.updateAnimationsPromises()})},t.prototype.tick=function(e,n,r){var i,a,o=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=e,this.ticking=!1;var s=[],l=[],c=[],u=[];return r.forEach(function(f){f.tick(e,n),f._inEffect?(l.push(f.effect),f.markTarget()):(s.push(f.effect),f.unmarkTarget()),f._needsTick&&(o.ticking=!0);var h=f._inEffect||f._needsTick;f._inTimeline=h,h?c.push(f):u.push(f)}),(i=this.pendingEffects).push.apply(i,_t([],et(s),!1)),(a=this.pendingEffects).push.apply(a,_t([],et(l),!1)),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[c,u]},t}();X.EasingFunction=Yw;X.AnimationTimeline=Dst;function gt(t){return new ag([t],null,t,t.ownerDocument)}let ag=class wn{constructor(e=null,n=null,r=null,i=null,a=[null,null,null,null,null],o=[],s=[]){this._elements=Array.from(e),this._data=n,this._parent=r,this._document=i,this._enter=a[0],this._update=a[1],this._exit=a[2],this._merge=a[3],this._split=a[4],this._transitions=o,this._facetElements=s}selectAll(e){const n=typeof e=="string"?this._parent.querySelectorAll(e):e;return new wn(n,null,this._elements[0],this._document)}selectFacetAll(e){const n=typeof e=="string"?this._parent.querySelectorAll(e):e;return new wn(this._elements,null,this._parent,this._document,void 0,void 0,n)}select(e){const n=typeof e=="string"?this._parent.querySelectorAll(e)[0]||null:e;return new wn([n],null,n,this._document)}append(e){const n=typeof e=="function"?e:()=>this.createElement(e),r=[];if(this._data!==null){for(let i=0;i<this._data.length;i++){const a=this._data[i],[o,s]=Array.isArray(a)?a:[a,null],l=n(o,i);l.__data__=o,s!==null&&(l.__fromElements__=s),this._parent.appendChild(l),r.push(l)}return new wn(r,null,this._parent,this._document)}else{for(let i=0;i<this._elements.length;i++){const a=this._elements[i],o=a.__data__,s=n(o,i);a.appendChild(s),r.push(s)}return new wn(r,null,r[0],this._document)}}maybeAppend(e,n,r){const i=this._elements[0],a=i.getElementById(e);if(a)return new wn([a],null,this._parent,this._document);const o=typeof n=="string"?this.createElement(n):n();return o.id=e,r&&(o.className=r),i.appendChild(o),new wn([o],null,this._parent,this._document)}data(e,n=i=>i,r=()=>null){const i=[],a=[],o=new Set(this._elements),s=[],l=new Set,c=new Map(this._elements.map((d,p)=>[n(d.__data__,p),d])),u=new Map(this._facetElements.map((d,p)=>[n(d.__data__,p),d])),f=Pe(this._elements,d=>r(d.__data__));for(let d=0;d<e.length;d++){const p=e[d],v=n(p,d),g=r(p,d);if(c.has(v)){const y=c.get(v);y.__data__=p,y.__facet__=!1,a.push(y),o.delete(y),c.delete(v)}else if(u.has(v)){const y=u.get(v);y.__data__=p,y.__facet__=!0,a.push(y),u.delete(v)}else if(f.has(v)){const y=f.get(v);s.push([p,y]);for(const m of y)o.delete(m);f.delete(v)}else if(c.has(g)){const y=c.get(g);y.__toData__?y.__toData__.push(p):y.__toData__=[p],l.add(y),o.delete(y)}else i.push(p)}const h=[new wn([],i,this._parent,this._document),new wn(a,null,this._parent,this._document),new wn(o,null,this._parent,this._document),new wn([],s,this._parent,this._document),new wn(l,null,this._parent,this._document)];return new wn(this._elements,null,this._parent,this._document,h)}merge(e){const n=[...this._elements,...e._elements],r=[...this._transitions,...e._transitions];return new wn(n,null,this._parent,this._document,void 0,r)}createElement(e){if(this._document)return this._document.createElement(e,{});const n=wn.registry[e];return n?new n:gc(`Unknown node type: ${e}`)}join(e=o=>o,n=o=>o,r=o=>o.remove(),i=o=>o,a=o=>o.remove()){const o=e(this._enter),s=n(this._update),l=r(this._exit),c=i(this._merge),u=a(this._split);return s.merge(o).merge(l).merge(c).merge(u)}remove(){for(let e=0;e<this._elements.length;e++){const n=this._transitions[e];if(n){const r=Array.isArray(n)?n:[n];Promise.all(r.map(i=>i.finished)).then(()=>{this._elements[e].remove()})}else this._elements[e].remove()}return new wn([],null,this._parent,this._document,void 0,this._transitions)}each(e){for(let n=0;n<this._elements.length;n++){const r=this._elements[n],i=r.__data__;e(i,n,r)}return this}attr(e,n){const r=typeof n!="function"?()=>n:n;return this.each(function(i,a,o){n!==void 0&&(o[e]=r(i,a,o))})}style(e,n){const r=typeof n!="function"?()=>n:n;return this.each(function(i,a,o){n!==void 0&&(o.style[e]=r(i,a,o))})}transition(e){const n=typeof e!="function"?()=>e:e,{_transitions:r}=this;return this.each(function(i,a,o){r[a]=n(i,a,o)})}on(e,n){return this.each(function(r,i,a){a.addEventListener(e,n)}),this}call(e,...n){return e(this,...n),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}};ag.registry={g:mn,rect:tl,circle:Ao,path:Qn,text:Ki,ellipse:$w,image:Gw,line:qc,polygon:B0,polyline:Ww,html:N0};function xp(t,e,n){return Math.max(e,Math.min(t,n))}function og(t,e=10){return typeof t!="number"||Math.abs(t)<1e-15?t:parseFloat(t.toFixed(e))}function ut(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}function Ist(t,e){return e.forEach((n,r)=>r===0?t.moveTo(n[0],n[1]):t.lineTo(n[0],n[1])),t.closePath(),t}function Rst(t,e,n){const{arrowSize:r}=n,i=typeof r=="string"?+parseFloat(r)/100*Ne(t,e):r,a=Math.PI/6,o=Math.atan2(e[1]-t[1],e[0]-t[0]),s=Math.PI/2-o-a,l=[e[0]-i*Math.sin(s),e[1]-i*Math.cos(s)],c=o-a,u=[e[0]-i*Math.cos(c),e[1]-i*Math.sin(c)];return[l,u]}function vh(t,e,n,r,i){const a=ti($e(r,e))+Math.PI,o=ti($e(r,n))+Math.PI;return t.arc(r[0],r[1],i,a,o,o-a<0),t}function lB(t,e,n,r="y",i="between",a=!1){const o=(g,y)=>g==="y"||g===!0?y?180:90:y?90:0,s=r==="y"||r===!0?n:e,l=o(r,a),c=Zs(s),[u,f]=wa(c,g=>s[g]),h=new xe({domain:[u,f],range:[0,100]}),d=g=>we(s[g])&&!Number.isNaN(s[g])?h.map(s[g]):0,p={between:g=>`${t[g]} ${d(g)}%`,start:g=>g===0?`${t[g]} ${d(g)}%`:`${t[g-1]} ${d(g)}%, ${t[g]} ${d(g)}%`,end:g=>g===t.length-1?`${t[g]} ${d(g)}%`:`${t[g]} ${d(g)}%, ${t[g+1]} ${d(g)}%`},v=c.sort((g,y)=>d(g)-d(y)).map(p[i]||p.between).join(",");return`linear-gradient(${l}deg, ${v})`}function j0(t){const[e,n,r,i]=t;return[i,e,n,r]}function el(t,e,n){const[r,i,,a]=ke(t)?j0(e):e,[o,s]=n,l=t.getCenter(),c=_c($e(r,l)),u=_c($e(i,l)),f=u===c&&o!==s?u+Math.PI*2:u;return{startAngle:c,endAngle:f-c>=0?f:Math.PI*2+f,innerRadius:Ne(a,l),outerRadius:Ne(r,l)}}function Xw(t){const{colorAttribute:e,opacityAttribute:n=e}=t;return`${n}Opacity`}function cB(t,e){if(!ce(t))return"";const n=t.getCenter(),{transform:r}=e;return`translate(${n[0]}, ${n[1]}) ${r||""}`}function Uw(t){if(t.length===1)return t[0];const[[e,n,r=0],[i,a,o=0]]=t;return[(e+i)/2,(n+a)/2,(r+o)/2]}var ov=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function uB(t,e,n,r,i={}){const{inset:a=0,radius:o=0,insetLeft:s=a,insetTop:l=a,insetRight:c=a,insetBottom:u=a,radiusBottomLeft:f=o,radiusBottomRight:h=o,radiusTopLeft:d=o,radiusTopRight:p=o,minWidth:v=-1/0,maxWidth:g=1/0,minHeight:y=-1/0}=i,m=ov(i,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!ce(r)&&!y4(r)){const O=!!ke(r),[M,,T]=O?j0(e):e,[A,P]=M,[E,C]=$e(T,M),k=E>0?A:A+E,L=C>0?P:P+C,R=Math.abs(E),D=Math.abs(C),I=k+s,N=L+l,F=R-(s+c),j=D-(l+u),z=O?xp(F,y,1/0):xp(F,v,g),G=O?xp(j,v,g):xp(j,y,1/0),V=O?I:I-(z-F)/2,Q=O?N-(G-j)/2:N-(G-j);return gt(t.createElement("rect",{})).style("x",V).style("y",Q).style("width",z).style("height",G).style("radius",[d,p,h,f]).call(ut,m).node()}const{y:b,y1:x}=n,_=r.getCenter(),w=el(r,e,[b,x]),S=T0().cornerRadius(o).padAngle(a*Math.PI/180);return gt(t.createElement("path",{})).style("d",S(w)).style("transform",`translate(${_[0]}, ${_[1]})`).style("radius",o).style("inset",a).call(ut,m).node()}const Qh=(t,e)=>{const{colorAttribute:n,opacityAttribute:r="fill",first:i=!0,last:a=!0}=t,o=ov(t,["colorAttribute","opacityAttribute","first","last"]),{coordinate:s,document:l}=e;return(c,u,f)=>{const{color:h,radius:d=0}=f,p=ov(f,["color","radius"]),v=p.lineWidth||1,{stroke:g,radius:y=d,radiusTopLeft:m=y,radiusTopRight:b=y,radiusBottomRight:x=y,radiusBottomLeft:_=y,innerRadius:w=0,innerRadiusTopLeft:S=w,innerRadiusTopRight:O=w,innerRadiusBottomRight:M=w,innerRadiusBottomLeft:T=w,lineWidth:A=n==="stroke"||g?v:0,inset:P=0,insetLeft:E=P,insetRight:C=P,insetBottom:k=P,insetTop:L=P,minWidth:R,maxWidth:D,minHeight:I}=o,N=ov(o,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:F=h,opacity:j}=u,z=[i?m:S,i?b:O,a?x:M,a?_:T],G=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];ke(s)&&G.push(G.shift());const V=Object.assign(Object.assign({radius:y},Object.fromEntries(G.map((Q,Y)=>[Q,z[Y]]))),{inset:P,insetLeft:E,insetRight:C,insetBottom:k,insetTop:L,minWidth:R,maxWidth:D,minHeight:I});return gt(uB(l,c,u,s,V)).call(ut,p).style("fill","transparent").style(n,F).style(Xw(t),j).style("lineWidth",A).style("stroke",g===void 0?F:g).call(ut,N).node()}};Qh.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const nl=(t,e)=>Qh(Object.assign({colorAttribute:"fill"},t),e);nl.props=Object.assign(Object.assign({},Qh.props),{defaultMarker:"square"});const z0=(t,e)=>Qh(Object.assign({colorAttribute:"stroke"},t),e);z0.props=Object.assign(Object.assign({},Qh.props),{defaultMarker:"hollowSquare"});var $P=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Nst(t,e,n){const[r,i,a,o]=t;if(ke(n)){const c=[e?e[0][0]:i[0],i[1]],u=[e?e[3][0]:a[0],a[1]];return[r,c,u,o]}const s=[i[0],e?e[0][1]:i[1]],l=[a[0],e?e[3][1]:a[1]];return[r,s,l,o]}const qw=(t,e)=>{const{adjustPoints:n=Nst}=t,r=$P(t,["adjustPoints"]),{coordinate:i,document:a}=e;return(o,s,l,c)=>{const{index:u}=s,{color:f}=l,h=$P(l,["color"]),d=c[u+1],p=n(o,d,i),v=!!ke(i),[g,y,m,b]=v?j0(p):p,{color:x=f,opacity:_}=s,w=Qs().curve(Aw)([g,y,m,b]);return gt(a.createElement("path",{})).call(ut,h).style("d",w).style("fill",x).style("fillOpacity",_).call(ut,r).node()}};qw.props={defaultMarker:"square"};function Bst(t,e,n){const[r,i,a,o]=t;if(ke(n)){const c=[e?e[0][0]:(i[0]+a[0])/2,i[1]],u=[e?e[3][0]:(i[0]+a[0])/2,a[1]];return[r,c,u,o]}const s=[i[0],e?e[0][1]:(i[1]+a[1])/2],l=[a[0],e?e[3][1]:(i[1]+a[1])/2];return[r,s,l,o]}const fB=(t,e)=>qw(Object.assign({adjustPoints:Bst},t),e);fB.props={defaultMarker:"square"};function Tc(t){const e=typeof t=="function"?t:t.render;return class extends zw{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){e(this)}}}var GP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Fst=Tc(t=>{const{d1:e,d2:n,style1:r,style2:i}=t.attributes,a=t.ownerDocument;gt(t).maybeAppend("line",()=>a.createElement("path",{})).style("d",e).call(ut,r),gt(t).maybeAppend("line1",()=>a.createElement("path",{})).style("d",n).call(ut,i)});function jst(t,e){const n=[],r=[];let i=!1,a=null;for(const o of t)!e(o[0])||!e(o[1])?i=!0:(n.push(o),i&&(i=!1,r.push([a,o])),a=o);return[n,r]}const ai=(t,e)=>{const{curve:n,gradient:r=!1,gradientColor:i="between",defined:a=u=>!Number.isNaN(u)&&u!==void 0&&u!==null,connect:o=!1}=t,s=GP(t,["curve","gradient","gradientColor","defined","connect"]),{coordinate:l,document:c}=e;return(u,f,h)=>{const{color:d,lineWidth:p}=h,v=GP(h,["color","lineWidth"]),{color:g=d,size:y=p,seriesColor:m,seriesX:b,seriesY:x}=f,_=cB(l,f),w=ke(l),S=r&&m?lB(m,b,x,r,i,w):g,O=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},v),S&&{stroke:S}),y&&{lineWidth:y}),_&&{transform:_}),s);let M;if(ce(l)){const k=l.getCenter();M=L=>lrt().angle((R,D)=>_c($e(L[D],k))).radius((R,D)=>Ne(L[D],k)).defined(([R,D])=>a(R)&&a(D)).curve(n)(L)}else M=Qs().x(k=>k[0]).y(k=>k[1]).defined(([k,L])=>a(k)&&a(L)).curve(n);const[T,A]=jst(u,a),P=nt(O,"connect"),E=!!A.length;if(!E||o&&!Object.keys(P).length)return gt(c.createElement("path",{})).style("d",M(T)||[]).call(ut,O).node();if(E&&!o)return gt(c.createElement("path",{})).style("d",M(u)).call(ut,O).node();const C=k=>k.map(M).join(",");return gt(new Fst).style("style1",Object.assign(Object.assign({},O),P)).style("style2",O).style("d1",C(A)).style("d2",M(u)).node()}};ai.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const hB=(t,e)=>{const{coordinate:n}=e;return(...r)=>{const i=ce(n)?Aw:qh;return ai(Object.assign({curve:i},t),e)(...r)}};hB.props=Object.assign(Object.assign({},ai.props),{defaultMarker:"line"});var zst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const dB=(t,e)=>{const n=zst(t,[]),{coordinate:r}=e;return(...i)=>{const a=ce(r)?l4:ke(r)?d4:h4;return ai(Object.assign({curve:a},n),e)(...i)}};dB.props=Object.assign(Object.assign({},ai.props),{defaultMarker:"smooth"});const pB=(t,e)=>ai(Object.assign({curve:g4},t),e);pB.props=Object.assign(Object.assign({},ai.props),{defaultMarker:"hv"});const vB=(t,e)=>ai(Object.assign({curve:v4},t),e);vB.props=Object.assign(Object.assign({},ai.props),{defaultMarker:"vh"});const gB=(t,e)=>ai(Object.assign({curve:p4},t),e);gB.props=Object.assign(Object.assign({},ai.props),{defaultMarker:"hvh"});var $st=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Gst(t,e,n,r,i){const a=$e(n,e),o=ti(a),s=o+Math.PI/2,l=[r/2*Math.cos(s),r/2*Math.sin(s)],c=[i/2*Math.cos(s),i/2*Math.sin(s)],u=[i/2*Math.cos(o),i/2*Math.sin(o)],f=[r/2*Math.cos(o),r/2*Math.sin(o)],h=tp(e,l),d=tp(n,c),p=tp(d,u),v=tp(n,u),g=$e(v,c),y=$e(n,c),m=$e(e,l),b=$e(m,f),x=$e(e,f),_=$e(h,f);t.moveTo(...h),t.lineTo(...d),t.arcTo(...p,...v,i/2),t.arcTo(...g,...y,i/2),t.lineTo(...m),t.arcTo(...b,...x,r/2),t.arcTo(..._,...h,r/2),t.closePath()}const yB=(t,e)=>{const{document:n}=e;return(r,i,a)=>{const{seriesSize:o,color:s}=i,{color:l}=a,c=$st(a,["color"]),u=ii();for(let f=0;f<r.length-1;f++){const h=r[f],d=r[f+1],p=o[f],v=o[f+1];[...h,...d].every(pe)&&Gst(u,h,d,p,v)}return gt(n.createElement("path",{})).call(ut,c).style("fill",s||l).style("d",u.toString()).call(ut,t).node()}};yB.props=Object.assign(Object.assign({},ai.props),{defaultMarker:"line"});var Wst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Zw=(t,e,n)=>[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]];Zw.style=["fill"];const mB=Zw.bind(void 0);mB.style=["stroke","lineWidth"];const $0=(t,e,n)=>[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]];$0.style=["fill"];const bB=$0.bind(void 0);bB.style=["fill"];const xB=$0.bind(void 0);xB.style=["stroke","lineWidth"];const Kw=(t,e,n)=>{const r=n*.618;return[["M",t-r,e],["L",t,e-n],["L",t+r,e],["L",t,e+n],["Z"]]};Kw.style=["fill"];const _B=Kw.bind(void 0);_B.style=["stroke","lineWidth"];const Qw=(t,e,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]};Qw.style=["fill"];const wB=Qw.bind(void 0);wB.style=["stroke","lineWidth"];const Jw=(t,e,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]};Jw.style=["fill"];const SB=Jw.bind(void 0);SB.style=["stroke","lineWidth"];const tS=(t,e,n)=>{const r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]};tS.style=["fill"];const OB=tS.bind(void 0);OB.style=["stroke","lineWidth"];const eS=(t,e,n)=>{const r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]};eS.style=["fill"];const MB=eS.bind(void 0);MB.style=["stroke","lineWidth"];const TB=(t,e,n)=>[["M",t,e+n],["L",t,e-n]];TB.style=["stroke","lineWidth"];const AB=(t,e,n)=>[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]];AB.style=["stroke","lineWidth"];const EB=(t,e,n)=>[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]];EB.style=["stroke","lineWidth"];const PB=(t,e,n)=>[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]];PB.style=["stroke","lineWidth"];const CB=(t,e,n)=>[["M",t-n,e],["L",t+n,e]];CB.style=["stroke","lineWidth"];const nS=(t,e,n)=>[["M",t-n,e],["L",t+n,e]];nS.style=["stroke","lineWidth"];const kB=nS.bind(void 0);kB.style=["stroke","lineWidth"];const LB=(t,e,n)=>[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]];LB.style=["stroke","lineWidth"];const DB=(t,e,n)=>[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]];DB.style=["stroke","lineWidth"];const IB=(t,e,n)=>[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]];IB.style=["stroke","lineWidth"];const RB=(t,e,n)=>[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]];RB.style=["stroke","lineWidth"];const NB=(t,e,n)=>[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]];NB.style=["stroke","lineWidth"];const sg=new Map([["bowtie",eS],["cross",AB],["dash",kB],["diamond",Kw],["dot",nS],["hexagon",tS],["hollowBowtie",MB],["hollowDiamond",_B],["hollowHexagon",OB],["hollowPoint",mB],["hollowSquare",xB],["hollowTriangle",wB],["hollowTriangleDown",SB],["hv",DB],["hvh",RB],["hyphen",CB],["line",TB],["plus",PB],["point",Zw],["rect",bB],["smooth",LB],["square",$0],["tick",EB],["triangleDown",Jw],["triangle",Qw],["vh",IB],["vhv",NB]]);function Hst(t,e){var{d:n,fill:r,lineWidth:i,path:a,stroke:o,color:s}=e,l=Wst(e,["d","fill","lineWidth","path","stroke","color"]);const c=sg.get(t)||sg.get("point");return(...u)=>new Qn({style:Object.assign(Object.assign({},l),{d:c(...u),stroke:c.style.includes("stroke")?s||o:"",fill:c.style.includes("fill")?s||r:"",lineWidth:c.style.includes("lineWidth")?i||i||2:0})})}var Yst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function BB(t,e,n,r){if(e.length===1)return;const{size:i}=n;if(t==="fixed")return i;if(t==="normal"||m4(r)){const[[a,o],[s,l]]=e,c=Math.abs((s-a)/2),u=Math.abs((l-o)/2);return Math.max(0,(c+u)/2)}return i}const $t=(t,e)=>{const{colorAttribute:n,symbol:r,mode:i="auto"}=t,a=Yst(t,["colorAttribute","symbol","mode"]),o=sg.get(r)||sg.get("point"),{coordinate:s,document:l}=e;return(c,u,f)=>{const{lineWidth:h,color:d}=f,p=a.stroke?h||1:h,{color:v=d,transform:g,opacity:y}=u,[m,b]=Uw(c),_=BB(i,c,u,s)||a.r||f.r;return gt(l.createElement("path",{})).call(ut,f).style("fill","transparent").style("d",o(m,b,_)).style("lineWidth",p).style("transform",g).style("transformOrigin",`${m-_} ${b-_}`).style("stroke",v).style(Xw(t),y).style(n,v).call(ut,a).node()}};$t.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const FB=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},t),e);FB.props=Object.assign({defaultMarker:"hollowBowtie"},$t.props);const jB=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"diamond"},t),e);jB.props=Object.assign({defaultMarker:"hollowDiamond"},$t.props);const zB=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},t),e);zB.props=Object.assign({defaultMarker:"hollowHexagon"},$t.props);const $B=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"point"},t),e);$B.props=Object.assign({defaultMarker:"hollowPoint"},$t.props);const GB=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"square"},t),e);GB.props=Object.assign({defaultMarker:"hollowSquare"},$t.props);const WB=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"triangle"},t),e);WB.props=Object.assign({defaultMarker:"hollowTriangle"},$t.props);const HB=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},t),e);HB.props=Object.assign({defaultMarker:"hollowTriangleDown"},$t.props);var Vst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const YB=(t,e)=>{const{colorAttribute:n,mode:r="auto"}=t,i=Vst(t,["colorAttribute","mode"]),{coordinate:a,document:o}=e;return(s,l,c)=>{const{lineWidth:u,color:f}=c,h=i.stroke?u||1:u,{color:d=f,transform:p,opacity:v}=l,[g,y]=Uw(s),b=BB(r,s,l,a)||i.r||c.r;return gt(o.createElement("circle",{})).call(ut,c).style("fill","transparent").style("cx",g).style("cy",y).style("r",b).style("lineWidth",h).style("transform",p).style("transformOrigin",`${g} ${y}`).style("stroke",d).style(Xw(t),v).style(n,d).call(ut,i).node()}},rS=(t,e)=>YB(Object.assign({colorAttribute:"fill"},t),e);rS.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const VB=(t,e)=>YB(Object.assign({colorAttribute:"stroke"},t),e);VB.props=Object.assign({defaultMarker:"hollowPoint"},rS.props);const XB=(t,e)=>$t(Object.assign({colorAttribute:"fill",symbol:"bowtie"},t),e);XB.props=Object.assign({defaultMarker:"bowtie"},$t.props);const UB=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"cross"},t),e);UB.props=Object.assign({defaultMarker:"cross"},$t.props);const qB=(t,e)=>$t(Object.assign({colorAttribute:"fill",symbol:"diamond"},t),e);qB.props=Object.assign({defaultMarker:"diamond"},$t.props);const ZB=(t,e)=>$t(Object.assign({colorAttribute:"fill",symbol:"hexagon"},t),e);ZB.props=Object.assign({defaultMarker:"hexagon"},$t.props);const KB=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},t),e);KB.props=Object.assign({defaultMarker:"hyphen"},$t.props);const QB=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"line"},t),e);QB.props=Object.assign({defaultMarker:"line"},$t.props);const JB=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"plus"},t),e);JB.props=Object.assign({defaultMarker:"plus"},$t.props);const t6=(t,e)=>$t(Object.assign({colorAttribute:"fill",symbol:"point"},t),e);t6.props=Object.assign({defaultMarker:"point"},$t.props);const e6=(t,e)=>$t(Object.assign({colorAttribute:"fill",symbol:"square"},t),e);e6.props=Object.assign({defaultMarker:"square"},$t.props);const n6=(t,e)=>$t(Object.assign({colorAttribute:"stroke",symbol:"tick"},t),e);n6.props=Object.assign({defaultMarker:"tick"},$t.props);const r6=(t,e)=>$t(Object.assign({colorAttribute:"fill",symbol:"triangle"},t),e);r6.props=Object.assign({defaultMarker:"triangle"},$t.props);const i6=(t,e)=>$t(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},t),e);i6.props=Object.assign({defaultMarker:"triangleDown"},$t.props);var WP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const iS=(t,e)=>{const{arrow:n=!0,arrowSize:r="40%"}=t,i=WP(t,["arrow","arrowSize"]),{document:a}=e;return(o,s,l)=>{const{defaultColor:c}=l,u=WP(l,["defaultColor"]),{color:f=c,transform:h}=s,[d,p]=o,v=ii();if(v.moveTo(...d),v.lineTo(...p),n){const[g,y]=Rst(d,p,{arrowSize:r});v.moveTo(...g),v.lineTo(...p),v.lineTo(...y)}return gt(a.createElement("path",{})).call(ut,u).style("d",v.toString()).style("stroke",f).style("transform",h).call(ut,i).node()}};iS.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function a6(t,e){e(t),t.children&&t.children.forEach(function(n){n&&a6(n,e)})}function Jh(t){G0(t,!0)}function Io(t){G0(t,!1)}function G0(t,e){var n=e?"visible":"hidden";a6(t,function(r){r.attr("visibility",n)})}var Xst=function(t){it(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,pt([],B(n),!1))||this;return i.isMutationObserved=!0,i.addEventListener(Ct.INSERTED,function(){Io(i)}),i}return e}(mn);function o6(t){var e=t.appendChild(new Xst({class:"offscreen"}));return Io(e),e}function Ust(t){for(var e=t;e;){if(e.className==="offscreen")return!0;e=e.parent}return!1}var aS=function(t){it(e,t);function e(n){n===void 0&&(n={});var r=n.style,i=yn(n,["style"]);return t.call(this,J({style:J({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},r)},i))||this}return Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=o6(this)),this._offscreen},enumerable:!1,configurable:!0}),e.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},e}(Ki);function Ac(t){return t*Math.PI/180}function s6(t){return Number((t*180/Math.PI).toPrecision(5))}var Ie=function(){function t(e,n,r,i){e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=n,this.width=r,this.height=i}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},t.prototype.isPointIn=function(e,n){return e>=this.left&&e<=this.right&&n>=this.top&&n<=this.bottom},t}();function ei(t,e){return Kn(t)?t.apply(void 0,pt([],B(e),!1)):t}var oi=function(t,e){var n=function(i){return"".concat(e,"-").concat(i)},r=Object.fromEntries(Object.entries(t).map(function(i){var a=B(i,2),o=a[0],s=a[1],l=n(s);return[o,{name:l,class:".".concat(l),id:"#".concat(l),toString:function(){return l}}]}));return Object.assign(r,{prefix:n}),r},qst=5,l6=function(t,e,n,r){n===void 0&&(n=0),r===void 0&&(r=qst),Object.entries(e).forEach(function(i){var a=B(i,2),o=a[0],s=a[1],l=t;Object.prototype.hasOwnProperty.call(e,o)&&(s?Ca(s)?(Ca(t[o])||(l[o]={}),n<r?l6(t[o],s,n+1,r):l[o]=e[o]):An(s)?(l[o]=[],l[o]=l[o].concat(s)):l[o]=s:l[o]=s)})},La=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)l6(t,e[r]);return t},c6=function(t){return t!==void 0&&t!=null&&!Number.isNaN(t)},_p,Zst=DQ(function(t,e){var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return _p||(_p=X.offscreenCanvasCreator.getOrCreateContext(void 0)),_p.font=[a,o,i,"".concat(n,"px"),r].join(" "),_p.measureText(t).width},function(t,e){return[t,Object.values(e||u6(t)).join()].join("")},4096),u6=function(t){var e=t.style.fontFamily||"sans-serif",n=t.style.fontWeight||"normal",r=t.style.fontStyle||"normal",i=t.style.fontVariant,a=t.style.fontSize;return a=typeof a=="object"?a.value:a,{fontSize:a,fontFamily:e,fontWeight:n,fontStyle:r,fontVariant:i}};function f6(t){return t.nodeName==="text"?t:t.nodeName==="g"&&t.children.length===1&&t.children[0].nodeName==="text"?t.children[0]:null}function h6(t,e){var n=f6(t);n&&n.attr(e)}function Ix(t,e,n){n===void 0&&(n="..."),h6(t,{wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:n})}function Kst(t,e,n,r){n===void 0&&(n=2),r===void 0&&(r="top"),h6(t,{wordWrap:!0,wordWrapWidth:e,maxLines:n,textBaseline:r})}function lg(t){var e=t.canvas,n=t.touches,r=t.offsetX,i=t.offsetY;if(e){var a=e.x,o=e.y;return[a,o]}if(n){var s=n[0],l=s.clientX,c=s.clientY;return[l,c]}return r&&i?[r,i]:[0,0]}function Gs(t){return typeof t=="function"?t():Ye(t)||we(t)?new aS({style:{text:String(t)}}):t}function Qst(t,e){return t.reduce(function(n,r){return(n[r[e]]=n[r[e]]||[]).push(r),n},{})}function pr(t,e,n,r,i){return r===void 0&&(r=!0),i===void 0&&(i=function(a){a.node().removeChildren()}),t?n(e):(r&&i(e),null)}function Sn(t,e,n,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!1),r&&t===e||i&&t===n?!0:t>e&&t<n}var Jst=function(t,e){return function(n){return t*(1-n)+e*n}};function tlt(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0;return function(i){var a=new Array(r),o=new Array(n),s=0;for(s=0;s<r;++s)a[s]=oS(t[s],e[s]);for(;s<n;++s)o[s]=e[s];for(s=0;s<r;++s)o[s]=a[s](i);return o}}function elt(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n={},r={};return Object.entries(e).forEach(function(i){var a=B(i,2),o=a[0],s=a[1];o in t?n[o]=oS(t[o],s):r[o]=s}),function(i){return Object.entries(n).forEach(function(a){var o=B(a,2),s=o[0],l=o[1];return r[s]=l(i)}),r}}function oS(t,e){return typeof t=="number"&&typeof e=="number"?Jst(t,e):Array.isArray(t)&&Array.isArray(e)?tlt(t,e):typeof t=="object"&&typeof e=="object"?elt(t,e):function(n){return t}}function nlt(t,e,n,r){if(!r)return t.attr("__keyframe_data__",n),null;var i=r.duration,a=i===void 0?0:i,o=oS(e,n),s=Math.ceil(+a/16),l=new Array(s).fill(0).map(function(c,u,f){return{__keyframe_data__:o(u/(f.length-1))}});return t.animate(l,J({fill:"both"},r))}function HP(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,a=0;a<t.length;a++){var o=t[a],s=o.x,l=o.y,c=o.width,u=o.height,f=B([s+c,l+u],2),h=f[0],d=f[1];s<e&&(e=s),l<n&&(n=l),h>r&&(r=h),d>i&&(i=d)}return new Ie(e,n,r-e,i-n)}var rlt=function(t,e,n){var r=t.width,i=t.height,a=n.flexDirection,o=a===void 0?"row":a;n.flexWrap;var s=n.justifyContent,l=s===void 0?"flex-start":s;n.alignContent;var c=n.alignItems,u=c===void 0?"flex-start":c,f=o==="row",h=o==="row"||o==="column",d=f?h?[1,0]:[-1,0]:h?[0,1]:[0,-1],p=B([0,0],2),v=p[0],g=p[1],y=e.map(function(O){var M,T=O.width,A=O.height,P=B([v,g],2),E=P[0],C=P[1];return M=B([v+T*d[0],g+A*d[1]],2),v=M[0],g=M[1],new Ie(E,C,T,A)}),m=HP(y),b={"flex-start":0,"flex-end":f?r-m.width:i-m.height,center:f?(r-m.width)/2:(i-m.height)/2},x=y.map(function(O){var M=O.x,T=O.y,A=Ie.fromRect(O);return A.x=f?M+b[l]:M,A.y=f?T:T+b[l],A});HP(x);var _=function(O){var M=B(f?["height",i]:["width",r],2),T=M[0],A=M[1];switch(u){case"flex-start":return 0;case"flex-end":return A-O[T];case"center":return A/2-O[T]/2;default:return 0}},w=x.map(function(O){var M=O.x,T=O.y,A=Ie.fromRect(O);return A.x=f?M:M+_(A),A.y=f?T+_(A):T,A}),S=w.map(function(O){var M,T,A=Ie.fromRect(O);return A.x+=(M=t.x)!==null&&M!==void 0?M:0,A.y+=(T=t.y)!==null&&T!==void 0?T:0,A});return S},ilt=function(t,e,n){return[]};const alt=function(t,e,n){if(e.length===0)return[];var r={flex:rlt,grid:ilt},i=n.display in r?r[n.display]:null;return(i==null?void 0:i.call(null,t,e,n))||[]};function ya(t,e){return[t[0]*e,t[1]*e]}function Vu(t,e){return[t[0]+e[0],t[1]+e[1]]}function o1(t,e){return[t[0]-e[0],t[1]-e[1]]}function hs(t,e){return[Math.min(t[0],e[0]),Math.min(t[1],e[1])]}function ds(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1])]}function gh(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function d6(t){if(t[0]===0&&t[1]===0)return[0,0];var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/e,t[1]/e]}function olt(t,e){return e?[t[1],-t[0]]:[-t[1],t[0]]}function Rx(t,e){return+t.toPrecision(e)}function YP(t,e){var n={},r=Array.isArray(e)?e:[e];for(var i in t)r.includes(i)||(n[i]=t[i]);return n}function slt(t,e,n,r){var i,a=[],o=!!r,s,l,c=[1/0,1/0],u=[-1/0,-1/0],f,h,d;if(o){i=B(r,2),c=i[0],u=i[1];for(var p=0,v=t.length;p<v;p+=1){var g=t[p];c=hs(c,g),u=ds(u,g)}}for(var p=0,y=t.length;p<y;p+=1){var g=t[p];if(p===0&&!n)d=g;else if(p===y-1&&!n)h=g,a.push(d),a.push(h);else{var m=[p?p-1:y-1,p-1][1];s=t[m],l=t[p+1];var b=[0,0];b=o1(l,s),b=ya(b,e);var x=gh(g,s),_=gh(g,l),w=x+_;w!==0&&(x/=w,_/=w);var S=ya(b,-x),O=ya(b,_);h=Vu(g,S),f=Vu(g,O),f=hs(f,ds(l,g)),f=ds(f,hs(l,g)),S=o1(f,g),S=ya(S,-x/_),h=Vu(g,S),h=hs(h,ds(s,g)),h=ds(h,hs(s,g)),O=o1(g,h),O=ya(O,_/x),f=Vu(g,O),o&&(h=ds(h,c),h=hs(h,u),f=ds(f,c),f=hs(f,u)),a.push(d),a.push(h),d=f}}return a}function llt(t,e,n){n===void 0&&(n=[[0,0],[1,1]]);for(var r=!!e,i=[],a=0,o=t.length;a<o;a+=2)i.push([t[a],t[a+1]]);for(var s=slt(i,.4,r,n),l=i.length,c=[],u,f,h,a=0;a<l-1;a+=1)u=s[a*2],f=s[a*2+1],h=i[a+1],c.push(["C",u[0],u[1],f[0],f[1],h[0],h[1]]);return c}var clt=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function ult(t){return clt.includes(t)}function VP(t){var e={};for(var n in t)ult(n)&&(e[n]=t[n]);return e}function flt(t,e){if(t.length<=e)return t;for(var n=Math.floor(t.length/e),r=[],i=0;i<t.length;i+=n)r.push(t[i]);return r}function sS(t,e,n){var r=t.getBBox(),i=r.width,a=r.height,o=e/Math.max(i,a);return t.style.transform="scale(".concat(o,")"),o}function hlt(t,e){var n=new Map;return t.forEach(function(r){var i=e(r);n.has(i)||n.set(i,[]),n.get(i).push(r)}),n}function dlt(t){throw new Error(t)}var plt=function(){function t(i,a,o,s,l,c,u){i===void 0&&(i=null),a===void 0&&(a=null),o===void 0&&(o=null),s===void 0&&(s=null),l===void 0&&(l=[null,null,null,null,null]),c===void 0&&(c=[]),u===void 0&&(u=[]),e.add(this),this._elements=Array.from(i),this._data=a,this._parent=o,this._document=s,this._enter=l[0],this._update=l[1],this._exit=l[2],this._merge=l[3],this._split=l[4],this._transitions=c,this._facetElements=u}t.prototype.selectAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new n(a,null,this._elements[0],this._document)},t.prototype.selectFacetAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new n(this._elements,null,this._parent,this._document,void 0,void 0,a)},t.prototype.select=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new n([a],null,a,this._document)},t.prototype.append=function(i){var a=this,o=typeof i=="function"?i:function(){return a.createElement(i)},s=[];if(this._data!==null){for(var l=0;l<this._data.length;l++){var c=this._data[l],u=B(Array.isArray(c)?c:[c,null],2),f=u[0],h=u[1],d=o(f,l);d.__data__=f,h!==null&&(d.__fromElements__=h),this._parent.appendChild(d),s.push(d)}return new n(s,null,this._parent,this._document)}for(var l=0;l<this._elements.length;l++){var p=this._elements[l],f=p.__data__,d=o(f,l);p.appendChild(d),s.push(d)}return new n(s,null,s[0],this._document)},t.prototype.maybeAppend=function(i,a){var o=vy(this,e,"m",r).call(this,i[0]==="#"?i:"#".concat(i),a);return o.attr("id",i),o},t.prototype.maybeAppendByClassName=function(i,a){var o=i.toString(),s=vy(this,e,"m",r).call(this,o[0]==="."?o:".".concat(o),a);return s.attr("className",o),s},t.prototype.maybeAppendByName=function(i,a){var o=vy(this,e,"m",r).call(this,'[name="'.concat(i,'"]'),a);return o.attr("name",i),o},t.prototype.data=function(i,a,o){var s,l;a===void 0&&(a=function(T){return T}),o===void 0&&(o=function(){return null});for(var c=[],u=[],f=new Set(this._elements),h=[],d=new Set,p=new Map(this._elements.map(function(T,A){return[a(T.__data__,A),T]})),v=new Map(this._facetElements.map(function(T,A){return[a(T.__data__,A),T]})),g=hlt(this._elements,function(T){return o(T.__data__)}),y=0;y<i.length;y++){var m=i[y],b=a(m,y),x=o(m,y);if(p.has(b)){var _=p.get(b);_.__data__=m,_.__facet__=!1,u.push(_),f.delete(_),p.delete(b)}else if(v.has(b)){var _=v.get(b);_.__data__=m,_.__facet__=!0,u.push(_),v.delete(b)}else if(g.has(b)){var w=g.get(b);h.push([m,w]);try{for(var S=(s=void 0,Ch(w)),O=S.next();!O.done;O=S.next()){var _=O.value;f.delete(_)}}catch(T){s={error:T}}finally{try{O&&!O.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}g.delete(b)}else if(p.has(x)){var _=p.get(x);_.__toData__?_.__toData__.push(m):_.__toData__=[m],d.add(_),f.delete(_)}else c.push(m)}var M=[new n([],c,this._parent,this._document),new n(u,null,this._parent,this._document),new n(f,null,this._parent,this._document),new n([],h,this._parent,this._document),new n(d,null,this._parent,this._document)];return new n(this._elements,null,this._parent,this._document,M)},t.prototype.merge=function(i){var a=pt(pt([],B(this._elements),!1),B(i._elements),!1),o=pt(pt([],B(this._transitions),!1),B(i._transitions),!1);return new n(a,null,this._parent,this._document,void 0,o)},t.prototype.createElement=function(i){if(this._document)return this._document.createElement(i,{});var a=n.registry[i];return a?new a:dlt("Unknown node type: ".concat(i))},t.prototype.join=function(i,a,o,s,l){i===void 0&&(i=function(p){return p}),a===void 0&&(a=function(p){return p}),o===void 0&&(o=function(p){return p.remove()}),s===void 0&&(s=function(p){return p}),l===void 0&&(l=function(p){return p.remove()});var c=i(this._enter),u=a(this._update),f=o(this._exit),h=s(this._merge),d=l(this._split);return u.merge(c).merge(f).merge(h).merge(d)},t.prototype.remove=function(){for(var i=function(s){var l=a._elements[s],c=a._transitions[s];c?c.then(function(){return l.remove()}):l.remove()},a=this,o=0;o<this._elements.length;o++)i(o);return new n([],null,this._parent,this._document,void 0,this._transitions)},t.prototype.each=function(i){for(var a=0;a<this._elements.length;a++){var o=this._elements[a],s=o.__data__;i.call(o,s,a)}return this},t.prototype.attr=function(i,a){var o=typeof a!="function"?function(){return a}:a;return this.each(function(s,l){a!==void 0&&(this[i]=o.call(this,s,l))})},t.prototype.style=function(i,a,o){o===void 0&&(o=!0);var s=typeof a!="function"||!o?function(){return a}:a;return this.each(function(l,c){a!==void 0&&(this.style[i]=s.call(this,l,c))})},t.prototype.styles=function(i,a){return i===void 0&&(i={}),a===void 0&&(a=!0),this.each(function(o,s){var l=this;Object.entries(i).forEach(function(c){var u=B(c,2),f=u[0],h=u[1],d=typeof h!="function"||!a?function(){return h}:h;h!==void 0&&l.attr(f,d.call(l,o,s))})})},t.prototype.update=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,l){i&&this.update&&this.update(o.call(this,s,l))})},t.prototype.maybeUpdate=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,l){i&&this.update&&this.update(o.call(this,s,l))})},t.prototype.transition=function(i){var a=this._transitions;return this.each(function(o,s){a[s]=i.call(this,o,s)})},t.prototype.on=function(i,a){return this.each(function(){this.addEventListener(i,a)}),this},t.prototype.call=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return i.call.apply(i,pt([this._parent,this],B(a),!1)),this},t.prototype.node=function(){return this._elements[0]},t.prototype.nodes=function(){return this._elements},t.prototype.transitions=function(){return this._transitions.filter(function(i){return!!i})},t.prototype.parent=function(){return this._parent};var e,n,r;return n=t,e=new WeakSet,r=function(a,o){var s=this._elements[0],l=s.querySelector(a);if(l)return new n([l],null,this._parent,this._document);var c=typeof o=="string"?this.createElement(o):o();return s.appendChild(c),new n([c],null,this._parent,this._document)},t.registry={g:mn,rect:tl,circle:Ao,path:Qn,text:aS,ellipse:$w,image:Gw,line:qc,polygon:B0,polyline:Ww,html:N0},t}();function At(t){return new plt([t],null,t,t.ownerDocument)}function vlt(t,e,n){return t.querySelector(e)?At(t).select(e):At(t).append(n)}function Tn(t){if(we(t))return[t,t,t,t];if(An(t)){var e=t.length;if(e===1)return[t[0],t[0],t[0],t[0]];if(e===2)return[t[0],t[1],t[0],t[1]];if(e===3)return[t[0],t[1],t[2],t[1]];if(e===4)return t}return[0,0,0,0]}function XP(t){var e=t.getLocalBounds(),n=e.min,r=e.max,i=B([n,r],2),a=B(i[0],2),o=a[0],s=a[1],l=B(i[1],2),c=l[0],u=l[1];return{x:o,y:s,width:c-o,height:u-s,left:o,bottom:u,top:s,right:c}}function glt(t,e){var n=B(t,2),r=n[0],i=n[1],a=B(e,2),o=a[0],s=a[1];return r!==o&&i===s}function ylt(t,e){var n,r,i=e.attributes;try{for(var a=Ch(Object.entries(i)),o=a.next();!o.done;o=a.next()){var s=B(o.value,2),l=s[0],c=s[1];l!=="id"&&l!=="className"&&t.attr(l,c)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function lS(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function mlt(t){return t.toString().charAt(0).toLowerCase()+t.toString().slice(1)}function blt(t,e){return"".concat(e).concat(lS(t))}function UP(t,e,n){var r;n===void 0&&(n=!0);var i=e||((r=t.match(/^([a-z][a-z0-9]+)/))===null||r===void 0?void 0:r[0])||"",a=t.replace(new RegExp("^(".concat(i,")")),"");return n?mlt(a):a}function xlt(t,e){Object.entries(e).forEach(function(n){var r=B(n,2),i=r[0],a=r[1];pt([t],B(t.querySelectorAll(i)),!1).filter(function(o){return o.matches(i)}).forEach(function(o){if(o){var s=o;s.style.cssText+=Object.entries(a).reduce(function(l,c){return"".concat(l).concat(c.join(":"),";")},"")}})})}var wp=function(t,e){if(!(t!=null&&t.startsWith(e)))return!1;var n=t[e.length];return n>="A"&&n<="Z"};function Nt(t,e,n){n===void 0&&(n=!1);var r={};return Object.entries(t).forEach(function(i){var a=B(i,2),o=a[0],s=a[1];if(!(o==="className"||o==="class")){if(wp(o,"show")&&wp(UP(o,"show"),e)!==n)o===blt(e,"show")?r[o]=s:r[o.replace(new RegExp(lS(e)),"")]=s;else if(!wp(o,"show")&&wp(o,e)!==n){var l=UP(o,e);l==="filter"&&typeof s=="function"||(r[l]=s)}}}),r}function Ri(t,e){return Object.entries(t).reduce(function(n,r){var i=B(r,2),a=i[0],o=i[1];return a.startsWith("show")?n["show".concat(e).concat(a.slice(4))]=o:n["".concat(e).concat(lS(a))]=o,n},{})}function Da(t,e){e===void 0&&(e=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(t).forEach(function(a){var o=B(a,2),s=o[0],l=o[1];e.includes(s)||(n.indexOf(s)!==-1?i[s]=l:r[s]=l)}),[r,i]}function _lt(t,e,n){var r=t.getBBox(),i=r.width,a=r.height,o=B([e,n].map(function(c,u){var f;return c.includes("%")?parseFloat(((f=c.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||f===void 0?void 0:f[0])||"0")/100*(u===0?i:a):c}),2),s=o[0],l=o[1];return[s,l]}function p6(t,e){if(e)try{var n=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,r=e.replace(n,function(i,a,o){return"translate(".concat(_lt(t,a,o),")")});t.attr("transform",r)}catch{}}function wlt(t){var e;return((e=t[0])===null||e===void 0?void 0:e.map(function(n,r){return t.map(function(i){return i[r]})}))||[]}function Slt(){G0(this,this.attributes.visibility!=="hidden")}var bn=function(t){it(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this,La({},{style:r},n))||this;return i.initialized=!1,i._defaultOptions=r,i}return Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=o6(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},e.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},e.prototype.attributeChangedCallback=function(n){n==="visibility"&&Slt.call(this)},e.prototype.update=function(n,r){var i;return this.attr(La({},this.attributes,n||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,r)},e.prototype.clear=function(){this.removeChildren()},e.prototype.bindEvents=function(n,r){},e.prototype.getSubShapeStyle=function(n){n.x,n.y,n.transform,n.transformOrigin,n.class,n.className,n.zIndex;var r=yn(n,["x","y","transform","transformOrigin","class","className","zIndex"]);return r},e}(zw),v6=function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]]},Olt=v6,Mlt=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},Tlt=function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},Alt=function(t,e,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},Elt=function(t,e,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]},Plt=function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},Clt=function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},g6=function(t,e,n){return[["M",t,e+n],["L",t,e-n]]},klt=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},Llt=function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},Dlt=function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},Ilt=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},y6=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},Rlt=y6,Nlt=function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},Blt=function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},Flt=function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},jlt=function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]};function zlt(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}var $lt=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e],["L",t-n,e+n],["Z"]]};function Glt(t){var e="default";if(As(t)&&t instanceof Image)e="image";else if(Kn(t))e="symbol";else if(Ye(t)){var n=new RegExp("data:(image|text)");t.match(n)?e="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?e="url":e="symbol"}return e}function Wlt(t){var e=Glt(t);return["base64","url","image"].includes(e)?"image":t&&e==="symbol"?"path":null}var Zt=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o,l=this.getSubShapeStyle(n),c=l.symbol,u=l.size,f=u===void 0?16:u,h=yn(l,["symbol","size"]),d=Wlt(c);pr(!!d,At(r),function(p){p.maybeAppendByClassName("marker",d).attr("className","marker ".concat(d,"-marker")).call(function(v){if(d==="image"){var g=f*2;v.styles({img:c,width:g,height:g,x:a-f,y:s-f})}else{var g=f/2,y=Kn(c)?c:e.getSymbol(c);v.styles(J({d:y==null?void 0:y(a,s,g)},h))}})})},e.MARKER_SYMBOL_MAP=new Map,e.registerSymbol=function(n,r){e.MARKER_SYMBOL_MAP.set(n,r)},e.getSymbol=function(n){return e.MARKER_SYMBOL_MAP.get(n)},e.getSymbols=function(){return Array.from(e.MARKER_SYMBOL_MAP.keys())},e}(bn);Zt.registerSymbol("cross",klt);Zt.registerSymbol("hyphen",Ilt);Zt.registerSymbol("line",g6);Zt.registerSymbol("plus",Dlt);Zt.registerSymbol("tick",Llt);Zt.registerSymbol("circle",v6);Zt.registerSymbol("point",Olt);Zt.registerSymbol("bowtie",Clt);Zt.registerSymbol("hexagon",Plt);Zt.registerSymbol("square",Mlt);Zt.registerSymbol("diamond",Tlt);Zt.registerSymbol("triangle",Alt);Zt.registerSymbol("triangle-down",Elt);Zt.registerSymbol("line",g6);Zt.registerSymbol("dot",y6);Zt.registerSymbol("dash",Rlt);Zt.registerSymbol("smooth",Nlt);Zt.registerSymbol("hv",Blt);Zt.registerSymbol("vh",Flt);Zt.registerSymbol("hvh",jlt);Zt.registerSymbol("vhv",zlt);var Hlt=function(t){it(e,t);function e(n){var r=this,i=n.style,a=yn(n,["style"]);return r=t.call(this,U({},{type:"column"},J({style:i},a)))||this,r.columnsGroup=new mn({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return e.prototype.render=function(){var n=this.attributes,r=n.columns,i=n.x,a=n.y;this.columnsGroup.style.transform="translate(".concat(i,", ").concat(a,")"),At(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(o){return o.append("rect").attr("className","column").each(function(s){this.attr(s)})},function(o){return o.each(function(s){this.attr(s)})},function(o){return o.remove()})},e.prototype.update=function(n){this.attr(La({},this.attributes,n)),this.render()},e.prototype.clear=function(){this.removeChildren()},e}(jn),Ylt=function(t){it(e,t);function e(n){var r=this,i=n.style,a=yn(n,["style"]);return r=t.call(this,U({},{type:"lines"},J({style:i},a)))||this,r.linesGroup=r.appendChild(new mn),r.areasGroup=r.appendChild(new mn),r.render(),r}return e.prototype.render=function(){var n=this.attributes,r=n.lines,i=n.areas,a=n.x,o=n.y;this.style.transform="translate(".concat(a,", ").concat(o,")"),r&&this.renderLines(r),i&&this.renderAreas(i)},e.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},e.prototype.update=function(n){this.attr(La({},this.attributes,n)),this.render()},e.prototype.renderLines=function(n){At(this.linesGroup).selectAll(".line").data(n).join(function(r){return r.append("path").attr("className","line").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.attr(i)})},function(r){return r.remove()})},e.prototype.renderAreas=function(n){At(this.linesGroup).selectAll(".area").data(n).join(function(r){return r.append("path").attr("className","area").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.style(i)})},function(r){return r.remove()})},e}(jn);function Vlt(t,e){var n,r=e.x,i=e.y,a=B(i.getOptions().range||[0,0],2),o=a[0],s=a[1];return s>o&&(n=B([o,s],2),s=n[0],o=n[1]),t.map(function(l){var c=l.map(function(u,f){return[r.map(f),We(i.map(u),s,o)]});return c})}function yh(t,e){e===void 0&&(e=!1);var n=e?t.length-1:0,r=t.map(function(i,a){return pt([a===n?"M":"L"],B(i),!1)});return e?r.reverse():r}function cg(t,e){if(e===void 0&&(e=!1),t.length<=2)return yh(t);for(var n=[],r=t.length,i=0;i<r;i+=1){var a=e?t[r-i-1]:t[i];Fv(a,n.slice(-2))||n.push.apply(n,pt([],B(a),!1))}var o=llt(n,!1);return e?o.unshift(pt(["M"],B(t[r-1]),!1)):o.unshift(pt(["M"],B(t[0]),!1)),o}function cS(t,e,n){var r=th(t);return r.push(["L",e,n],["L",0,n],["Z"]),r}function Xlt(t,e,n,r){return t.map(function(i){return cS(e?cg(i):yh(i),n,r)})}function Ult(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var a=t[i],o=yh(a),s=void 0;if(i===0)s=cS(o,e,n);else{var l=t[i-1],c=yh(l,!0);c[0][0]="L",s=pt(pt(pt([],B(o),!1),B(c),!1),[["Z"]],!1)}r.push(s)}return r}function qlt(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var a=t[i],o=cg(a),s=void 0;if(i===0)s=cS(o,e,n);else{var l=t[i-1],c=cg(l,!0),u=a[0];c[0][0]="L",s=pt(pt(pt([],B(o),!1),B(c),!1),[pt(["M"],B(u),!1),["Z"]],!1)}r.push(s)}return r}function qP(t){return t.length===0?[0,0]:[Bv(PQ(t,function(e){return Bv(e)||0})),Nv(EQ(t,function(e){return Nv(e)||0}))]}function ZP(t){for(var e=th(t),n=e[0].length,r=B([Array(n).fill(0),Array(n).fill(0)],2),i=r[0],a=r[1],o=0;o<e.length;o+=1)for(var s=e[o],l=0;l<n;l+=1)s[l]>=0?(s[l]+=i[l],i[l]=s[l]):(s[l]+=a[l],a[l]=s[l]);return e}var Zlt=function(t){it(e,t);function e(n){return t.call(this,n,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(e.prototype,"rawData",{get:function(){var n=this.attributes.data;if(!n||(n==null?void 0:n.length)===0)return[[]];var r=th(n);return we(r[0])?[r]:r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?ZP(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var n=this.scales.y,r=B(n.getOptions().domain||[0,0],2),i=r[0],a=r[1];return a<0?n.map(a):n.map(i<0?0:i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var n=this.attributes,r=n.width,i=n.height;return{width:r,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var n=this,r=this.attributes,i=r.type,a=r.isStack,o=r.smooth;if(i!=="line")throw new Error("linesStyle can only be used in line type");var s=Nt(this.attributes,"area"),l=Nt(this.attributes,"line"),c=this.containerShape.width,u=this.data;if(u[0].length===0)return{lines:[],areas:[]};var f=this.scales,h=f.x,d=f.y,p=Vlt(u,{type:"line",x:h,y:d}),v=[];if(s){var g=this.baseline;a?v=o?qlt(p,c,g):Ult(p,c,g):v=Xlt(p,o,c,g)}return{lines:p.map(function(y,m){return J({stroke:n.getColor(m),d:o?cg(y):yh(y)},l)}),areas:v.map(function(y,m){return J({d:y,fill:n.getColor(m)},s)})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var n=this,r=Nt(this.attributes,"column"),i=this.attributes,a=i.isStack,o=i.type,s=i.scale;if(o!=="column")throw new Error("columnsStyle can only be used in column type");var l=this.containerShape.height,c=this.rawData;if(!c)return{columns:[]};a&&(c=ZP(c));var u=this.createScales(c),f=u.x,h=u.y,d=B(qP(c),2),p=d[0],v=d[1],g=new xe({domain:[0,v-(p>0?0:p)],range:[0,l*s]}),y=f.getBandWidth(),m=this.rawData;return{columns:c.map(function(b,x){return b.map(function(_,w){var S=y/c.length,O=function(){return{x:f.map(w)+S*x,y:_>=0?h.map(_):h.map(0),width:S,height:g.map(Math.abs(_))}},M=function(){return{x:f.map(w),y:h.map(_),width:y,height:g.map(m[x][w])}};return J(J({fill:n.getColor(x)},r),a?M():O())})})}},enumerable:!1,configurable:!0}),e.prototype.render=function(n,r){vlt(r,".container","rect").attr("className","container").node();var i=n.type,a=n.x,o=n.y,s="spark".concat(i),l=J({x:a,y:o},i==="line"?this.linesStyle:this.columnsStyle);At(r).selectAll(".spark").data([i]).join(function(c){return c.append(function(u){return u==="line"?new Ylt({className:s,style:l}):new Hlt({className:s,style:l})}).attr("className","spark ".concat(s))},function(c){return c.update(l)},function(c){return c.remove()})},e.prototype.getColor=function(n){var r=this.attributes.color;return An(r)?r[n%r.length]:Kn(r)?r.call(null,n):r},e.prototype.createScales=function(n){var r,i,a=this.attributes,o=a.type,s=a.scale,l=a.range,c=l===void 0?[]:l,u=a.spacing,f=this.containerShape,h=f.width,d=f.height,p=B(qP(n),2),v=p[0],g=p[1],y=new xe({domain:[(r=c[0])!==null&&r!==void 0?r:v,(i=c[1])!==null&&i!==void 0?i:g],range:[d,d*(1-s)]});return o==="line"?{type:o,x:new xe({domain:[0,n[0].length-1],range:[0,h]}),y}:{type:o,x:new xc({domain:n[0].map(function(m,b){return b}),range:[0,h],paddingInner:u,paddingOuter:u/2,align:.5}),y}},e.tag="sparkline",e}(bn);function Klt(t){return typeof t=="boolean"?!1:"enter"in t&&"update"in t&&"exit"in t}function KP(t){if(!t)return{enter:!1,update:!1,exit:!1};var e=["enter","update","exit"],n=Object.fromEntries(Object.entries(t).filter(function(r){var i=B(r,1),a=i[0];return!e.includes(a)}));return Object.fromEntries(e.map(function(r){return Klt(t)?t[r]===!1?[r,!1]:[r,J(J({},t[r]),n)]:[r,n]}))}function Zc(t,e){t?t.finished.then(e):e()}function Qlt(t,e){t.length===0?e():Promise.all(t.map(function(n){return n==null?void 0:n.finished})).then(e)}function m6(t,e){"update"in t?t.update(e):t.attr(e)}function b6(t,e,n){if(e.length===0)return null;if(!n){var r=e.slice(-1)[0];return m6(t,{style:r}),null}return t.animate(e,n)}function Jlt(t,e){return!(t.nodeName!=="text"||e.nodeName!=="text"||t.attributes.text!==e.attributes.text)}function tct(t,e,n,r){if(r===void 0&&(r="destroy"),Jlt(t,e))return t.remove(),[null];var i=function(){r==="destroy"?t.destroy():r==="hide"&&Io(t),e.isVisible()&&Jh(e)};if(!n)return i(),[null];var a=n.duration,o=a===void 0?0:a,s=n.delay,l=s===void 0?0:s,c=Math.ceil(+o/2),u=+o/4,f=B(t.getGeometryBounds().center,2),h=f[0],d=f[1],p=B(e.getGeometryBounds().center,2),v=p[0],g=p[1],y=B([(h+v)/2-h,(d+g)/2-d],2),m=y[0],b=y[1],x=t.style.opacity,_=x===void 0?1:x,w=e.style.opacity,S=w===void 0?1:w,O=t.style.transform||"",M=e.style.transform||"",T=t.animate([{opacity:_,transform:"translate(0, 0) ".concat(O)},{opacity:0,transform:"translate(".concat(m,", ").concat(b,") ").concat(O)}],J(J({fill:"both"},n),{duration:l+c+u})),A=e.animate([{opacity:0,transform:"translate(".concat(-m,", ").concat(-b,") ").concat(M),offset:.01},{opacity:S,transform:"translate(0, 0) ".concat(M)}],J(J({fill:"both"},n),{duration:c+u,delay:l+c-u}));return Zc(A,i),[T,A]}function bi(t,e,n){var r={},i={};return Object.entries(e).forEach(function(a){var o=B(a,2),s=o[0],l=o[1];if(!Ot(l)){var c=t.style[s]||t.parsedStyle[s]||0;c!==l&&(r[s]=c,i[s]=l)}}),n?b6(t,[r,i],J({fill:"both"},n)):(m6(t,i),null)}function W0(t,e){return t.style.opacity||(t.style.opacity=1),bi(t,{opacity:0},e)}var x6={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},_6={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},w6={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},ki=oi({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),to=oi({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),ect=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){var i=n.x,a=n.y,o=n.size,s=o===void 0?10:o,l=n.radius,c=l===void 0?s/4:l,u=n.orientation,f=yn(n,["x","y","size","radius","orientation"]),h=s,d=h*2.4,p=At(r).maybeAppendByClassName(to.iconRect,"rect").styles(J(J({},f),{width:h,height:d,radius:c,x:i-h/2,y:a-d/2,transformOrigin:"center"})),v=i+1/3*h-h/2,g=i+2/3*h-h/2,y=a+1/4*d-d/2,m=a+3/4*d-d/2;p.maybeAppendByClassName("".concat(to.iconLine,"-1"),"line").styles(J({x1:v,x2:v,y1:y,y2:m},f)),p.maybeAppendByClassName("".concat(to.iconLine,"-2"),"line").styles(J({x1:g,x2:g,y1:y,y2:m},f)),u==="vertical"&&(p.node().style.transform="rotate(90)")},e}(bn),S6=function(t){it(e,t);function e(n){return t.call(this,n,w6)||this}return e.prototype.renderLabel=function(n){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.showLabel,l=Nt(this.attributes,"label"),c=l.x,u=c===void 0?0:c,f=l.y,h=f===void 0?0:f,d=l.transform,p=l.transformOrigin,v=yn(l,["x","y","transform","transformOrigin"]),g=B(Da(v,[]),2),y=g[0],m=g[1],b=At(n).maybeAppendByClassName(to.labelGroup,"g").styles(m),x=J(J({},_6),y),_=x.text,w=yn(x,["text"]);pr(!!s,b,function(S){r.label=S.maybeAppendByClassName(to.label,"text").styles(J(J({},w),{x:a+u,y:o+h,transform:d,transformOrigin:p,text:"".concat(_)})),r.label.on("mousedown",function(O){O.stopPropagation()}),r.label.on("touchstart",function(O){O.stopPropagation()})})},e.prototype.renderIcon=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.type,l=J(J({x:i,y:a,orientation:o},x6),Nt(this.attributes,"icon")),c=this.attributes.iconShape,u=c===void 0?function(){return new ect({style:l})}:c,f=At(n).maybeAppendByClassName(to.iconGroup,"g");f.selectAll(to.icon.class).data([u]).join(function(h){return h.append(typeof u=="string"?u:function(){return u(s)}).attr("className",to.icon.name)},function(h){return h.update(l)},function(h){return h.remove()})},e.prototype.render=function(n,r){this.renderIcon(r),this.renderLabel(r)},e}(bn),O6=function(t){it(e,t);function e(n){var r=t.call(this,n,J(J(J({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(i){return i.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},Ri(w6,"handle")),Ri(x6,"handleIcon")),Ri(_6,"handleLabel")))||this;return r.range=[0,1],r.onDragStart=function(i){return function(a){a.stopPropagation(),r.target=i,r.prevPos=r.getOrientVal(lg(a));var o=r.availableSpace,s=o.x,l=o.y,c=r.getBBox(),u=c.x,f=c.y;r.selectionStartPos=r.getRatio(r.prevPos-r.getOrientVal([s,l])-r.getOrientVal([+u,+f])),r.selectionWidth=0,document.addEventListener("pointermove",r.onDragging),document.addEventListener("pointerup",r.onDragEnd)}},r.onDragging=function(i){var a=r.attributes,o=a.slidable,s=a.brushable,l=a.type;i.stopPropagation();var c=r.getOrientVal(lg(i)),u=c-r.prevPos;if(u){var f=r.getRatio(u);switch(r.target){case"start":o&&r.setValuesOffset(f);break;case"end":o&&r.setValuesOffset(0,f);break;case"selection":o&&r.setValuesOffset(f,f);break;case"track":if(!s)return;r.selectionWidth+=f,l==="range"?r.innerSetValues([r.selectionStartPos,r.selectionStartPos+r.selectionWidth].sort(),!0):r.innerSetValues([0,r.selectionStartPos+r.selectionWidth],!0);break}r.prevPos=c}},r.onDragEnd=function(){document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointerup",r.onDragEnd),r.target="",r.updateHandlesPosition(!1)},r.onValueChange=function(i){var a=r.attributes,o=a.onChange,s=a.type,l=s==="range"?i:i[1],c=s==="range"?r.getValues():r.getValues()[1],u=new le("valuechange",{detail:{oldValue:l,value:c}});r.dispatchEvent(u),o==null||o(c)},r.selectionStartPos=0,r.selectionWidth=0,r.prevPos=0,r.target="",r}return Object.defineProperty(e.prototype,"values",{get:function(){return this.attributes.values},set:function(n){this.attributes.values=this.clampValues(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparklineStyle",{get:function(){var n=this.attributes.orientation;if(n!=="horizontal")return null;var r=Nt(this.attributes,"sparkline");return J(J({zIndex:0},this.availableSpace),r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var n=this.attributes,r=n.trackLength,i=n.trackSize,a=B(this.getOrientVal([[r,i],[i,r]]),2),o=a[0],s=a[1];return{width:o,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var n=this.attributes;n.x,n.y;var r=n.padding,i=B(Tn(r),4),a=i[0],o=i[1],s=i[2],l=i[3],c=this.shape,u=c.width,f=c.height;return{x:l,y:a,width:u-(l+o),height:f-(a+s)}},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.values},e.prototype.setValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1),this.attributes.values=n;var i=r===!1?!1:this.attributes.animate;this.updateSelectionArea(i),this.updateHandlesPosition(i)},e.prototype.updateSelectionArea=function(n){var r=this.calcSelectionArea();this.foregroundGroup.selectAll(ki.selection.class).each(function(i,a){bi(this,r[a],n)})},e.prototype.updateHandlesPosition=function(n){this.attributes.showHandle&&(this.startHandle&&bi(this.startHandle,this.getHandleStyle("start"),n),this.endHandle&&bi(this.endHandle,this.getHandleStyle("end"),n))},e.prototype.innerSetValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1);var i=this.values,a=this.clampValues(n);this.attributes.values=a,this.setValues(a),r&&this.onValueChange(i)},e.prototype.renderTrack=function(n){var r=this.attributes,i=r.x,a=r.y,o=Nt(this.attributes,"track");this.trackShape=At(n).maybeAppendByClassName(ki.track,"rect").styles(J(J({x:i,y:a},this.shape),o))},e.prototype.renderBrushArea=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.brushable;this.brushArea=At(n).maybeAppendByClassName(ki.brushArea,"rect").styles(J({x:i,y:a,fill:"transparent",cursor:o?"crosshair":"default"},this.shape))},e.prototype.renderSparkline=function(n){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.orientation,l=At(n).maybeAppendByClassName(ki.sparklineGroup,"g");pr(s==="horizontal",l,function(c){var u=J(J({},r.sparklineStyle),{x:a,y:o});c.maybeAppendByClassName(ki.sparkline,function(){return new Zlt({style:u})}).update(u)})},e.prototype.renderHandles=function(){var n=this,r,i=this.attributes,a=i.showHandle,o=i.type,s=o==="range"?["start","end"]:["end"],l=a?s:[],c=this;(r=this.foregroundGroup)===null||r===void 0||r.selectAll(ki.handle.class).data(l.map(function(u){return{type:u}}),function(u){return u.type}).join(function(u){return u.append(function(f){var h=f.type;return new S6({style:n.getHandleStyle(h)})}).each(function(f){var h=f.type;this.attr("class","".concat(ki.handle.name," ").concat(h,"-handle"));var d="".concat(h,"Handle");c[d]=this,this.addEventListener("pointerdown",c.onDragStart(h))})},function(u){return u.each(function(f){var h=f.type;this.update(c.getHandleStyle(h))})},function(u){return u.each(function(f){var h=f.type,d="".concat(h,"Handle");c[d]=void 0}).remove()})},e.prototype.renderSelection=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.type,s=r.selectionType;this.foregroundGroup=At(n).maybeAppendByClassName(ki.foreground,"g");var l=Nt(this.attributes,"selection"),c=function(f){return f.style("visibility",function(h){return h.show?"visible":"hidden"}).style("cursor",function(h){return s==="select"?"grab":s==="invert"?"crosshair":"default"}).styles(J(J({},l),{transform:"translate(".concat(i,", ").concat(a,")")}))},u=this;this.foregroundGroup.selectAll(ki.selection.class).data(o==="value"?[]:this.calcSelectionArea().map(function(f,h){return{style:J({},f),index:h,show:s==="select"?h===1:h!==1}}),function(f){return f.index}).join(function(f){return f.append("rect").attr("className",ki.selection.name).call(c).each(function(h,d){var p=this;d===1?(u.selectionShape=At(this),this.on("pointerdown",function(v){p.attr("cursor","grabbing"),u.onDragStart("selection")(v)}),u.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),u.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),u.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){p.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){p.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){p.attr("cursor","pointer")})):this.on("pointerdown",u.onDragStart("track"))})},function(f){return f.call(c)},function(f){return f.remove()}),this.updateSelectionArea(!1),this.renderHandles()},e.prototype.render=function(n,r){this.renderTrack(r),this.renderSparkline(r),this.renderBrushArea(r),this.renderSelection(r)},e.prototype.clampValues=function(n,r){var i;r===void 0&&(r=4);var a=B(this.range,2),o=a[0],s=a[1],l=B(this.getValues().map(function(g){return Rx(g,r)}),2),c=l[0],u=l[1],f=Array.isArray(n)?n:[c,n??u],h=B((f||[c,u]).map(function(g){return Rx(g,r)}),2),d=h[0],p=h[1];if(this.attributes.type==="value")return[0,We(p,o,s)];d>p&&(i=B([p,d],2),d=i[0],p=i[1]);var v=p-d;return v>s-o?[o,s]:d<o?c===o&&u===p?[o,p]:[o,v+o]:p>s?u===s&&c===d?[d,s]:[s-v,s]:[d,p]},e.prototype.calcSelectionArea=function(n){var r=B(this.clampValues(n),2),i=r[0],a=r[1],o=this.availableSpace,s=o.x,l=o.y,c=o.width,u=o.height;return this.getOrientVal([[{y:l,height:u,x:s,width:i*c},{y:l,height:u,x:i*c+s,width:(a-i)*c},{y:l,height:u,x:a*c,width:(1-a)*c}],[{x:s,width:c,y:l,height:i*u},{x:s,width:c,y:i*u+l,height:(a-i)*u},{x:s,width:c,y:a*u,height:(1-a)*u}]])},e.prototype.calcHandlePosition=function(n){var r=this.attributes.handleIconOffset,i=this.availableSpace,a=i.x,o=i.y,s=i.width,l=i.height,c=B(this.clampValues(),2),u=c[0],f=c[1],h=n==="start"?-r:r,d=(n==="start"?u:f)*this.getOrientVal([s,l])+h;return{x:a+this.getOrientVal([d,s/2]),y:o+this.getOrientVal([l/2,d])}},e.prototype.inferTextStyle=function(n){var r=this.attributes.orientation;return r==="horizontal"?{}:n==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:n==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},e.prototype.calcHandleText=function(n){var r,i=this.attributes,a=i.type,o=i.orientation,s=i.formatter,l=i.autoFitLabel,c=Nt(this.attributes,"handle"),u=Nt(c,"label"),f=c.spacing,h=this.getHandleSize(),d=this.clampValues(),p=n==="start"?d[0]:d[1],v=s(p),g=new aS({style:J(J(J({},u),this.inferTextStyle(n)),{text:v})}),y=g.getBBox(),m=y.width,b=y.height;if(g.destroy(),!l){if(a==="value")return{text:v,x:0,y:-b-f};var x=f+h+(o==="horizontal"?m/2:0);return r={text:v},r[o==="horizontal"?"x":"y"]=n==="start"?-x:x,r}var _=0,w=0,S=this.availableSpace,O=S.width,M=S.height,T=this.calcSelectionArea()[1],A=T.x,P=T.y,E=T.width,C=T.height,k=f+h;if(o==="horizontal"){var L=k+m/2;if(n==="start"){var R=A-k-m;_=R>0?-L:L}else{var D=O-A-E-k>m;_=D?L:-L}}else{var I=k,N=b+k;n==="start"?w=P-h>b?-N:I:w=M-(P+C)-h>b?N:-I}return{x:_,y:w,text:v}},e.prototype.getHandleLabelStyle=function(n){var r=Nt(this.attributes,"handleLabel");return J(J(J({},r),this.calcHandleText(n)),this.inferTextStyle(n))},e.prototype.getHandleIconStyle=function(){var n=this.attributes.handleIconShape,r=Nt(this.attributes,"handleIcon"),i=this.getOrientVal(["ew-resize","ns-resize"]),a=this.getHandleSize();return J({cursor:i,shape:n,size:a},r)},e.prototype.getHandleStyle=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.showLabel,s=r.showLabelOnInteraction,l=r.orientation,c=this.calcHandlePosition(n),u=c.x,f=c.y,h=this.calcHandleText(n),d=o;return!o&&s&&(this.target?d=!0:d=!1),J(J(J({},Ri(this.getHandleIconStyle(),"icon")),Ri(J(J({},this.getHandleLabelStyle(n)),h),"label")),{transform:"translate(".concat(u+i,", ").concat(f+a,")"),orientation:l,showLabel:d,type:n,zIndex:3})},e.prototype.getHandleSize=function(){var n=this.attributes,r=n.handleIconSize,i=n.width,a=n.height;return r||Math.floor((this.getOrientVal([+a,+i])+4)/2.4)},e.prototype.getOrientVal=function(n){var r=B(n,2),i=r[0],a=r[1],o=this.attributes.orientation;return o==="horizontal"?i:a},e.prototype.setValuesOffset=function(n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=this.attributes.type,o=B(this.getValues(),2),s=o[0],l=o[1],c=a==="range"?n:0,u=[s+c,l+r].sort();i?this.setValues(u):this.innerSetValues(u,!0)},e.prototype.getRatio=function(n){var r=this.availableSpace,i=r.width,a=r.height;return n/this.getOrientVal([i,a])},e.prototype.dispatchCustomEvent=function(n,r,i){var a=this;n.on(r,function(o){o.stopPropagation(),a.dispatchEvent(new le(i,{detail:o}))})},e.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var n=this.brushArea;this.dispatchCustomEvent(n,"click","trackClick"),this.dispatchCustomEvent(n,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(n,"pointerleave","trackMouseleave"),n.on("pointerdown",this.onDragStart("track"))},e.prototype.onScroll=function(n){var r=this.attributes.scrollable;if(r){var i=n.deltaX,a=n.deltaY,o=a||i,s=this.getRatio(o);this.setValuesOffset(s,s,!0)}},e.tag="slider",e}(bn),nct=function(t){it(e,t);function e(n){var r=t.call(this,n,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return r.range=[0,1],r.onValueChange=function(i){var a=r.attributes.value;if(i!==a){var o={detail:{oldValue:i,value:a}};r.dispatchEvent(new le("scroll",o)),r.dispatchEvent(new le("valuechange",o))}},r.onTrackClick=function(i){var a=r.attributes.slidable;if(a){var o=B(r.getLocalPosition(),2),s=o[0],l=o[1],c=B(r.padding,4),u=c[0],f=c[3],h=r.getOrientVal([s+f,l+u]),d=r.getOrientVal(lg(i)),p=(d-h)/r.trackLength;r.setValue(p,!0)}},r.onThumbMouseenter=function(i){r.dispatchEvent(new le("thumbMouseenter",{detail:i.detail}))},r.onTrackMouseenter=function(i){r.dispatchEvent(new le("trackMouseenter",{detail:i.detail}))},r.onThumbMouseleave=function(i){r.dispatchEvent(new le("thumbMouseleave",{detail:i.detail}))},r.onTrackMouseleave=function(i){r.dispatchEvent(new le("trackMouseleave",{detail:i.detail}))},r}return Object.defineProperty(e.prototype,"padding",{get:function(){var n=this.attributes.padding;return Tn(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var n=this.attributes.value,r=B(this.range,2),i=r[0],a=r[1];return We(n,i,a)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackLength",{get:function(){var n=this.attributes,r=n.viewportLength,i=n.trackLength,a=i===void 0?r:i;return a},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var n=this.attributes.trackSize,r=this.trackLength,i=B(this.padding,4),a=i[0],o=i[1],s=i[2],l=i[3],c=B(this.getOrientVal([[r,n],[n,r]]),2),u=c[0],f=c[1];return{x:l,y:a,width:+u-(l+o),height:+f-(a+s)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackRadius",{get:function(){var n=this.attributes,r=n.isRound,i=n.trackSize;return r?i/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumbRadius",{get:function(){var n=this.attributes,r=n.isRound,i=n.thumbRadius;if(!r)return 0;var a=this.availableSpace,o=a.width,s=a.height;return i||this.getOrientVal([s,o])/2},enumerable:!1,configurable:!0}),e.prototype.getValues=function(n){n===void 0&&(n=this.value);var r=this.attributes,i=r.viewportLength,a=r.contentLength,o=i/a,s=B(this.range,2),l=s[0],c=s[1],u=n*(c-l-o);return[u,u+o]},e.prototype.getValue=function(){return this.value},e.prototype.renderSlider=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.trackSize,l=r.padding,c=r.slidable,u=Nt(this.attributes,"track"),f=Nt(this.attributes,"thumb"),h=J(J({x:i,y:a,brushable:!1,orientation:o,padding:l,selectionRadius:this.thumbRadius,showHandle:!1,slidable:c,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:s,values:this.getValues()},Ri(u,"track")),Ri(f,"selection"));this.slider=At(n).maybeAppendByClassName("scrollbar",function(){return new O6({style:h})}).update(h).node()},e.prototype.render=function(n,r){this.renderSlider(r)},e.prototype.setValue=function(n,r){r===void 0&&(r=!1);var i=this.attributes.value,a=B(this.range,2),o=a[0],s=a[1];this.slider.setValues(this.getValues(We(n,o,s)),r),this.onValueChange(i)},e.prototype.bindEvents=function(){var n=this;this.slider.addEventListener("trackClick",function(r){r.stopPropagation(),n.onTrackClick(r.detail)}),this.onHover()},e.prototype.getOrientVal=function(n){var r=this.attributes.orientation;return r==="horizontal"?n[0]:n[1]},e.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},e.tag="scrollbar",e}(bn),uS={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new Qn({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};U({},uS,{style:{type:"arc"}});U({},uS,{style:{}});var ne=oi({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),Ec=oi({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function M6(t){return t.reduce(function(e,n,r){return e.push(pt([r===0?"M":"L"],B(n),!1)),e},[])}function rct(t,e,n){var r=e.connect,i=r===void 0?"line":r,a=e.center;if(i==="line")return M6(t);if(!a)return[];var o=gh(t[0],a),s=n?0:1;return t.reduce(function(l,c,u){return u===0?l.push(pt(["M"],B(c),!1)):l.push(pt(["A",o,o,0,0,s],B(c),!1)),l},[])}function Nx(t,e,n){return e.type==="surround"?rct(t,e,n):M6(t)}function ict(t,e,n){var r=n.type,i=n.connect,a=n.center,o=n.closed,s=o?[["Z"]]:[],l=B([Nx(t,n),Nx(e.slice().reverse(),n,!0)],2),c=l[0],u=l[1],f=B([t[0],e.slice(-1)[0]],2),h=f[0],d=f[1],p=function(m,b){return[c,m,u,b,s].flat()};if(i==="line"||r==="surround")return p([pt(["L"],B(d),!1)],[pt(["L"],B(h),!1)]);if(!a)throw new Error("Arc grid need to specified center");var v=B([gh(d,a),gh(h,a)],2),g=v[0],y=v[1];return p([pt(["A",g,g,0,0,1],B(d),!1),pt(["L"],B(d),!1)],[pt(["A",y,y,0,0,0],B(h),!1),pt(["L"],B(h),!1)])}function act(t,e,n,r){var i=n.animate,a=n.isBillboard,o=e.map(function(s,l){return{id:s.id||"grid-line-".concat(l),d:Nx(s.points,n)}});return t.selectAll(Ec.line.class).data(o,function(s){return s.id}).join(function(s){return s.append("path").each(function(l,c){var u=ei(VP(J({d:l.d},r)),[l,c,o]);this.attr(J({class:Ec.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:a},u))})},function(s){return s.transition(function(l,c){var u=ei(VP(J({d:l.d},r)),[l,c,o]);return bi(this,u,i.update)})},function(s){return s.transition(function(){var l=this,c=W0(this,i.exit);return Zc(c,function(){return l.remove()}),c})}).transitions()}function oct(t,e,n){var r=n.animate,i=n.connect,a=n.areaFill;if(e.length<2||!a||!i)return[];for(var o=Array.isArray(a)?a:[a,"transparent"],s=function(p){return o[p%o.length]},l=[],c=0;c<e.length-1;c++){var u=B([e[c].points,e[c+1].points],2),f=u[0],h=u[1],d=ict(f,h,n);l.push({d,fill:s(c)})}return t.selectAll(Ec.region.class).data(l,function(p,v){return v}).join(function(p){return p.append("path").each(function(v,g){var y=ei(v,[v,g,l]);this.attr(y)}).attr("className",Ec.region.name)},function(p){return p.transition(function(v,g){var y=ei(v,[v,g,l]);return bi(this,y,r.update)})},function(p){return p.transition(function(){var v=this,g=W0(this,r.exit);return Zc(g,function(){return v.remove()}),g})}).transitions()}function sct(t){var e=t.data,n=e===void 0?[]:e,r=t.closed;return r?n.map(function(i){var a=i.points,o=B(a,1),s=o[0];return J(J({},i),{points:pt(pt([],B(a),!1),[s],!1)})}):n}var lct=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){n.type,n.center,n.areaFill,n.closed;var i=yn(n,["type","center","areaFill","closed"]),a=sct(n),o=At(r).maybeAppendByClassName(Ec.lineGroup,"g"),s=At(r).maybeAppendByClassName(Ec.regionGroup,"g"),l=act(o,a,n,i),c=oct(s,a,n);return pt(pt([],B(l),!1),B(c),!1)},e}(bn);function T6(t,e){return Object.fromEntries(Object.entries(t).map(function(n){var r=B(n,2),i=r[0],a=r[1];return[i,ei(a,e)]}))}function fS(t,e){return e&&Kn(e)?t.filter(e):t}function A6(t,e){var n=e.startAngle,r=e.endAngle;return(r-n)*t+n}function H0(t,e){if(e.type==="linear"){var n=B(e.startPos,2),r=n[0],i=n[1],a=B(e.endPos,2),o=a[0],s=a[1],l=B([o-r,s-i],2),c=l[0],u=l[1];return d6([c,u])}var f=Ac(A6(t,e));return[-Math.sin(f),Math.cos(f)]}function hS(t,e,n){var r=H0(t,n);return olt(r,e!=="positive")}function td(t,e){return hS(t,e.labelDirection,e)}function cct(t,e){var n=B(e.startPos,2),r=n[0],i=n[1],a=B(e.endPos,2),o=a[0],s=a[1],l=B([o-r,s-i],2),c=l[0],u=l[1];return[r+c*t,i+u*t]}function uct(t,e){var n=e.radius,r=B(e.center,2),i=r[0],a=r[1],o=Ac(A6(t,e));return[i+n*Math.cos(o),a+n*Math.sin(o)]}function Y0(t,e){return e.type==="linear"?cct(t,e):uct(t,e)}function E6(t){return H0(0,t)[1]===0}function P6(t){return H0(0,t)[0]===0}function C6(t,e){return e-t===360}function QP(t,e,n,r,i){var a=e-t,o=B([i,i],2),s=o[0],l=o[1],c=B([Ac(t),Ac(e)],2),u=c[0],f=c[1],h=function(M){return[n+i*Math.cos(M),r+i*Math.sin(M)]},d=B(h(u),2),p=d[0],v=d[1],g=B(h(f),2),y=g[0],m=g[1];if(C6(t,e)){var b=(f+u)/2,x=B(h(b),2),_=x[0],w=x[1];return[["M",p,v],["A",s,l,0,1,0,_,w],["A",s,l,0,1,0,y,m]]}var S=a>180?1:0,O=t>e?0:1;return"M".concat(p,",").concat(v,",A").concat(s,",").concat(l,",0,").concat(S,",").concat(O,",").concat(y,",").concat(m)}function fct(t){var e=t.attributes,n=e.startAngle,r=e.endAngle,i=e.center,a=e.radius;return pt(pt([n,r],B(i),!1),[a],!1)}function hct(t,e,n,r){var i=e.startAngle,a=e.endAngle,o=e.center,s=e.radius;return t.selectAll(ne.line.class).data([{d:QP.apply(void 0,pt(pt([i,a],B(o),!1),[s],!1))}],function(l,c){return c}).join(function(l){return l.append("path").attr("className",ne.line.name).styles(e).styles({d:function(c){return c.d}})},function(l){return l.transition(function(){var c=this,u=nlt(this,fct(this),pt(pt([i,a],B(o),!1),[s],!1),r.update);if(u){var f=function(){var h=Re(c.attributes,"__keyframe_data__");c.style.d=QP.apply(void 0,pt([],B(h),!1))};u.onframe=f,u.onfinish=f}return u}).styles(e)},function(l){return l.remove()}).styles(n).transitions()}function dct(t,e){e.truncRange,e.truncShape,e.lineExtension}function pct(t,e,n){n===void 0&&(n=[0,0]);var r=B([t,e,n],3),i=B(r[0],2),a=i[0],o=i[1],s=B(r[1],2),l=s[0],c=s[1],u=B(r[2],2),f=u[0],h=u[1],d=B([l-a,c-o],2),p=d[0],v=d[1],g=Math.sqrt(Math.pow(p,2)+Math.pow(v,2)),y=B([-f/g,h/g],2),m=y[0],b=y[1];return[m*p,m*v,b*p,b*v]}function JP(t){var e=B(t,2),n=B(e[0],2),r=n[0],i=n[1],a=B(e[1],2),o=a[0],s=a[1];return{x1:r,y1:i,x2:o,y2:s}}function vct(t,e,n,r){var i=e.showTrunc,a=e.startPos,o=e.endPos,s=e.truncRange,l=e.lineExtension,c=B([a,o],2),u=B(c[0],2),f=u[0],h=u[1],d=B(c[1],2),p=d[0],v=d[1],g=B(l?pct(a,o,l):new Array(4).fill(0),4),y=g[0],m=g[1],b=g[2],x=g[3],_=function(D){return t.selectAll(ne.line.class).data(D,function(I,N){return N}).join(function(I){return I.append("line").attr("className",function(N){return"".concat(ne.line.name," ").concat(N.className)}).styles(n).transition(function(N){return bi(this,JP(N.line),!1)})},function(I){return I.styles(n).transition(function(N){var F=N.line;return bi(this,JP(F),r.update)})},function(I){return I.remove()}).transitions()};if(!i||!s)return _([{line:[[f+y,h+m],[p+b,v+x]],className:ne.line.name}]);var w=B(s,2),S=w[0],O=w[1],M=p-f,T=v-h,A=B([f+M*S,h+T*S],2),P=A[0],E=A[1],C=B([f+M*O,h+T*O],2),k=C[0],L=C[1],R=_([{line:[[f+y,h+m],[P,E]],className:ne.lineFirst.name},{line:[[k,L],[p+b,v+x]],className:ne.lineSecond.name}]);return dct(t,e),R}function gct(t,e,n,r){var i=n.showArrow,a=n.showTrunc,o=n.lineArrow,s=n.lineArrowOffset,l=n.lineArrowSize,c;if(e==="arc"?c=t.select(ne.line.class):a?c=t.select(ne.lineSecond.class):c=t.select(ne.line.class),!i||!o||n.type==="arc"&&C6(n.startAngle,n.endAngle)){var u=c.node();u&&(u.style.markerEnd=void 0);return}var f=Gs(o);f.attr(r),sS(f,l),c.style("markerEnd",f).style("markerEndOffset",-s)}function yct(t,e,n){var r=e.type,i,a=Nt(e,"line");return r==="linear"?i=vct(t,e,YP(a,"arrow"),n):i=hct(t,e,YP(a,"arrow"),n),gct(t,r,e,a),i}function mct(t,e){return hS(t,e.gridDirection,e)}function k6(t){var e=t.type,n=t.gridCenter;return e==="linear"?n:n||t.center}function bct(t,e){var n=e.gridLength;return t.map(function(r,i){var a=r.value,o=B(Y0(a,e),2),s=o[0],l=o[1],c=B(ya(mct(a,e),n),2),u=c[0],f=c[1];return{id:i,points:[[s,l],[s+u,l+f]]}})}function xct(t,e){var n=e.gridControlAngles,r=k6(e);if(!r)throw new Error("grid center is not provide");if(t.length<2)throw new Error("Invalid grid data");if(!n||n.length===0)throw new Error("Invalid gridControlAngles");var i=B(r,2),a=i[0],o=i[1];return t.map(function(s,l){var c=s.value,u=B(Y0(c,e),2),f=u[0],h=u[1],d=B([f-a,h-o],2),p=d[0],v=d[1],g=[];return n.forEach(function(y){var m=Ac(y),b=B([Math.cos(m),Math.sin(m)],2),x=b[0],_=b[1],w=p*x-v*_+a,S=p*_+v*x+o;g.push([w,S])}),{points:g,id:l}})}function _ct(t,e,n,r){var i=Nt(n,"grid"),a=i.type,o=i.areaFill,s=k6(n),l=fS(e,n.gridFilter),c=a==="segment"?bct(l,n):xct(l,n),u=J(J({},i),{center:s,areaFill:Kn(o)?l.map(function(f,h){return ei(o,[f,h,l])}):o,animate:r,data:c});return t.selectAll(ne.grid.class).data([1]).join(function(f){return f.append(function(){return new lct({style:u})}).attr("className",ne.grid.name)},function(f){return f.transition(function(){return this.update(u)})},function(f){return f.remove()}).transitions()}var Bx=function(){function t(e,n,r,i){this.set(e,n,r,i)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),t.prototype.rotatedPoints=function(e,n,r){var i=this,a=i.x1,o=i.y1,s=i.x2,l=i.y2,c=Math.cos(e),u=Math.sin(e),f=n-n*c+r*u,h=r-n*u-r*c,d=[[c*a-u*l+f,u*a+c*l+h],[c*s-u*l+f,u*s+c*l+h],[c*a-u*o+f,u*a+c*o+h],[c*s-u*o+f,u*s+c*o+h]];return d},t.prototype.set=function(e,n,r,i){return r<e?(this.x2=e,this.x1=r):(this.x1=e,this.x2=r),i<n?(this.y2=n,this.y1=i):(this.y1=n,this.y2=i),this},t.prototype.defined=function(e){return this[e]!==Number.MAX_VALUE&&this[e]!==-Number.MAX_VALUE},t}();function Fx(t,e){var n=t.getEulerAngles()||0;t.setEulerAngles(0);var r=t.getBounds(),i=B(r.min,2),a=i[0],o=i[1],s=B(r.max,2),l=s[0],c=s[1],u=t.getBBox(),f=u.width,h=u.height,d=h,p=0,v=0,g=a,y=o,m=f6(t);if(m){d-=1.5;var b=m.style.textAlign,x=m.style.textBaseline;b==="center"?g=(a+l)/2:(b==="right"||b==="end")&&(g=l),x==="middle"?y=(o+c)/2:x==="bottom"&&(y=c)}var _=B(Tn(e),4),w=_[0],S=w===void 0?0:w,O=_[1],M=O===void 0?0:O,T=_[2],A=T===void 0?S:T,P=_[3],E=P===void 0?M:P,C=new Bx((p+=a)-E,(v+=o)-S,p+f+M,v+d+A);return t.setEulerAngles(n),C.rotatedPoints(Ac(n),g,y)}function Xu(t,e){return e[0]<=Math.max(t[0][0],t[1][0])&&e[0]<=Math.min(t[0][0],t[1][0])&&e[1]<=Math.max(t[0][1],t[1][1])&&e[1]<=Math.min(t[0][1],t[1][1])}function Uu(t,e,n){var r=(e[1]-t[1])*(n[0]-e[0])-(e[0]-t[0])*(n[1]-e[1]);return r===0?0:r<0?2:1}function wct(t,e){var n=Uu(t[0],t[1],e[0]),r=Uu(t[0],t[1],e[1]),i=Uu(e[0],e[1],t[0]),a=Uu(e[0],e[1],t[1]);return!!(n!==r&&i!==a||n===0&&Xu(t,e[0])||r===0&&Xu(t,e[1])||i===0&&Xu(e,t[0])||a===0&&Xu(e,t[1]))}function Sct(t,e){var n=t.length;if(n<3)return!1;var r=[e,[9999,e[1]]],i=0,a=0;do{var o=[t[a],t[(a+1)%n]];if(wct(o,r)){if(Uu(o[0],e,o[1])===0)return Xu(o,e);i++}a=(a+1)%n}while(a!==0);return!!(i&1)}function Oct(t,e){return e.every(function(n){return Sct(t,n)})}function Mct(t,e,n){var r=t.x1,i=t.x2,a=t.y1,o=t.y2,s=[[r,a],[i,a],[i,o],[r,o]],l=Fx(e,n);return Oct(s,l)}function Tct(t,e){var n=B(t,4),r=n[0],i=n[1],a=n[2],o=n[3],s=B(e,4),l=s[0],c=s[1],u=s[2],f=s[3],h=a-r,d=o-i,p=u-l,v=f-c,g=h*v-p*d;if(g===0)return!1;var y=g>0,m=r-l,b=i-c,x=h*b-d*m;if(x<0===y)return!1;var _=p*b-v*m;return!(_<0===y||x>g===y||_>g===y)}function Act(t,e){var n=[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]];return n.some(function(r){return Tct(e,r)})}function Ect(t,e,n){var r,i,a=Fx(t,n).flat(1),o=Fx(e,n).flat(1),s=[[a[0],a[1],a[2],a[3]],[a[0],a[1],a[4],a[5]],[a[4],a[5],a[6],a[7]],[a[2],a[3],a[6],a[7]]];try{for(var l=Ch(s),c=l.next();!c.done;c=l.next()){var u=c.value;if(Act(o,u))return!0}}catch(f){r={error:f}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1}function Pct(t,e){var n=t.type,r=t.labelDirection,i=t.crossSize;if(!i)return!1;if(n==="arc"){var a=t.center,o=t.radius,s=B(a,2),l=s[0],c=s[1],u=r==="negative"?0:i,f=-o-u,h=o+u,d=B(Tn(e),4),p=d[0],v=d[1],g=d[2],y=d[3];return new Bx(l+f-y,c+f-p,l+h+v,c+h+g)}var m=B(t.startPos,2),b=m[0],x=m[1],_=B(t.endPos,2),w=_[0],S=_[1],O=B(P6(t)?[-e,0,e,0]:[0,e,0,-e],4),M=O[0],T=O[1],A=O[2],P=O[3],E=td(0,t),C=ya(E,i),k=new Bx(b,x,w,S);return k.x1+=P,k.y1+=M,k.x2+=T+C[0],k.y2+=A+C[1],k}function V0(t,e,n){var r,i,a=e.crossPadding,o=new Set,s=null,l=Pct(e,a),c=function(p){return l?Mct(l,p):!0},u=function(p,v){return!p||!p.firstChild?!0:!Ect(p.firstChild,v.firstChild,Tn(n))};try{for(var f=Ch(t),h=f.next();!h.done;h=f.next()){var d=h.value;c(d)?!s||u(s,d)?s=d:(o.add(s),o.add(d)):o.add(d)}}catch(p){r={error:p}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return Array.from(o)}function s1(t,e){return e===void 0&&(e={}),Ot(t)?0:typeof t=="number"?t:Math.floor(Zst(t,e))}function Cct(t,e,n,r){if(!(t.length<=1)){var i=e.suffix,a=i===void 0?"...":i,o=e.minLength,s=e.maxLength,l=s===void 0?1/0:s,c=e.step,u=c===void 0?" ":c,f=e.margin,h=f===void 0?[0,0,0,0]:f,d=u6(r.getTextShape(t[0])),p=s1(u,d),v=o?s1(o,d):p,g=s1(l,d);(Ot(g)||g===1/0)&&(g=Math.max.apply(null,t.map(function(w){return w.getBBox().width})));var y=t.slice(),m=B(h,4);m[0],m[1],m[2],m[3];for(var b=function(w){if(y.forEach(function(S){r.ellipsis(r.getTextShape(S),w,a)}),y=V0(t,n,h),y.length<1)return{value:void 0}},x=g;x>v+p;x-=p){var _=b(x);if(typeof _=="object")return _.value}}}var kct={parity:function(t,e){var n=e.seq,r=n===void 0?2:n;return t.filter(function(i,a){return a%r?(Io(i),!1):!0})}},Lct=function(t){return t.filter(c6)};function Dct(t,e,n,r){var i=t.length,a=e.keepHeader,o=e.keepTail;if(!(i<=1||i===2&&a&&o)){var s=kct.parity,l=function(b){return b.forEach(r.show),b},c=2,u=t.slice(),f=t.slice(),h=Math.min.apply(Math,pt([1],B(t.map(function(b){return b.getBBox().width})),!1));if(n.type==="linear"&&(E6(n)||P6(n))){var d=XP(t[0]).left,p=XP(t[i-1]).right,v=Math.abs(p-d)||1;c=Math.max(Math.floor(i*h/v),c)}var g,y;for(a&&(g=u.splice(0,1)[0]),o&&(y=u.splice(-1,1)[0],u.reverse()),l(u);c<t.length&&V0(Lct(y?pt(pt([y],B(f),!1),[g],!1):pt([g],B(f),!1)),n,e==null?void 0:e.margin).length;){if(y&&!g&&c%2===0){var m=u.splice(0,1);m.forEach(r.hide)}else if(y&&g){var m=u.splice(0,1);m.forEach(r.hide)}f=s(l(u),{seq:c}),c++}}}function Ict(t,e,n,r){var i,a,o=e.optionalAngles,s=o===void 0?[0,45,90]:o,l=e.margin,c=e.recoverWhenFailed,u=c===void 0?!0:c,f=t.map(function(y){return y.getLocalEulerAngles()}),h=function(){return V0(t,n,l).length<1},d=function(y){return t.forEach(function(m,b){var x=Array.isArray(y)?y[b]:y;r.rotate(m,+x)})};try{for(var p=Ch(s),v=p.next();!v.done;v=p.next()){var g=v.value;if(d(g),h())return}}catch(y){i={error:y}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}u&&d(f)}function Rct(t){var e=t.type,n=t.labelDirection;return e==="linear"&&E6(t)?n==="negative"?"bottom":"top":"middle"}function Nct(t,e,n,r){var i=e.wordWrapWidth,a=i===void 0?50:i,o=e.maxLines,s=o===void 0?3:o,l=e.recoverWhenFailed,c=l===void 0?!0:l,u=e.margin,f=u===void 0?[0,0,0,0]:u,h=t.map(function(m){return m.attr("maxLines")||1}),d=Math.min.apply(Math,pt([],B(h),!1)),p=function(){return V0(t,n,f).length<1},v=Rct(n),g=function(m){return t.forEach(function(b,x){var _=Array.isArray(m)?m[x]:m;r.wrap(b,a,_,v)})};if(!(d>s)){for(var y=d;y<=s;y++)if(g(y),p())return;c&&g(h)}}var Bct=new Map([["hide",Dct],["rotate",Ict],["ellipsis",Cct],["wrap",Nct]]);function Fct(t,e,n){return e.labelOverlap.length<1?!1:n==="hide"?!Ust(t[0]):n==="rotate"?!t.some(function(r){var i;return!!(!((i=r.attr("transform"))===null||i===void 0)&&i.includes("rotate"))}):n==="ellipsis"||n==="wrap"?t.filter(function(r){return r.querySelector("text")}).length>1:!0}function jct(t,e,n){var r=e.labelOverlap,i=r===void 0?[]:r;i.length&&i.forEach(function(a){var o=a.type,s=Bct.get(o);Fct(t,e,o)&&(s==null||s(t,a,e,n))})}function zct(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(r){return r==="positive"?-1:1};return t.reduce(function(r,i){return r*n(i)},1)}function tC(t){for(var e=t;e<0;)e+=360;return Math.round(e%360)}function jx(t,e){var n=B(t,2),r=n[0],i=n[1],a=B(e,2),o=a[0],s=a[1],l=B([r*o+i*s,r*s-i*o],2),c=l[0],u=l[1];return Math.atan2(u,c)}function $ct(t){var e=(t+360)%180;return Sn(e,-90,90)||(e+=180),e}function Gct(t,e,n){var r,i=n.labelAlign,a=(r=e.style.transform)===null||r===void 0?void 0:r.includes("rotate");if(a)return e.getLocalEulerAngles();var o=0,s=td(t.value,n),l=H0(t.value,n);return i==="horizontal"?0:(i==="perpendicular"?o=jx([1,0],s):o=jx([l[0]<0?-1:1,0],l),$ct(s6(o)))}function L6(t,e,n){var r=n.type,i=n.labelAlign,a=td(t,n),o=tC(e),s=tC(s6(jx([1,0],a))),l="center",c="middle";return r==="linear"?[90,270].includes(s)&&o===0?(l="center",c=a[1]===1?"top":"bottom"):!(s%180)&&[90,270].includes(o)?l="center":s===0?(Sn(o,0,90,!1,!0)||Sn(o,0,90)||Sn(o,270,360))&&(l="start"):s===90?Sn(o,0,90,!1,!0)?l="start":(Sn(o,90,180)||Sn(o,270,360))&&(l="end"):s===270?Sn(o,0,90,!1,!0)?l="end":(Sn(o,90,180)||Sn(o,270,360))&&(l="start"):s===180&&(o===90?l="start":(Sn(o,0,90)||Sn(o,270,360))&&(l="end")):i==="parallel"?Sn(s,0,180,!0)?c="top":c="bottom":i==="horizontal"?Sn(s,90,270,!1)?l="end":(Sn(s,270,360,!1)||Sn(s,0,90))&&(l="start"):i==="perpendicular"&&(Sn(s,90,270)?l="end":l="start"),{textAlign:l,textBaseline:c}}function Wct(t,e,n){e.setLocalEulerAngles(t);var r=e.__data__.value,i=L6(r,t,n),a=e.querySelector(ne.labelItem.class);a&&D6(a,i)}function eC(t,e,n){var r=n.showTick,i=n.tickLength,a=n.tickDirection,o=n.labelDirection,s=n.labelSpacing,l=e.indexOf(t),c=ei(s,[t,l,e]),u=B([td(t.value,n),zct(o,a)],2),f=u[0],h=u[1],d=h===1?ei(r?i:0,[t,l,e]):0,p=B(Vu(ya(f,c+d),Y0(t.value,n)),2),v=p[0],g=p[1];return{x:v,y:g}}function Hct(t,e,n,r){var i=r.labelFormatter,a=Kn(i)?function(){return Gs(ei(i,[t,e,n,td(t.value,r)]))}:function(){return Gs(t.label||"")};return a}function D6(t,e){t.nodeName==="text"&&t.attr(e)}function nC(t){jct(this.node().childNodes,t,{hide:Io,show:Jh,rotate:function(e,n){Wct(+n,e,t)},ellipsis:function(e,n,r){e&&Ix(e,n||1/0,r)},wrap:function(e,n,r){e&&Kst(e,n,r)},getTextShape:function(e){return e.querySelector("text")}})}function rC(t,e,n,r,i){var a=n.indexOf(e),o=At(t).append(Hct(e,a,n,i)).attr("className",ne.labelItem.name).node(),s=B(Da(T6(r,[e,a,n])),2),l=s[0],c=s[1],u=c.transform,f=yn(c,["transform"]);p6(o,u);var h=Gct(e,o,i);return o.getLocalEulerAngles()||o.setLocalEulerAngles(h),D6(o,J(J({},L6(e.value,h,i)),l)),t.attr(f),o}function Yct(t,e,n,r){var i=fS(e,n.labelFilter),a=Nt(n,"label");return t.selectAll(ne.label.class).data(i,function(o,s){return s}).join(function(o){return o.append("g").attr("className",ne.label.name).transition(function(s){rC(this,s,e,a,n);var l=eC(s,e,n),c=l.x,u=l.y;return this.style.transform="translate(".concat(c,", ").concat(u,")"),null}).call(function(){nC.call(t,n)})},function(o){return o.transition(function(s){var l=this.querySelector(ne.labelItem.class),c=rC(this,s,e,a,n),u=tct(l,c,r.update),f=eC(s,e,n),h=f.x,d=f.y,p=bi(this,{transform:"translate(".concat(h,", ").concat(d,")")},r.update);return pt(pt([],B(u),!1),[p],!1)}).call(function(s){var l=Re(s,"_transitions").flat().filter(c6);Qlt(l,function(){nC.call(t,n)})})},function(o){return o.transition(function(){var s=this,l=W0(this.childNodes[0],r.exit);return Zc(l,function(){return At(s).remove()}),l})}).transitions()}function I6(t,e){return hS(t,e.tickDirection,e)}function Vct(t,e){var n=B(t,2),r=n[0],i=n[1];return[[0,0],[r*e,i*e]]}function Xct(t,e,n,r,i){var a=i.tickLength,o=B(Vct(r,ei(a,[t,e,n])),2),s=B(o[0],2),l=s[0],c=s[1],u=B(o[1],2),f=u[0],h=u[1];return{x1:l,x2:f,y1:c,y2:h}}function Uct(t,e,n,r,i){var a=i.tickFormatter,o=I6(e.value,i),s="line";return Kn(a)&&(s=function(){return ei(a,[e,n,r,o])}),t.append(s).attr("className",ne.tickItem.name)}function qct(t,e,n,r,i,a,o){var s=I6(t.value,a),l=Xct(t,e,n,s,a),c=l.x1,u=l.x2,f=l.y1,h=l.y2,d=B(Da(T6(o,[t,e,n,s])),2),p=d[0],v=d[1];r.node().nodeName==="line"&&r.styles(J({x1:c,x2:u,y1:f,y2:h},p)),i.attr(v),r.styles(p)}function iC(t,e,n,r,i,a){var o=Uct(At(this),t,e,n,r);qct(t,e,n,o,this,r,i);var s=B(Y0(t.value,r),2),l=s[0],c=s[1];return bi(this,{transform:"translate(".concat(l,", ").concat(c,")")},a)}function Zct(t,e,n,r){var i=fS(e,n.tickFilter),a=Nt(n,"tick");return t.selectAll(ne.tick.class).data(i,function(o){return o.id||o.label}).join(function(o){return o.append("g").attr("className",ne.tick.name).transition(function(s,l){return iC.call(this,s,l,i,n,a,!1)})},function(o){return o.transition(function(s,l){return this.removeChildren(),iC.call(this,s,l,i,n,a,r.update)})},function(o){return o.transition(function(){var s=this,l=W0(this.childNodes[0],r.exit);return Zc(l,function(){return s.remove()}),l})}).transitions()}var aC=oi({text:"text"},"title");function X0(t){return/\S+-\S+/g.test(t)?t.split("-").map(function(e){return e[0]}):t.length>2?[t[0]]:t.split("")}function Kct(t,e){var n=t.attributes,r=n.position,i=n.spacing,a=n.inset,o=n.text,s=t.getBBox(),l=e.getBBox(),c=X0(r),u=B(Tn(o?i:0),4),f=u[0],h=u[1],d=u[2],p=u[3],v=B(Tn(a),4),g=v[0],y=v[1],m=v[2],b=v[3],x=B([p+h,f+d],2),_=x[0],w=x[1],S=B([b+y,g+m],2),O=S[0],M=S[1];if(c[0]==="l")return new Ie(s.x,s.y,l.width+s.width+_+O,Math.max(l.height+M,s.height));if(c[0]==="t")return new Ie(s.x,s.y,Math.max(l.width+O,s.width),l.height+s.height+w+M);var T=B([e.attributes.width||l.width,e.attributes.height||l.height],2),A=T[0],P=T[1];return new Ie(l.x,l.y,A+s.width+_+O,P+s.height+w+M)}function Qct(t,e){var n=Object.entries(e).reduce(function(r,i){var a=B(i,2),o=a[0],s=a[1],l=t.node().attr(o);return l||(r[o]=s),r},{});t.styles(n)}function Jct(t){var e,n,r,i,a=t,o=a.width,s=a.height,l=a.position,c=B([+o/2,+s/2],2),u=c[0],f=c[1],h=B([+u,+f,"center","middle"],4),d=h[0],p=h[1],v=h[2],g=h[3],y=X0(l);return y.includes("l")&&(e=B([0,"start"],2),d=e[0],v=e[1]),y.includes("r")&&(n=B([+o,"end"],2),d=n[0],v=n[1]),y.includes("t")&&(r=B([0,"top"],2),p=r[0],g=r[1]),y.includes("b")&&(i=B([+s,"bottom"],2),p=i[0],g=i[1]),{x:d,y:p,textAlign:v,textBaseline:g}}var R6=function(t){it(e,t);function e(n){return t.call(this,n,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return e.prototype.getAvailableSpace=function(){var n=this,r=this.attributes,i=r.width,a=r.height,o=r.position,s=r.spacing,l=r.inset,c=n.querySelector(aC.text.class);if(!c)return new Ie(0,0,+i,+a);var u=c.getBBox(),f=u.width,h=u.height,d=B(Tn(s),4),p=d[0],v=d[1],g=d[2],y=d[3],m=B([0,0,+i,+a],4),b=m[0],x=m[1],_=m[2],w=m[3],S=X0(o);if(S.includes("i"))return new Ie(b,x,_,w);S.forEach(function(L,R){var D,I,N,F;L==="t"&&(D=B(R===0?[h+g,+a-h-g]:[0,+a],2),x=D[0],w=D[1]),L==="r"&&(I=B([+i-f-y],1),_=I[0]),L==="b"&&(N=B([+a-h-p],1),w=N[0]),L==="l"&&(F=B(R===0?[f+v,+i-f-v]:[0,+i],2),b=F[0],_=F[1])});var O=B(Tn(l),4),M=O[0],T=O[1],A=O[2],P=O[3],E=B([P+T,M+A],2),C=E[0],k=E[1];return new Ie(b+P,x+M,_-C,w-k)},e.prototype.getBBox=function(){return this.title?this.title.getBBox():new Ie(0,0,0,0)},e.prototype.render=function(n,r){var i=this;n.width,n.height,n.position,n.spacing;var a=yn(n,["width","height","position","spacing"]),o=B(Da(a),1),s=o[0],l=Jct(n),c=l.x,u=l.y,f=l.textAlign,h=l.textBaseline;pr(!!a.text,At(r),function(d){i.title=d.maybeAppendByClassName(aC.text,"text").styles(s).call(Qct,{x:c,y:u,textAlign:f,textBaseline:h}).node()})},e}(bn);function tut(t,e,n){var r=n.titlePosition,i=r===void 0?"lb":r,a=n.titleSpacing,o=X0(i),s=t.node().getLocalBounds(),l=B(s.min,2),c=l[0],u=l[1],f=B(s.halfExtents,2),h=f[0],d=f[1],p=B(e.node().getLocalBounds().halfExtents,2),v=p[0],g=p[1],y=B([c+h,u+d],2),m=y[0],b=y[1],x=B(Tn(a),4),_=x[0],w=x[1],S=x[2],O=x[3];if(["start","end"].includes(i)&&n.type==="linear"){var M=n.startPos,T=n.endPos,A=B(i==="start"?[M,T]:[T,M],2),P=A[0],E=A[1],C=d6([-E[0]+P[0],-E[1]+P[1]]),k=B(ya(C,_),2),L=k[0],R=k[1];return{x:P[0]+L,y:P[1]+R}}return o.includes("t")&&(b-=d+g+_),o.includes("r")&&(m+=h+v+w),o.includes("l")&&(m-=h+v+O),o.includes("b")&&(b+=d+g+S),{x:m,y:b}}function eut(t,e,n){var r=t.getGeometryBounds().halfExtents,i=r[1]*2;if(e==="vertical"){if(n==="left")return"rotate(-90) translate(0, ".concat(i/2,")");if(n==="right")return"rotate(-90) translate(0, -".concat(i/2,")")}return""}function oC(t,e,n,r,i){var a=Nt(r,"title"),o=B(Da(a),2),s=o[0],l=o[1],c=l.transform,u=l.transformOrigin,f=yn(l,["transform","transformOrigin"]);e.styles(f);var h=c||eut(t.node(),s.direction,s.position);t.styles(J(J({},s),{transformOrigin:u})),p6(t.node(),h);var d=tut(At(n._offscreen||n.querySelector(ne.mainGroup.class)),e,r),p=d.x,v=d.y,g=bi(e.node(),{transform:"translate(".concat(p,", ").concat(v,")")},i);return g}function nut(t,e,n,r){var i=n.titleText;return t.selectAll(ne.title.class).data([{title:i}].filter(function(a){return!!a.title}),function(a,o){return a.title}).join(function(a){return a.append(function(){return Gs(i)}).attr("className",ne.title.name).transition(function(){return oC(At(this),t,e,n,r.enter)})},function(a){return a.transition(function(){return oC(At(this),t,e,n,r.update)})},function(a){return a.remove()}).transitions()}function sC(t,e,n,r){var i=t.showLine,a=t.showTick,o=t.showLabel,s=e.maybeAppendByClassName(ne.lineGroup,"g"),l=pr(i,s,function(d){return yct(d,t,r)})||[],c=e.maybeAppendByClassName(ne.tickGroup,"g"),u=pr(a,c,function(d){return Zct(d,n,t,r)})||[],f=e.maybeAppendByClassName(ne.labelGroup,"g"),h=pr(o,f,function(d){return Yct(d,n,t,r)})||[];return pt(pt(pt([],B(l),!1),B(u),!1),B(h),!1).filter(function(d){return!!d})}var dS=function(t){it(e,t);function e(n){return t.call(this,n,uS)||this}return e.prototype.render=function(n,r,i){var a=this,o=n.titleText,s=n.data,l=n.animate,c=n.showTitle,u=n.showGrid,f=n.dataThreshold,h=n.truncRange,d=flt(s,f).filter(function(_){var w=_.value;return!(h&&w>h[0]&&w<h[1])}),p=KP(i===void 0?l:i),v=At(r).maybeAppendByClassName(ne.gridGroup,"g"),g=pr(u,v,function(_){return _ct(_,d,n,p)})||[],y=At(r).maybeAppendByClassName(ne.mainGroup,"g");o&&(!this.initialized&&p.enter||this.initialized&&p.update)&&sC(n,At(this.offscreenGroup),d,KP(!1));var m=sC(n,At(y.node()),d,p),b=At(r).maybeAppendByClassName(ne.titleGroup,"g"),x=pr(c,b,function(_){return nut(_,a,n,p)})||[];return pt(pt(pt([],B(g),!1),B(m),!1),B(x),!1).flat().filter(function(_){return!!_})},e}(bn),Nr=oi({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),rut=function(t){it(e,t);function e(n){var r=t.call(this,n,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:$lt(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(i,a){return"".concat(i,"/").concat(a)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return r.playState="idle",r.contentGroup=r.appendChild(new mn({class:Nr.contentGroup.name})),r.playWindow=r.contentGroup.appendChild(new mn({class:Nr.playWindow.name})),r.innerCurrPage=r.defaultPage,r}return Object.defineProperty(e.prototype,"defaultPage",{get:function(){var n=this.attributes.defaultPage;return We(n,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageShape",{get:function(){var n=this.pageViews,r=B(wlt(n.map(function(f){var h=f.getBBox(),d=h.width,p=h.height;return[d,p]})).map(function(f){return Math.max.apply(Math,pt([],B(f),!1))}),2),i=r[0],a=r[1],o=this.attributes,s=o.pageWidth,l=s===void 0?i:s,c=o.pageHeight,u=c===void 0?a:c;return{pageWidth:l,pageHeight:u}},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n=t.prototype.getBBox.call(this),r=n.x,i=n.y,a=this.controllerShape,o=this.pageShape,s=o.pageWidth,l=o.pageHeight;return new Ie(r,i,s+a.width,l)},e.prototype.goTo=function(n){var r=this,i=this.attributes.animate,a=this,o=a.currPage,s=a.playState,l=a.playWindow,c=a.pageViews;if(s!=="idle"||n<0||c.length<=0||n>=c.length)return null;c[o].setLocalPosition(0,0),this.prepareFollowingPage(n);var u=B(this.getFollowingPageDiff(n),2),f=u[0],h=u[1];this.playState="running";var d=b6(l,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-f,", ").concat(-h,")")}],i);return Zc(d,function(){r.innerCurrPage=n,r.playState="idle",r.setVisiblePages([n]),r.updatePageInfo()}),d},e.prototype.prev=function(){var n=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!n&&i<=0)return null;var a=n?(i-1+r)%r:We(i-1,0,r);return this.goTo(a)},e.prototype.next=function(){var n=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!n&&i>=r-1)return null;var a=n?(i+1)%r:We(i+1,0,r);return this.goTo(a)},e.prototype.renderClipPath=function(n){var r=this.pageShape,i=r.pageWidth,a=r.pageHeight;if(!i||!a){this.contentGroup.style.clipPath=void 0;return}this.clipPath=n.maybeAppendByClassName(Nr.clipPath,"rect").styles({width:i,height:a}),this.contentGroup.attr("clipPath",this.clipPath.node())},e.prototype.setVisiblePages=function(n){this.playWindow.children.forEach(function(r,i){n.includes(i)?Jh(r):Io(r)})},e.prototype.adjustControllerLayout=function(){var n=this,r=n.prevBtnGroup,i=n.nextBtnGroup,a=n.pageInfoGroup,o=this.attributes,s=o.orientation,l=o.controllerPadding,c=a.getBBox(),u=c.width;c.height;var f=B(s==="horizontal"?[-180,0]:[-90,90],2),h=f[0],d=f[1];r.setLocalEulerAngles(h),i.setLocalEulerAngles(d);var p=r.getBBox(),v=p.width,g=p.height,y=i.getBBox(),m=y.width,b=y.height,x=Math.max(v,u,m),_=s==="horizontal"?{offset:[[0,0],[v/2+l,0],[v+u+l*2,0]],textAlign:"start"}:{offset:[[x/2,-g-l],[x/2,0],[x/2,b+l]],textAlign:"center"},w=B(_.offset,3),S=B(w[0],2),O=S[0],M=S[1],T=B(w[1],2),A=T[0],P=T[1],E=B(w[2],2),C=E[0],k=E[1],L=_.textAlign,R=a.querySelector("text");R&&(R.style.textAlign=L),r.setLocalPosition(O,M),a.setLocalPosition(A,P),i.setLocalPosition(C,k)},e.prototype.updatePageInfo=function(){var n,r=this,i=r.currPage,a=r.pageViews,o=r.attributes.formatter;a.length<2||((n=this.pageInfoGroup.querySelector(Nr.pageInfo.class))===null||n===void 0||n.attr("text",o(i+1,a.length)),this.adjustControllerLayout())},e.prototype.getFollowingPageDiff=function(n){var r=this.currPage;if(r===n)return[0,0];var i=this.attributes.orientation,a=this.pageShape,o=a.pageWidth,s=a.pageHeight,l=n<r?-1:1;return i==="horizontal"?[l*o,0]:[0,l*s]},e.prototype.prepareFollowingPage=function(n){var r=this,i=r.currPage,a=r.pageViews;if(this.setVisiblePages([n,i]),n!==i){var o=B(this.getFollowingPageDiff(n),2),s=o[0],l=o[1];a[n].setLocalPosition(s,l)}},e.prototype.renderController=function(n){var r=this,i=this.attributes.controllerSpacing,a=this.pageShape,o=a.pageWidth,s=a.pageHeight,l=this.pageViews.length>=2,c=n.maybeAppendByClassName(Nr.controller,"g");if(G0(c.node(),l),!!l){var u=Nt(this.attributes,"button"),f=Nt(this.attributes,"pageNum"),h=B(Da(u),2),d=h[0],p=h[1],v=d.size,g=yn(d,["size"]),y=!c.select(Nr.prevBtnGroup.class).node(),m=c.maybeAppendByClassName(Nr.prevBtnGroup,"g").styles(p);this.prevBtnGroup=m.node();var b=m.maybeAppendByClassName(Nr.prevBtn,"path"),x=c.maybeAppendByClassName(Nr.nextBtnGroup,"g").styles(p);this.nextBtnGroup=x.node();var _=x.maybeAppendByClassName(Nr.nextBtn,"path");[b,_].forEach(function(S){S.styles(J(J({},g),{transformOrigin:"center"})),sS(S.node(),v)});var w=c.maybeAppendByClassName(Nr.pageInfoGroup,"g");this.pageInfoGroup=w.node(),w.maybeAppendByClassName(Nr.pageInfo,"text").styles(f),this.updatePageInfo(),c.node().setLocalPosition(o+i,s/2),y&&(this.prevBtnGroup.addEventListener("click",function(){r.prev()}),this.nextBtnGroup.addEventListener("click",function(){r.next()}))}},e.prototype.render=function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o;this.attr("transform","translate(".concat(a,", ").concat(s,")"));var l=At(r);this.renderClipPath(l),this.renderController(l),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},e.prototype.bindEvents=function(){var n=this,r=ZR(function(){return n.render(n.attributes,n)},50);this.playWindow.addEventListener(Ct.INSERTED,r),this.playWindow.addEventListener(Ct.REMOVED,r)},e}(bn);function iut(t,e,n){var r=Math.round((t-n)/e);return n+r*e}function aut(t,e,n){var r=1.4,i=r*n;return[["M",t-n,e-i],["L",t+n,e-i],["L",t+n,e+i],["L",t-n,e+i],["Z"]]}var N6=1.4,B6=.4;function out(t,e,n){var r=n,i=r*N6,a=r/2,o=r/6,s=t+i*B6;return[["M",t,e],["L",s,e+a],["L",t+i,e+a],["L",t+i,e-a],["L",s,e-a],["Z"],["M",s,e+o],["L",t+i-2,e+o],["M",s,e-o],["L",t+i-2,e-o]]}function sut(t,e,n){var r=n,i=r*N6,a=r/2,o=r/6,s=e+i*B6;return[["M",t,e],["L",t-a,s],["L",t-a,e+i],["L",t+a,e+i],["L",t+a,s],["Z"],["M",t-o,s],["L",t-o,e+i-2],["M",t+o,s],["L",t+o,e+i-2]]}Zt.registerSymbol("hiddenHandle",aut);Zt.registerSymbol("verticalHandle",out);Zt.registerSymbol("horizontalHandle",sut);function lut(t,e,n,r){var i,a=B(t,2),o=a[0],s=a[1],l=B(e,2),c=l[0],u=l[1],f=B(n,2),h=f[0],d=f[1],p=B([c,u],2),v=p[0],g=p[1],y=g-v;return v>g&&(i=B([g,v],2),v=i[0],g=i[1]),y>s-o?[o,s]:v<o?h===o&&d===g?[o,g]:[o,y+o]:g>s?d===s&&h===v?[v,s]:[s-y,s]:[v,g]}function Gi(t,e,n){return t===void 0&&(t="horizontal"),t==="horizontal"?e:n}var xr=oi({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");function cut(t){var e=t.querySelector(xr.marker.class);return e?e.style:{}}var uut=function(t){it(e,t);function e(n){return t.call(this,n,{span:[1,1],marker:function(){return new Ao({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(e.prototype,"showValue",{get:function(){var n=this.attributes.valueText;return n?typeof n=="string"||typeof n=="number"?n!=="":typeof n=="function"?!0:n.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualSpace",{get:function(){var n=this.labelGroup,r=this.valueGroup,i=this.attributes.markerSize,a=n.node().getBBox(),o=a.width,s=a.height,l=r.node().getBBox(),c=l.width,u=l.height;return{markerWidth:i,labelWidth:o,valueWidth:c,height:Math.max(i,s,u)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"span",{get:function(){var n=this.attributes.span;if(!n)return[1,1];var r=B(Tn(n),2),i=r[0],a=r[1],o=this.showValue?a:0,s=i+o;return[i/s,o/s]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var n,r=this.attributes,i=r.markerSize,a=r.width,o=this.actualSpace,s=o.markerWidth,l=o.height,c=this.actualSpace,u=c.labelWidth,f=c.valueWidth,h=B(this.spacing,2),d=h[0],p=h[1];if(a){var v=a-i-d-p,g=B(this.span,2),y=g[0],m=g[1];n=B([y*v,m*v],2),u=n[0],f=n[1]}var b=s+u+f+d+p;return{width:b,height:l,markerWidth:s,labelWidth:u,valueWidth:f}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){var n=this.attributes.spacing;if(!n)return[0,0];var r=B(Tn(n),2),i=r[0],a=r[1];return this.showValue?[i,a]:[i,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){var n=this.shape,r=n.markerWidth,i=n.labelWidth,a=n.valueWidth,o=n.width,s=n.height,l=B(this.spacing,2),c=l[0],u=l[1];return{height:s,width:o,markerWidth:r,labelWidth:i,valueWidth:a,position:[r/2,r+c,r+i+c+u]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleSize",{get:function(){var n=cut(this.markerGroup.node()),r=this.attributes,i=r.markerSize,a=r.markerStrokeWidth,o=a===void 0?n.strokeWidth:a,s=r.markerLineWidth,l=s===void 0?n.lineWidth:s,c=r.markerStroke,u=c===void 0?n.stroke:c,f=+(o||l||(u?1:0))*Math.sqrt(2),h=this.markerGroup.node().getBBox(),d=h.width,p=h.height;return(1-f/Math.max(d,p))*i},enumerable:!1,configurable:!0}),e.prototype.renderMarker=function(n){var r=this,i=this.attributes.marker,a=Nt(this.attributes,"marker");this.markerGroup=n.maybeAppendByClassName(xr.markerGroup,"g").style("zIndex",0),pr(!!i,this.markerGroup,function(){var o,s=r.markerGroup.node(),l=(o=s.childNodes)===null||o===void 0?void 0:o[0],c=typeof i=="string"?new Zt({style:{symbol:i},className:xr.marker.name}):i();l?c.nodeName===l.nodeName?l instanceof Zt?l.update(J(J({},a),{symbol:i})):(ylt(l,c),At(l).styles(a)):(l.remove(),At(c).attr("className",xr.marker.name).styles(a),s.appendChild(c)):(c instanceof Zt||At(c).attr("className",xr.marker.name).styles(a),s.appendChild(c)),r.markerGroup.node().scale(1/r.markerGroup.node().getScale()[0]);var u=sS(r.markerGroup.node(),r.scaleSize);r.markerGroup.node().style._transform="scale(".concat(u,")")})},e.prototype.renderLabel=function(n){var r=Nt(this.attributes,"label"),i=r.text,a=yn(r,["text"]);this.labelGroup=n.maybeAppendByClassName(xr.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(xr.label,function(){return Gs(i)}).styles(a)},e.prototype.renderValue=function(n){var r=this,i=Nt(this.attributes,"value"),a=i.text,o=yn(i,["text"]);this.valueGroup=n.maybeAppendByClassName(xr.valueGroup,"g").style("zIndex",0),pr(this.showValue,this.valueGroup,function(){r.valueGroup.maybeAppendByClassName(xr.value,function(){return Gs(a)}).styles(o)})},e.prototype.renderBackground=function(n){var r=this.shape,i=r.width,a=r.height,o=Nt(this.attributes,"background");this.background=n.maybeAppendByClassName(xr.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(xr.background,"rect").styles(J({width:i,height:a},o))},e.prototype.adjustLayout=function(){var n=this.layout,r=n.labelWidth,i=n.valueWidth,a=n.height,o=B(n.position,3),s=o[0],l=o[1],c=o[2],u=a/2;this.markerGroup.styles({transform:"translate(".concat(s,", ").concat(u,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(l,", ").concat(u,")")}),Ix(this.labelGroup.select(xr.label.class).node(),Math.ceil(r)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(c,", ").concat(u,")")}),Ix(this.valueGroup.select(xr.value.class).node(),Math.ceil(i)))},e.prototype.render=function(n,r){var i=At(r),a=n.x,o=a===void 0?0:a,s=n.y,l=s===void 0?0:s;i.styles({transform:"translate(".concat(o,", ").concat(l,")")}),this.renderMarker(i),this.renderLabel(i),this.renderValue(i),this.renderBackground(i),this.adjustLayout()},e}(bn),ps=oi({page:"item-page",navigator:"navigator",item:"item"},"items"),lC=function(t,e,n){return n===void 0&&(n=!0),t?e(t):n},fut=function(t){it(e,t);function e(n){var r=t.call(this,n,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:Rm,mouseenter:Rm,mouseleave:Rm})||this;return r.navigatorShape=[0,0],r}return Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var n=this.attributes,r=n.gridRow,i=n.gridCol,a=n.data;if(!r&&!i)throw new Error("gridRow and gridCol can not be set null at the same time");return r&&i?[r,i]:r?[r,a.length]:[a.length,i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderData",{get:function(){var n=this.attributes,r=n.data,i=n.layout,a=Nt(this.attributes,"item"),o=r.map(function(s,l){var c=s.id,u=c===void 0?l:c,f=s.label,h=s.value;return{id:"".concat(u),index:l,style:J({layout:i,labelText:f,valueText:h},Object.fromEntries(Object.entries(a).map(function(d){var p=B(d,2),v=p[0],g=p[1];return[v,ei(g,[s,l,r])]})))}});return o},enumerable:!1,configurable:!0}),e.prototype.getGridLayout=function(){var n=this,r=this.attributes,i=r.orientation,a=r.width,o=r.rowPadding,s=r.colPadding,l=B(this.navigatorShape,1),c=l[0],u=B(this.grid,2),f=u[0],h=u[1],d=h*f,p=0;return this.pageViews.children.map(function(v,g){var y,m,b=Math.floor(g/d),x=g%d,_=n.ifHorizontal(h,f),w=[Math.floor(x/_),x%_];i==="vertical"&&w.reverse();var S=B(w,2),O=S[0],M=S[1],T=(a-c-(h-1)*s)/h,A=v.getBBox().height,P=B([0,0],2),E=P[0],C=P[1];return i==="horizontal"?(y=B([p,O*(A+o)],2),E=y[0],C=y[1],p=M===h-1?0:p+T+s):(m=B([M*(T+s),p],2),E=m[0],C=m[1],p=O===f-1?0:p+A+o),{page:b,index:g,row:O,col:M,pageIndex:x,width:T,height:A,x:E,y:C}})},e.prototype.getFlexLayout=function(){var n=this.attributes,r=n.width,i=n.height,a=n.rowPadding,o=n.colPadding,s=B(this.navigatorShape,1),l=s[0],c=B(this.grid,2),u=c[0],f=c[1],h=B([r-l,i],2),d=h[0],p=h[1],v=B([0,0,0,0,0,0,0,0],8),g=v[0],y=v[1],m=v[2],b=v[3],x=v[4],_=v[5],w=v[6],S=v[7];return this.pageViews.children.map(function(O,M){var T,A,P,E,C=O.getBBox(),k=C.width,L=C.height,R=w===0?0:o,D=w+R+k;if(D<=d&&lC(x,function(N){return N<f}))return T=B([w+R,S,D],3),g=T[0],y=T[1],w=T[2],{width:k,height:L,x:g,y,page:m,index:M,pageIndex:b++,row:_,col:x++};A=B([_+1,0,0,S+L+a],4),_=A[0],x=A[1],w=A[2],S=A[3];var I=S+L;return I<=p&&lC(_,function(N){return N<u})?(P=B([w,S,k],3),g=P[0],y=P[1],w=P[2],{width:k,height:L,x:g,y,page:m,index:M,pageIndex:b++,row:_,col:x++}):(E=B([0,0,k,0,m+1,0,0,0],8),g=E[0],y=E[1],w=E[2],S=E[3],m=E[4],b=E[5],_=E[6],x=E[7],{width:k,height:L,x:g,y,page:m,index:M,pageIndex:b++,row:_,col:x++})})},Object.defineProperty(e.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var n=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,r=n.call(this);return r.slice(-1)[0].page>0?(this.navigatorShape=[55,0],n.call(this)):r},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(n,r){var i=this.attributes.orientation;return Gi(i,n,r)},e.prototype.flattenPage=function(n){n.querySelectorAll(ps.item.class).forEach(function(r){n.appendChild(r)}),n.querySelectorAll(ps.page.class).forEach(function(r){var i=n.removeChild(r);i.destroy()})},e.prototype.renderItems=function(n){var r=this.attributes,i=r.click,a=r.mouseenter,o=r.mouseleave;this.flattenPage(n);var s=this.dispatchCustomEvent.bind(this);At(n).selectAll(ps.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(c){var u=c.style;return new uut({style:u})}).attr("className",ps.item.name).on("click",function(){i==null||i(this),s("itemClick",{item:this})}).on("pointerenter",function(){a==null||a(this),s("itemMouseenter",{item:this})}).on("pointerleave",function(){o==null||o(this),s("itemMouseleave",{item:this})})},function(l){return l.each(function(c){var u=c.style;this.update(u)})},function(l){return l.remove()})},e.prototype.relayoutNavigator=function(){var n,r=this.attributes,i=r.layout,a=r.width,o=((n=this.pageViews.children[0])===null||n===void 0?void 0:n.getBBox().height)||0,s=B(this.navigatorShape,2),l=s[0],c=s[1];this.navigator.update(i==="grid"?{pageWidth:a-l,pageHeight:o-c}:{})},e.prototype.adjustLayout=function(){var n=this,r=Object.entries(Qst(this.itemsLayout,"page")).map(function(a){var o=B(a,2),s=o[0],l=o[1];return{page:s,layouts:l}}),i=pt([],B(this.navigator.getContainer().children),!1);r.forEach(function(a){var o=a.layouts,s=n.pageViews.appendChild(new mn({className:ps.page.name}));o.forEach(function(l){var c=l.x,u=l.y,f=l.index,h=l.width,d=l.height,p=i[f];s.appendChild(p),NQ(p,"__layout__",l),p.update({x:c,y:u,width:h,height:d})})}),this.relayoutNavigator()},e.prototype.renderNavigator=function(n){var r=this.attributes.orientation,i=Nt(this.attributes,"nav"),a=La({orientation:r},i),o=this;return n.selectAll(ps.navigator.class).data(["nav"]).join(function(s){return s.append(function(){return new rut({style:a})}).attr("className",ps.navigator.name).each(function(){o.navigator=this})},function(s){return s.each(function(){this.update(a)})},function(s){return s.remove()}),this.navigator},e.prototype.getBBox=function(){return this.navigator.getBBox()},e.prototype.render=function(n,r){var i=this.attributes.data;if(!(!i||i.length===0)){var a=this.renderNavigator(At(r));this.renderItems(a.getContainer()),this.adjustLayout()}},e.prototype.dispatchCustomEvent=function(n,r){var i=new le(n,{detail:r});this.dispatchEvent(i)},e}(bn),ku=oi({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),F6={showLabel:!0,formatter:function(t){return t.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},hut=function(t){it(e,t);function e(n){return t.call(this,n,F6)||this}return e.prototype.render=function(n,r){var i=At(r).maybeAppendByClassName(ku.markerGroup,"g");this.renderMarker(i);var a=At(r).maybeAppendByClassName(ku.labelGroup,"g");this.renderLabel(a)},e.prototype.renderMarker=function(n){var r=this,i=this.attributes,a=i.orientation,o=i.markerSymbol,s=o===void 0?Gi(a,"horizontalHandle","verticalHandle"):o;pr(!!s,n,function(l){var c=Nt(r.attributes,"marker"),u=J({symbol:s},c);r.marker=l.maybeAppendByClassName(ku.marker,function(){return new Zt({style:u})}).update(u)})},e.prototype.renderLabel=function(n){var r=this,i=this.attributes,a=i.showLabel,o=i.orientation,s=i.spacing,l=s===void 0?0:s,c=i.formatter;pr(a,n,function(u){var f,h=Nt(r.attributes,"label"),d=h.text,p=yn(h,["text"]),v=((f=u.select(ku.marker.class))===null||f===void 0?void 0:f.node().getBBox())||{},g=v.width,y=g===void 0?0:g,m=v.height,b=m===void 0?0:m,x=B(Gi(o,[0,b+l,"center","top"],[y+l,0,"start","middle"]),4),_=x[0],w=x[1],S=x[2],O=x[3];u.maybeAppendByClassName(ku.label,"text").styles(J(J({},p),{x:_,y:w,text:c(d).toString(),textAlign:S,textBaseline:O}))})},e}(bn),j6={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},dut=La({},j6,{}),put=La({},j6,Ri(F6,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),vut=.01,On=oi({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),gut=function(t){it(e,t);function e(n){return t.call(this,n,dut)||this}return e.prototype.renderTitle=function(n,r,i){var a=this.attributes,o=a.showTitle,s=a.titleText,l=Nt(this.attributes,"title"),c=B(Da(l),2),u=c[0],f=c[1];this.titleGroup=n.maybeAppendByClassName(On.titleGroup,"g").styles(f);var h=J(J({width:r,height:i},u),{text:o?s:""});this.title=this.titleGroup.maybeAppendByClassName(On.title,function(){return new R6({style:h})}).update(h)},e.prototype.renderItems=function(n,r){var i=r.x,a=r.y,o=r.width,s=r.height,l=Nt(this.attributes,"title",!0),c=B(Da(l),2),u=c[0],f=c[1],h=J(J({},u),{width:o,height:s,x:0,y:0});this.itemsGroup=n.maybeAppendByClassName(On.itemsGroup,"g").styles(J(J({},f),{transform:"translate(".concat(i,", ").concat(a,")")}));var d=this;this.itemsGroup.selectAll(On.items.class).data(["items"]).join(function(p){return p.append(function(){return new fut({style:h})}).attr("className",On.items.name).each(function(){d.items=At(this)})},function(p){return p.update(h)},function(p){return p.remove()})},e.prototype.adjustLayout=function(){var n=this.attributes.showTitle;if(n){var r=this.title.node().getAvailableSpace(),i=r.x,a=r.y;this.itemsGroup.node().style.transform="translate(".concat(i,", ").concat(a,")")}},Object.defineProperty(e.prototype,"availableSpace",{get:function(){var n=this.attributes,r=n.showTitle,i=n.width,a=n.height;return r?this.title.node().getAvailableSpace():new Ie(0,0,i,a)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n,r,i=(n=this.title)===null||n===void 0?void 0:n.node(),a=(r=this.items)===null||r===void 0?void 0:r.node();return!i||!a?t.prototype.getBBox.call(this):Kct(i,a)},e.prototype.render=function(n,r){var i=this.attributes,a=i.width,o=i.height,s=i.x,l=s===void 0?0:s,c=i.y,u=c===void 0?0:c,f=At(r);r.style.transform="translate(".concat(l,", ").concat(u,")"),this.renderTitle(f,a,o),this.renderItems(f,this.availableSpace),this.adjustLayout()},e}(bn),yut={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(t){return t.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},l1=oi({background:"background",labelGroup:"label-group",label:"label"},"indicator"),mut=function(t){it(e,t);function e(n){var r=t.call(this,n,yut)||this;return r.point=[0,0],r.group=r.appendChild(new mn({})),r.isMutationObserved=!0,r}return e.prototype.renderBackground=function(){if(this.label){var n=this.attributes,r=n.position,i=n.padding,a=B(Tn(i),4),o=a[0],s=a[1],l=a[2],c=a[3],u=this.label.node().getLocalBounds(),f=u.min,h=u.max,d=new Ie(f[0]-c,f[1]-o,h[0]+s-f[0]+c,h[1]+l-f[1]+o),p=this.getPath(r,d),v=Nt(this.attributes,"background");this.background=At(this.group).maybeAppendByClassName(l1.background,"path").styles(J(J({},v),{d:p})),this.group.appendChild(this.label.node())}},e.prototype.renderLabel=function(){var n=this.attributes,r=n.formatter,i=n.labelText,a=Nt(this.attributes,"label"),o=B(Da(a),2),s=o[0],l=o[1];s.text;var c=yn(s,["text"]);if(this.label=At(this.group).maybeAppendByClassName(l1.labelGroup,"g").styles(l),!!i){var u=this.label.maybeAppendByClassName(l1.label,function(){return Gs(r(i))}).style("text",r(i).toString());u.selectAll("text").styles(c)}},e.prototype.adjustLayout=function(){var n=B(this.point,2),r=n[0],i=n[1],a=this.attributes,o=a.x,s=a.y;this.group.attr("transform","translate(".concat(o-r,", ").concat(s-i,")"))},e.prototype.getPath=function(n,r){var i=this.attributes.radius,a=r.x,o=r.y,s=r.width,l=r.height,c=[["M",a+i,o],["L",a+s-i,o],["A",i,i,0,0,1,a+s,o+i],["L",a+s,o+l-i],["A",i,i,0,0,1,a+s-i,o+l],["L",a+i,o+l],["A",i,i,0,0,1,a,o+l-i],["L",a,o+i],["A",i,i,0,0,1,a+i,o],["Z"]],u={top:4,right:6,bottom:0,left:2},f=u[n],h=this.createCorner([c[f].slice(-2),c[f+1].slice(-2)]);return c.splice.apply(c,pt([f+1,1],B(h),!1)),c[0][0]="M",c},e.prototype.createCorner=function(n,r){r===void 0&&(r=10);var i=.8,a=glt.apply(void 0,pt([],B(n),!1)),o=B(n,2),s=B(o[0],2),l=s[0],c=s[1],u=B(o[1],2),f=u[0],h=u[1],d=B(a?[f-l,[l,f]]:[h-c,[c,h]],2),p=d[0],v=B(d[1],2),g=v[0],y=v[1],m=p/2,b=p/Math.abs(p),x=r*b,_=x/2,w=x*Math.sqrt(3)/2*i,S=B([g,g+m-_,g+m,g+m+_,y],5),O=S[0],M=S[1],T=S[2],A=S[3],P=S[4];return a?(this.point=[T,c-w],[["L",O,c],["L",M,c],["L",T,c-w],["L",A,c],["L",P,c]]):(this.point=[l+w,T],[["L",l,O],["L",l,M],["L",l+w,T],["L",l,A],["L",l,P]])},e.prototype.applyVisibility=function(){var n=this.attributes.visibility;n==="hidden"?Io(this):Jh(this)},e.prototype.bindEvents=function(){this.label.on(Ct.BOUNDS_CHANGED,this.renderBackground)},e.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},e}(bn);function but(t,e){for(var n=1;n<t.length;n+=1){var r=t[n-1],i=t[n];if(e>=r&&e<=i)return[r,i]}return[e,e]}function xut(t,e,n){var r=Array.from(e),i=t.length;return new Array(i).fill(0).reduce(function(a,o,s){var l=r[s%r.length];return a+=" ".concat(t[s],":").concat(l).concat(s<i-1?" ".concat(t[s+1],":").concat(l):"")},"l(".concat(n==="horizontal"?"0":"270",")"))}function cC(t,e){var n=B(but(t,e),2),r=n[0],i=n[1];return{tick:e>(r+i)/2?i:r,range:[r,i]}}var mh=oi({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function z6(t){var e=t.orientation,n=t.size,r=t.length;return Gi(e,[r,n],[n,r])}function $6(t){var e=t.type,n=B(z6(t),2),r=n[0],i=n[1];return e==="size"?[["M",0,i],["L",0+r,0],["L",0+r,i],["Z"]]:[["M",0,i],["L",0,0],["L",0+r,0],["L",0+r,i],["Z"]]}function _ut(t){return $6(t)}function wut(t){var e=t.orientation,n=t.color,r=t.block,i=t.partition,a;if(Kn(n)){var o=20;a=new Array(o).fill(0).map(function(c,u,f){return n(u/(f.length-1))})}else a=n;var s=a.length,l=a.map(function(c){return Oa(c).toString()});return s?s===1?l[0]:r?xut(i,l,e):l.reduce(function(c,u,f){return c+=" ".concat(f/(s-1),":").concat(u)},"l(".concat(Gi(e,"0","270"),")")):""}function Sut(t){var e=t.orientation,n=t.range;if(!n)return[];var r=B(z6(t),2),i=r[0],a=r[1],o=B(n,2),s=o[0],l=o[1],c=Gi(e,s*i,0),u=Gi(e,0,s*a),f=Gi(e,l*i,i),h=Gi(e,a,l*a);return[["M",c,u],["L",c,h],["L",f,h],["L",f,u],["Z"]]}function Out(t,e){var n=Nt(e,"track");t.maybeAppendByClassName(mh.track,"path").styles(J({d:$6(e)},n))}function Mut(t,e){var n=Nt(e,"selection"),r=wut(e),i=t.maybeAppendByClassName(mh.selection,"path").styles(J({d:_ut(e),fill:r},n)),a=i.maybeAppendByClassName(mh.clipPath,"path").styles({d:Sut(e)}).node();i.style("clipPath",a)}var Tut=function(t){it(e,t);function e(n){return t.call(this,n,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return e.prototype.render=function(n,r){var i=At(r).maybeAppendByClassName(mh.trackGroup,"g");Out(i,n);var a=At(r).maybeAppendByClassName(mh.selectionGroup,"g");Mut(a,n)},e}(bn);function Aut(t){return{min:Math.min.apply(Math,pt([],B(t.map(function(e){return e.value})),!1)),max:Math.max.apply(Math,pt([],B(t.map(function(e){return e.value})),!1))}}var Eut=function(t){it(e,t);function e(n){var r=t.call(this,n,put)||this;return r.eventToOffsetScale=new xe({}),r.innerRibbonScale=new xe({}),r.cacheLabelBBox=null,r.cacheHandleBBox=null,r.onHovering=function(i){var a=r.attributes,o=a.data,s=a.block;i.stopPropagation();var l=r.getValueByCanvasPoint(i);if(s){var c=cC(o.map(function(h){var d=h.value;return d}),l).range,u=r.getRealSelection(c);r.showIndicator((c[0]+c[1])/2,"".concat(u[0],"-").concat(u[1])),r.dispatchIndicated(l,c)}else{var f=r.getTickValue(l);r.showIndicator(f,"".concat(r.getRealValue(f))),r.dispatchIndicated(f)}},r.onDragStart=function(i){return function(a){a.stopPropagation(),r.attributes.slidable&&(r.target=i,r.prevValue=r.getTickValue(r.getValueByCanvasPoint(a)),document.addEventListener("mousemove",r.onDragging),document.addEventListener("touchmove",r.onDragging),document.addEventListener("mouseleave",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("touchend",r.onDragEnd))}},r.onDragging=function(i){var a=r.target;r.updateMouse();var o=B(r.selection,2),s=o[0],l=o[1],c=r.getTickValue(r.getValueByCanvasPoint(i)),u=c-r.prevValue;a==="start"?s!==c&&r.updateSelection(c,l):a==="end"?l!==c&&r.updateSelection(s,c):a==="ribbon"&&u!==0&&(r.prevValue=c,r.updateSelection(u,u,!0))},r.onDragEnd=function(){r.style.cursor="pointer",document.removeEventListener("mousemove",r.onDragging),document.removeEventListener("touchmove",r.onDragging),document.removeEventListener("mouseup",r.onDragEnd),document.removeEventListener("touchend",r.onDragEnd)},r}return Object.defineProperty(e.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n=this.attributes,r=n.width,i=n.height;return new Ie(0,0,r,i)},e.prototype.render=function(n,r){var i=this,a=n.showLabel;this.renderTitle(At(r));var o=this.availableSpace,s=o.x,l=o.y,c=At(r).maybeAppendByClassName(On.contentGroup,"g").styles({transform:"translate(".concat(s,", ").concat(l,")")}),u=c.maybeAppendByClassName(On.labelGroup,"g").styles({zIndex:1});pr(!!a,u,function(h){i.renderLabel(h)});var f=c.maybeAppendByClassName(On.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=c.maybeAppendByClassName(On.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(f),this.renderIndicator(c),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(e.prototype,"range",{get:function(){var n=this.attributes,r=n.data,i=n.domain;return i?{min:i[0],max:i[1]}:Aut(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonScale",{get:function(){var n=this.range,r=n.min,i=n.max;return this.innerRibbonScale.update({domain:[r,i],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonRange",{get:function(){var n=B(this.selection,2),r=n[0],i=n[1],a=this.ribbonScale;return[a.map(r),a.map(i)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){var n=this.range,r=n.min,i=n.max,a=this.attributes.defaultValue,o=a===void 0?[r,i]:a,s=B(o,2),l=s[0],c=s[1];return[l,c]},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(n,r){return Gi(this.attributes.orientation,typeof n=="function"?n():n,typeof r=="function"?r():r)},e.prototype.renderTitle=function(n){var r=this.attributes,i=r.showTitle,a=r.titleText,o=r.width,s=r.height,l=Nt(this.attributes,"title"),c=J(J({},l),{width:o,height:s,text:a}),u=this;n.selectAll(On.title.class).data(i?[a]:[]).join(function(f){return f.append(function(){return new R6({style:c})}).attr("className",On.title.name).each(function(){u.title=this})},function(f){return f.update(c)},function(f){return f.each(function(){u.title=void 0}).remove()})},Object.defineProperty(e.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var n=this.attributes,r=n.width,i=n.height;return new Ie(0,0,r,i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelFixedSpacing",{get:function(){var n=this.attributes.showTick;return n?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelPosition",{get:function(){var n=this.attributes,r=n.orientation,i=n.labelDirection,a={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return a[r][i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelBBox",{get:function(){var n,r=this.attributes.showLabel;if(!r)return new Ie(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var i=((n=this.label.querySelector(ne.labelGroup.class))===null||n===void 0?void 0:n.children.slice(-1)[0]).getBBox(),a=i.width,o=i.height;return this.cacheLabelBBox=new Ie(0,0,a,o),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelShape",{get:function(){var n=this.attributes,r=n.showLabel,i=n.labelSpacing,a=i===void 0?0:i;if(!r)return{width:0,height:0,size:0,length:0};var o=this.labelBBox,s=o.width,l=o.height,c=this.ifHorizontal(l,s)+a+this.labelFixedSpacing,u=this.ifHorizontal(s,l);return{width:s,height:l,size:c,length:u}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonBBox",{get:function(){var n=this.attributes,r=n.showHandle,i=n.ribbonSize,a=this.availableSpace,o=a.width,s=a.height,l=this.labelShape,c=l.size,u=l.length,f=B(this.ifHorizontal([s,o],[o,s]),2),h=f[0],d=f[1],p=r?this.handleShape:{size:0,length:0},v=p.size,g=p.length,y=this.handleOffsetRatio,m=0,b=this.labelPosition;i?m=i:["bottom","right"].includes(b)?m=Math.min(h-c,(h-v)/y):h*(1-y)>v?m=Math.max(h-c,0):m=Math.max((h-c-v)/y,0);var x=Math.max(g,u),_=d-x,w=B(this.ifHorizontal([_,m],[m,_]),2),S=w[0],O=w[1],M=["top","left"].includes(b)?c:0,T=B(this.ifHorizontal([x/2,M],[M,x/2]),2),A=T[0],P=T[1];return new Ie(A,P,S,O)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonShape",{get:function(){var n=this.ribbonBBox,r=n.width,i=n.height;return this.ifHorizontal({size:i,length:r},{size:r,length:i})},enumerable:!1,configurable:!0}),e.prototype.renderRibbon=function(n){var r=this.attributes,i=r.data,a=r.type,o=r.orientation,s=r.color,l=r.block,c=Nt(this.attributes,"ribbon"),u=this.range,f=u.min,h=u.max,d=this.ribbonBBox,p=d.x,v=d.y,g=this.ribbonShape,y=g.length,m=g.size,b=La({transform:"translate(".concat(p,", ").concat(v,")"),length:y,size:m,type:a,orientation:o,color:s,block:l,partition:i.map(function(x){return(x.value-f)/(h-f)}),range:this.ribbonRange},c);this.ribbon=n.maybeAppendByClassName(On.ribbon,function(){return new Tut({style:b})}).update(b)},e.prototype.getHandleClassName=function(n){return"".concat(On.prefix("".concat(n,"-handle")))},e.prototype.renderHandles=function(){var n=this.attributes,r=n.showHandle,i=n.orientation,a=Nt(this.attributes,"handle"),o=B(this.selection,2),s=o[0],l=o[1],c=J(J({},a),{orientation:i}),u=a.shape,f=u===void 0?"slider":u,h=f==="basic"?hut:S6,d=this;this.handlesGroup.selectAll(On.handle.class).data(r?[{value:s,type:"start"},{value:l,type:"end"}]:[],function(p){return p.type}).join(function(p){return p.append(function(){return new h({style:c})}).attr("className",function(v){var g=v.type;return"".concat(On.handle," ").concat(d.getHandleClassName(g))}).each(function(v){var g=v.type,y=v.value;this.update({labelText:y});var m="".concat(g,"Handle");d[m]=this,this.addEventListener("pointerdown",d.onDragStart(g))})},function(p){return p.update(c).each(function(v){var g=v.value;this.update({labelText:g})})},function(p){return p.each(function(v){var g=v.type,y="".concat(g,"Handle");d[y]=void 0}).remove()})},e.prototype.adjustHandles=function(){var n=B(this.selection,2),r=n[0],i=n[1];this.setHandlePosition("start",r),this.setHandlePosition("end",i)},Object.defineProperty(e.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new Ie(0,0,0,0);var n=this.startHandle.getBBox(),r=n.width,i=n.height,a=this.endHandle.getBBox(),o=a.width,s=a.height,l=B([Math.max(r,o),Math.max(i,s)],2),c=l[0],u=l[1];return this.cacheHandleBBox=new Ie(0,0,c,u),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handleShape",{get:function(){var n=this.handleBBox,r=n.width,i=n.height,a=B(this.ifHorizontal([i,r],[r,i]),2),o=a[0],s=a[1];return{width:r,height:i,size:o,length:s}},enumerable:!1,configurable:!0}),e.prototype.setHandlePosition=function(n,r){var i=this.attributes.handleFormatter,a=this.ribbonBBox,o=a.x,s=a.y,l=this.ribbonShape.size,c=this.getOffset(r),u=B(this.ifHorizontal([o+c,s+l*this.handleOffsetRatio],[o+l*this.handleOffsetRatio,s+c]),2),f=u[0],h=u[1],d=this.handlesGroup.select(".".concat(this.getHandleClassName(n))).node();d==null||d.update({transform:"translate(".concat(f,", ").concat(h,")"),formatter:i})},e.prototype.renderIndicator=function(n){var r=Nt(this.attributes,"indicator");this.indicator=n.maybeAppendByClassName(On.indicator,function(){return new mut({})}).update(r)},Object.defineProperty(e.prototype,"labelData",{get:function(){var n=this,r=this.attributes.data;return r.reduce(function(i,a,o,s){var l,c,u=(l=a==null?void 0:a.id)!==null&&l!==void 0?l:o.toString();if(i.push(J(J({},a),{id:u,index:o,type:"value",label:(c=a==null?void 0:a.label)!==null&&c!==void 0?c:a.value.toString(),value:n.ribbonScale.map(a.value)})),o<s.length-1){var f=s[o+1],h=B([a.value,f.value],2),d=h[0],p=h[1],v=(d+p)/2;i.push(J(J({},a),{id:u,index:o,type:"range",range:[d,p],label:[d,p].join("~"),value:n.ribbonScale.map(v)}))}return i},[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelStyle",{get:function(){var n=B(["center","middle"],2),r=n[0],i=n[1],a=this.labelPosition;return a==="top"?i="bottom":a==="bottom"?i="top":a==="left"?r="end":a==="right"&&(r="start"),{labelTextAlign:r,labelTextBaseline:i}},enumerable:!1,configurable:!0}),e.prototype.renderLabel=function(n){var r=this.attributes,i=r.showTick,a=i===void 0?!1:i,o=r.labelFilter,s=r.labelFormatter,l=Nt(this.attributes,"tick"),c=Nt(this.attributes,"label"),u=c.align,f=La(J({showLine:!1,showGrid:!1,showTick:a,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),Ri(l,"tick"),Ri(c,"label"),{data:this.labelData}),h={tickFilter:function(p,v,g){return(p==null?void 0:p.type)!=="value"?!1:o?o(p,p.index,g.filter(function(y){return y.type!=="value"})):!0},labelFilter:function(p,v,g){return(p==null?void 0:p.type)!==u?!1:o?o(p,p.index,g.filter(function(y){return y.type===u})):!0},labelFormatter:s},d=J(J(J({},f),h),{labelOverlap:[{type:"hide"}]});this.label=n.maybeAppendByClassName(On.label,function(){return new dS({style:d})}).node(),this.label.update(d,!1)},Object.defineProperty(e.prototype,"labelAxisStyle",{get:function(){var n=this.attributes,r=n.showTick,i=n.labelDirection,a=n.labelSpacing,o=n.tickLength,s=this.ribbonShape.size,l=this.labelPosition,c=this.labelFixedSpacing,u=B([0,0,0],3),f=u[0],h=u[1],d=u[2],p=o??s;return r?(d=p,h=c,i==="positive"?l==="right"?(f=p,d=p):l==="bottom"&&(f=d):i==="negative"&&(l==="top"||l==="left")&&(f=s)):i==="positive"?l==="right"?h=p:l==="bottom"&&(f=s+c,h=a):i==="negative"&&(l==="left"||l==="top")&&(h=a),{offset:f,spacing:h,tickLength:d}},enumerable:!1,configurable:!0}),e.prototype.adjustLabel=function(){var n=this.attributes.showLabel;if(n){var r=this.ribbonBBox,i=r.x,a=r.y,o=r.width,s=r.height,l=this.labelAxisStyle,c=l.offset,u=l.spacing,f=l.tickLength,h=B(this.ifHorizontal([[i,a+c],[i+o,a+c]],[[i+c,a+s],[i+c,a]]),2),d=h[0],p=h[1];this.label.update({startPos:d,endPos:p,tickLength:f,labelSpacing:u},!1)}},e.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},e.prototype.showIndicator=function(n,r){r===void 0&&(r="".concat(n));var i=this.attributes.showIndicator;if(!i||typeof n!="number"){this.hideIndicator();return}var a=this.range,o=a.min,s=a.max,l=this.ribbonBBox,c=l.x,u=l.y,f=We(n,o,s),h=this.getOffset(f),d=this.ifHorizontal([h+c,u],[c,h+u]);this.indicator.update({x:d[0],y:d[1],position:this.ifHorizontal("top","left"),labelText:r}),Jh(this.indicator.node())},e.prototype.hideIndicator=function(){Io(this.indicator.node())},e.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},e.prototype.setSelection=function(n,r){this.updateSelection(n,r)},e.prototype.updateSelection=function(n,r,i){var a;i===void 0&&(i=!1);var o=B(this.selection,2),s=o[0],l=o[1],c=B([n,r],2),u=c[0],f=c[1];i&&(u+=s,f+=l);var h=this.range,d=h.min,p=h.max;a=B(lut([d,p],[u,f],this.selection),2),u=a[0],f=a[1],this.update({defaultValue:[u,f]}),this.dispatchSelection()},Object.defineProperty(e.prototype,"step",{get:function(){var n=this.attributes.step,r=n===void 0?1:n,i=this.range,a=i.min,o=i.max;return he(r)?Rx((o-a)*vut,0):r},enumerable:!1,configurable:!0}),e.prototype.getTickValue=function(n){var r=this.attributes,i=r.data,a=r.block,o=this.range.min;return a?cC(i.map(function(s){var l=s.value;return l}),n).tick:iut(n,this.step,o)},e.prototype.getValueByCanvasPoint=function(n){var r=this.range,i=r.min,a=r.max,o=B(this.ribbon.node().getPosition(),2),s=o[0],l=o[1],c=this.ifHorizontal(s,l),u=this.ifHorizontal.apply(this,pt([],B(lg(n)),!1)),f=u-c,h=We(this.getOffset(f,!0),i,a);return h},e.prototype.getOffset=function(n,r){r===void 0&&(r=!1);var i=this.range,a=i.min,o=i.max,s=this.ribbonShape.length,l=this.eventToOffsetScale;return l.update({domain:[a,o],range:[0,s]}),r?l.invert(n):l.map(n)},e.prototype.getRealSelection=function(n){var r=this.range.max,i=B(n,2),a=i[0],o=i[1];return this.ifHorizontal([a,o],[r-o,r-a])},e.prototype.getRealValue=function(n){var r=this.range.max;return this.ifHorizontal(n,r-n)},e.prototype.dispatchSelection=function(){var n=this.getRealSelection(this.selection),r=new le("valuechange",{detail:{value:n}});this.dispatchEvent(r)},e.prototype.dispatchIndicated=function(n,r){var i=this,a=this.range.max,o=this.ifHorizontal(function(){return{value:n,range:r}},function(){return{value:a-n,range:r?i.getRealSelection(r):void 0}}),s=new le("indicate",{detail:o});this.dispatchEvent(s)},e}(bn);function zx(t){return t===void 0&&(t=""),{CONTAINER:"".concat(t,"tooltip"),TITLE:"".concat(t,"tooltip-title"),LIST:"".concat(t,"tooltip-list"),LIST_ITEM:"".concat(t,"tooltip-list-item"),NAME:"".concat(t,"tooltip-list-item-name"),MARKER:"".concat(t,"tooltip-list-item-marker"),NAME_LABEL:"".concat(t,"tooltip-list-item-name-label"),VALUE:"".concat(t,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(t,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(t,"tooltip-crosshair-y")}}var uC={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function Put(t){var e;t===void 0&&(t="");var n=zx(t);return e={},e[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},e[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},e[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},e[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},e[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},e[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},e[".".concat(n.NAME_LABEL)]=J({flex:1},uC),e[".".concat(n.VALUE)]=J({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},uC),e[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e}var Cut=function(t){it(e,t);function e(n){var r=this,i,a,o=(a=(i=n.style)===null||i===void 0?void 0:i.template)===null||a===void 0?void 0:a.prefixCls,s=zx(o);return r=t.call(this,n,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(s.CONTAINER,'"></div>'),title:'<div class="'.concat(s.TITLE,'"></div>'),item:'<li class="'.concat(s.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(s.NAME,`">
          <span class="`).concat(s.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(s.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(s.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:Put(o)})||this,r.timestamp=-1,r.prevCustomContentKey=r.attributes.contentKey,r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(e.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.element},Object.defineProperty(e.prototype,"elementSize",{get:function(){var n=this.element.offsetWidth,r=this.element.offsetHeight;return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HTMLTooltipItemsElements",{get:function(){var n=this.attributes,r=n.data,i=n.template;return r.map(function(a,o){var s=a.name,l=s===void 0?"":s,c=a.color,u=c===void 0?"black":c,f=a.index,h=yn(a,["name","color","index"]),d=J({name:l,color:u,index:f??o},h);return wE(CQ(i.item,d))})},enumerable:!1,configurable:!0}),e.prototype.render=function(n,r){this.renderHTMLTooltipElement(),this.updatePosition()},e.prototype.destroy=function(){var n;(n=this.element)===null||n===void 0||n.remove(),t.prototype.destroy.call(this)},e.prototype.show=function(n,r){var i=this;if(n!==void 0&&r!==void 0){var a=this.element.style.visibility==="hidden",o=function(){i.attributes.x=n??i.attributes.x,i.attributes.y=r??i.attributes.y,i.updatePosition()};a?this.closeTransition(o):o()}this.element.style.visibility="visible"},e.prototype.hide=function(n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=this.attributes.enterable;i&&this.isCursorEntered(n,r)||(this.element.style.visibility="hidden")},e.prototype.initShape=function(){var n=this.attributes.template;this.element=wE(n.container),this.id&&this.element.setAttribute("id",this.id)},e.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var n=this.attributes.content;n&&(typeof n=="string"?this.element.innerHTML=n:this.element.replaceChildren(n))}},e.prototype.renderHTMLTooltipElement=function(){var n,r,i=this.attributes,a=i.template,o=i.title,s=i.enterable,l=i.style,c=i.content,u=zx(a.prefixCls),f=this.element;if(this.element.style.pointerEvents=s?"auto":"none",c)this.renderCustomContent();else{o?(f.innerHTML=a.title,f.getElementsByClassName(u.TITLE)[0].innerHTML=o):(r=(n=f.getElementsByClassName(u.TITLE))===null||n===void 0?void 0:n[0])===null||r===void 0||r.remove();var h=this.HTMLTooltipItemsElements,d=document.createElement("ul");d.className=u.LIST,d.replaceChildren?d.replaceChildren.apply(d,pt([],B(h),!1)):(d.innerHTML="",d.append.apply(d,pt([],B(h),!1)));var p=this.element.querySelector(".".concat(u.LIST));p?p.replaceWith(d):f.appendChild(d)}xlt(f,l)},e.prototype.getRelativeOffsetFromCursor=function(n){var r=this.attributes,i=r.position,a=r.offset,o=n||i,s=o.split("-"),l={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},c=this.elementSize,u=c.width,f=c.height,h=[-u/2,-f/2];return s.forEach(function(d){var p=B(h,2),v=p[0],g=p[1],y=B(l[d],2),m=y[0],b=y[1];h=[v+(u/2+a[0])*m,g+(f/2+a[1])*b]}),h},e.prototype.setOffsetPosition=function(n){var r=B(n,2),i=r[0],a=r[1],o=this.attributes,s=o.x,l=s===void 0?0:s,c=o.y,u=c===void 0?0:c,f=o.container,h=f.x,d=f.y;this.element.style.left="".concat(+l+h+i,"px"),this.element.style.top="".concat(+u+d+a,"px")},e.prototype.updatePosition=function(){var n=this.attributes.showDelay,r=n===void 0?60:n,i=Date.now();this.timestamp>0&&i-this.timestamp<r||(this.timestamp=i,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},e.prototype.autoPosition=function(n){var r=B(n,2),i=r[0],a=r[1],o=this.attributes,s=o.x,l=o.y,c=o.bounding,u=o.position;if(!c)return[i,a];var f=this.element,h=f.offsetWidth,d=f.offsetHeight,p=B([+s+i,+l+a],2),v=p[0],g=p[1],y={left:"right",right:"left",top:"bottom",bottom:"top"},m=c.x,b=c.y,x=c.width,_=c.height,w={left:v<m,right:v+h>m+x,top:g<b,bottom:g+d>b+_},S=[];u.split("-").forEach(function(M){w[M]?S.push(y[M]):S.push(M)});var O=S.join("-");return this.getRelativeOffsetFromCursor(O)},e.prototype.isCursorEntered=function(n,r){if(this.element){var i=this.element.getBoundingClientRect(),a=i.x,o=i.y,s=i.width,l=i.height;return new Ie(a,o,s,l).isPointIn(n,r)}return!1},e.prototype.closeTransition=function(n){var r=this,i=this.element.style.transition;this.element.style.transition="none",n(),setTimeout(function(){r.element.style.transition=i},10)},e.tag="tooltip",e}(bn),kut=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;r.layoutEvents=[Ct.BOUNDS_CHANGED,Ct.INSERTED,Ct.REMOVED],r.$margin=Tn(0),r.$padding=Tn(0);var i=n.style||{},a=i.margin,o=a===void 0?0:a,s=i.padding,l=s===void 0?0:s;return r.margin=o,r.padding=l,r.isMutationObserved=!0,r.bindEvents(),r}return Object.defineProperty(e.prototype,"margin",{get:function(){return this.$margin},set:function(n){this.$margin=Tn(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.$padding},set:function(n){this.$padding=Tn(n)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n=this.attributes,r=n.x,i=r===void 0?0:r,a=n.y,o=a===void 0?0:a,s=n.width,l=n.height,c=B(this.$margin,4),u=c[0],f=c[1],h=c[2],d=c[3];return new Ie(i-d,o-u,s+d+f,l+u+h)},e.prototype.appendChild=function(n,r){return n.isMutationObserved=!0,t.prototype.appendChild.call(this,n,r),n},e.prototype.getAvailableSpace=function(){var n=this.attributes,r=n.width,i=n.height,a=B(this.$padding,4),o=a[0],s=a[1],l=a[2],c=a[3],u=B(this.$margin,4),f=u[0],h=u[3];return new Ie(c+h,o+f,r-c-s,i-o-l)},e.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(o){return!o.isConnected}))try{var n=this.attributes,r=n.x,i=n.y;this.style.transform="translate(".concat(r,", ").concat(i,")");var a=alt(this.getAvailableSpace(),this.children.map(function(o){return o.getBBox()}),this.attributes);this.children.forEach(function(o,s){var l=a[s],c=l.x,u=l.y;o.style.transform="translate(".concat(c,", ").concat(u,")")})}catch{}},e.prototype.bindEvents=function(){var n=this;this.layoutEvents.forEach(function(r){n.addEventListener(r,function(i){i.target.isMutationObserved=!0,n.layout()})})},e.prototype.attributeChangedCallback=function(n,r,i){n==="margin"?this.margin=i:n==="padding"&&(this.padding=i),this.layout()},e}(mn),c1=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Lut(t){const{min:[e,n],max:[r,i]}=t.getLocalBounds();let a=0,o=0;return e>0&&(a=e),r<0&&(a=r),n>0&&(o=n),i<0&&(o=i),[a,o]}function Dut(t,e=[]){const[n=0,r=0,i=n,a=r]=e,o=t.parentNode,s=o.getEulerAngles();o.setEulerAngles(0);const{min:l,halfExtents:c}=t.getLocalBounds(),[u,f]=l,[h,d]=c;return o.setEulerAngles(s),{x:u-a,y:f-n,width:h*2+a+r,height:d*2+n+i}}function Iut(t,e,n,r,i=!0,a=!0){const o=f=>Qs()(f);if(!e[0]&&!e[1])return o([Lut(t),e]);if(!n.length)return o([[0,0],e]);const[s,l]=n,c=[...l],u=[...s];if(l[0]!==s[0]){const f=i?-4:4;c[1]=l[1],a&&!i&&(c[0]=Math.max(s[0],l[0]-f),l[1]<s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.max(u[0],c[0]-f))),!a&&!i&&(c[0]=Math.max(s[0],l[0]-f),l[1]>s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.max(u[0],c[0]-f))),!a&&i&&(c[0]=Math.min(s[0],l[0]-f),l[1]>s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.min(u[0],c[0]-f))),a&&i&&(c[0]=Math.min(s[0],l[0]-f),l[1]<s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.min(u[0],c[0]-f)))}return o([l,c,u,s,e])}const G6=Tc(t=>{const e=t.attributes,{className:n,class:r,transform:i,rotate:a,labelTransform:o,labelTransformOrigin:s,x:l,y:c,x0:u=l,y0:f=c,text:h,background:d,connector:p,startMarker:v,endMarker:g,coordCenter:y,innerHTML:m}=e,b=c1(e,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(t.style.transform=`translate(${l}, ${c})`,[l,c,u,f].some(D=>!we(D))){t.children.forEach(D=>D.remove());return}const x=nt(b,"background"),{padding:_}=x,w=c1(x,["padding"]),S=nt(b,"connector"),{points:O=[]}=S,M=c1(S,["points"]);let T;m?T=gt(t).maybeAppend("html","html",n).style("zIndex",0).style("innerHTML",m).call(ut,Object.assign({transform:o,transformOrigin:s},b)).node():T=gt(t).maybeAppend("text","text").style("zIndex",0).style("text",h).call(ut,Object.assign({textBaseline:"middle",transform:o,transformOrigin:s},b)).node();const A=gt(t).maybeAppend("background","rect").style("zIndex",-1).call(ut,Dut(T,_)).call(ut,d?w:{}).node(),P=+u<y[0],E=+f<y[1],C=[+u-+l,+f-+c],k=Iut(A,C,O,y,P,E),L=v&&new Zt({id:"startMarker",style:Object.assign({x:0,y:0},nt(b,"startMarker"))}),R=g&&new Zt({id:"endMarker",style:Object.assign({x:0,y:0},nt(b,"endMarker"))});gt(t).maybeAppend("connector","path").style("zIndex",0).style("d",k).style("markerStart",L).style("markerEnd",R).call(ut,p?M:{})}),W6=(t,e)=>{const{coordinate:n}=e;return(r,i,a)=>{const{color:o,text:s="",fontSize:l,rotate:c=0,transform:u=""}=i,f={text:String(s),stroke:o,fill:o,fontSize:l},[[h,d]]=r;return gt(new G6).style("x",h).style("y",d).call(ut,a).style("transform",`${u}rotate(${+c})`).style("coordCenter",n.getCenter()).call(ut,f).call(ut,t).node()}};W6.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var $x=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Rut(t){const e=t/Math.sqrt(2),n=t*Math.sqrt(2),[r,i]=[-e,e-n],[a,o]=[0,0],[s,l]=[e,e-n];return[["M",r,i],["A",t,t,0,1,1,s,l],["L",a,o],["Z"]]}function Nut(t){const{min:e,max:n}=t.getLocalBounds();return[(e[0]+n[0])*.5,(e[1]+n[1])*.5]}const But=Tc(t=>{const e=t.attributes,n=$x(e,["class","x","y","transform"]),r=nt(n,"marker"),{size:i=24}=r,a=()=>Rut(i/2),o=gt(t).maybeAppend("marker",()=>new Zt({})).call(c=>c.node().update(Object.assign({symbol:a},r))).node(),[s,l]=Nut(o);gt(t).maybeAppend("text","text").style("x",s).style("y",l).call(ut,n)}),H6=(t,e)=>{const n=$x(t,[]);return(r,i,a)=>{const{color:o}=a,s=$x(a,["color"]),{color:l=o,text:c=""}=i,u={text:String(c),stroke:l,fill:l},[[f,h]]=r;return gt(new But).call(ut,s).style("transform",`translate(${f},${h})`).call(ut,u).call(ut,n).node()}};H6.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Y6=(t,e)=>{const{coordinate:n}=e;return(r,i,a)=>{const{color:o,text:s="",fontSize:l,rotate:c=0,transform:u=""}=i,f={text:String(s),stroke:o,fill:o,fontSize:l,textAlign:"center",textBaseline:"middle"},[[h,d]]=r;return gt(new Ki).style("x",h).style("y",d).call(ut,a).style("transformOrigin","center center").style("transform",`${u}rotate(${c}deg)`).style("coordCenter",n.getCenter()).call(ut,f).call(ut,t).node()}};Y6.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Fut=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function jut(t,e){const n=[],r=[],i=[];let a=!1,o=null;const s=t.length/2;for(let l=0;l<s;l++){const c=t[l],u=t[l+s];if([...c,...u].some(f=>!e(f)))a=!0;else{if(n.push(c),r.push(u),a&&o){a=!1;const[f,h]=o;i.push([f,c,h,u])}o=[c,u]}}return[n.concat(r),i]}const fC=Tc(t=>{const{areaPath:e,connectPath:n,areaStyle:r,connectStyle:i}=t.attributes,a=t.ownerDocument;gt(t).maybeAppend("connect-path",()=>a.createElement("path",{})).style("d",n).call(ut,i),gt(t).maybeAppend("area-path",()=>a.createElement("path",{})).style("d",e).call(ut,r)}),Oi=(t,e)=>{const{curve:n,gradient:r=!1,defined:i=c=>!Number.isNaN(c)&&c!==void 0&&c!==null,connect:a=!1}=t,o=Fut(t,["curve","gradient","defined","connect"]),{coordinate:s,document:l}=e;return(c,u,f)=>{const{color:h}=f,{color:d=h,seriesColor:p,seriesX:v,seriesY:g}=u,y=ke(s),m=cB(s,u),b=r&&p?lB(p,v,g,r,void 0,y):d,x=Object.assign(Object.assign(Object.assign(Object.assign({},f),{stroke:b,fill:b}),m&&{transform:m}),o),[_,w]=jut(c,i),S=nt(x,"connect"),O=!!w.length,M=T=>gt(l.createElement("path",{})).style("d",T||"").call(ut,x).node();if(ce(s)){const T=A=>{const P=s.getCenter(),E=A.slice(0,A.length/2),C=A.slice(A.length/2);return crt().angle((k,L)=>_c($e(E[L],P))).outerRadius((k,L)=>Ne(E[L],P)).innerRadius((k,L)=>Ne(C[L],P)).defined((k,L)=>[...E[L],...C[L]].every(i)).curve(n)(C)};return!O||a&&!Object.keys(S).length?M(T(_)):O&&!a?M(T(c)):gt(new fC).style("areaStyle",x).style("connectStyle",Object.assign(Object.assign({},S),o)).style("areaPath",T(c)).style("connectPath",w.map(T).join("")).node()}else{const T=A=>{const P=A.slice(0,A.length/2),E=A.slice(A.length/2);return y?vx().y((C,k)=>P[k][1]).x1((C,k)=>P[k][0]).x0((C,k)=>E[k][0]).defined((C,k)=>[...P[k],...E[k]].every(i)).curve(n)(P):vx().x((C,k)=>P[k][0]).y1((C,k)=>P[k][1]).y0((C,k)=>E[k][1]).defined((C,k)=>[...P[k],...E[k]].every(i)).curve(n)(P)};return!O||a&&!Object.keys(S).length?M(T(_)):O&&!a?M(T(c)):gt(new fC).style("areaStyle",x).style("connectStyle",Object.assign(Object.assign({},S),o)).style("areaPath",T(c)).style("connectPath",w.map(T).join("")).node()}}};Oi.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const V6=(t,e)=>{const{coordinate:n}=e;return(...r)=>{const i=ce(n)?Aw:qh;return Oi(Object.assign({curve:i},t),e)(...r)}};V6.props=Object.assign(Object.assign({},Oi.props),{defaultMarker:"square"});var zut=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const X6=(t,e)=>{const n=zut(t,[]),{coordinate:r}=e;return(...i)=>{const a=ce(r)?l4:ke(r)?d4:h4;return Oi(Object.assign({curve:a},n),e)(...i)}};X6.props=Object.assign(Object.assign({},Oi.props),{defaultMarker:"smooth"});const U6=(t,e)=>(...n)=>Oi(Object.assign({curve:p4},t),e)(...n);U6.props=Object.assign(Object.assign({},Oi.props),{defaultMarker:"hvh"});const q6=(t,e)=>(...n)=>Oi(Object.assign({curve:v4},t),e)(...n);q6.props=Object.assign(Object.assign({},Oi.props),{defaultMarker:"vh"});const Z6=(t,e)=>(...n)=>Oi(Object.assign({curve:g4},t),e)(...n);Z6.props=Object.assign(Object.assign({},Oi.props),{defaultMarker:"hv"});const K6=(t,e)=>{const{arrow:n=!1}=t;return(...r)=>iS(Object.assign(Object.assign({},t),{arrow:n}),e)(...r)};K6.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var hC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Q6=(t,e)=>{const n=hC(t,[]),{document:r}=e;return(i,a,o)=>{const{color:s}=o,l=hC(o,["color"]),{color:c=s,transform:u}=a,[f,h]=i,d=ii();return d.moveTo(f[0],f[1]),d.bezierCurveTo(f[0]/2+h[0]/2,f[1],f[0]/2+h[0]/2,h[1],h[0],h[1]),gt(r.createElement("path",{})).call(ut,l).style("d",d.toString()).style("stroke",c).style("transform",u).call(ut,n).node()}};Q6.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var dC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function $ut(t,e,n,r){const i=ii();if(ce(n)){const a=n.getCenter(),o=Ne(t,a),l=(Ne(e,a)-o)*r+o;return i.moveTo(t[0],t[1]),vh(i,t,e,a,l),i.lineTo(e[0],e[1]),i}return ke(n)?(i.moveTo(t[0],t[1]),i.lineTo(t[0]+(e[0]-t[0])*r,t[1]),i.lineTo(t[0]+(e[0]-t[0])*r,e[1]),i.lineTo(e[0],e[1]),i):(i.moveTo(t[0],t[1]),i.lineTo(t[0],t[1]+(e[1]-t[1])*r),i.lineTo(e[0],t[1]+(e[1]-t[1])*r),i.lineTo(e[0],e[1]),i)}const J6=(t,e)=>{const{cornerRatio:n=1/3}=t,r=dC(t,["cornerRatio"]),{coordinate:i,document:a}=e;return(o,s,l)=>{const{defaultColor:c}=l,u=dC(l,["defaultColor"]),{color:f=c,transform:h}=s,[d,p]=o,v=$ut(d,p,i,n);return gt(a.createElement("path",{})).call(ut,u).style("d",v.toString()).style("stroke",f).style("transform",h).call(ut,r).node()}};J6.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var pC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const t8=(t,e)=>{const n=pC(t,[]),{coordinate:r,document:i}=e;return(a,o,s)=>{const{color:l}=s,c=pC(s,["color"]),{color:u=l,transform:f}=o,[h,d]=a,p=ii();if(p.moveTo(h[0],h[1]),ce(r)){const v=r.getCenter();p.quadraticCurveTo(v[0],v[1],d[0],d[1])}else{const v=XN(h,d),g=Ne(h,d)/2;vh(p,h,d,v,g)}return gt(i.createElement("path",{})).call(ut,c).style("d",p.toString()).style("stroke",u).style("transform",f).call(ut,n).node()}};t8.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function e8(t={}){const{shapes:e}=t;return[{name:"color"},{name:"opacity"},{name:"shape",range:e},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Jn(t={}){return[...e8(t),{name:"title",scale:"identity"}]}function Ro(){return[{type:g0,channel:"color"},{type:m0,channel:["x","y"]}]}function Kc(){return[{type:g0,channel:"x"},{type:m0,channel:["y"]}]}function Gut(){return[{type:g0,channel:"color"},{type:m0,channel:["position"]}]}function Qc(t={}){return e8(t)}function tn(){return[{type:F3}]}function on(){return[]}function u1(t,e){return t.getBandWidth(t.invert(e))}function rl(t,e,n={}){const{x:r,y:i,series:a}=e,{x:o,y:s,series:l}=t,{style:{bandOffset:c=l?0:.5,bandOffsetX:u=c,bandOffsetY:f=c}={}}=n,h=!!(o!=null&&o.getBandWidth),d=!!(s!=null&&s.getBandWidth),p=!!(l!=null&&l.getBandWidth);return!h&&!d?v=>v:(v,g)=>{const y=h?u1(o,r[g]):0,m=d?u1(s,i[g]):0,x=p&&a?(u1(l,a[g])/2+ +a[g])*y:0,[_,w]=v;return[_+u*y+x,w+f*m]}}function ug(t){return parseFloat(t)/100}function pS(t,e,n,r){const{x:i,y:a}=n,{innerWidth:o,innerHeight:s}=r.getOptions(),l=Array.from(t,c=>{const u=i[c],f=a[c],h=typeof u=="string"?ug(u)*o:+u,d=typeof f=="string"?ug(f)*s:+f;return[[h,d]]});return[t,l]}function Xi(t){return typeof t=="function"?t:e=>e[t]}function f1(t,e){return Array.from(t,Xi(e))}function vS(t,e){const{source:n=u=>u.source,target:r=u=>u.target,value:i=u=>u.value}=e,{links:a,nodes:o}=t,s=f1(a,n),l=f1(a,r),c=f1(a,i);return{links:a.map((u,f)=>({target:l[f],source:s[f],value:c[f]})),nodes:o||Array.from(new Set([...s,...l]),u=>({key:u}))}}var Wut=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const n8=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s}=o,l=Wut(o,["color"]),{color:c=s,src:u="",size:f=32,transform:h=""}=a;let{width:d=f,height:p=f}=t;const[[v,g]]=i,[y,m]=n.getSize();d=typeof d=="string"?ug(d)*y:d,p=typeof p=="string"?ug(p)*m:p;const b=v-Number(d)/2,x=g-Number(p)/2;return gt(r.createElement("image",{})).call(ut,l).style("x",b).style("y",x).style("src",u).style("stroke",c).style("transform",h).call(ut,t).style("width",d).style("height",p).node()}};n8.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Hut=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Yut(t,e){const n=ii();if(ce(e)){const r=e.getCenter(),i=[...t,t[0]],a=i.map(o=>Ne(o,r));return i.forEach((o,s)=>{if(s===0){n.moveTo(o[0],o[1]);return}const l=a[s],c=t[s-1],u=a[s-1];u!==void 0&&Math.abs(l-u)<1e-10?vh(n,c,o,r,l):n.lineTo(o[0],o[1])}),n.closePath(),n}return Ist(n,t)}const r8=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s}=o,l=Hut(o,["color"]),{color:c=s,transform:u}=a,f=Yut(i,n);return gt(r.createElement("path",{})).call(ut,l).style("d",f.toString()).style("stroke",c).style("fill",c).style("transform",u).call(ut,t).node()}};r8.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var vC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Vut(t,e){const[n,r,i,a]=t,o=ii();if(ce(e)){const s=e.getCenter(),l=Ne(s,n);return o.moveTo(n[0],n[1]),o.quadraticCurveTo(s[0],s[1],i[0],i[1]),vh(o,i,a,s,l),o.quadraticCurveTo(s[0],s[1],r[0],r[1]),vh(o,r,n,s,l),o.closePath(),o}return o.moveTo(n[0],n[1]),o.bezierCurveTo(n[0]/2+i[0]/2,n[1],n[0]/2+i[0]/2,i[1],i[0],i[1]),o.lineTo(a[0],a[1]),o.bezierCurveTo(a[0]/2+r[0]/2,a[1],a[0]/2+r[0]/2,r[1],r[0],r[1]),o.lineTo(n[0],n[1]),o.closePath(),o}const i8=(t,e)=>{const n=vC(t,[]),{coordinate:r,document:i}=e;return(a,o,s)=>{const{color:l}=s,c=vC(s,["color"]),{color:u=l,transform:f}=o,h=Vut(a,r);return gt(i.createElement("path",{})).call(ut,c).style("d",h.toString()).style("fill",u||l).style("stroke",u||l).style("transform",f).call(ut,n).node()}};i8.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Xut=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Uut(t,e){const n=ii();if(!ce(e))n.moveTo(...t[0]),n.lineTo(...t[1]),n.moveTo(...t[2]),n.lineTo(...t[3]),n.moveTo(...t[4]),n.lineTo(...t[5]),n.lineTo(...t[6]),n.lineTo(...t[7]),n.closePath(),n.moveTo(...t[8]),n.lineTo(...t[9]),n.moveTo(...t[10]),n.lineTo(...t[11]),n.moveTo(...t[12]),n.lineTo(...t[13]);else{const r=e.getCenter(),[i,a]=r,o=ti($e(t[0],r)),s=ti($e(t[1],r)),l=Ne(r,t[2]),c=Ne(r,t[3]),u=Ne(r,t[8]),f=Ne(r,t[10]),h=Ne(r,t[11]);n.moveTo(...t[0]),n.arc(i,a,l,o,s),n.arc(i,a,l,s,o,!0),n.moveTo(...t[2]),n.lineTo(...t[3]),n.moveTo(...t[4]),n.arc(i,a,c,o,s),n.lineTo(...t[6]),n.arc(i,a,f,s,o,!0),n.closePath(),n.moveTo(...t[8]),n.arc(i,a,u,o,s),n.arc(i,a,u,s,o,!0),n.moveTo(...t[10]),n.lineTo(...t[11]),n.moveTo(...t[12]),n.arc(i,a,h,o,s),n.arc(i,a,h,s,o,!0)}return n}const a8=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s,transform:l}=a,{color:c,fill:u=c,stroke:f=c}=o,h=Xut(o,["color","fill","stroke"]),d=Uut(i,n);return gt(r.createElement("path",{})).call(ut,h).style("d",d.toString()).style("stroke",f).style("fill",s||u).style("transform",l).call(ut,t).node()}};a8.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var qut=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Zut(t,e,n=4){const r=ii();if(!ce(e))return r.moveTo(...t[2]),r.lineTo(...t[3]),r.lineTo(t[3][0]-n,t[3][1]),r.lineTo(t[10][0]-n,t[10][1]),r.lineTo(t[10][0]+n,t[10][1]),r.lineTo(t[3][0]+n,t[3][1]),r.lineTo(...t[3]),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]),r.moveTo(t[3][0]+n/2,t[8][1]),r.arc(t[3][0],t[8][1],n/2,0,Math.PI*2),r.closePath(),r;const i=e.getCenter(),[a,o]=i,s=Ne(i,t[3]),l=Ne(i,t[8]),c=Ne(i,t[10]),u=ti($e(t[2],i)),f=Math.asin(n/l),h=u-f,d=u+f;r.moveTo(...t[2]),r.lineTo(...t[3]),r.moveTo(Math.cos(h)*s+a,Math.sin(h)*s+o),r.arc(a,o,s,h,d),r.lineTo(Math.cos(d)*c+a,Math.sin(d)*c+o),r.arc(a,o,c,d,h,!0),r.lineTo(Math.cos(h)*s+a,Math.sin(h)*s+o),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]);const p=(h+d)/2;return r.moveTo(Math.cos(p)*(l+n/2)+a,Math.sin(p)*(l+n/2)+o),r.arc(Math.cos(p)*l+a,Math.sin(p)*l+o,n/2,p,Math.PI*2+p),r.closePath(),r}const o8=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s,transform:l}=a,c=4,{color:u,fill:f=u,stroke:h=u}=o,d=qut(o,["color","fill","stroke"]),p=Zut(i,n,c);return gt(r.createElement("path",{})).call(ut,d).style("d",p.toString()).style("stroke",h).style("fill",s||f).style("transform",l).call(ut,t).node()}};o8.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var gC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Kut(t,e,n){return t.createElement("path",{style:Object.assign({d:`M ${e},${e} L -${e},0 L ${e},-${e} L 0,0 Z`,transformOrigin:"center"},n)})}function Qut(t,e){if(!ce(e))return Qs().x(r=>r[0]).y(r=>r[1])(t);const n=e.getCenter();return T0()({startAngle:0,endAngle:Math.PI*2,outerRadius:Ne(t[0],n),innerRadius:Ne(t[1],n)})}function Jut(t,e){if(!ce(t))return e;const[n,r]=t.getCenter();return`translate(${n}, ${r}) ${e||""}`}const gS=(t,e)=>{const{arrow:n,arrowSize:r=4}=t,i=gC(t,["arrow","arrowSize"]),{coordinate:a,document:o}=e;return(s,l,c)=>{const{color:u,lineWidth:f}=c,h=gC(c,["color","lineWidth"]),{color:d=u,size:p=f}=l,v=n?Kut(o,r,Object.assign({fill:i.stroke||d,stroke:i.stroke||d},nt(i,"arrow"))):null,g=Qut(s,a),y=Jut(a,l.transform);return gt(o.createElement("path",{})).call(ut,h).style("d",g).style("stroke",d).style("lineWidth",p).style("transform",y).style("markerEnd",v).call(ut,i).node()}};gS.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var yC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function tft(t,e,n){return[["M",t,e],["L",t+2*n,e-n],["L",t+2*n,e+n],["Z"]]}function eft(t){return Qs().x(e=>e[0]).y(e=>e[1])(t)}function nft(t,e,n,r,i=0){const[[a,o],[s,l]]=e;if(ke(t)){const h=a+n,d=s+r,p=h+i;return[[h,o],[p,o],[p,l],[d,l]]}const c=o-n,u=l-r,f=c-i;return[[a,c],[a,f],[s,f],[s,u]]}const s8=(t,e)=>{const{offset:n=0,offset1:r=n,offset2:i=n,connectLength1:a,endMarker:o=!0}=t,s=yC(t,["offset","offset1","offset2","connectLength1","endMarker"]),{coordinate:l}=e;return(c,u,f)=>{const{color:h,connectLength1:d}=f,p=yC(f,["color","connectLength1"]),{color:v,transform:g}=u,y=nft(l,c,r,i,a??d),m=nt(Object.assign(Object.assign({},s),f),"endMarker");return gt(new Qn).call(ut,p).style("d",eft(y)).style("stroke",v||h).style("transform",g).style("markerEnd",o?new Zt({className:"marker",style:Object.assign(Object.assign({},m),{symbol:tft})}):null).call(ut,s).node()}};s8.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function l8(t){return t.replace(/-(\w)/g,function(e,n){return n.toUpperCase()})}function rft(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function ift(t,e,n,r){const i=e.length/2,a=e.slice(0,i),o=e.slice(i);let s=Yc(a,(d,p)=>Math.abs(d[1]-o[p][1]));s=Math.max(Math.min(s,i-2),1);const l=d=>[a[d][0],(a[d][1]+o[d][1])/2],c=l(s),u=l(s-1),f=l(s+1),h=ti($e(f,u))/Math.PI*180;return{x:c[0],y:c[1],transform:`rotate(${h})`,textAlign:"center",textBaseline:"middle"}}function c8(t,e,n,r){const{bounds:i}=n,[[a,o],[s,l]]=i,c=s-a,u=l-o,f=h=>{const{x:d,y:p}=h,v=OE(n.x,c),g=OE(n.y,u);return Object.assign(Object.assign({},h),{x:(v||d)+a,y:(g||p)+o})};return f(t==="left"?{x:0,y:u/2,textAlign:"start",textBaseline:"middle"}:t==="right"?{x:c,y:u/2,textAlign:"end",textBaseline:"middle"}:t==="top"?{x:c/2,y:0,textAlign:"center",textBaseline:"top"}:t==="bottom"?{x:c/2,y:u,textAlign:"center",textBaseline:"bottom"}:t==="top-left"?{x:0,y:0,textAlign:"start",textBaseline:"top"}:t==="top-right"?{x:c,y:0,textAlign:"end",textBaseline:"top"}:t==="bottom-left"?{x:0,y:u,textAlign:"start",textBaseline:"bottom"}:t==="bottom-right"?{x:c,y:u,textAlign:"end",textBaseline:"bottom"}:{x:c/2,y:u/2,textAlign:"center",textBaseline:"middle"})}function u8(t,e,n,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s}=n,l=r.getCenter(),c=el(r,e,[i,a]),{innerRadius:u,outerRadius:f,startAngle:h,endAngle:d}=c,p=t==="inside"?(h+d)/2:d,v=yS(p,o,s),g=(()=>{const[y,m]=e,b=u+(f-u)*.5,[x,_]=t==="inside"?bh(l,p,b):XN(y,m);return{x,y:_}})();return Object.assign(Object.assign({},g),{textAlign:t==="inside"?"center":"start",textBaseline:"middle",rotate:v})}function bh(t,e,n){return[t[0]+Math.sin(e)*n,t[1]-Math.cos(e)*n]}function yS(t,e,n){if(!e)return 0;const r=n?0:Math.sin(t)<0?90:-90;return t/Math.PI*180+r}function aft(t,e,n,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s,radius:l=.5,offset:c=0}=n,u=el(r,e,[i,a]),{startAngle:f,endAngle:h}=u,d=r.getCenter(),p=(f+h)/2,g={textAlign:"center",textBaseline:"middle",rotate:yS(p,o,s)},{innerRadius:y,outerRadius:m}=u,x=y+(m-y)*l+c,[_,w]=bh(d,p,x);return Object.assign({x:_,y:w},g)}function mC(t){return t===void 0?null:t}function f8(t,e,n,r){const{bounds:i}=n,[a]=i;return{x:mC(a[0]),y:mC(a[1])}}function ca(t,e,n,r){const{bounds:i}=n;return i.length===1?f8(t,e,n):(E0(r)?u8:Vc(r)?aft:c8)(t,e,n,r)}function oft(t,e,n,r,i){const[a,o]=bh(t,e,n),[s,l]=bh(t,e,r),c=Math.sin(e)>0?1:-1;return[[a,o],[s,l],[s+c*i,l]]}function h8(t,e,n){const r=el(n,t,[e.y,e.y1]),{innerRadius:i,outerRadius:a}=r;return i+(a-i)}function d8(t,e,n){const r=el(n,t,[e.y,e.y1]),{startAngle:i,endAngle:a}=r;return(i+a)/2}function mS(t,e,n,r){const{autoRotate:i,rotateToAlignArc:a,offset:o=0,connector:s=!0,connectorLength:l=o,connectorLength2:c=0,connectorDistance:u=0}=n,f=r.getCenter(),h=d8(e,n,r),d=Math.sin(h)>0?1:-1,p=yS(h,i,a),v={textAlign:d>0||E0(r)?"start":"end",textBaseline:"middle",rotate:p},g=h8(e,n,r),y=g+(s?l:o),[[m,b],[x,_],[w,S]]=oft(f,h,g,y,s?c:0),O=s?+u*d:0,M=w+O,T=S,A={connector:s,connectorPoints:[[x-M,_-T],[w-M,S-T]]};return Object.assign(Object.assign({x0:m,y0:b,x:w+O,y:S},v),A)}function sft(t,e,n,r){const{bounds:i}=n;return i.length===1?f8(t,e,n):(E0(r)?u8:Vc(r)?mS:c8)(t,e,n,r)}function bC(t,e={}){const{labelHeight:n=14,height:r}=e,i=mi(t,c=>c.y),a=i.length,o=new Array(a);for(let c=0;c<a;c++){const u=i[c],{y:f}=u;o[c]={y:f,y1:f+n,labels:[f]}}let s=!0;for(;s;){s=!1;for(let c=o.length-1;c>0;c--){const u=o[c],f=o[c-1];if(f.y1>u.y){s=!0,f.labels.push(...u.labels),o.splice(c,1),f.y1+=u.y1-u.y;const h=f.y1-f.y;f.y1=Math.max(Math.min(f.y1,r),h),f.y=f.y1-h}}}let l=0;for(const c of o){const{y:u,labels:f}=c;let h=u-n;for(const d of f){const p=i[l++],g=h+n-d;p.connectorPoints[0][1]-=g,p.y=h+n,h+=n}}}function xC(t,e){const n=mi(t,s=>s.y),{height:r,labelHeight:i=14}=e,a=Math.ceil(r/i);if(n.length<=a)return bC(n,e);const o=[];for(let s=0;s<n.length;s++)s<n.length-a?(n[s].opacity=0,n[s].connector=!1):o.push(n[s]);bC(o,e)}var lft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Sp=new WeakMap;function cft(t,e,n){const{connectorLength:r,connectorLength2:i,connectorDistance:a}=e,o=lft(mS("outside",t,e,n),[]),s=n.getCenter(),l=h8(t,e,n),c=d8(t,e,n),u=l+r+i,f=Math.sin(c)>0?1:-1,h=s[0]+(u+ +a)*f,{x:d}=o,p=h-d;return o.x+=p,o.connectorPoints[0][0]-=p,o}function uft(t,e,n,r,i,a){if(!Vc(r))return{};if(Sp.has(e))return Sp.get(e);const o=a.map(h=>cft(h,n,r)),{width:s,height:l}=r.getOptions(),c=o.filter(h=>h.x<s/2),u=o.filter(h=>h.x>=s/2),f=Object.assign(Object.assign({},i),{height:l});return xC(c,f),xC(u,f),o.forEach((h,d)=>Sp.set(a[d],h)),Sp.get(e)}var fft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function hft(t,e,n,r){if(!Vc(r))return{};const{connectorLength:i,connectorLength2:a,connectorDistance:o}=n,s=fft(mS("outside",e,n,r),[]),{x0:l,y0:c}=s,u=r.getCenter(),h=hrt(r)+i,d=_c([l-u[0],c-u[1]]),p=Math.sin(d)>0?1:-1,[v,g]=bh(u,d,h);return s.x=v+(a+o)*p,s.y=g,s}const dft=Object.freeze(Object.defineProperty({__proto__:null,area:ift,bottom:ca,bottomLeft:ca,bottomRight:ca,inside:ca,left:ca,outside:sft,right:ca,spider:uft,surround:hft,top:ca,topLeft:ca,topRight:ca},Symbol.toStringTag,{value:"Module"}));var _C=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function pft(t,e){return t!==void 0?t:Vc(e)?"inside":ke(e)?"right":"top"}function vft(t,e,n,r,i,a){const{position:o}=e,{render:s}=i,l=pft(o,n),u=r[s?"htmlLabel":l==="inside"?"innerLabel":"label"],f=Object.assign({},u,e),h=dft[l8(l)];if(!h)throw new Error(`Unknown position: ${l}`);return Object.assign(Object.assign({},u),h(l,t,f,n,i,a))}const p8=(t,e)=>{const{coordinate:n,theme:r}=e,{render:i}=t;return(a,o,s,l)=>{const{text:c,x:u,y:f,transform:h="",transformOrigin:d,className:p=""}=o,v=_C(o,["text","x","y","transform","transformOrigin","className"]),g=vft(a,o,n,r,t,l),{rotate:y=0,transform:m=""}=g,b=_C(g,["rotate","transform"]);return gt(new G6).call(ut,b).style("text",`${c}`).style("className",`${p} g2-label`).style("innerHTML",i?i(c,o.datum,o.index):void 0).style("labelTransform",`${m} rotate(${+y}) ${h}`.trim()).style("labelTransformOrigin",d).style("coordCenter",n.getCenter()).call(ut,v).node()}};p8.props={defaultMarker:"point"};var wC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const bS=(t,e)=>{const{arrow:n,colorAttribute:r}=t,i=wC(t,["arrow","colorAttribute"]),{coordinate:a,document:o}=e;return(s,l,c)=>{const{color:u,stroke:f}=c,h=wC(c,["color","stroke"]),{d,color:p=u}=l,[v,g]=a.getSize();return gt(o.createElement("path",{})).call(ut,h).style("d",typeof d=="function"?d({width:v,height:g}):d).style(r,p).call(ut,i).node()}};bS.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const v8=(t,e)=>bS(Object.assign({colorAttribute:"fill"},t),e);v8.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const g8=(t,e)=>bS(Object.assign({fill:"none",colorAttribute:"stroke"},t),e);g8.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var gft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const y8=(t,e)=>{const{document:n}=e;return(r,i,a)=>{const{transform:o}=i,{color:s}=a,l=gft(a,["color"]),{color:c=s}=i,[u,...f]=r,h=ii();return h.moveTo(...u),f.forEach(([d,p])=>{h.lineTo(d,p)}),h.closePath(),gt(n.createElement("path",{})).call(ut,l).style("d",h.toString()).style("stroke",c||s).style("fill",c||s).style("fillOpacity",.4).style("transform",o).call(ut,t).node()}};y8.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function m8(t){var e,n,r,i=t||1;function a(s,l){++e>i&&(r=n,o(1),++e),n[s]=l}function o(s){e=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return a(s,l),l},set:function(s,l){n[s]!==void 0?n[s]=l:a(s,l)}}}m8(3);function yft(t,e=(...r)=>`${r[0]}`,n=16){const r=m8(n);return(...i)=>{const a=e(...i);let o=r.get(a);return r.has(a)?r.get(a):(o=t(...i),r.set(a,o),o)}}function mft(t){return typeof t=="string"?t.split(" ").map(e=>{const[n,r]=e.split(":");return[+n,r]}):t}function fg(t,e,n){const r=t?t():document.createElement("canvas");return r.width=e,r.height=n,r}const bft=yft((t,e,n)=>{const r=fg(n,t*2,t*2),i=r.getContext("2d"),a=t,o=t;if(e===1)i.beginPath(),i.arc(a,o,t,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{const s=i.createRadialGradient(a,o,t*e,a,o,t);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=s,i.fillRect(0,0,2*t,2*t)}return r},t=>`${t}`);function xft(t,e){const r=fg(e,256,1).getContext("2d"),i=r.createLinearGradient(0,0,256,1);return mft(t).forEach(([a,o])=>{i.addColorStop(a,o)}),r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}function _ft(t,e,n,r,i,a){const{blur:o}=i;let s=r.length;for(;s--;){const{x:l,y:c,value:u,radius:f}=r[s],h=Math.min(u,n),d=l-f,p=c-f,v=bft(f,1-o,a),g=(h-e)/(n-e);t.globalAlpha=Math.max(g,.001),t.drawImage(v,d,p)}return t}function wft(t,e,n,r,i){const{minOpacity:a,opacity:o,maxOpacity:s,useGradientOpacity:l}=i,c=0,u=0,f=e,h=n,d=t.getImageData(c,u,f,h),p=d.data,v=p.length;for(let g=3;g<v;g+=4){const y=p[g],m=y*4;if(!m)continue;const b=o||Math.max(0,Math.min(s,Math.max(a,y)));p[g-3]=r[m],p[g-2]=r[m+1],p[g-1]=r[m+2],p[g]=l?r[m+3]:b}return d}function Sft(t,e,n,r,i,a,o){const s=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},a);s.minOpacity*=255,s.opacity*=255,s.maxOpacity*=255;const c=fg(o,t,e).getContext("2d"),u=xft(s.gradient,o);c.clearRect(0,0,t,e),_ft(c,n,r,i,s,o);const f=wft(c,t,e,u,s),d=fg(o,t,e).getContext("2d");return d.putImageData(f,0,0),d}var Oft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Mft(t,e){return Object.keys(t).reduce((n,r)=>{const i=t[r];return e(i,r)||(n[r]=i),n},{})}const b8=(t,e)=>{const{gradient:n,opacity:r,maxOpacity:i,minOpacity:a,blur:o,useGradientOpacity:s}=t,l=Oft(t,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:c,createCanvas:u,document:f}=e;return(h,d,p)=>{const{transform:v}=d,[g,y]=c.getSize(),m=h.map(S=>({x:S[0],y:S[1],value:S[2],radius:S[3]})),b=Er(h,S=>S[2]),x=Jt(h,S=>S[2]),w=g&&y?Sft(g,y,b,x,m,Mft({gradient:n,opacity:r,minOpacity:a,maxOpacity:i,blur:o,useGradientOpacity:s},S=>S===void 0),u):{canvas:null};return gt(f.createElement("image",{})).call(ut,p).style("x",0).style("y",0).style("width",g).style("height",y).style("src",w.canvas).style("transform",v).call(ut,l).node()}};b8.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Tft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const x8=(t,e)=>{const{render:n}=t,r=Tft(t,["render"]);return i=>{const[[a,o]]=i;return n(Object.assign(Object.assign({},r),{x:a,y:o}),e)}};x8.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const SC=5e3;function OC(t,e,n){return t+(e-t)*n}function Aft(t,e,n,r){return e===0?[[t+1/2*n/Math.PI/2,r/2],[t+1/2*n/Math.PI,r],[t+n/4,r]]:e===1?[[t+1/2*n/Math.PI/2*(Math.PI-2),r],[t+1/2*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:e===2?[[t+1/2*n/Math.PI/2,-r/2],[t+1/2*n/Math.PI,-r],[t+n/4,-r]]:[[t+1/2*n/Math.PI/2*(Math.PI-2),-r],[t+1/2*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function Eft(t,e,n,r,i,a,o){const s=Math.ceil(2*t/n*4)*4,l=[];let c=r;for(;c<-Math.PI*2;)c+=Math.PI*2;for(;c>0;)c-=Math.PI*2;c=c/Math.PI/2*n;const u=a-t+c-t*2;l.push(["M",u,e]);let f=0;for(let h=0;h<s;++h){const d=h%4,p=Aft(h*n/4,d,n,i);l.push(["C",p[0][0]+u,-p[0][1]+e,p[1][0]+u,-p[1][1]+e,p[2][0]+u,-p[2][1]+e]),h===s-1&&(f=p[2][0])}return l.push(["L",f+u,o+t]),l.push(["L",u,o+t]),l.push(["Z"]),l}function Pft(t,e,n,r,i,a,o,s,l,c,u){const{fill:f,fillOpacity:h,opacity:d}=i;for(let p=0;p<r;p++){const v=r<=1?1:p/(r-1),g=Eft(s,o+s*n,l,0,s/40,t,e),y=u.createElement("path",{style:{d:g,fill:f,opacity:OC(.2,.9,v)*Number(d||h)}});a.appendChild(y);try{const m=[{transform:"translate(0, 0)"},{transform:`translate(${l*2}, 0)`}];y.animate(m,{duration:OC(.5*SC,SC,v)*2,iterations:1/0})}catch{console.warn("off-screen group animate error!")}}}function Cft(t,e,n){return`
      M ${t} ${e-n} 
      a ${n} ${n} 0 1 0 0 ${n*2}
      a ${n} ${n} 0 1 0 0 ${-n*2}
      Z
    `}function kft(t,e,n){const i=n*.618;return`
      M ${t-i} ${e-n}
      L ${t+i} ${e-n}
      L ${t+i} ${e+n}
      L ${t-i} ${e+n}
      Z
    `}function Lft(t,e,n){return`
      M ${t} ${e-n}
      L ${t+n} ${e}
      L ${t} ${e+n}
      L ${t-n} ${e}
      Z
    `}function Dft(t,e,n){return`
      M ${t} ${e-n}
      L ${t+n} ${e+n}
      L ${t-n} ${e+n}
      Z
    `}function Ift(t,e,n){const r=n*4/3,i=Math.max(r,n*2),a=r/2,o=t,s=a+e-i/2,l=Math.asin(a/((i-a)*.85)),c=Math.sin(l)*a,u=Math.cos(l)*a,f=o-u,h=s+c,d=t,p=s+a/Math.sin(l);return`
      M ${f} ${h}
      A ${a} ${a} 0 1 1 ${f+u*2} ${h}
      Q ${d} ${p} ${t} ${e+i/2}
      Q ${d} ${p} ${f} ${h}
      Z 
    `}const MC={pin:Ift,rect:kft,circle:Cft,diamond:Lft,triangle:Dft};var TC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Rft=(t="circle")=>MC[t]||MC.circle,_8=(t,e)=>{if(!e)return;const{coordinate:n}=e,{liquidOptions:r,styleOptions:i}=t,{liquidShape:a,percent:o}=r,{background:s,outline:l={},wave:c={}}=i,u=TC(i,["background","outline","wave"]),{border:f=2,distance:h=0}=l,d=TC(l,["border","distance"]),{length:p=192,count:v=3}=c;return(g,y,m)=>{const{document:b}=e.canvas,{color:x,fillOpacity:_}=m,w=Object.assign(Object.assign({fill:x},m),u),S=b.createElement("g",{}),[O,M]=n.getCenter(),T=n.getSize(),A=Math.min(...T)/2,E=(Kn(a)?a:Rft(a))(O,M,A,...T);if(Object.keys(s).length){const L=b.createElement("path",{style:Object.assign({d:E,fill:"#fff"},s)});S.appendChild(L)}if(o>0){const L=b.createElement("path",{style:{d:E}});S.appendChild(L),S.style.clipPath=L,Pft(O,M,1-o,v,w,S,L.getBBox().y,A*2,p,!0,b)}const C=b.createElement("path",{style:{d:E,fill:"transparent",lineWidth:f+2*h,stroke:"#fff"}}),k=b.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:E,stroke:x,strokeOpacity:_,lineWidth:f},w),d),{fill:"transparent"})});return S.appendChild(C),S.appendChild(k),S}};_8.props={};const AC=(t,e)=>Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))/2,Nft=(t,e)=>{if(!e)return;const{coordinate:n}=e;if(!(n!=null&&n.getCenter))return;const r=n.getCenter();return(i,a,o)=>{const{document:s}=e.canvas,{color:l,index:c}=a,u=s.createElement("g",{}),f=AC(i[0],i[1]),h=AC(i[0],r)*2,d=s.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...i[0]],["A",f,f,0,1,0,...i[1]],["A",h+f*2,h+f*2,0,0,0,...i[2]],["A",f,f,0,1,c===0?0:1,...i[3]],["A",h,h,0,0,1,...i[0]],["Z"]]},o),J2(t,["shape","last","first"])),{fill:l||o.color})});return u.appendChild(d),u}};function EC(t,e){return t.getBandWidth(t.invert(e))}const PC={rect:nl,hollow:z0,funnel:qw,pyramid:fB},w8=()=>(t,e,n,r)=>{const{x:i,y:a,y1:o,series:s,size:l}=n,c=e.x,u=e.series,[f]=r.getSize(),h=l?l.map(v=>+v/f):null,d=l?(v,g,y)=>{const m=v+g/2,b=h[y];return[m-b/2,m+b/2]}:(v,g,y)=>[v,v+g],p=Array.from(t,v=>{const g=EC(c,i[v]),y=u?EC(u,s==null?void 0:s[v]):1,m=g*y,b=(+(s==null?void 0:s[v])||0)*g,x=+i[v]+b,[_,w]=d(x,m,v),S=+a[v],O=+o[v];return[[_,S],[w,S],[w,O],[_,O]].map(E=>r.map(E))});return[t,p]};w8.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:PC,channels:[...Jn({shapes:Object.keys(PC)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...tn(),{type:Gh},{type:Ks}],postInference:[...on(),...Kc()],interaction:{shareTooltip:!0}};const CC={rect:nl,hollow:z0},S8=()=>(t,e,n,r)=>{const{x:i,x1:a,y:o,y1:s}=n,l=Array.from(t,c=>{const u=[+i[c],+o[c]],f=[+a[c],+o[c]],h=[+a[c],+s[c]],d=[+i[c],+s[c]];return[u,f,h,d].map(p=>r.map(p))});return[t,l]};S8.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:CC,channels:[...Jn({shapes:Object.keys(CC)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...tn(),{type:Gh}],postInference:[...on(),...Kc()],interaction:{shareTooltip:!0}};const kC={line:hB,smooth:dB,hv:pB,vh:vB,hvh:gB,trail:yB},Bft=(t,e,n,r)=>{var i,a;const{series:o,x:s,y:l}=n,{x:c,y:u}=e;if(s===void 0||l===void 0)throw new Error("Missing encode for x or y channel.");const f=o?Array.from(Pe(t,g=>o[g]).values()):[t],h=f.map(g=>g[0]).filter(g=>g!==void 0),d=(((i=c==null?void 0:c.getBandWidth)===null||i===void 0?void 0:i.call(c))||0)/2,p=(((a=u==null?void 0:u.getBandWidth)===null||a===void 0?void 0:a.call(u))||0)/2,v=Array.from(f,g=>g.map(y=>r.map([+s[y]+d,+l[y]+p])));return[h,v,f]},Fft=(t,e,n,r)=>{const i=Object.entries(n).filter(([o])=>o.startsWith("position")).map(([,o])=>o);if(i.length===0)throw new Error("Missing encode for position channel.");const a=Array.from(t,o=>{const s=i.map(u=>+u[o]),l=r.map(s),c=[];for(let u=0;u<l.length;u+=2)c.push([l[u],l[u+1]]);return c});return[t,a]},O8=()=>(t,e,n,r)=>(P0(r)?Fft:Bft)(t,e,n,r);O8.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:kC,channels:[...Jn({shapes:Object.keys(kC)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...tn(),{type:V3},{type:hw}],postInference:[...on(),...Kc(),...Gut()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const LC={hollow:$B,hollowDiamond:jB,hollowHexagon:zB,hollowSquare:GB,hollowTriangleDown:HB,hollowTriangle:WB,hollowBowtie:FB,hollowCircle:VB,point:t6,plus:JB,diamond:qB,square:e6,triangle:r6,hexagon:ZB,cross:UB,bowtie:XB,hyphen:KB,line:QB,tick:n6,triangleDown:i6,circle:rS},M8=t=>(e,n,r,i)=>{const{x:a,y:o,x1:s,y1:l,size:c,dx:u,dy:f}=r,[h,d]=i.getSize(),p=rl(n,r,t),v=y=>{const m=+((u==null?void 0:u[y])||0),b=+((f==null?void 0:f[y])||0),x=s?(+a[y]+ +s[y])/2:+a[y],_=l?(+o[y]+ +l[y])/2:+o[y],w=x+m,S=_+b;return[w,S]},g=c?Array.from(e,y=>{const[m,b]=v(y),x=+c[y],_=x/h,w=x/d,S=[m-_,b-w],O=[m+_,b+w];return[i.map(p(S,y)),i.map(p(O,y))]}):Array.from(e,y=>[i.map(p(v(y),y))]);return[e,g]};M8.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:LC,channels:[...Jn({shapes:Object.keys(LC)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...tn(),{type:Ks},{type:y0}],postInference:[...on(),{type:B3},...Ro()]};const DC={text:W6,badge:H6,tag:Y6},T8=t=>{const{cartesian:e=!1}=t;return e?pS:(n,r,i,a)=>{const{x:o,y:s}=i,l=rl(r,i,t),c=Array.from(n,u=>{const f=[+o[u],+s[u]];return[a.map(l(f,u))]});return[n,c]}};T8.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:DC,channels:[...Jn({shapes:Object.keys(DC)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...tn(),{type:x0},{type:b0}],postInference:[...on(),...Ro()]};const IC={cell:nl,hollow:z0},A8=()=>(t,e,n,r)=>{const{x:i,y:a}=n,o=e.x,s=e.y,l=Array.from(t,c=>{const u=o.getBandWidth(o.invert(+i[c])),f=s.getBandWidth(s.invert(+a[c])),h=+i[c],d=+a[c],p=[h,d],v=[h+u,d],g=[h+u,d+f],y=[h,d+f];return[p,v,g,y].map(m=>r.map(m))});return[t,l]};A8.props={defaultShape:"cell",defaultLabelShape:"label",shape:IC,composite:!1,channels:[...Jn({shapes:Object.keys(IC)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...tn(),{type:Ks},{type:y0},{type:dw}],postInference:[...on(),...Ro()]};const RC={area:V6,smooth:X6,hvh:U6,vh:q6,hv:Z6},E8=()=>(t,e,n,r)=>{var i,a;const{x:o,y:s,y1:l,series:c}=n,{x:u,y:f}=e,h=c?Array.from(Pe(t,y=>c[y]).values()):[t],d=h.map(y=>y[0]).filter(y=>y!==void 0),p=(((i=u==null?void 0:u.getBandWidth)===null||i===void 0?void 0:i.call(u))||0)/2,v=(((a=f==null?void 0:f.getBandWidth)===null||a===void 0?void 0:a.call(f))||0)/2,g=Array.from(h,y=>{const m=y.length,b=new Array(m*2);for(let x=0;x<y.length;x++){const _=y[x];b[x]=r.map([+o[_]+p,+s[_]+v]),b[m+x]=r.map([+o[_]+p,+l[_]+v])}return b});return[d,g,h]};E8.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:RC,channels:[...Jn({shapes:Object.keys(RC)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...tn(),{type:hw},{type:Gh},{type:dw}],postInference:[...on(),...Kc()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const NC={link:K6,arc:t8,smooth:Q6,vhv:J6},xS=t=>(e,n,r,i)=>{const{x:a,y:o,x1:s=a,y1:l=o}=r,c=rl(n,r,t),u=e.map(f=>[i.map(c([+a[f],+o[f]],f)),i.map(c([+s[f],+l[f]],f))]);return[e,u]};xS.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:NC,channels:[...Jn({shapes:Object.keys(NC)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...tn(),{type:$3},{type:G3}],postInference:[...on(),...Ro()]};const BC={image:n8},P8=t=>{const{cartesian:e}=t;return e?pS:(n,r,i,a)=>{const{x:o,y:s}=i,l=rl(r,i,t),c=Array.from(n,u=>{const f=[+o[u],+s[u]];return[a.map(l(f,u))]});return[n,c]}};P8.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:BC,channels:[...Jn({shapes:Object.keys(BC)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...tn(),{type:x0},{type:b0}],postInference:[...on(),...Ro()]};const FC={polygon:r8,ribbon:i8},C8=()=>(t,e,n,r)=>{const i=Object.entries(n).filter(([s])=>s.startsWith("x")).map(([,s])=>s),a=Object.entries(n).filter(([s])=>s.startsWith("y")).map(([,s])=>s),o=t.map(s=>{const l=[];for(let c=0;c<i.length;c++){const u=i[c][s];if(u===void 0)break;const f=a[c][s];l.push(r.map([+u,+f]))}return l});return[t,o]};C8.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:FC,channels:[...Jn({shapes:Object.keys(FC)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...tn()],postInference:[...on(),...Ro()]};const jC={box:a8,violin:o8},k8=()=>(t,e,n,r)=>{const{x:i,y:a,y1:o,y2:s,y3:l,y4:c,series:u}=n,f=e.x,h=e.series,d=Array.from(t,p=>{const v=f.getBandWidth(f.invert(+i[p])),g=h?h.getBandWidth(h.invert(+(u==null?void 0:u[p]))):1,y=v*g,m=(+(u==null?void 0:u[p])||0)*v,b=+i[p]+m+y/2,[x,_,w,S,O]=[+a[p],+o[p],+s[p],+l[p],+c[p]];return[[b-y/2,O],[b+y/2,O],[b,O],[b,S],[b-y/2,S],[b+y/2,S],[b+y/2,_],[b-y/2,_],[b-y/2,w],[b+y/2,w],[b,_],[b,x],[b-y/2,x],[b+y/2,x]].map(T=>r.map(T))});return[t,d]};k8.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:jC,channels:[...Jn({shapes:Object.keys(jC)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...tn(),{type:Ks}],postInference:[...on(),...Kc()],interaction:{shareTooltip:!0}};const zC={vector:iS},L8=()=>(t,e,n,r)=>{const{x:i,y:a,size:o,rotate:s}=n,[l,c]=r.getSize(),u=t.map(f=>{const h=+s[f]/180*Math.PI,d=+o[f],p=d/l,v=d/c,g=p*Math.cos(h),y=-v*Math.sin(h);return[r.map([+i[f]-g/2,+a[f]-y/2]),r.map([+i[f]+g/2,+a[f]+y/2])]});return[t,u]};L8.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:zC,channels:[...Jn({shapes:Object.keys(zC)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...tn()],postInference:[...on(),...Ro()]};const $C={line:gS},D8=t=>(e,n,r,i)=>{const{y:a}=r,o=rl(n,r,U({style:{bandOffset:0}},t)),s=Array.from(e,l=>{const c=[0,a[l]],u=[1,a[l]];return[c,u].map(f=>i.map(o(f,l)))});return[e,s]};D8.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:$C,channels:[...Qc({shapes:Object.keys($C)}),{name:"y",required:!0}],preInference:[...tn(),{type:j3}],postInference:[...on()]};const GC={line:gS},I8=t=>(e,n,r,i)=>{const{x:a}=r,o=rl(n,r,U({style:{bandOffset:0}},t)),s=Array.from(e,l=>{const c=[a[l],1],u=[a[l],0];return[c,u].map(f=>i.map(o(f,l)))});return[e,s]};I8.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:GC,channels:[...Qc({shapes:Object.keys(GC)}),{name:"x",required:!0}],preInference:[...tn(),{type:z3}],postInference:[...on()]};const WC={connector:s8},R8=(...t)=>xS(...t);R8.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:WC,channels:[...Qc({shapes:Object.keys(WC)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...tn()],postInference:[...on()]};function HC(t,e,n,r){if(e)return()=>[0,1];const{[t]:i,[`${t}1`]:a}=n;return o=>{var s;const l=((s=r.getBandWidth)===null||s===void 0?void 0:s.call(r,r.invert(+a[o])))||0;return[i[o],a[o]+l]}}function _S(t={}){const{extendX:e=!1,extendY:n=!1}=t;return(r,i,a,o)=>{const s=HC("x",e,a,i.x),l=HC("y",n,a,i.y),c=Array.from(r,u=>{const[f,h]=s(u),[d,p]=l(u);return[[f,d],[h,d],[h,p],[f,p]].map(b=>o.map(b))});return[r,c]}}const YC={range:nl},N8=()=>_S();N8.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:YC,channels:[...Qc({shapes:Object.keys(YC)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...tn()],postInference:[...on()]};const VC={range:nl},B8=()=>_S({extendY:!0});B8.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:VC,channels:[...Qc({shapes:Object.keys(VC)}),{name:"x",required:!0}],preInference:[...tn(),{type:W3}],postInference:[...on()]};const XC={range:nl},F8=()=>_S({extendX:!0});F8.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:XC,channels:[...Qc({shapes:Object.keys(XC)}),{name:"y",required:!0}],preInference:[...tn(),{type:H3}],postInference:[...on()]};function jft(t){return t.target.depth}function zft(t){return t.depth}function $ft(t,e){return e-1-t.height}function hg(t,e){return t.sourceLinks.length?t.depth:e-1}function Gft(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Er(t.sourceLinks,jft)-1:0}function Op(t){return function(){return t}}function UC(t,e){return dg(t.source,e.source)||t.index-e.index}function qC(t,e){return dg(t.target,e.target)||t.index-e.index}function dg(t,e){return t.y0-e.y0}function h1(t){return t.value}function Wft(t){return t.index}function Hft(t){return t.nodes}function Yft(t){return t.links}function ZC(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function KC({nodes:t}){for(const e of t){let n=e.y0,r=n;for(const i of e.sourceLinks)i.y0=n+i.width/2,n+=i.width;for(const i of e.targetLinks)i.y1=r+i.width/2,r+=i.width}}function Vft(){let t=0,e=0,n=1,r=1,i=24,a=8,o,s=Wft,l=hg,c,u,f,h=Hft,d=Yft,p=6;function v(L){const R={nodes:h(L),links:d(L)};return g(R),y(R),m(R),b(R),w(R),KC(R),R}v.update=function(L){return KC(L),L},v.nodeId=function(L){return arguments.length?(s=typeof L=="function"?L:Op(L),v):s},v.nodeAlign=function(L){return arguments.length?(l=typeof L=="function"?L:Op(L),v):l},v.nodeDepth=function(L){return arguments.length?(c=L,v):c},v.nodeSort=function(L){return arguments.length?(u=L,v):u},v.nodeWidth=function(L){return arguments.length?(i=+L,v):i},v.nodePadding=function(L){return arguments.length?(a=o=+L,v):a},v.nodes=function(L){return arguments.length?(h=typeof L=="function"?L:Op(L),v):h},v.links=function(L){return arguments.length?(d=typeof L=="function"?L:Op(L),v):d},v.linkSort=function(L){return arguments.length?(f=L,v):f},v.size=function(L){return arguments.length?(t=e=0,n=+L[0],r=+L[1],v):[n-t,r-e]},v.extent=function(L){return arguments.length?(t=+L[0][0],n=+L[1][0],e=+L[0][1],r=+L[1][1],v):[[t,e],[n,r]]},v.iterations=function(L){return arguments.length?(p=+L,v):p};function g({nodes:L,links:R}){L.forEach((I,N)=>{I.index=N,I.sourceLinks=[],I.targetLinks=[]});const D=new Map(L.map(I=>[s(I),I]));if(R.forEach((I,N)=>{I.index=N;let{source:F,target:j}=I;typeof F!="object"&&(F=I.source=ZC(D,F)),typeof j!="object"&&(j=I.target=ZC(D,j)),F.sourceLinks.push(I),j.targetLinks.push(I)}),f!=null)for(const{sourceLinks:I,targetLinks:N}of L)I.sort(f),N.sort(f)}function y({nodes:L}){for(const R of L)R.value=R.fixedValue===void 0?Math.max(Qr(R.sourceLinks,h1),Qr(R.targetLinks,h1)):R.fixedValue}function m({nodes:L}){const R=L.length;let D=new Set(L),I=new Set,N=0;for(;D.size;){if(D.forEach(F=>{F.depth=N;for(const{target:j}of F.sourceLinks)I.add(j)}),++N>R)throw new Error("circular link");D=I,I=new Set}if(c){const F=Math.max(Jt(L,z=>z.depth)+1,0);let j;for(let z=0;z<L.length;z++)j=L[z],j.depth=c.call(null,j,F)}}function b({nodes:L}){const R=L.length;let D=new Set(L),I=new Set,N=0;for(;D.size;){if(D.forEach(F=>{F.height=N;for(const{source:j}of F.targetLinks)I.add(j)}),++N>R)throw new Error("circular link");D=I,I=new Set}}function x({nodes:L}){const R=Math.max(Jt(L,N=>N.depth)+1,0),D=(n-t-i)/(R-1),I=new Array(R).fill(0).map(()=>[]);for(const N of L){const F=Math.max(0,Math.min(R-1,Math.floor(l.call(null,N,R))));N.layer=F,N.x0=t+F*D,N.x1=N.x0+i,I[F]?I[F].push(N):I[F]=[N]}if(u)for(const N of I)N.sort(u);return I}function _(L){const R=Er(L,D=>(r-e-(D.length-1)*o)/Qr(D,h1));for(const D of L){let I=e;for(const N of D){N.y0=I,N.y1=I+N.value*R,I=N.y1+o;for(const F of N.sourceLinks)F.width=F.value*R}I=(r-I+o)/(D.length+1);for(let N=0;N<D.length;++N){const F=D[N];F.y0+=I*(N+1),F.y1+=I*(N+1)}E(D)}}function w(L){const R=x(L);o=Math.min(a,(r-e)/(Jt(R,D=>D.length)-1)),_(R);for(let D=0;D<p;++D){const I=Math.pow(.99,D),N=Math.max(1-I,(D+1)/p);O(R,I,N),S(R,I,N)}}function S(L,R,D){for(let I=1,N=L.length;I<N;++I){const F=L[I];for(const j of F){let z=0,G=0;for(const{source:Q,value:Y}of j.targetLinks){const H=Y*(j.layer-Q.layer);z+=C(Q,j)*H,G+=H}if(!(G>0))continue;const V=(z/G-j.y0)*R;j.y0+=V,j.y1+=V,P(j)}u===void 0&&F.sort(dg),F.length&&M(F,D)}}function O(L,R,D){for(let I=L.length,N=I-2;N>=0;--N){const F=L[N];for(const j of F){let z=0,G=0;for(const{target:Q,value:Y}of j.sourceLinks){const H=Y*(Q.layer-j.layer);z+=k(j,Q)*H,G+=H}if(!(G>0))continue;const V=(z/G-j.y0)*R;j.y0+=V,j.y1+=V,P(j)}u===void 0&&F.sort(dg),F.length&&M(F,D)}}function M(L,R){const D=L.length>>1,I=L[D];A(L,I.y0-o,D-1,R),T(L,I.y1+o,D+1,R),A(L,r,L.length-1,R),T(L,e,0,R)}function T(L,R,D,I){for(;D<L.length;++D){const N=L[D],F=(R-N.y0)*I;F>1e-6&&(N.y0+=F,N.y1+=F),R=N.y1+o}}function A(L,R,D,I){for(;D>=0;--D){const N=L[D],F=(N.y1-R)*I;F>1e-6&&(N.y0-=F,N.y1-=F),R=N.y0-o}}function P({sourceLinks:L,targetLinks:R}){if(f===void 0){for(const{source:{sourceLinks:D}}of R)D.sort(qC);for(const{target:{targetLinks:D}}of L)D.sort(UC)}}function E(L){if(f===void 0)for(const{sourceLinks:R,targetLinks:D}of L)R.sort(qC),D.sort(UC)}function C(L,R){let D=L.y0-(L.sourceLinks.length-1)*o/2;for(const{target:I,width:N}of L.sourceLinks){if(I===R)break;D+=N+o}for(const{source:I,width:N}of R.targetLinks){if(I===L)break;D-=N}return D}function k(L,R){let D=R.y0-(R.targetLinks.length-1)*o/2;for(const{source:I,width:N}of R.targetLinks){if(I===L)break;D+=N+o}for(const{target:I,width:N}of L.sourceLinks){if(I===R)break;D-=N}return D}return v}const Xft={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:t=>t.nodes,links:t=>t.links,nodeSort:void 0,linkSort:void 0,iterations:6},Uft={left:zft,right:$ft,center:Gft,justify:hg};function qft(t){const e=typeof t;return e==="string"?Uft[t]||hg:e==="function"?t:hg}const j8=t=>e=>{const{nodeId:n,nodeSort:r,nodeAlign:i,nodeWidth:a,nodePadding:o,nodeDepth:s,nodes:l,links:c,linkSort:u,iterations:f}=Object.assign({},Xft,t),h=Vft().nodeSort(r).linkSort(u).links(c).nodes(l).nodeWidth(a).nodePadding(o).nodeDepth(s).nodeAlign(qft(i)).iterations(f).extent([[0,0],[1,1]]);typeof n=="function"&&h.nodeId(n);const d=h(e),{nodes:p,links:v}=d,g=p.map(m=>{const{x0:b,x1:x,y0:_,y1:w}=m;return Object.assign(Object.assign({},m),{x:[b,x,x,b],y:[_,_,w,w]})}),y=v.map(m=>{const{source:b,target:x}=m,_=b.x1,w=x.x0,S=m.width/2;return Object.assign(Object.assign({},m),{x:[_,_,w,w],y:[m.y0+S,m.y0-S,m.y1+S,m.y1-S]})});return{nodes:g,links:y}};j8.props={};function Qi(t,e,n={},r=!1){if(ka(t)||Array.isArray(t)&&r)return t;const i=nt(t,e);return U(n,i)}function pg(t,e={}){return ka(t)||Array.isArray(t)||!z8(t)?t:U(e,t)}function z8(t){if(Object.keys(t).length===0)return!0;const{title:e,items:n}=t;return e!==void 0||n!==void 0}function Ji(t,e){return typeof t=="object"?nt(t,e):t}var Zft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Kft={nodeId:t=>t.key,nodeWidth:.02,nodePadding:.02},Qft={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},Jft={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},tht={textAlign:t=>t.x[0]<.5?"start":"end",position:t=>t.x[0]<.5?"right":"left",fontSize:10},$8=t=>{const{data:e,encode:n={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={}}=t,{links:u,nodes:f}=vS(e,n),h=nt(n,"node"),d=nt(n,"link"),{key:p=M=>M.key,color:v=p}=h,{links:g,nodes:y}=j8(Object.assign(Object.assign(Object.assign({},Kft),{nodeId:Xi(p)}),a))({links:u,nodes:f}),m=nt(i,"label"),{text:b=p,spacing:x=5}=m,_=Zft(m,["text","spacing"]),w=Xi(p),S=Qi(c,"node",{title:w,items:[{field:"value"}]},!0),O=Qi(c,"link",{title:"",items:[M=>({name:"source",value:w(M.source)}),M=>({name:"target",value:w(M.target)})]});return[U({},Qft,{data:y,encode:Object.assign(Object.assign({},h),{color:v}),scale:r,style:nt(i,"node"),labels:[Object.assign(Object.assign(Object.assign({},tht),{text:b,dx:M=>M.x[0]<.5?x:-x}),_),...o],tooltip:S,animate:Ji(l,"node"),axis:!1}),U({},Jft,{data:g,encode:d,labels:s,style:Object.assign({fill:d.color?void 0:"#aaa",lineWidth:0},nt(i,"link")),tooltip:O,animate:Ji(l,"link")})]};$8.props={};function eht(t,e){return e.value-t.value}function nht(t,e){return e.frequency-t.frequency}function rht(t,e){return`${t.id}`.localeCompare(`${e.id}`)}function iht(t,e){return`${t.name}`.localeCompare(`${e.name}`)}const aht=Object.freeze(Object.defineProperty({__proto__:null,frequency:nht,id:rht,name:iht,weight:eht},Symbol.toStringTag,{value:"Module"})),oht={y:0,thickness:.05,weight:!1,marginRatio:.1,id:t=>t.id,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null};function sht(t){const{y:e,thickness:n,weight:r,marginRatio:i,id:a,source:o,target:s,sourceWeight:l,targetWeight:c,sortBy:u}=Object.assign(Object.assign({},oht),t);function f(g){const y=g.nodes.map(b=>Object.assign({},b)),m=g.edges.map(b=>Object.assign({},b));return h(y,m),d(y),p(y,m),v(y,m),{nodes:y,edges:m}}function h(g,y){y.forEach(x=>{x.source=o(x),x.target=s(x),x.sourceWeight=l(x),x.targetWeight=c(x)});const m=Pe(y,x=>x.source),b=Pe(y,x=>x.target);return g.forEach(x=>{x.id=a(x);const _=m.has(x.id)?m.get(x.id):[],w=b.has(x.id)?b.get(x.id):[];x.frequency=_.length+w.length,x.value=Qr(_,S=>S.sourceWeight)+Qr(w,S=>S.targetWeight)}),{nodes:g,edges:y}}function d(g,y){const m=typeof u=="function"?u:aht[u];m&&g.sort(m)}function p(g,y){const m=g.length;if(!m)throw gc("Invalid nodes: it's empty!");if(!r){const _=1/m;return g.forEach((w,S)=>{w.x=(S+.5)*_,w.y=e}),{nodes:g,edges:y}}const b=i/(2*m),x=g.reduce((_,w)=>_+=w.value,0);return g.reduce((_,w)=>{w.weight=w.value/x,w.width=w.weight*(1-i),w.height=n;const S=b+_,O=S+w.width,M=e-n/2,T=M+n;return w.x=[S,O,O,S],w.y=[M,M,T,T],_+w.width+2*b},0),{nodes:g,edges:y}}function v(g,y){const m=new Map(g.map(_=>[_.id,_]));if(!r)return y.forEach(_=>{const w=o(_),S=s(_),O=m.get(w),M=m.get(S);O&&M&&(_.x=[O.x,M.x],_.y=[O.y,M.y])}),{nodes:g,edges:y};y.forEach(_=>{_.x=[0,0,0,0],_.y=[e,e,e,e]});const b=Pe(y,_=>_.source),x=Pe(y,_=>_.target);g.forEach(_=>{const{edges:w,width:S,x:O,y:M,value:T,id:A}=_,P=b.get(A)||[],E=x.get(A)||[];let C=0;P.map(k=>{const L=k.sourceWeight/T*S;k.x[0]=O[0]+C,k.x[1]=O[0]+C+L,C+=L}),E.forEach(k=>{const L=k.targetWeight/T*S;k.x[3]=O[0]+C,k.x[2]=O[0]+C+L,C+=L})})}return f}const wS=t=>e=>sht(t)(e);wS.props={};var QC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const d1={y:0,thickness:.05,marginRatio:.1,id:t=>t.key,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null},lht={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},cht={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},uht={position:"outside",fontSize:10},G8=(t,e)=>{const{data:n,encode:r={},scale:i,style:a={},layout:o={},nodeLabels:s=[],linkLabels:l=[],animate:c={},tooltip:u={}}=t,{nodes:f,links:h}=vS(n,r),d=nt(r,"node"),p=nt(r,"link"),{key:v=k=>k.key,color:g=v}=d,{linkEncodeColor:y=k=>k.source}=p,{nodeWidthRatio:m=d1.thickness,nodePaddingRatio:b=d1.marginRatio}=o,x=QC(o,["nodeWidthRatio","nodePaddingRatio"]),{nodes:_,edges:w}=wS(Object.assign(Object.assign(Object.assign(Object.assign({},d1),{id:Xi(v),thickness:m,marginRatio:b}),x),{weight:!0}))({nodes:f,edges:h}),S=nt(a,"label"),{text:O=v}=S,M=QC(S,["text"]),T=Qi(u,"node",{title:"",items:[k=>({name:k.key,value:k.value})]},!0),A=Qi(u,"link",{title:"",items:[k=>({name:`${k.source} -> ${k.target}`,value:k.value})]}),{height:P,width:E}=e,C=Math.min(P,E);return[U({},cht,{data:w,encode:Object.assign(Object.assign({},p),{color:y}),labels:l,style:Object.assign({fill:y?void 0:"#aaa"},nt(a,"link")),tooltip:A,animate:Ji(c,"link")}),U({},lht,{data:_,encode:Object.assign(Object.assign({},d),{color:g}),scale:i,style:nt(a,"node"),coordinate:{type:"polar",outerRadius:(C-20)/C,startAngle:-Math.PI*2,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},uht),{text:O}),M),...s],tooltip:T,animate:Ji(c,"node"),axis:!1})]};G8.props={};const JC={path:v8,hollow:g8},W8=t=>(e,n,r,i)=>[e,e.map(()=>[[0,0]])];W8.props={defaultShape:"path",defaultLabelShape:"label",shape:JC,composite:!1,channels:[...Jn({shapes:Object.keys(JC)}),{name:"d",scale:"identity"}],preInference:[...tn()],postInference:[...on()]};function fht(t,e){return t.parent===e.parent?1:2}function hht(t){return t.reduce(dht,0)/t.length}function dht(t,e){return t+e.x}function pht(t){return 1+t.reduce(vht,0)}function vht(t,e){return Math.max(t,e.y)}function ght(t){for(var e;e=t.children;)t=e[0];return t}function yht(t){for(var e;e=t.children;)t=e[e.length-1];return t}function mht(){var t=fht,e=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(h){var d=h.children;d?(h.x=hht(d),h.y=pht(d)):(h.x=o?s+=t(h,o):0,h.y=0,o=h)});var l=ght(a),c=yht(a),u=l.x-t(l,c)/2,f=c.x+t(c,l)/2;return a.eachAfter(r?function(h){h.x=(h.x-a.x)*e,h.y=(a.y-h.y)*n}:function(h){h.x=(h.x-u)/(f-u)*e,h.y=(1-(a.y?h.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}function bht(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function xht(){return this.eachAfter(bht)}function _ht(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function wht(t,e){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function Sht(t,e){for(var n=this,r=[n],i=[],a,o,s,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function Oht(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Mht(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Tht(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Aht(t){for(var e=this,n=Eht(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Eht(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Pht(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Cht(){return Array.from(this)}function kht(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Lht(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Dht(){var t=this,e,n=[t],r,i,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function ed(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Nht)):e===void 0&&(e=Rht);for(var n=new Pc(t),r,i=[n],a,o,s,l;r=i.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new Pc(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(H8)}function Iht(){return ed(this).eachBefore(Bht)}function Rht(t){return t.children}function Nht(t){return Array.isArray(t)?t[1]:null}function Bht(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function H8(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Pc(t){this.data=t,this.depth=this.height=0,this.parent=null}Pc.prototype=ed.prototype={constructor:Pc,count:xht,each:_ht,eachAfter:Sht,eachBefore:wht,find:Oht,sum:Mht,sort:Tht,path:Aht,ancestors:Pht,descendants:Cht,leaves:kht,links:Lht,copy:Iht,[Symbol.iterator]:Dht};function sv(t){return t==null?null:Y8(t)}function Y8(t){if(typeof t!="function")throw new Error;return t}function bs(){return 0}function Ll(t){return function(){return t}}const Fht=1664525,jht=1013904223,tk=4294967296;function zht(){let t=1;return()=>(t=(Fht*t+jht)%tk)/tk}function $ht(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ght(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function Wht(t,e){for(var n=0,r=(t=Ght(Array.from(t),e)).length,i=[],a,o;n<r;)a=t[n],o&&V8(o,a)?++n:(o=Yht(i=Hht(i,a)),n=0);return o}function Hht(t,e){var n,r;if(p1(e,t))return[e];for(n=0;n<t.length;++n)if(Mp(e,t[n])&&p1(qu(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Mp(qu(t[n],t[r]),e)&&Mp(qu(t[n],e),t[r])&&Mp(qu(t[r],e),t[n])&&p1(X8(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Mp(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function V8(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function p1(t,e){for(var n=0;n<e.length;++n)if(!V8(t,e[n]))return!1;return!0}function Yht(t){switch(t.length){case 1:return Vht(t[0]);case 2:return qu(t[0],t[1]);case 3:return X8(t[0],t[1],t[2])}}function Vht(t){return{x:t.x,y:t.y,r:t.r}}function qu(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-n,c=o-r,u=s-i,f=Math.sqrt(l*l+c*c);return{x:(n+a+l/f*u)/2,y:(r+o+c/f*u)/2,r:(f+i+s)/2}}function X8(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,c=n.x,u=n.y,f=n.r,h=r-o,d=r-c,p=i-s,v=i-u,g=l-a,y=f-a,m=r*r+i*i-a*a,b=m-o*o-s*s+l*l,x=m-c*c-u*u+f*f,_=d*p-h*v,w=(p*x-v*b)/(_*2)-r,S=(v*g-p*y)/_,O=(d*b-h*x)/(_*2)-i,M=(h*y-d*g)/_,T=S*S+M*M-1,A=2*(a+w*S+O*M),P=w*w+O*O-a*a,E=-(Math.abs(T)>1e-6?(A+Math.sqrt(A*A-4*T*P))/(2*T):P/A);return{x:r+w+S*E,y:i+O+M*E,r:E}}function ek(t,e,n){var r=t.x-e.x,i,a,o=t.y-e.y,s,l,c=r*r+o*o;c?(a=e.r+n.r,a*=a,l=t.r+n.r,l*=l,a>l?(i=(c+l-a)/(2*c),s=Math.sqrt(Math.max(0,l/c-i*i)),n.x=t.x-i*r-s*o,n.y=t.y-i*o+s*r):(i=(c+a-l)/(2*c),s=Math.sqrt(Math.max(0,a/c-i*i)),n.x=e.x+i*r-s*o,n.y=e.y+i*o+s*r)):(n.x=e.x+n.r,n.y=e.y)}function nk(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function rk(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function Tp(t){this._=t,this.next=null,this.previous=null}function Xht(t,e){if(!(a=(t=$ht(t)).length))return 0;var n,r,i,a,o,s,l,c,u,f,h;if(n=t[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;ek(r,n,i=t[2]),n=new Tp(n),r=new Tp(r),i=new Tp(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(l=3;l<a;++l){ek(n._,r._,i=t[l]),i=new Tp(i),c=r.next,u=n.previous,f=r._.r,h=n._.r;do if(f<=h){if(nk(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue t}f+=c._.r,c=c.next}else{if(nk(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue t}h+=u._.r,u=u.previous}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=rk(n);(i=i.next)!==r;)(s=rk(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Wht(n,e),l=0;l<a;++l)n=t[l],n.x-=i.x,n.y-=i.y;return i.r}function Uht(t){return Math.sqrt(t.value)}function qht(){var t=null,e=1,n=1,r=bs;function i(a){const o=zht();return a.x=e/2,a.y=n/2,t?a.eachBefore(ik(t)).eachAfter(v1(r,.5,o)).eachBefore(ak(1)):a.eachBefore(ik(Uht)).eachAfter(v1(bs,1,o)).eachAfter(v1(r,a.r/Math.min(e,n),o)).eachBefore(ak(Math.min(e,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=sv(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Ll(+a),i):r},i}function ik(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function v1(t,e,n){return function(r){if(i=r.children){var i,a,o=i.length,s=t(r)*e||0,l;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=Xht(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function ak(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Zht(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function U0(t,e,n,r,i){for(var a=t.children,o,s=-1,l=a.length,c=t.value&&(r-e)/t.value;++s<l;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}var Kht={depth:-1},ok={},g1={};function Qht(t){return t.id}function Jht(t){return t.parentId}function Gx(){var t=Qht,e=Jht,n;function r(i){var a=Array.from(i),o=t,s=e,l,c,u,f,h,d,p,v,g=new Map;if(n!=null){const y=a.map((x,_)=>tdt(n(x,_,i))),m=y.map(sk),b=new Set(y).add("");for(const x of m)b.has(x)||(b.add(x),y.push(x),m.push(sk(x)),a.push(g1));o=(x,_)=>y[_],s=(x,_)=>m[_]}for(u=0,l=a.length;u<l;++u)c=a[u],d=a[u]=new Pc(c),(p=o(c,u,i))!=null&&(p+="")&&(v=d.id=p,g.set(v,g.has(v)?ok:d)),(p=s(c,u,i))!=null&&(p+="")&&(d.parent=p);for(u=0;u<l;++u)if(d=a[u],p=d.parent){if(h=g.get(p),!h)throw new Error("missing: "+p);if(h===ok)throw new Error("ambiguous: "+p);h.children?h.children.push(d):h.children=[d],d.parent=h}else{if(f)throw new Error("multiple roots");f=d}if(!f)throw new Error("no root");if(n!=null){for(;f.data===g1&&f.children.length===1;)f=f.children[0],--l;for(let y=a.length-1;y>=0&&(d=a[y],d.data===g1);--y)d.data=null}if(f.parent=Kht,f.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(H8),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(t=sv(i),r):t},r.parentId=function(i){return arguments.length?(e=sv(i),r):e},r.path=function(i){return arguments.length?(n=sv(i),r):n},r}function tdt(t){t=`${t}`;let e=t.length;return Wx(t,e-1)&&!Wx(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function sk(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Wx(t,e););return t.slice(0,e)}function Wx(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if(!(n&1))return!0}return!1}function edt(t,e){return t.parent===e.parent?1:2}function y1(t){var e=t.children;return e?e[0]:t.t}function m1(t){var e=t.children;return e?e[e.length-1]:t.t}function ndt(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function rdt(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function idt(t,e,n){return t.a.parent===e.parent?t.a:n}function lv(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}lv.prototype=Object.create(Pc.prototype);function adt(t){for(var e=new lv(t,0),n,r=[e],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new lv(a[o],o)),i.parent=n;return(e.parent=new lv(null,0)).children=[e],e}function odt(){var t=edt,e=1,n=1,r=null;function i(c){var u=adt(c);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),r)c.eachBefore(l);else{var f=c,h=c,d=c;c.eachBefore(function(m){m.x<f.x&&(f=m),m.x>h.x&&(h=m),m.depth>d.depth&&(d=m)});var p=f===h?1:t(f,h)/2,v=p-f.x,g=e/(h.x+p+v),y=n/(d.depth||1);c.eachBefore(function(m){m.x=(m.x+v)*g,m.y=m.depth*y})}return c}function a(c){var u=c.children,f=c.parent.children,h=c.i?f[c.i-1]:null;if(u){rdt(c);var d=(u[0].z+u[u.length-1].z)/2;h?(c.z=h.z+t(c._,h._),c.m=c.z-d):c.z=d}else h&&(c.z=h.z+t(c._,h._));c.parent.A=s(c,h,c.parent.A||f[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,u,f){if(u){for(var h=c,d=c,p=u,v=h.parent.children[0],g=h.m,y=d.m,m=p.m,b=v.m,x;p=m1(p),h=y1(h),p&&h;)v=y1(v),d=m1(d),d.a=c,x=p.z+m-h.z-g+t(p._,h._),x>0&&(ndt(idt(p,c,f),c,x),g+=x,y+=x),m+=p.m,g+=h.m,b+=v.m,y+=d.m;p&&!m1(d)&&(d.t=p,d.m+=m-y),h&&!y1(v)&&(v.t=h,v.m+=g-b,f=c)}return f}function l(c){c.x*=e,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,e=+c[0],n=+c[1],i):r?null:[e,n]},i.nodeSize=function(c){return arguments.length?(r=!0,e=+c[0],n=+c[1],i):r?[e,n]:null},i}function q0(t,e,n,r,i){for(var a=t.children,o,s=-1,l=a.length,c=t.value&&(i-n)/t.value;++s<l;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var U8=(1+Math.sqrt(5))/2;function q8(t,e,n,r,i,a){for(var o=[],s=e.children,l,c,u=0,f=0,h=s.length,d,p,v=e.value,g,y,m,b,x,_,w;u<h;){d=i-n,p=a-r;do g=s[f++].value;while(!g&&f<h);for(y=m=g,_=Math.max(p/d,d/p)/(v*t),w=g*g*_,x=Math.max(m/w,w/y);f<h;++f){if(g+=c=s[f].value,c<y&&(y=c),c>m&&(m=c),w=g*g*_,b=Math.max(m/w,w/y),b>x){g-=c;break}x=b}o.push(l={value:g,dice:d<p,children:s.slice(u,f)}),l.dice?U0(l,n,r,i,v?r+=p*g/v:a):q0(l,n,r,v?n+=d*g/v:i,a),v-=g,u=f}return o}const Z8=function t(e){function n(r,i,a,o,s){q8(e,r,i,a,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(U8);function sdt(){var t=Z8,e=!1,n=1,r=1,i=[0],a=bs,o=bs,s=bs,l=bs,c=bs;function u(h){return h.x0=h.y0=0,h.x1=n,h.y1=r,h.eachBefore(f),i=[0],e&&h.eachBefore(Zht),h}function f(h){var d=i[h.depth],p=h.x0+d,v=h.y0+d,g=h.x1-d,y=h.y1-d;g<p&&(p=g=(p+g)/2),y<v&&(v=y=(v+y)/2),h.x0=p,h.y0=v,h.x1=g,h.y1=y,h.children&&(d=i[h.depth+1]=a(h)/2,p+=c(h)-d,v+=o(h)-d,g-=s(h)-d,y-=l(h)-d,g<p&&(p=g=(p+g)/2),y<v&&(v=y=(v+y)/2),t(h,p,v,g,y))}return u.round=function(h){return arguments.length?(e=!!h,u):e},u.size=function(h){return arguments.length?(n=+h[0],r=+h[1],u):[n,r]},u.tile=function(h){return arguments.length?(t=Y8(h),u):t},u.padding=function(h){return arguments.length?u.paddingInner(h).paddingOuter(h):u.paddingInner()},u.paddingInner=function(h){return arguments.length?(a=typeof h=="function"?h:Ll(+h),u):a},u.paddingOuter=function(h){return arguments.length?u.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):u.paddingTop()},u.paddingTop=function(h){return arguments.length?(o=typeof h=="function"?h:Ll(+h),u):o},u.paddingRight=function(h){return arguments.length?(s=typeof h=="function"?h:Ll(+h),u):s},u.paddingBottom=function(h){return arguments.length?(l=typeof h=="function"?h:Ll(+h),u):l},u.paddingLeft=function(h){return arguments.length?(c=typeof h=="function"?h:Ll(+h),u):c},u}function ldt(t,e,n,r,i){var a=t.children,o,s=a.length,l,c=new Array(s+1);for(c[0]=l=o=0;o<s;++o)c[o+1]=l+=a[o].value;u(0,s,t.value,e,n,r,i);function u(f,h,d,p,v,g,y){if(f>=h-1){var m=a[f];m.x0=p,m.y0=v,m.x1=g,m.y1=y;return}for(var b=c[f],x=d/2+b,_=f+1,w=h-1;_<w;){var S=_+w>>>1;c[S]<x?_=S+1:w=S}x-c[_-1]<c[_]-x&&f+1<_&&--_;var O=c[_]-b,M=d-O;if(g-p>y-v){var T=d?(p*M+g*O)/d:g;u(f,_,O,p,v,T,y),u(_,h,M,T,v,g,y)}else{var A=d?(v*M+y*O)/d:y;u(f,_,O,p,v,g,A),u(_,h,M,p,A,g,y)}}}function cdt(t,e,n,r,i){(t.depth&1?q0:U0)(t,e,n,r,i)}const udt=function t(e){function n(r,i,a,o,s){if((l=r._squarify)&&l.ratio===e)for(var l,c,u,f,h=-1,d,p=l.length,v=r.value;++h<p;){for(c=l[h],u=c.children,f=c.value=0,d=u.length;f<d;++f)c.value+=u[f].value;c.dice?U0(c,i,a,o,v?a+=(s-a)*c.value/v:s):q0(c,i,a,v?i+=(o-i)*c.value/v:o,s),v-=c.value}else r._squarify=l=q8(e,r,i,a,o,s),l.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(U8);function fdt(t,e){return Array.isArray(t)?typeof e=="function"?Gx().path(e)(t):Gx()(t):ed(t)}function K8(t,e=[t.data.name]){t.id=t.id||t.data.name,t.path=e,t.children&&t.children.forEach(n=>{n.id=`${t.id}/${n.data.name}`,n.path=[...e,n.data.name],K8(n,n.path)})}function Q8(t){const e=Re(t,["data","name"]);e.replaceAll&&(t.path=e.replaceAll(".","/").split("/")),t.children&&t.children.forEach(n=>{Q8(n)})}function hdt(t,e){const n={treemapBinary:ldt,treemapDice:U0,treemapSlice:q0,treemapSliceDice:cdt,treemapSquarify:Z8,treemapResquarify:udt},r=t==="treemapSquarify"?n[t].ratio(e):n[t];if(!r)throw new TypeError("Invalid tile method!");return r}function J8(t,e,n){const{value:r}=n,i=hdt(e.tile,e.ratio),a=fdt(t,e.path);An(t)?Q8(a):K8(a),r?a.sum(l=>e.ignoreParentValue&&l.children?0:Xi(r)(l)).sort(e.sort):a.count(),sdt().tile(i).size(e.size).round(e.round).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(a);const o=a.descendants().map(l=>Object.assign(l,{id:l.id.replace(/^\//,""),x:[l.x0,l.x1],y:[l.y0,l.y1]}));return[o.filter(typeof e.layer=="function"?e.layer:l=>l.height===e.layer),o]}var ddt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const pdt=(t,e)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[t,e],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(n,r)=>r.value-n.value,layer:0}),vdt=(t,e)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:n=>n.path[1]},scale:{x:{domain:[0,t],range:[0,1]},y:{domain:[0,e],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}),gdt={fontSize:10,text:t=>zh(t.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.x1-t.x0},ydt={title:t=>{var e,n;return(n=(e=t.path)===null||e===void 0?void 0:e.join)===null||n===void 0?void 0:n.call(e,".")},items:[{field:"value"}]},mdt={title:t=>zh(t.path),items:[{field:"value"}]},tF=(t,e)=>{const{width:n,height:r,options:i}=e,{data:a,encode:o={},scale:s,style:l={},layout:c={},labels:u=[],tooltip:f={}}=t,h=ddt(t,["data","encode","scale","style","layout","labels","tooltip"]),d=Re(i,["interaction","treemapDrillDown"]),p=U({},pdt(n,r),c,{layer:d?m=>m.depth===1:c.layer}),[v,g]=J8(a,p,o),y=nt(l,"label");return U({},vdt(n,r),Object.assign(Object.assign({data:v,scale:s,style:l,labels:[Object.assign(Object.assign({},gdt),y),...u]},h),{encode:o,tooltip:pg(f,ydt),axis:!1}),d?{interaction:Object.assign(Object.assign({},h.interaction),{treemapDrillDown:d?Object.assign(Object.assign({},d),{originData:g,layout:p}):void 0}),encode:Object.assign({color:m=>zh(m.path)},o),tooltip:pg(f,mdt)}:{})};tF.props={};var bdt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const xdt=(t,e)=>({size:[t,e],padding:0,sort:(n,r)=>r.value-n.value}),_dt=(t,e,n)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,t]},y:{domain:[0,e]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:n.color?void 0:r=>r.height===0?"#ddd":"#fff",stroke:n.color?void 0:r=>r.height===0?"":"#000"}}),wdt={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.r*2},Sdt={title:t=>t.data.name,items:[{field:"value"}]},Odt=(t,e,n)=>{const{value:r}=n,i=An(t)?Gx().path(e.path)(t):ed(t);return r?i.sum(a=>Xi(r)(a)).sort(e.sort):i.count(),qht().size(e.size).padding(e.padding)(i),i.descendants()},eF=(t,e)=>{const{width:n,height:r}=e,{data:i,encode:a={},scale:o={},style:s={},layout:l={},labels:c=[],tooltip:u={}}=t,f=bdt(t,["data","encode","scale","style","layout","labels","tooltip"]),h=_dt(n,r,a),d=Odt(i,U({},xdt(n,r),l),U({},h.encode,a)),p=nt(s,"label");return U({},h,Object.assign(Object.assign({data:d,encode:a,scale:o,style:s,labels:[Object.assign(Object.assign({},wdt),p),...c]},f),{tooltip:pg(u,Sdt),axis:!1}))};eF.props={};var lk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Mdt(t,e){return Er(t,n=>e[n])}function Tdt(t,e){return Jt(t,n=>e[n])}function nF(t,e){const n=SS(t,e)*2.5-OS(t,e)*1.5;return Er(t,r=>e[r]>=n?e[r]:NaN)}function SS(t,e){return v0(t,.25,n=>e[n])}function Adt(t,e){return v0(t,.5,n=>e[n])}function OS(t,e){return v0(t,.75,n=>e[n])}function rF(t,e){const n=OS(t,e)*2.5-SS(t,e)*1.5;return Jt(t,r=>e[r]<=n?e[r]:NaN)}function Edt(){return(t,e)=>{const{encode:n}=e,{y:r,x:i}=n,{value:a}=r,{value:o}=i;return[Array.from(Pe(t,c=>o[+c]).values()).flatMap(c=>{const u=nF(c,a),f=rF(c,a);return c.filter(h=>a[h]<u||a[h]>f)}),e]}}const iF=t=>{const{data:e,encode:n,style:r={},tooltip:i={},transform:a,animate:o}=t,s=lk(t,["data","encode","style","tooltip","transform","animate"]),{point:l=!0}=r,c=lk(r,["point"]),{y:u}=n,f={y:u,y1:u,y2:u,y3:u,y4:u},h={y1:SS,y2:Adt,y3:OS},d=Qi(i,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),p=Qi(i,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!l)return Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:Mdt},h),{y4:Tdt})],encode:Object.assign(Object.assign({},n),f),style:c,tooltip:d},s);const v=nt(c,"box"),g=nt(c,"point");return[Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:nF},h),{y4:rF})],encode:Object.assign(Object.assign({},n),f),style:v,tooltip:d,animate:Ji(o,"box")},s),{type:"point",data:e,transform:[{type:Edt}],encode:n,style:Object.assign({},g),tooltip:p,animate:Ji(o,"point")}]};iF.props={};const Pdt={shape:x8},aF=t=>{const{cartesian:e}=t;return e?pS:(n,r,i,a)=>{const{x:o,y:s}=i,l=rl(r,i,t),c=Array.from(n,u=>{const f=[+o[u],+s[u]];return[a.map(l(f,u))]});return[n,c]}};aF.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:Pdt,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...tn(),{type:x0},{type:b0},{type:Y3}]};function Cdt(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var a,o=n.length,s,l=0,c=0;for(a=0;a<o;++a)s=n[a],l+=s.x,c+=s.y;for(l=(l/o-t)*r,c=(c/o-e)*r,a=0;a<o;++a)s=n[a],s.x-=l,s.y-=c}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(e=+a,i):e},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function kdt(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return oF(this.cover(e,n),e,n,t)}function oF(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,l=t._y0,c=t._x1,u=t._y1,f,h,d,p,v,g,y,m;if(!a)return t._root=o,t;for(;a.length;)if((v=e>=(f=(s+c)/2))?s=f:c=f,(g=n>=(h=(l+u)/2))?l=h:u=h,i=a,!(a=a[y=g<<1|v]))return i[y]=o,t;if(d=+t._x.call(null,a.data),p=+t._y.call(null,a.data),e===d&&n===p)return o.next=a,i?i[y]=o:t._root=o,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(v=e>=(f=(s+c)/2))?s=f:c=f,(g=n>=(h=(l+u)/2))?l=h:u=h;while((y=g<<1|v)===(m=(p>=h)<<1|d>=f));return i[m]=a,i[y]=o,t}function Ldt(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=i,s[n]=a,i<l&&(l=i),i>u&&(u=i),a<c&&(c=a),a>f&&(f=a));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<r;++n)oF(this,o[n],s[n],t[n]);return this}function Ddt(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o=i-n||1,s=this._root,l,c;n>t||t>=i||r>e||e>=a;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=s,s=l,o*=2,c){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function Idt(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Rdt(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xn(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Ndt(t,e,n){var r,i=this._x0,a=this._y0,o,s,l,c,u=this._x1,f=this._y1,h=[],d=this._root,p,v;for(d&&h.push(new Xn(d,i,a,u,f)),n==null?n=1/0:(i=t-n,a=e-n,u=t+n,f=e+n,n*=n);p=h.pop();)if(!(!(d=p.node)||(o=p.x0)>u||(s=p.y0)>f||(l=p.x1)<i||(c=p.y1)<a))if(d.length){var g=(o+l)/2,y=(s+c)/2;h.push(new Xn(d[3],g,y,l,c),new Xn(d[2],o,y,g,c),new Xn(d[1],g,s,l,y),new Xn(d[0],o,s,g,y)),(v=(e>=y)<<1|t>=g)&&(p=h[h.length-1],h[h.length-1]=h[h.length-1-v],h[h.length-1-v]=p)}else{var m=t-+this._x.call(null,d.data),b=e-+this._y.call(null,d.data),x=m*m+b*b;if(x<n){var _=Math.sqrt(n=x);i=t-_,a=e-_,u=t+_,f=e+_,r=d.data}}return r}function Bdt(t){if(isNaN(u=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,l=this._x1,c=this._y1,u,f,h,d,p,v,g,y;if(!n)return this;if(n.length)for(;;){if((p=u>=(h=(o+l)/2))?o=h:l=h,(v=f>=(d=(s+c)/2))?s=d:c=d,e=n,!(n=n[g=v<<1|p]))return this;if(!n.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(r=e,y=g)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[g]=a:delete e[g],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=a,this)}function Fdt(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function jdt(){return this._root}function zdt(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function $dt(t){var e=[],n,r=this._root,i,a,o,s,l;for(r&&e.push(new Xn(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(a+s)/2,u=(o+l)/2;(i=r[3])&&e.push(new Xn(i,c,u,s,l)),(i=r[2])&&e.push(new Xn(i,a,u,c,l)),(i=r[1])&&e.push(new Xn(i,c,o,s,u)),(i=r[0])&&e.push(new Xn(i,a,o,c,u))}return this}function Gdt(t){var e=[],n=[],r;for(this._root&&e.push(new Xn(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,l=r.x1,c=r.y1,u=(o+l)/2,f=(s+c)/2;(a=i[0])&&e.push(new Xn(a,o,s,u,f)),(a=i[1])&&e.push(new Xn(a,u,s,l,f)),(a=i[2])&&e.push(new Xn(a,o,f,u,c)),(a=i[3])&&e.push(new Xn(a,u,f,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Wdt(t){return t[0]}function Hdt(t){return arguments.length?(this._x=t,this):this._x}function Ydt(t){return t[1]}function Vdt(t){return arguments.length?(this._y=t,this):this._y}function sF(t,e,n){var r=new MS(e??Wdt,n??Ydt,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function MS(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function ck(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var tr=sF.prototype=MS.prototype;tr.copy=function(){var t=new MS(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=ck(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=ck(r));return t};tr.add=kdt;tr.addAll=Ldt;tr.cover=Ddt;tr.data=Idt;tr.extent=Rdt;tr.find=Ndt;tr.remove=Bdt;tr.removeAll=Fdt;tr.root=jdt;tr.size=zdt;tr.visit=$dt;tr.visitAfter=Gdt;tr.x=Hdt;tr.y=Vdt;function Mr(t){return function(){return t}}function Wl(t){return(t()-.5)*1e-6}function Xdt(t){return t.index}function uk(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Udt(t){var e=Xdt,n=f,r,i=Mr(30),a,o,s,l,c,u=1;t==null&&(t=[]);function f(g){return 1/Math.min(s[g.source.index],s[g.target.index])}function h(g){for(var y=0,m=t.length;y<u;++y)for(var b=0,x,_,w,S,O,M,T;b<m;++b)x=t[b],_=x.source,w=x.target,S=w.x+w.vx-_.x-_.vx||Wl(c),O=w.y+w.vy-_.y-_.vy||Wl(c),M=Math.sqrt(S*S+O*O),M=(M-a[b])/M*g*r[b],S*=M,O*=M,w.vx-=S*(T=l[b]),w.vy-=O*T,_.vx+=S*(T=1-T),_.vy+=O*T}function d(){if(o){var g,y=o.length,m=t.length,b=new Map(o.map((_,w)=>[e(_,w,o),_])),x;for(g=0,s=new Array(y);g<m;++g)x=t[g],x.index=g,typeof x.source!="object"&&(x.source=uk(b,x.source)),typeof x.target!="object"&&(x.target=uk(b,x.target)),s[x.source.index]=(s[x.source.index]||0)+1,s[x.target.index]=(s[x.target.index]||0)+1;for(g=0,l=new Array(m);g<m;++g)x=t[g],l[g]=s[x.source.index]/(s[x.source.index]+s[x.target.index]);r=new Array(m),p(),a=new Array(m),v()}}function p(){if(o)for(var g=0,y=t.length;g<y;++g)r[g]=+n(t[g],g,t)}function v(){if(o)for(var g=0,y=t.length;g<y;++g)a[g]=+i(t[g],g,t)}return h.initialize=function(g,y){o=g,c=y,d()},h.links=function(g){return arguments.length?(t=g,d(),h):t},h.id=function(g){return arguments.length?(e=g,h):e},h.iterations=function(g){return arguments.length?(u=+g,h):u},h.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Mr(+g),p(),h):n},h.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Mr(+g),v(),h):i},h}var qdt={value:()=>{}};function lF(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new cv(n)}function cv(t){this._=t}function Zdt(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}cv.prototype=lF.prototype={constructor:cv,on:function(t,e){var n=this._,r=Zdt(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Kdt(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=fk(n[i],t.name,e);else if(e==null)for(i in n)n[i]=fk(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new cv(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Kdt(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function fk(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=qdt,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Cc=0,Zu=0,Lu=0,cF=1e3,vg,Ku,gg=0,Ws=0,Z0=0,xh=typeof performance=="object"&&performance.now?performance:Date,uF=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fF(){return Ws||(uF(Qdt),Ws=xh.now()+Z0)}function Qdt(){Ws=0}function Hx(){this._call=this._time=this._next=null}Hx.prototype=hF.prototype={constructor:Hx,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?fF():+n)+(e==null?0:+e),!this._next&&Ku!==this&&(Ku?Ku._next=this:vg=this,Ku=this),this._call=t,this._time=n,Yx()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yx())}};function hF(t,e,n){var r=new Hx;return r.restart(t,e,n),r}function Jdt(){fF(),++Cc;for(var t=vg,e;t;)(e=Ws-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Cc}function hk(){Ws=(gg=xh.now())+Z0,Cc=Zu=0;try{Jdt()}finally{Cc=0,ept(),Ws=0}}function tpt(){var t=xh.now(),e=t-gg;e>cF&&(Z0-=e,gg=t)}function ept(){for(var t,e=vg,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:vg=n);Ku=t,Yx(r)}function Yx(t){if(!Cc){Zu&&(Zu=clearTimeout(Zu));var e=t-Ws;e>24?(t<1/0&&(Zu=setTimeout(hk,t-xh.now()-Z0)),Lu&&(Lu=clearInterval(Lu))):(Lu||(gg=xh.now(),Lu=setInterval(tpt,cF)),Cc=1,uF(hk))}}const npt=1664525,rpt=1013904223,dk=4294967296;function ipt(){let t=1;return()=>(t=(npt*t+rpt)%dk)/dk}function apt(t){return t.x}function opt(t){return t.y}var spt=10,lpt=Math.PI*(3-Math.sqrt(5));function cpt(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=hF(f),c=lF("tick","end"),u=ipt();t==null&&(t=[]);function f(){h(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function h(v){var g,y=t.length,m;v===void 0&&(v=1);for(var b=0;b<v;++b)for(n+=(a-n)*i,s.forEach(function(x){x(n)}),g=0;g<y;++g)m=t[g],m.fx==null?m.x+=m.vx*=o:(m.x=m.fx,m.vx=0),m.fy==null?m.y+=m.vy*=o:(m.y=m.fy,m.vy=0);return e}function d(){for(var v=0,g=t.length,y;v<g;++v){if(y=t[v],y.index=v,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var m=spt*Math.sqrt(.5+v),b=v*lpt;y.x=m*Math.cos(b),y.y=m*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(v){return v.initialize&&v.initialize(t,u),v}return d(),e={tick:h,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(v){return arguments.length?(t=v,d(),s.forEach(p),e):t},alpha:function(v){return arguments.length?(n=+v,e):n},alphaMin:function(v){return arguments.length?(r=+v,e):r},alphaDecay:function(v){return arguments.length?(i=+v,e):+i},alphaTarget:function(v){return arguments.length?(a=+v,e):a},velocityDecay:function(v){return arguments.length?(o=1-v,e):1-o},randomSource:function(v){return arguments.length?(u=v,s.forEach(p),e):u},force:function(v,g){return arguments.length>1?(g==null?s.delete(v):s.set(v,p(g)),e):s.get(v)},find:function(v,g,y){var m=0,b=t.length,x,_,w,S,O;for(y==null?y=1/0:y*=y,m=0;m<b;++m)S=t[m],x=v-S.x,_=g-S.y,w=x*x+_*_,w<y&&(O=S,y=w);return O},on:function(v,g){return arguments.length>1?(c.on(v,g),e):c.on(v)}}}function upt(){var t,e,n,r,i=Mr(-30),a,o=1,s=1/0,l=.81;function c(d){var p,v=t.length,g=sF(t,apt,opt).visitAfter(f);for(r=d,p=0;p<v;++p)e=t[p],g.visit(h)}function u(){if(t){var d,p=t.length,v;for(a=new Array(p),d=0;d<p;++d)v=t[d],a[v.index]=+i(v,d,t)}}function f(d){var p=0,v,g,y=0,m,b,x;if(d.length){for(m=b=x=0;x<4;++x)(v=d[x])&&(g=Math.abs(v.value))&&(p+=v.value,y+=g,m+=g*v.x,b+=g*v.y);d.x=m/y,d.y=b/y}else{v=d,v.x=v.data.x,v.y=v.data.y;do p+=a[v.data.index];while(v=v.next)}d.value=p}function h(d,p,v,g){if(!d.value)return!0;var y=d.x-e.x,m=d.y-e.y,b=g-p,x=y*y+m*m;if(b*b/l<x)return x<s&&(y===0&&(y=Wl(n),x+=y*y),m===0&&(m=Wl(n),x+=m*m),x<o&&(x=Math.sqrt(o*x)),e.vx+=y*d.value*r/x,e.vy+=m*d.value*r/x),!0;if(d.length||x>=s)return;(d.data!==e||d.next)&&(y===0&&(y=Wl(n),x+=y*y),m===0&&(m=Wl(n),x+=m*m),x<o&&(x=Math.sqrt(o*x)));do d.data!==e&&(b=a[d.data.index]*r/x,e.vx+=y*b,e.vy+=m*b);while(d=d.next)}return c.initialize=function(d,p){t=d,n=p,u()},c.strength=function(d){return arguments.length?(i=typeof d=="function"?d:Mr(+d),u(),c):i},c.distanceMin=function(d){return arguments.length?(o=d*d,c):Math.sqrt(o)},c.distanceMax=function(d){return arguments.length?(s=d*d,c):Math.sqrt(s)},c.theta=function(d){return arguments.length?(l=d*d,c):Math.sqrt(l)},c}function fpt(t){var e=Mr(.1),n,r,i;typeof t!="function"&&(t=Mr(t==null?0:+t));function a(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Mr(+s),o(),a):e},a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Mr(+s),o(),a):t},a}function hpt(t){var e=Mr(.1),n,r,i;typeof t!="function"&&(t=Mr(t==null?0:+t));function a(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Mr(+s),o(),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:Mr(+s),o(),a):t},a}var dpt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ppt={joint:!0},vpt={type:"link",axis:!1,legend:!1,encode:{x:[t=>t.source.x,t=>t.target.x],y:[t=>t.source.y,t=>t.target.y]},style:{stroke:"#999",strokeOpacity:.6}},gpt={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},ypt={text:""};function mpt(t,e,n){const{nodes:r,links:i}=t,{joint:a,nodeStrength:o,linkStrength:s}=e,{nodeKey:l=p=>p.id,linkKey:c=p=>p.id}=n,u=upt(),f=Udt(i).id(Xi(c));typeof o=="function"&&u.strength(o),typeof s=="function"&&f.strength(s);const h=cpt(r).force("link",f).force("charge",u);a?h.force("center",Cdt()):h.force("x",fpt()).force("y",hpt()),h.stop();const d=Math.ceil(Math.log(h.alphaMin())/Math.log(1-h.alphaDecay()));for(let p=0;p<d;p++)h.tick();return{nodesData:r,linksData:i}}const dF=t=>{const{data:e,encode:n={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={}}=t,{nodeKey:u=w=>w.id,linkKey:f=w=>w.id}=n,h=dpt(n,["nodeKey","linkKey"]),d=Object.assign({nodeKey:u,linkKey:f},h),p=nt(d,"node"),v=nt(d,"link"),{links:g,nodes:y}=vS(e,d),{nodesData:m,linksData:b}=mpt({links:g,nodes:y},U({},ppt,a),d),x=Qi(c,"link",{items:[w=>({name:"source",value:Xi(f)(w.source)}),w=>({name:"target",value:Xi(f)(w.target)})]}),_=Qi(c,"node",{items:[w=>({name:"key",value:Xi(u)(w)})]},!0);return[U({},vpt,{data:b,encode:v,labels:s,style:nt(i,"link"),tooltip:x,animate:Ji(l,"link")}),U({},gpt,{data:m,encode:Object.assign({},p),scale:r,style:nt(i,"node"),tooltip:_,labels:[Object.assign(Object.assign({},ypt),nt(i,"label")),...o],animate:Ji(l,"link")})]};dF.props={};const pF=t=>e=>n=>{const{field:r="value",nodeSize:i,separation:a,sortBy:o,as:s=["x","y"]}=e,[l,c]=s,u=ed(n,p=>p.children).sum(p=>p[r]).sort(o),f=t();f.size([1,1]),i&&f.nodeSize(i),a&&f.separation(a),f(u);const h=[];u.each(p=>{p[l]=p.x,p[c]=p.y,p.name=p.data.name,h.push(p)});const d=u.links();return d.forEach(p=>{p[l]=[p.source[l],p.target[l]],p[c]=[p.source[c],p.target[c]]}),{nodes:h,edges:d}},vF=t=>pF(mht)(t);vF.props={};const gF=t=>pF(odt)(t);gF.props={};const bpt={sortBy:(t,e)=>e.value-t.value},xpt={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},_pt={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},wpt={text:"",fontSize:10},yF=t=>{const{data:e,encode:n={},scale:r={},style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={}}=t,u=n==null?void 0:n.value,{nodes:f,edges:h}=gF(Object.assign(Object.assign(Object.assign({},bpt),a),{field:u}))(e),d=Qi(c,"node",{title:"name",items:["value"]},!0),p=Qi(c,"link",{title:"",items:[v=>({name:"source",value:v.source.name}),v=>({name:"target",value:v.target.name})]});return[U({},_pt,{data:h,encode:nt(n,"link"),scale:nt(r,"link"),labels:s,style:Object.assign({stroke:"#999"},nt(i,"link")),tooltip:p,animate:Ji(l,"link")}),U({},xpt,{data:f,scale:nt(r,"node"),encode:nt(n,"node"),labels:[Object.assign(Object.assign({},wpt),nt(i,"label")),...o],style:Object.assign({},nt(i,"node")),tooltip:d,animate:Ji(l,"node")})]};yF.props={};var Spt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},Opt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Mpt(t,e){const{text:n="text",value:r="value"}=e;return t.map(i=>Object.assign(Object.assign({},i),{text:i[n],value:i[r]}))}const Tpt=()=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:t=>t.fontFamily}}),TS=(t,e)=>Spt(void 0,void 0,void 0,function*(){const{width:n,height:r}=e,{data:i,encode:a={},scale:o,style:s={},layout:l={}}=t,c=Opt(t,["data","encode","scale","style","layout"]),u=Mpt(i,a);return U({},Tpt(),Object.assign(Object.assign({data:{value:u,transform:[Object.assign({type:"wordCloud",size:[n,r]},l)]},encode:a,scale:o,style:s},c),{axis:!1}))});TS.props={};var uv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Apt=(t,e)=>{const{shape:n,radius:r}=t,i=uv(t,["shape","radius"]),a=nt(i,"pointer"),o=nt(i,"pin"),{shape:s}=a,l=uv(a,["shape"]),{shape:c}=o,u=uv(o,["shape"]),{coordinate:f,theme:h}=e;return(d,p)=>{const v=d.map(C=>f.invert(C)),[g,y,m]=drt(f,"polar"),b=f.clone(),{color:x}=p,_=Z2({startAngle:g,endAngle:y,innerRadius:m,outerRadius:r});_.push(["cartesian"]),b.update({transformations:_});const w=v.map(C=>b.map(C)),[S,O]=Uw(w),[M,T]=f.getCenter(),A=Object.assign(Object.assign({x1:S,y1:O,x2:M,y2:T,stroke:x},l),i),P=Object.assign(Object.assign({cx:M,cy:T,stroke:x},u),i),E=gt(new mn);return ka(s)||(typeof s=="function"?E.append(()=>s(w,p,b,h)):E.append("line").call(ut,A).node()),ka(c)||(typeof c=="function"?E.append(()=>c(w,p,b,h)):E.append("circle").call(ut,P).node()),E.node()}},pk={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},Ept={style:{shape:Apt,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},Ppt={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"}};function Cpt(t){if(we(t)){const e=Math.max(0,Math.min(t,1));return{percent:e,target:e,total:1}}return t}function kpt(t,e){const{name:n="score",target:r,total:i,percent:a,thresholds:o=[]}=Cpt(t),s=a||r,l=a?1:i,c=Object.assign({y:{domain:[0,l]}},e);return o.length?{targetData:[{x:n,y:s,color:"target"}],totalData:o.map((u,f)=>({x:n,y:f>=1?u-o[f-1]:u,color:f})),target:s,total:l,scale:c}:{targetData:[{x:n,y:s,color:"target"}],totalData:[{x:n,y:s,color:"target"},{x:n,y:l-s,color:"total"}],target:s,total:l,scale:c}}function Lpt(t,{target:e,total:n}){const{content:r}=t;return r?r(e,n):e.toString()}const mF=t=>{const{data:e={},scale:n={},style:r={},animate:i={},transform:a=[]}=t,o=uv(t,["data","scale","style","animate","transform"]),{targetData:s,totalData:l,target:c,total:u,scale:f}=kpt(e,n),h=nt(r,"text"),d=Rtt(r,["pointer","pin"]),p=nt(r,"arc"),v=p.shape;return[U({},pk,Object.assign({type:"interval",transform:[{type:"stackY"}],data:l,scale:f,style:v==="round"?Object.assign(Object.assign({},p),{shape:Nft}):p,animate:typeof i=="object"?nt(i,"arc"):i},o)),U({},pk,Ept,Object.assign({type:"point",data:s,scale:f,style:d,animate:typeof i=="object"?nt(i,"indicator"):i},o)),U({},Ppt,{style:Object.assign({text:Lpt(h,{target:c,total:u})},h),animate:typeof i=="object"?nt(i,"text"):i})]};mF.props={};const vk={density:y8},bF=()=>(t,e,n,r)=>{const{x:i,series:a}=n,o=Object.entries(n).filter(([f])=>f.startsWith("y")).map(([,f])=>f),s=Object.entries(n).filter(([f])=>f.startsWith("size")).map(([,f])=>f);if(i===void 0||o===void 0||s===void 0)throw new Error("Missing encode for x or y or size channel.");const l=e.x,c=e.series,u=Array.from(t,f=>{const h=l.getBandWidth(l.invert(+i[f])),d=c?c.getBandWidth(c.invert(+(a==null?void 0:a[f]))):1,p=h*d,v=(+(a==null?void 0:a[f])||0)*h,g=+i[f]+v+p/2;return[...o.map((m,b)=>[g+ +s[b][f]/t.length,+o[b][f]]),...o.map((m,b)=>[g-+s[b][f]/t.length,+o[b][f]]).reverse()].map(m=>r.map(m))});return[t,u]};bF.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:vk,channels:[...Jn({shapes:Object.keys(vk)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...tn(),{type:Gh},{type:Ks}],postInference:[...on(),...Kc()],interaction:{shareTooltip:!0}};const gk={heatmap:b8},xF=t=>(e,n,r,i)=>{const{x:a,y:o,size:s,color:l}=r,c=Array.from(e,u=>{const f=s?+s[u]:40;return[...i.map([+a[u],+o[u]]),l[u],f]});return[[0],[c]]};xF.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:gk,channels:[...Jn({shapes:Object.keys(gk)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...tn(),{type:Ks},{type:y0}],postInference:[...on(),...Ro()]};var Dpt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ipt={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:_8},animate:{enter:{type:"fadeIn"}}},Rpt={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},_F=t=>{const{data:e={},style:n={},animate:r}=t,i=Dpt(t,["data","style","animate"]),a=Math.max(0,we(e)?e:e==null?void 0:e.percent),o=[{percent:a,type:"liquid"}],s=Object.assign(Object.assign({},nt(n,"text")),nt(n,"content")),l=nt(n,"outline"),c=nt(n,"wave"),u=nt(n,"background");return[U({},Ipt,Object.assign({type:"interval",data:o,style:{liquidOptions:{percent:a,liquidShape:n==null?void 0:n.shape},styleOptions:Object.assign(Object.assign({},n),{outline:l,wave:c,background:u})},animate:r},i)),U({},Rpt,{style:Object.assign({text:`${og(a*100)} %`},s),animate:r})]};_F.props={};const wF=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];wF.props={};const SF=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];SF.props={};const OF=t=>new xc(t);OF.props={};const MF=t=>new xe(t);MF.props={};const TF=t=>new cN(t);TF.props={};const AF=t=>new dN(t);AF.props={};const EF=t=>new gN(t);EF.props={};const PF=t=>new vnt(t);PF.props={};const CF=t=>new nnt(t);CF.props={};const kF=t=>new mN(t);kF.props={};const LF=t=>new S0(t);LF.props={};const DF=t=>new MN(t);DF.props={};const IF=t=>new SN(t);IF.props={};const RF=t=>new tnt(t);RF.props={};const NF=t=>new hx(t);NF.props={};const BF=t=>new yw(t);BF.props={};function AS({colorDefault:t,colorBlack:e,colorWhite:n,colorStroke:r,colorBackground:i,padding1:a,padding2:o,padding3:s,alpha90:l,alpha65:c,alpha45:u,alpha25:f,alpha10:h,category10:d,category20:p,sizeDefault:v=1,padding:g="auto",margin:y=16}){return{padding:g,margin:y,size:v,color:t,category10:d,category20:p,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:i,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:e,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:r,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:r,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:r,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:r,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:r,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:r,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:r,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:e,gridStrokeOpacity:h,labelAlign:"horizontal",labelFill:e,labelOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:a,line:!1,lineLineWidth:.5,lineStroke:e,lineStrokeOpacity:u,tickLength:4,tickLineWidth:1,tickStroke:e,tickOpacity:u,titleFill:e,titleOpacity:l,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:e,itemLabelFillOpacity:l,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[a,a],itemValueFill:e,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:e,navButtonFillOpacity:.65,navPageNumFill:e,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:e,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:e,tickStrokeOpacity:.25,rowPadding:a,colPadding:o,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:e,handleLabelFillOpacity:u,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:e,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:e,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:e,labelFillOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:l,tickStroke:e,tickStrokeOpacity:u},label:{fill:e,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:e,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:n,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:e,fontWeight:"normal"},slider:{trackSize:16,trackFill:r,trackFillOpacity:1,selectionFill:t,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:e,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:e,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:e,titleFillOpacity:l,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:e,subtitleFillOpacity:c,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{".g2-tooltip":{"font-family":"sans-serif"}}}}}const Npt={colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},Bpt=AS(Npt),ES=t=>U({},Bpt,t);ES.props={};const FF=t=>U({},ES(),{category10:"category10",category20:"category20"},t);FF.props={};const Fpt={colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25},jpt=AS(Fpt),jF=t=>U({},jpt,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{".g2-tooltip":{background:"#1f1f1f",opacity:.95},".g2-tooltip-title":{color:"#A6A6A6"},".g2-tooltip-list-item-name-label":{color:"#A6A6A6"},".g2-tooltip-list-item-value":{color:"#A6A6A6"}}}},t),zF=t=>Object.assign({},jF(),{category10:"category10",category20:"category20"},t);zF.props={};const zpt={colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},$pt=AS(zpt),$F=t=>U({},$pt,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(e,n)=>n!==0},axisRight:{gridFilter:(e,n)=>n!==0},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},t);$F.props={};function Gpt(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function yg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Wpt(t){return t=yg(Math.abs(t)),t?t[1]:NaN}function Hpt(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Ypt(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vpt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vx(t){if(!(e=Vpt.exec(t)))throw new Error("invalid format: "+t);var e;return new PS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vx.prototype=PS.prototype;function PS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}PS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xpt(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var GF;function Upt(t,e){var n=yg(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(GF=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+yg(t,Math.max(0,e+a-1))[0]}function yk(t,e){var n=yg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gpt,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yk(t*100,e),r:yk,s:Upt,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bk(t){return t}var xk=Array.prototype.map,_k=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qpt(t){var e=t.grouping===void 0||t.thousands===void 0?bk:Hpt(xk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?bk:Ypt(xk.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Vx(f);var h=f.fill,d=f.align,p=f.sign,v=f.symbol,g=f.zero,y=f.width,m=f.comma,b=f.precision,x=f.trim,_=f.type;_==="n"?(m=!0,_="g"):mk[_]||(b===void 0&&(b=12),x=!0,_="g"),(g||h==="0"&&d==="=")&&(g=!0,h="0",d="=");var w=v==="$"?n:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",S=v==="$"?r:/[%p]/.test(_)?o:"",O=mk[_],M=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(A){var P=w,E=S,C,k,L;if(_==="c")E=O(A)+E,A="";else{A=+A;var R=A<0||1/A<0;if(A=isNaN(A)?l:O(Math.abs(A),b),x&&(A=Xpt(A)),R&&+A==0&&p!=="+"&&(R=!1),P=(R?p==="("?p:s:p==="-"||p==="("?"":p)+P,E=(_==="s"?_k[8+GF/3]:"")+E+(R&&p==="("?")":""),M){for(C=-1,k=A.length;++C<k;)if(L=A.charCodeAt(C),48>L||L>57){E=(L===46?i+A.slice(C+1):A.slice(C))+E,A=A.slice(0,C);break}}}m&&!g&&(A=e(A,1/0));var D=P.length+A.length+E.length,I=D<y?new Array(y-D+1).join(h):"";switch(m&&g&&(A=e(I+A,I.length?y-E.length:1/0),I=""),d){case"<":A=P+A+E+I;break;case"=":A=P+I+A+E;break;case"^":A=I.slice(0,D=I.length>>1)+P+A+E+I.slice(D);break;default:A=I+P+A+E;break}return a(A)}return T.toString=function(){return f+""},T}function u(f,h){var d=c((f=Vx(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Wpt(h)/3)))*3,v=Math.pow(10,-p),g=_k[8+p/3];return function(y){return d(v*y)+g}}return{format:c,formatPrefix:u}}var Ap,No;Zpt({thousands:",",grouping:[3],currency:["$",""]});function Zpt(t){return Ap=qpt(t),No=Ap.format,Ap.formatPrefix,Ap}var Kpt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Qpt(t){return class extends zw{constructor(e){super(e),this.descriptor=t}connectedCallback(){var e,n;(n=(e=this.descriptor).render)===null||n===void 0||n.call(e,this.attributes,this)}update(e={}){var n,r;this.attr(U({},this.attributes,e)),(r=(n=this.descriptor).render)===null||r===void 0||r.call(n,this.attributes,this)}}}function wk(t,e,n){return t.querySelector(e)?gt(t).select(e):gt(t).append(n)}function K0(t){return Array.isArray(t)?t.join(", "):`${t||""}`}function WF(t,e){const n={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:r,justifyContent:i,alignItems:a}=n;const o={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return t in o&&([r,i,a]=o[t]),Object.assign({display:"flex",flexDirection:r,justifyContent:i,alignItems:a},e)}class HF extends kut{get child(){var e;return(e=this.children)===null||e===void 0?void 0:e[0]}update(e){var n;this.attr(e);const{subOptions:r}=e;(n=this.child)===null||n===void 0||n.update(r)}}class Jpt extends HF{update(e){var n;const{subOptions:r}=e;this.attr(e),(n=this.child)===null||n===void 0||n.update(r)}}function Ui(t,e){var n;return(n=t.filter(r=>r.getOptions().name===e))===null||n===void 0?void 0:n[0]}function tvt(t){return t==="horizontal"||t===0}function evt(t){return t==="vertical"||t===-Math.PI/2}function YF(t,e,n){const{bbox:r}=t,{position:i="top",size:a,length:o}=e,s=["top","bottom","center"].includes(i),[l,c]=s?[r.height,r.width]:[r.width,r.height],{defaultSize:u,defaultLength:f}=n.props,h=a||u||l,d=o||f||c,p=s?"horizontal":"vertical",[v,g]=s?[d,h]:[h,d];return{orientation:p,width:v,height:g,size:h,length:d}}function nvt(t){return t.find(e=>e.getOptions().domain.length>0).getOptions().domain}function Q0(t){const e=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:n}=t,r=Kpt(t,["style"]),i={};return Object.entries(r).forEach(([a,o])=>{e.includes(a)?i[`show${Co(a)}`]=o:i[a]=o}),Object.assign(Object.assign({},i),n)}var VF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function XF(t,e){const{eulerAngles:n,origin:r}=e;r&&t.setOrigin(r),n&&t.rotate(n[0],n[1],n[2])}function UF(t){const{innerWidth:e,innerHeight:n,depth:r}=t.getOptions();return[e,n,r]}function rvt(t,e){const{width:n,height:r}=e.getOptions();return i=>{if(!m4(e))return i;const a=t==="bottom"?[i,1]:[0,i],o=e.map(a);if(t==="bottom"){const s=o[0];return new xe({domain:[0,n],range:[0,1]}).map(s)}else if(t==="left"){const s=o[1];return new xe({domain:[0,r],range:[0,1]}).map(s)}return i}}function ivt(t,e,n){if(t.getTicks)return t.getTicks();if(!n)return e;const[r,i]=wa(e,o=>+o),{tickCount:a}=t.getOptions();return n(r,i,a)}function avt(t,e){if(ce(e))return d=>d;const n=e.getOptions(),{innerWidth:r,innerHeight:i,insetTop:a,insetBottom:o,insetLeft:s,insetRight:l}=n,[c,u,f]=t==="left"||t==="right"?[a,o,i]:[s,l,r],h=new xe({domain:[0,1],range:[c/f,1-u/f]});return d=>h.map(d)}function qF(t,e,n,r,i,a,o,s){var l;(n!==void 0||a!==void 0)&&t.update(Object.assign(Object.assign({},n&&{tickCount:n}),a&&{tickMethod:a}));const c=ivt(t,e,a),u=i?c.filter(i):c,f=y=>y instanceof Date?String(y):typeof y=="object"&&y?y:String(y),h=r||((l=t.getFormatter)===null||l===void 0?void 0:l.call(t))||f,d=avt(o,s),p=rvt(o,s),v=y=>["top","bottom","center","outer"].includes(y),g=y=>["left","right"].includes(y);return ce(s)||ke(s)?u.map((y,m,b)=>{var x,_;const w=((x=t.getBandWidth)===null||x===void 0?void 0:x.call(t,y))/2||0,S=d(t.map(y)+w);return{value:E0(s)&&o==="center"||ke(s)&&((_=t.getTicks)===null||_===void 0?void 0:_.call(t))&&v(o)||ke(s)&&g(o)?1-S:S,label:f(h(og(y),m,b)),id:String(m)}}):u.map((y,m,b)=>{var x;const _=((x=t.getBandWidth)===null||x===void 0?void 0:x.call(t,y))/2||0,w=p(d(t.map(y)+_));return{value:g(o)?1-w:w,label:f(h(og(y),m,b)),id:String(m)}})}function ovt(t,e,n="xy"){const[r,i,a]=UF(e);return n==="xy"?t.includes("bottom")||t.includes("top")?i:r:n==="xz"?t.includes("bottom")||t.includes("top")?a:r:t.includes("bottom")||t.includes("top")?i:a}function svt(t=[],e){if(t.length>0)return t;const{labelAutoRotate:n,labelAutoHide:r,labelAutoEllipsis:i,labelAutoWrap:a}=e,o=[],s=(l,c)=>{c&&o.push(Object.assign(Object.assign({},l),c))};return s({type:"rotate",optionalAngles:[0,15,30,45,60,90]},n),s({type:"ellipsis",minLength:20},i),s({type:"hide"},r),s({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},a),o}function lvt(t,e,n,r,i){const{x:a,y:o,width:s,height:l}=e,c=[a+s/2,o+l/2],u=Math.min(s,l)/2,[f,h]=Ew(i),[d,p]=UF(i),v=Math.min(d,p)/2,g={center:c,radius:u,startAngle:f,endAngle:h,gridLength:(r-n)*v};if(t==="inner"){const{insetLeft:y,insetTop:m}=i.getOptions();return Object.assign(Object.assign({},g),{center:[c[0]-y,c[1]-m],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},g),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function cvt(t,e,n){return frt(e)||P0(e)?!1:t===void 0?!!n.getTicks:t}function uvt(t){const{depth:e}=t.getOptions();return e?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function fvt(t,e,n,r,i){const{x:a,y:o,width:s,height:l}=n;if(t==="bottom")return{startPos:[a,o],endPos:[a+s,o]};if(t==="left")return{startPos:[a+s,o+l],endPos:[a+s,o]};if(t==="right")return{startPos:[a,o+l],endPos:[a,o]};if(t==="top")return{startPos:[a,o+l],endPos:[a+s,o+l]};if(t==="center"){if(e==="vertical")return{startPos:[a,o],endPos:[a,o+l]};if(e==="horizontal")return{startPos:[a,o],endPos:[a+s,o]};if(typeof e=="number"){const[c,u]=r.getCenter(),[f,h]=C0(r),[d,p]=Ew(r),v=Math.min(s,l)/2,{insetLeft:g,insetTop:y}=r.getOptions(),m=f*v,b=h*v,[x,_]=[c+a-g,u+o-y],[w,S]=[Math.cos(e),Math.sin(e)],O=[x+b*w,_+b*S],M=[x+m*w,_+m*S],T=()=>{const{domain:P}=i.getOptions();return P.length},A=ce(r)&&i?T():3;return{startPos:O,endPos:M,gridClosed:Math.abs(p-d-360)<1e-6,gridCenter:[x,_],gridControlAngles:new Array(A).fill(0).map((P,E,C)=>(p-d)/A*E)}}}return{}}const hvt=t=>{const{order:e,size:n,position:r,orientation:i,labelFormatter:a,tickFilter:o,tickCount:s,tickMethod:l,important:c={},style:u={},indexBBox:f,title:h,grid:d=!1}=t,p=VF(t,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","important","style","indexBBox","title","grid"]);return({scales:[v],value:g,coordinate:y,theme:m})=>{const{bbox:b}=g,{domain:x}=v.getOptions(),_=qF(v,x,s,a,o,l,r,y),w=f?_.map((E,C)=>{const k=f.get(C);return!k||k[0]!==E.label?E:Object.assign(Object.assign({},E),{bbox:k[1]})}):_,[S,O]=C0(y),M=lvt(r,b,S,O,y),{axis:T,axisArc:A={}}=m,P=Q0(U({},T,A,M,Object.assign(Object.assign({type:"arc",data:w,titleText:K0(h),grid:d},p),c)));return new dS({style:J2(P,["transform"])})}};function dvt(t,e,n,r,i,a){const o=n.axis,s=["top","right","bottom","left"].includes(i)?n[`axis${uw(i)}`]:n.axisLinear,l=t.getOptions().name,c=n[`axis${Co(l)}`]||{};return Object.assign({},o,s,c)}function pvt(t,e,n,r,i,a){const o=dvt(t,e,n,r,i);return i==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},o),{labelDirection:r==="right"?"negative":"positive"}),r==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:r==="right"?"negative":"positive",labelSpacing:r==="center"?0:4,titleSpacing:evt(a)?10:0,tick:r==="center"?!1:void 0}):o}const vvt=t=>{const{direction:e="left",important:n={},labelFormatter:r,order:i,orientation:a,actualPosition:o,position:s,size:l,style:c={},title:u,tickCount:f,tickFilter:h,tickMethod:d,transform:p,indexBBox:v}=t,g=VF(t,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","transform","indexBBox"]);return({scales:y,value:m,coordinate:b,theme:x})=>{const{bbox:_}=m,[w]=y,{domain:S,xScale:O}=w.getOptions(),M=pvt(w,b,x,e,s,a),T=Object.assign(Object.assign(Object.assign({},M),c),g),A=ovt(o||s,b,t.plane),P=fvt(s,a,_,b,O),E=uvt(b),C=qF(w,S,f,r,h,d,s,b),k=v?C.map((D,I)=>{const N=v.get(I);return!N||N[0]!==D.label?D:Object.assign(Object.assign({},D),{bbox:N[1]})}):C,L=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},T),{type:"linear",data:k,crossSize:l,titleText:K0(u),labelOverlap:svt(p,T),grid:cvt(T.grid,b,w),gridLength:A,line:!0,indexBBox:v}),T.line?null:{lineOpacity:0}),P),E),n);return L.labelOverlap.find(D=>D.type==="hide")&&(L.crossSize=!1),new dS({className:"axis",style:Q0(L)})}},ZF=t=>e=>{const{labelFormatter:n,labelFilter:r=()=>!0}=e;return i=>{var a;const{scales:[o]}=i,s=((a=o.getTicks)===null||a===void 0?void 0:a.call(o))||o.getOptions().domain,l=typeof n=="string"?No(n):n,c=(f,h,d)=>r(s[h],h,s),u=Object.assign(Object.assign({},e),{labelFormatter:l,labelFilter:c,scale:o});return t(u)(i)}},Bo=ZF(vvt),KF=ZF(hvt);Bo.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};KF.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const QF=t=>(...e)=>{const n=Bo(Object.assign({},{crossPadding:50},t))(...e);return XF(n,t),n};QF.props=Object.assign(Object.assign({},Bo.props),{defaultPosition:"bottom"});const JF=t=>(...e)=>{const n=Bo(Object.assign({},{crossPadding:10},t))(...e);return XF(n,t),n};JF.props=Object.assign(Object.assign({},Bo.props),{defaultPosition:"left"});var gvt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function yvt(t){const e=t%(Math.PI*2);return e===Math.PI/2?{titleTransform:"translate(0, 50%)"}:e>-Math.PI/2&&e<Math.PI/2?{titleTransform:"translate(50%, 0)"}:e>Math.PI/2&&e<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function mvt(t,e,n,r){const{radar:i}=t,[a]=r,o=a.getOptions().name,[s,l]=Ew(n),{axisRadar:c={}}=e;return Object.assign(Object.assign({},c),{grid:o==="position",gridConnect:"line",gridControlAngles:new Array(i.count).fill(0).map((u,f)=>(l-s)/i.count*f)})}const tj=t=>{const{important:e={}}=t,n=gvt(t,["important"]);return r=>{const{theme:i,coordinate:a,scales:o}=r;return Bo(Object.assign(Object.assign(Object.assign({},n),yvt(t.orientation)),{important:Object.assign(Object.assign({},mvt(t,i,a,o)),e)}))(r)}};tj.props=Object.assign(Object.assign({},Bo.props),{defaultPosition:"center"});var bvt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function xvt(t,e){const n=Ui(t,"shape"),r=Ui(t,"color"),i=n?n.clone():null,a=[];for(const[s,l]of e){const c=s.type,f=((r==null?void 0:r.getOptions().domain.length)>0?r==null?void 0:r.getOptions().domain:l.data).map((h,d)=>{var p;return i?i.map(h||"point"):((p=s==null?void 0:s.style)===null||p===void 0?void 0:p.shape)||l.defaultShape||"point"});typeof c=="string"&&a.push([c,f])}if(a.length===0)return["point",["point"]];if(a.length===1||!n)return a[0];const{range:o}=n.getOptions();return a.map(([s,l])=>{let c=0;for(let u=0;u<a.length;u++){const f=o[u%o.length];l[u]===f&&c++}return[c/l.length,[s,l]]}).sort((s,l)=>l[0]-s[0])[0][1]}function _vt(t,e){const{scales:n,library:r,markState:i}=e,[a,o]=xvt(n,i),{itemMarker:s,itemMarkerSize:l}=t,c=(h,d)=>{var p,v,g;const y=((g=(v=(p=r[`mark.${a}`])===null||p===void 0?void 0:p.props)===null||v===void 0?void 0:v.shape[h])===null||g===void 0?void 0:g.props.defaultMarker)||zh(h.split(".")),m=typeof l=="function"?l(d):l;return()=>Hst(y,{color:d.color})(0,0,m)},u=h=>`${o[h]}`;return Ui(n,"shape")&&!s?(h,d)=>c(u(d),h):typeof s=="function"?(h,d)=>{const p=s(h.id,d);return typeof p=="string"?c(p,h):p}:(h,d)=>c(s||u(d),h)}function wvt(t){const e=Ui(t,"opacity");if(e){const{range:n}=e.getOptions();return(r,i)=>n[i]}}function Svt(t,e){const n=Ui(t,"size");return n instanceof dN?n.map(NaN)*2:e}function Ovt(t,e){const{labelFormatter:n=h=>`${h}`}=t,{scales:r,theme:i}=e,a=i.legendCategory.itemMarkerSize,o=Svt(r,a),s={itemMarker:_vt(Object.assign(Object.assign({},t),{itemMarkerSize:o}),e),itemMarkerSize:o,itemMarkerOpacity:wvt(r)},l=typeof n=="string"?No(n):n,c=Ui(r,"color"),u=nvt(r),f=c?h=>c.map(h):()=>e.theme.color;return Object.assign(Object.assign({},s),{data:u.map(h=>({id:h,label:l(h),color:f(h)}))})}function Mvt(t,e,n){const{position:r}=e;if(r==="center"){const{bbox:o}=t,{width:s,height:l}=o;return{width:s,height:l}}const{width:i,height:a}=YF(t,e,n);return{width:i,height:a}}const CS=t=>{const{labelFormatter:e,layout:n,order:r,orientation:i,position:a,size:o,title:s,cols:l,itemMarker:c}=t,u=bvt(t,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:f}=u;return h=>{const{value:d,theme:p}=h,{bbox:v}=d,{width:g,height:y}=Mvt(d,t,CS),m=WF(a,n),b=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(a)?"vertical":"horizontal",width:g,height:y,layout:l!==void 0?"grid":"flex"},l!==void 0&&{gridCol:l}),f!==void 0&&{gridRow:f}),{titleText:K0(s)}),Ovt(t,h)),{legendCategory:x={}}=p,_=Q0(Object.assign({},x,b,u)),w=new Jpt({style:Object.assign(Object.assign({x:v.x,y:v.y,width:v.width,height:v.height},m),{subOptions:_})});return w.appendChild(new gut({className:"legend-category",style:_})),w}};CS.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};var Tvt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Avt(t,e,n){return t.size=e,tvt(n)?t.height=e:t.width=e,t}function Evt(t,e,n){const{size:r}=e,i=YF(t,e,n);return Avt(i,r,i.orientation)}function Pvt(t){return e=>({value:e/t,label:String(e)})}function Cvt(t,e,n,r,i){const a=e.thresholds,o=Pvt(r);return Object.assign(Object.assign({},t),{color:i,data:[n,...a,r].map(o)})}function kvt(t,e,n){const i=[-1/0,...e.thresholds,1/0].map((a,o)=>({value:o,label:a}));return Object.assign(Object.assign({},t),{data:i,color:n,labelFilter:(a,o)=>o>0&&o<i.length-1})}function Xx(t){const{domain:e}=t.getOptions(),[n,r]=[e[0],C3(e)];return[n,r]}function Lvt(t,e){const n=t.getOptions(),r=t.clone();return r.update(Object.assign(Object.assign({},n),{range:[Oa(e).toString()]})),r}function Dvt(t,e,n,r,i,a){const{length:o}=t,s=n||r,l=i.color?a.legendContinuous.ribbonFill||"black":a.color,c=e||Lvt(s,l),[u,f]=Xx(c),[h,d]=Xx([e,n,r].filter(p=>p!==void 0).find(p=>!(p instanceof yw)));return Object.assign(Object.assign({},t),{domain:[h,d],data:c.getTicks().map(p=>({value:p})),color:new Array(Math.floor(o)).fill(0).map((p,v)=>{const g=(f-u)/(o-1)*v+u,y=c.map(g)||l,m=r?r.map(g):1;return y.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(b,x,_,w)=>`rgba(${x}, ${_}, ${w}, ${m})`)})})}function Ivt(t,e,n,r,i,a){const o=Ui(t,"color"),s=Evt(n,r,i);if(o instanceof S0){const{range:u}=o.getOptions(),[f,h]=Xx(o);return o instanceof SN||o instanceof MN?Cvt(s,o,f,h,u):kvt(s,o,u)}const l=Ui(t,"size"),c=Ui(t,"opacity");return Dvt(s,o,l,c,e,a)}const Fo=t=>{const{labelFormatter:e,layout:n,order:r,orientation:i,position:a,size:o,title:s,style:l,crossPadding:c,padding:u}=t,f=Tvt(t,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:h,value:d,theme:p,scale:v})=>{const{bbox:g}=d,{x:y,y:m,width:b,height:x}=g,_=WF(a,n),{legendContinuous:w={}}=p,S=Q0(Object.assign({},w,Object.assign(Object.assign({titleText:K0(s),labelAlign:"value",labelFormatter:typeof e=="string"?M=>No(e)(M.label):e},Ivt(h,v,d,t,Fo,p)),l),f)),O=new HF({style:Object.assign(Object.assign({x:y,y:m,width:b,height:x},_),{subOptions:S})});return O.appendChild(new Eut({className:"legend-continuous",style:S})),O}};Fo.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const ej=t=>(...e)=>Fo(Object.assign({},{block:!0},t))(...e);ej.props=Object.assign(Object.assign({},Fo.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const kS=t=>e=>{const{scales:n}=e,r=Ui(n,"size");return Fo(Object.assign({},{type:"size",data:r.getTicks().map((i,a)=>({value:i,label:String(i)}))},t))(e)};kS.props=Object.assign(Object.assign({},Fo.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const nj=t=>kS(Object.assign({},{block:!0},t));nj.props=Object.assign(Object.assign({},Fo.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var Rvt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Sk(t,e,n,r){switch(r){case"center":return{x:t+n/2,y:e,textAlign:"middle"};case"right":return{x:t+n,y:e,textAlign:"right"};default:return{x:t,y:e,textAlign:"left"}}}const Nvt=Qpt({render(t,e){const{width:n,title:r,subtitle:i,spacing:a=2,align:o="left",x:s,y:l}=t,c=Rvt(t,["width","title","subtitle","spacing","align","x","y"]);e.style.transform=`translate(${s}, ${l})`;const u=nt(c,"title"),f=nt(c,"subtitle"),d=wk(e,".title","text").attr("className","title").call(ut,Object.assign(Object.assign(Object.assign({},Sk(0,0,n,o)),{fontSize:14,textBaseline:"top",text:r}),u)).node().getLocalBounds();wk(e,".sub-title","text").attr("className","sub-title").call(p=>{if(!i)return p.node().remove();p.node().attr(Object.assign(Object.assign(Object.assign({},Sk(0,d.max[1]+a,n,o)),{fontSize:12,textBaseline:"top",text:i}),f))})}}),rj=t=>({value:e,theme:n})=>{const{x:r,y:i,width:a,height:o}=e.bbox;return new Nvt({style:U({},n.title,Object.assign({x:r,y:i,width:a,height:o},t))})};rj.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};function Bvt(t,e,n){return Math.min(n,Math.max(e,t))}function Mf(t){return!!t.getBandWidth}function kc(t,e,n){if(!Mf(t))return t.invert(e);const{adjustedRange:r}=t,{domain:i}=t.getOptions(),a=n?-1:0,o=t.getStep(),s=n?r:r.map(u=>u+o),l=ltt(s,e),c=Bvt(l+a,0,i.length-1);return i[c]}function so(t,e,n){if(!e)return t.getOptions().domain;if(!Mf(t)){const l=mi(e);if(!n)return l;const[c]=l,{range:u}=t.getOptions(),[f,h]=u,d=f>h?-1:1,p=t.invert(t.map(c)+d*n);return[c,p]}const{domain:r}=t.getOptions(),i=e[0],a=r.indexOf(i);if(n){const l=a+Math.round(r.length*n);return r.slice(a,l)}const o=e[e.length-1],s=r.indexOf(o);return r.slice(a,s+1)}function fv(t,e,n,r,i,a){const{x:o,y:s}=i,l=(d,p)=>{const[v,g]=a.invert(d);return[kc(o,v,p),kc(s,g,p)]},c=l([t,e],!0),u=l([n,r],!1),f=so(o,[c[0],u[0]]),h=so(s,[c[1],u[1]]);return[f,h]}function mg(t,e){const[n,r]=t,i=a=>a.getStep?a.getStep():0;return[e.map(n),e.map(r)+i(e)]}function Fvt(t,e,n){const{x:r,y:i}=e,[a,o]=t,s=mg(a,r),l=mg(o,i),c=[s[0],l[0]],u=[s[1],l[1]],[f,h]=n.map(c),[d,p]=n.map(u);return[f,h,d,p]}var jvt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function zvt(t,e,n){const{x:r,y:i,width:a,height:o}=t;if(e==="left")return[r+a-n,i];if(e==="right")return[r,i];if(e==="bottom")return[r,i];if(e==="top")return[r,i+o-n]}const nd=t=>{const{orientation:e,labelFormatter:n,size:r,style:i={},position:a}=t,o=jvt(t,["orientation","labelFormatter","size","style","position"]);return s=>{var l;const{scales:[c],value:u,theme:f,coordinate:h}=s,{bbox:d}=u,{width:p,height:v}=d,{slider:g={}}=f,y=((l=c.getFormatter)===null||l===void 0?void 0:l.call(c))||(O=>O+""),m=typeof n=="string"?No(n):n,b=e==="horizontal",x=ke(h)&&b,{trackSize:_=g.trackSize}=i,[w,S]=zvt(d,a,_);return new O6({className:"slider",style:Object.assign({},g,Object.assign(Object.assign({x:w,y:S,trackLength:b?p:v,orientation:e,formatter:O=>{const M=m||y,T=x?1-O:O,A=kc(c,T,!0);return M(A)},sparklineData:Gvt(t,s)},i),o))})}};function $vt(t,e){const[n]=Array.from(t.entries()).filter(([i])=>i.type==="line"||i.type==="area").filter(([i])=>i.slider).map(([i])=>{const{encode:a,slider:o}=i;if(o!=null&&o.x){const s=l=>{const c=a[l];return[l,c?c.value:void 0]};return Object.fromEntries(e.map(s))}});if(!(n!=null&&n.series))return n==null?void 0:n.y;const r=n.series.reduce((i,a,o)=>(i[a]=i[a]||[],i[a].push(n.y[o]),i),{});return Object.values(r)}function Gvt(t,e){const{markState:n}=e;return An(t.sparklineData)?t.sparklineData:$vt(n,["y","series"])}nd.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const ij=t=>nd(Object.assign(Object.assign({},t),{orientation:"horizontal"}));ij.props=Object.assign(Object.assign({},nd.props),{defaultPosition:"bottom"});const aj=t=>nd(Object.assign(Object.assign({},t),{orientation:"vertical"}));aj.props=Object.assign(Object.assign({},nd.props),{defaultPosition:"left"});var Wvt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const rd=t=>{const{orientation:e,labelFormatter:n,style:r}=t,i=Wvt(t,["orientation","labelFormatter","style"]);return({scales:[a],value:o,theme:s})=>{const{bbox:l}=o,{x:c,y:u,width:f,height:h}=l,{scrollbar:d={}}=s,{ratio:p,range:v}=a.getOptions(),g=e==="horizontal"?f:h,y=g/p,[m,b]=v,x=b>m?0:1;return new nct({className:"g2-scrollbar",style:Object.assign({},d,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:c,y:u,trackLength:g,value:x}),i),{orientation:e,contentLength:y,viewportLength:g}))})}};rd.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const oj=t=>rd(Object.assign(Object.assign({},t),{orientation:"horizontal"}));oj.props=Object.assign(Object.assign({},rd.props),{defaultPosition:"bottom"});const sj=t=>rd(Object.assign(Object.assign({},t),{orientation:"vertical"}));sj.props=Object.assign(Object.assign({},rd.props),{defaultPosition:"left"});const lj=t=>()=>new mn;lj.props={};const LS=(t,e)=>{const{coordinate:r}=e;return(i,a,o)=>{const[s]=i,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:f=1}=s.style,[h,d]=ke(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],p=[{transform:`${l} ${d}`.trimStart(),transformOrigin:h,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${d}`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:f,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:f}];return s.animate(p,Object.assign(Object.assign({},o),t))}},Hvt=(t,e)=>{const{coordinate:r}=e;return(i,a,o)=>{const[s]=i,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:f=1}=s.style,[h,d]=ke(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],p=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:h},{transform:`${l} ${d}`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:f,offset:.99},{transform:`${l} ${d}`.trimStart(),transformOrigin:h,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(p,Object.assign(Object.assign({},o),t))}},cj=(t,e)=>{const{coordinate:r}=e;return Q4.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:st.NUMBER}),(i,a,o)=>{const[s]=i,l=u=>{const{__data__:f,style:h}=u,{radius:d=0,inset:p=0,fillOpacity:v=1,strokeOpacity:g=1,opacity:y=1}=h,{points:m,y:b,y1:x}=f,_=el(r,m,[b,x]),{innerRadius:w,outerRadius:S}=_,O=T0().cornerRadius(d).padAngle(p*Math.PI/180),M=new Qn({}),T=E=>(M.attr({d:O(E)}),j4(M)),A=[{scaleInYRadius:w+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:w+1e-4,fillOpacity:v,strokeOpacity:g,opacity:y,offset:.01},{scaleInYRadius:S,fillOpacity:v,strokeOpacity:g,opacity:y}],P=u.animate(A,Object.assign(Object.assign({},o),t));return P.onframe=function(){u.style.d=T(Object.assign(Object.assign({},_),{outerRadius:Number(u.style.scaleInYRadius)}))},P.onfinish=function(){u.style.d=T(Object.assign(Object.assign({},_),{outerRadius:S}))},P},c=u=>{const{style:f}=u,{transform:h="",fillOpacity:d=1,strokeOpacity:p=1,opacity:v=1}=f,[g,y]=ke(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],m=[{transform:`${h} ${y}`.trimStart(),transformOrigin:g,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${h} ${y}`.trimStart(),transformOrigin:g,fillOpacity:d,strokeOpacity:p,opacity:v,offset:.01},{transform:`${h} scale(1, 1)`.trimStart(),transformOrigin:g,fillOpacity:d,strokeOpacity:p,opacity:v}];return u.animate(m,Object.assign(Object.assign({},o),t))};return ce(r)?l(s):c(s)}},Yvt=(t,e)=>{const{coordinate:r}=e;return(i,a,o)=>{const[s]=i,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:f=1}=s.style,[h,d]=ke(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],p=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:h},{transform:`${l} ${d}`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:f,offset:.99},{transform:`${l} ${d}`.trimStart(),transformOrigin:h,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(p,Object.assign(Object.assign({},o),t))}},uj=t=>(e,n,r)=>{const[i]=e,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:a,strokeOpacity:o,opacity:s}];return i.animate(l,Object.assign(Object.assign({},r),t))};uj.props={};const fj=t=>(e,n,r)=>{const[i]=e,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,l=[{fillOpacity:a,strokeOpacity:o,opacity:s},{fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(l,Object.assign(Object.assign({},r),t))};fj.props={};const Vvt={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},Xvt={[q.CIRCLE]:["cx","cy","r"],[q.ELLIPSE]:["cx","cy","rx","ry"],[q.RECT]:["x","y","width","height"],[q.IMAGE]:["x","y","width","height"],[q.LINE]:["x1","y1","x2","y2"],[q.POLYLINE]:["points"],[q.POLYGON]:["points"]};function Lc(t,e,n=!1){const r={};for(const i of e){const a=t.style[i];a?r[i]=a:n&&(r[i]=Vvt[i])}return r}const _h=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function Ux(t){const{min:e,max:n}=t.getLocalBounds(),[r,i]=e,[a,o]=n,s=o-i,l=a-r;return[r,i,l,s]}function Uvt(t){const[e,n,r,i]=t;return`
    M ${e} ${n}
    L ${e+r} ${n}
    L ${e+r} ${n+i}
    L ${e} ${n+i}
    Z
  `}function qvt(t,e){const[n,r,i,a]=Ux(t),o=a/i,s=Math.ceil(Math.sqrt(e/o)),l=Math.ceil(e/s),c=[],u=a/l;let f=0,h=e;for(;h>0;){const d=Math.min(h,s),p=i/d;for(let v=0;v<d;v++){const g=n+v*p,y=r+f*u;c.push(Uvt([g,y,p,u]))}h-=d,f+=1}return c}function Zvt(t="pack"){return typeof t=="function"?t:qvt}function Kvt(t,e,n){let{transform:r}=t.style;const{transform:i}=e.style;hj(e,t);let a=_h;if(t.nodeName===q.GROUP){const[l,c,u,f]=Ux(t),[h,d,p,v]=Ux(e),g=l-h,y=c-d,m=u/p,b=f/v;r=`translate(${g}, ${y}) scale(${m}, ${b})`}else a=a.concat(Xvt[t.nodeName]||[]);const o=[Object.assign({transform:r??"none"},Lc(t,a,!0)),Object.assign({transform:i??"none"},Lc(e,a,!0))];return e.animate(o,n)}function hj(t,e){t.__data__=e.__data__,t.className=e.className,t.markType=e.markType,e.parentNode.replaceChild(t,e)}function Qvt(t,e){const{nodeName:n}=t;if(n==="path")return t;const r=new Qn({style:Object.assign(Object.assign({},Lc(t,_h)),{d:e})});return hj(r,t),r}function Ok(t,e){const n=t.indexOf(e),r=t.lastIndexOf(e);return n===r}function Jvt(t){return!Ok(t,"m")||!Ok(t,"M")}function Mk(t){const e=j4(t);if(e&&!Jvt(e))return e}function DS(t,e,n,r){const{nodeName:i}=e,{nodeName:a}=n,o=Mk(e),s=Mk(n);if(i===a&&i!=="path"||(o===void 0||s===void 0))return Kvt(e,n,r);const u=Qvt(t,o),f=[Object.assign({},Lc(e,_h)),Object.assign({},Lc(n,_h))];if(o!==s){f[0].d=o,f[1].d=s;const h=u.animate(f,r);return h.onfinish=()=>{const d=u.style.d;fw(u,n),u.style.d=d,u.style.transform="none"},u.style.transform="none",h}return null}function tgt(t,e,n,r){t.style.visibility="hidden";const i=r(t,e.length);return e.map((a,o)=>{const s=new Qn({style:Object.assign({d:i[o]},Lc(t,_h))});return DS(a,s,a,n)})}function egt(t,e,n,r){const i=r(e,t.length),{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=e.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:a,strokeOpacity:o,opacity:s}],c=e.animate(l,n);return[...t.map((f,h)=>{const d=new Qn({style:{d:i[h],fill:e.style.fill}});return DS(f,f,d,n)}),c]}const dj=t=>(e,n,r)=>{const i=Zvt(t.split),a=Object.assign(Object.assign({},r),t),{length:o}=e,{length:s}=n;if(o===1&&s===1||o>1&&s>1){const[l]=e,[c]=n;return DS(l,l,c,a)}if(o===1&&s>1){const[l]=e;return tgt(l,n,a,i)}if(o>1&&s===1){const[l]=n;return egt(e,l,a,i)}return null};dj.props={};const pj=(t,e)=>{Q4.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:st.NUMBER});const{coordinate:r}=e;return(i,a,o)=>{const[s]=i;if(!ce(r))return LS(t,e)(i,a,o);const{__data__:l,style:c}=s,{radius:u=0,inset:f=0,fillOpacity:h=1,strokeOpacity:d=1,opacity:p=1}=c,{points:v,y:g,y1:y}=l,m=T0().cornerRadius(u).padAngle(f*Math.PI/180),b=el(r,v,[g,y]),{startAngle:x,endAngle:_}=b,w=[{waveInArcAngle:x+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:x+1e-4,fillOpacity:h,strokeOpacity:d,opacity:p,offset:.01},{waveInArcAngle:_,fillOpacity:h,strokeOpacity:d,opacity:p}],S=s.animate(w,Object.assign(Object.assign({},o),t));return S.onframe=function(){s.style.d=m(Object.assign(Object.assign({},b),{endAngle:Number(s.style.waveInArcAngle)}))},S.onfinish=function(){s.style.d=m(Object.assign(Object.assign({},b),{endAngle:_}))},S}};pj.props={};const ngt=t=>(n,r,i)=>{const[a]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:l=1,opacity:c=1}=a.style,u="center center",f=[{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c,offset:.01},{transform:`${o} scale(1)`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c}];return a.animate(f,Object.assign(Object.assign({},i),t))},rgt=t=>(n,r,i)=>{const[a]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:l=1,opacity:c=1}=a.style,u="center center",f=[{transform:`${o} scale(1)`.trimStart(),transformOrigin:u},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c,offset:.99},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0}];return a.animate(f,Object.assign(Object.assign({},i),t))},vj=t=>(e,n,r)=>{var i,a;const[o]=e,s=((a=(i=o).getTotalLength)===null||a===void 0?void 0:a.call(i))||0,l=[{lineDash:[0,s]},{lineDash:[s,0]}];return o.animate(l,Object.assign(Object.assign({},r),t))};vj.props={};const gj=(t,e)=>(n,r,i)=>{const[a]=n,{min:[o,s],halfExtents:l}=a.getLocalBounds(),c=l[0]*2,u=l[1]*2,f=new Qn({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+u}L${o},${s+u}Z`}});return a.appendChild(f),a.style.clipPath=f,LS(t,e)([f],r,i)};gj.props={};const yj=(t,e)=>(n,r,i)=>{const[a]=n,{min:[o,s],halfExtents:l}=a.getLocalBounds(),c=l[0]*2,u=l[1]*2,f=new Qn({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+u}L${o},${s+u}Z`}});return a.appendChild(f),a.style.clipPath=f,cj(t,e)([f],r,i)};yj.props={};const Tk="main-layer",qx="label-layer",va="element",Zx="view",bg="plot",Ak="component",Kx="label",Ek="area";function igt(t,e){var n=e.cx,r=n===void 0?0:n,i=e.cy,a=i===void 0?0:i,o=e.r;t.arc(r,a,o,0,Math.PI*2,!1)}function agt(t,e){var n=e.cx,r=n===void 0?0:n,i=e.cy,a=i===void 0?0:i,o=e.rx,s=e.ry;if(t.ellipse)t.ellipse(r,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,c=o>s?1:o/s,u=o>s?s/o:1;t.save(),t.scale(c,u),t.arc(r,a,l,0,Math.PI*2)}}function ogt(t,e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2,o=e.markerStart,s=e.markerEnd,l=e.markerStartOffset,c=e.markerEndOffset,u=0,f=0,h=0,d=0,p=0,v,g;o&&Vt(o)&&l&&(v=i-n,g=a-r,p=Math.atan2(g,v),u=Math.cos(p)*(l||0),f=Math.sin(p)*(l||0)),s&&Vt(s)&&c&&(v=n-i,g=r-a,p=Math.atan2(g,v),h=Math.cos(p)*(c||0),d=Math.sin(p)*(c||0)),t.moveTo(n+u,r+f),t.lineTo(i+h,a+d)}function sgt(t,e){var n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,a=e.markerEndOffset,o=e.d,s=o.absolutePath,l=o.segments,c=0,u=0,f=0,h=0,d=0,p,v;if(n&&Vt(n)&&i){var g=et(n.parentNode.getStartTangent(),2),y=g[0],m=g[1];p=y[0]-m[0],v=y[1]-m[1],d=Math.atan2(v,p),c=Math.cos(d)*(i||0),u=Math.sin(d)*(i||0)}if(r&&Vt(r)&&a){var b=et(r.parentNode.getEndTangent(),2),y=b[0],m=b[1];p=y[0]-m[0],v=y[1]-m[1],d=Math.atan2(v,p),f=Math.cos(d)*(a||0),h=Math.sin(d)*(a||0)}for(var x=0;x<s.length;x++){var _=s[x],w=_[0],S=s[x+1],O=x===0&&(c!==0||u!==0),M=(x===s.length-1||S&&(S[0]==="M"||S[0]==="Z"))&&f!==0&&h!==0;switch(w){case"M":O?(t.moveTo(_[1]+c,_[2]+u),t.lineTo(_[1],_[2])):t.moveTo(_[1],_[2]);break;case"L":M?t.lineTo(_[1]+f,_[2]+h):t.lineTo(_[1],_[2]);break;case"Q":t.quadraticCurveTo(_[1],_[2],_[3],_[4]),M&&t.lineTo(_[3]+f,_[4]+h);break;case"C":t.bezierCurveTo(_[1],_[2],_[3],_[4],_[5],_[6]),M&&t.lineTo(_[5]+f,_[6]+h);break;case"A":{var T=l[x].arcParams,A=T.cx,P=T.cy,E=T.rx,C=T.ry,k=T.startAngle,L=T.endAngle,R=T.xRotation,D=T.sweepFlag;if(t.ellipse)t.ellipse(A,P,E,C,R,k,L,!!(1-D));else{var I=E>C?E:C,N=E>C?1:E/C,F=E>C?C/E:1;t.translate(A,P),t.rotate(R),t.scale(N,F),t.arc(0,0,I,k,L,!!(1-D)),t.scale(1/N,1/F),t.rotate(-R),t.translate(-A,-P)}M&&t.lineTo(_[6]+f,_[7]+h);break}case"Z":t.closePath();break}}}function lgt(t,e){var n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,a=e.markerEndOffset,o=e.points.points,s=o.length,l=o[0][0],c=o[0][1],u=o[s-1][0],f=o[s-1][1],h=0,d=0,p=0,v=0,g=0,y,m;n&&Vt(n)&&i&&(y=o[1][0]-o[0][0],m=o[1][1]-o[0][1],g=Math.atan2(m,y),h=Math.cos(g)*(i||0),d=Math.sin(g)*(i||0)),r&&Vt(r)&&a&&(y=o[s-1][0]-o[0][0],m=o[s-1][1]-o[0][1],g=Math.atan2(m,y),p=Math.cos(g)*(a||0),v=Math.sin(g)*(a||0)),t.moveTo(l+(h||p),c+(d||v));for(var b=1;b<s-1;b++){var x=o[b];t.lineTo(x[0],x[1])}t.lineTo(u,f)}function cgt(t,e){var n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,a=e.markerEndOffset,o=e.points.points,s=o.length,l=o[0][0],c=o[0][1],u=o[s-1][0],f=o[s-1][1],h=0,d=0,p=0,v=0,g=0,y,m;n&&Vt(n)&&i&&(y=o[1][0]-o[0][0],m=o[1][1]-o[0][1],g=Math.atan2(m,y),h=Math.cos(g)*(i||0),d=Math.sin(g)*(i||0)),r&&Vt(r)&&a&&(y=o[s-2][0]-o[s-1][0],m=o[s-2][1]-o[s-1][1],g=Math.atan2(m,y),p=Math.cos(g)*(a||0),v=Math.sin(g)*(a||0)),t.moveTo(l+h,c+d);for(var b=1;b<s-1;b++){var x=o[b];t.lineTo(x[0],x[1])}t.lineTo(u+p,f+v)}function ugt(t,e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.radius,s=e.width,l=e.height,c=s,u=l,f=o&&o.some(function(x){return x!==0});if(!f)t.rect(r,a,c,u);else{var h=s>0?1:-1,d=l>0?1:-1,p=h+d===0,v=et(o.map(function(x){return We(x,0,Math.min(Math.abs(c)/2,Math.abs(u)/2))}),4),g=v[0],y=v[1],m=v[2],b=v[3];t.moveTo(h*g+r,a),t.lineTo(c-h*y+r,a),y!==0&&t.arc(c-h*y+r,d*y+a,y,-d*Math.PI/2,h>0?0:Math.PI,p),t.lineTo(c+r,u-d*m+a),m!==0&&t.arc(c-h*m+r,u-d*m+a,m,h>0?0:Math.PI,d>0?Math.PI/2:1.5*Math.PI,p),t.lineTo(h*b+r,u+a),b!==0&&t.arc(h*b+r,u-d*b+a,b,d>0?Math.PI/2:-Math.PI/2,h>0?Math.PI:0,p),t.lineTo(r,d*g+a),g!==0&&t.arc(h*g+r,d*g+a,g,h>0?Math.PI:0,d>0?Math.PI*1.5:Math.PI/2,p)}}var fgt=function(t){Et(e,t);function e(){var n=t.apply(this,_t([],et(arguments),!1))||this;return n.name="canvas-path-generator",n}return e.prototype.init=function(){var n,r=(n={},n[q.CIRCLE]=igt,n[q.ELLIPSE]=agt,n[q.RECT]=ugt,n[q.LINE]=ogt,n[q.POLYLINE]=cgt,n[q.POLYGON]=lgt,n[q.PATH]=sgt,n[q.TEXT]=void 0,n[q.GROUP]=void 0,n[q.IMAGE]=void 0,n[q.HTML]=void 0,n[q.MESH]=void 0,n);this.context.pathGeneratorFactory=r},e.prototype.destroy=function(){delete this.context.pathGeneratorFactory},e}(Do),hgt=Bt(),dgt=Bt(),pgt=Bt(),vgt=Qt(),ggt=function(){function t(){var e=this;this.isHit=function(n,r,i,a){var o=e.context.pointInPathPickerFactory[n.nodeName];if(o){var s=yi(vgt,i),l=cn(dgt,pi(pgt,r[0],r[1],0),s);if(o(n,new Mn(l[0],l[1]),a,e.isPointInPath,e.context,e.runtime))return!0}return!1},this.isPointInPath=function(n,r){var i=e.runtime.offscreenCanvasCreator.getOrCreateContext(e.context.config.offscreenCanvas),a=e.context.pathGeneratorFactory[n.nodeName];return a&&(i.beginPath(),a(i,n.parsedStyle),i.closePath()),i.isPointInPath(r.x,r.y)}}return t.prototype.apply=function(e,n){var r=this,i,a=e.renderingService,o=e.renderingContext;this.context=e,this.runtime=n;var s=(i=o.root)===null||i===void 0?void 0:i.ownerDocument;a.hooks.pick.tapPromise(t.tag,function(l){return pc(r,void 0,void 0,function(){return vc(this,function(c){return[2,this.pick(s,l)]})})}),a.hooks.pickSync.tap(t.tag,function(l){return r.pick(s,l)})},t.prototype.pick=function(e,n){var r,i,a=n.topmost,o=n.position,s=o.x,l=o.y,c=pi(hgt,s,l,0),u=e.elementsFromBBox(c[0],c[1],c[0],c[1]),f=[];try{for(var h=Ja(u),d=h.next();!d.done;d=h.next()){var p=d.value,v=p.getWorldTransform(),g=this.isHit(p,c,v,!1);if(g){var y=H4(p);if(y){var m=y.parsedStyle.clipPath,b=this.isHit(m,c,m.getWorldTransform(),!0);if(b){if(a)return n.picked=[p],n;f.push(p)}}else{if(a)return n.picked=[p],n;f.push(p)}}}}catch(x){r={error:x}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return n.picked=f,n},t.tag="CanvasPicker",t}();function ygt(t,e,n){var r=t.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,l=r.r,c=r.fill,u=r.stroke,f=r.lineWidth,h=f===void 0?1:f,d=r.increasedLineWidthForHitTesting,p=d===void 0?0:d,v=r.pointerEvents,g=v===void 0?"auto":v,y=(h+p)/2,m=Sa(a,s,e.x,e.y),b=et(Js(g,c,u),2),x=b[0],_=b[1];return x&&_||n?m<=l+y:x?m<=l:_?m>=l-y&&m<=l+y:!1}function Ep(t,e,n,r){return t/(n*n)+e/(r*r)}function mgt(t,e,n){var r=t.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,l=r.rx,c=r.ry,u=r.fill,f=r.stroke,h=r.lineWidth,d=h===void 0?1:h,p=r.increasedLineWidthForHitTesting,v=p===void 0?0:p,g=r.pointerEvents,y=g===void 0?"auto":g,m=e.x,b=e.y,x=et(Js(y,u,f),2),_=x[0],w=x[1],S=(d+v)/2,O=(m-a)*(m-a),M=(b-s)*(b-s);return _&&w||n?Ep(O,M,l+S,c+S)<=1:_?Ep(O,M,l,c)<=1:w?Ep(O,M,l-S,c-S)>=1&&Ep(O,M,l+S,c+S)<=1:!1}function Ss(t,e,n,r,i,a){return i>=t&&i<=t+n&&a>=e&&a<=e+r}function bgt(t,e,n,r,i,a,o){var s=i/2;return Ss(t-s,e-s,n,i,a,o)||Ss(t+n-s,e-s,i,r,a,o)||Ss(t+s,e+r-s,n,i,a,o)||Ss(t-s,e+s,i,r,a,o)}function Pp(t,e,n,r,i,a,o,s){var l=(Math.atan2(s-e,o-t)+Math.PI*2)%(Math.PI*2),c={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return Sa(c.x,c.y,o,s)<=a/2}function lo(t,e,n,r,i,a,o){var s=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,r),u=Math.max(e,r),f=i/2;return a>=s-f&&a<=l+f&&o>=c-f&&o<=u+f?Rrt(t,e,n,r,a,o)<=i/2:!1}function mj(t,e,n,r,i){var a=t.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=t[o][0],l=t[o][1],c=t[o+1][0],u=t[o+1][1];if(lo(s,l,c,u,e,n,r))return!0}if(i){var f=t[0],h=t[a-1];if(lo(f[0],f[1],h[0],h[1],e,n,r))return!0}return!1}var xgt=1e-6;function b1(t){return Math.abs(t)<xgt?0:t<0?-1:1}function _gt(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function bj(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=t[a],s=t[(a+1)%i];if(_gt(o,s,[e,n]))return!0;b1(o[1]-n)>0!=b1(s[1]-n)>0&&b1(e-(n-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function Pk(t,e,n){for(var r=!1,i=0;i<t.length;i++){var a=t[i];if(r=bj(a,e,n),r)break}return r}function wgt(t,e,n){var r=t.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2,l=r.lineWidth,c=l===void 0?1:l,u=r.increasedLineWidthForHitTesting,f=u===void 0?0:u,h=r.pointerEvents,d=h===void 0?"auto":h,p=r.fill,v=r.stroke,g=et(Js(d,p,v),2),y=g[1];return!y&&!n||!c?!1:lo(i,a,o,s,c+f,e.x,e.y)}function Sgt(t,e,n,r,i){for(var a=!1,o=e/2,s=0;s<t.length;s++){var l=t[s],c=l.currentPoint,u=l.params,f=l.prePoint,h=l.box;if(!(h&&!Ss(h.x-o,h.y-o,h.width+e,h.height+e,n,r)))switch(l.command){case"L":case"Z":if(a=lo(f[0],f[1],c[0],c[1],e,n,r),a)return!0;break;case"Q":var d=Grt(f[0],f[1],u[1],u[2],u[3],u[4],n,r);if(a=d<=e/2,a)return!0;break;case"C":var p=nP(f[0],f[1],u[1],u[2],u[3],u[4],u[5],u[6],n,r,i);if(a=p<=e/2,a)return!0;break;case"A":l.cubicParams||(l.cubicParams=rw(f[0],f[1],u[1],u[2],u[3],u[4],u[5],u[6],u[7],void 0));for(var v=l.cubicParams,g=f,y=0;y<v.length;y+=6){var m=nP(g[0],g[1],v[y],v[y+1],v[y+2],v[y+3],v[y+4],v[y+5],n,r,i);if(g=[v[y+4],v[y+5]],a=m<=e/2,a)return!0}break}}return a}function Ogt(t,e,n,r,i,a){var o=t.parsedStyle,s=o.lineWidth,l=s===void 0?1:s,c=o.increasedLineWidthForHitTesting,u=c===void 0?0:c,f=o.stroke,h=o.fill,d=o.d,p=o.pointerEvents,v=p===void 0?"auto":p,g=d.segments,y=d.hasArc,m=d.polylines,b=d.polygons,x=et(Js(v,(b==null?void 0:b.length)&&h,f),2),_=x[0],w=x[1],S=Ax(t),O=!1;return _||n?(y?O=r(t,e):O=Pk(b,e.x,e.y)||Pk(m,e.x,e.y),O):((w||n)&&(O=Sgt(g,l+u,e.x,e.y,S)),O)}function Mgt(t,e,n){var r=t.parsedStyle,i=r.stroke,a=r.fill,o=r.lineWidth,s=o===void 0?1:o,l=r.increasedLineWidthForHitTesting,c=l===void 0?0:l,u=r.points,f=r.pointerEvents,h=f===void 0?"auto":f,d=et(Js(h,a,i),2),p=d[0],v=d[1],g=!1;return(v||n)&&(g=mj(u.points,s+c,e.x,e.y,!0)),!g&&(p||n)&&(g=bj(u.points,e.x,e.y)),g}function Tgt(t,e,n){var r=t.parsedStyle,i=r.lineWidth,a=i===void 0?1:i,o=r.increasedLineWidthForHitTesting,s=o===void 0?0:o,l=r.points,c=r.pointerEvents,u=c===void 0?"auto":c,f=r.fill,h=r.stroke,d=et(Js(u,f,h),2),p=d[1];return!p&&!n||!a?!1:mj(l.points,a+s,e.x,e.y,!1)}function Agt(t,e,n,r,i){var a=t.parsedStyle,o=a.radius,s=a.fill,l=a.stroke,c=a.lineWidth,u=c===void 0?1:c,f=a.increasedLineWidthForHitTesting,h=f===void 0?0:f,d=a.x,p=d===void 0?0:d,v=a.y,g=v===void 0?0:v,y=a.width,m=a.height,b=a.pointerEvents,x=b===void 0?"auto":b,_=et(Js(x,s,l),2),w=_[0],S=_[1],O=o&&o.some(function(P){return P!==0}),M=u+h;if(O){var A=!1;return(S||n)&&(A=Egt(p,g,y,m,o.map(function(P){return We(P,0,Math.min(Math.abs(y)/2,Math.abs(m)/2))}),M,e.x,e.y)),!A&&(w||n)&&(A=r(t,e)),A}else{var T=M/2;if(w&&S||n)return Ss(p-T,g-T,y+T,m+T,e.x,e.y);if(w)return Ss(p,g,y,m,e.x,e.y);if(S)return bgt(p,g,y,m,M,e.x,e.y)}return!1}function Egt(t,e,n,r,i,a,o,s){var l=et(i,4),c=l[0],u=l[1],f=l[2],h=l[3];return lo(t+c,e,t+n-u,e,a,o,s)||lo(t+n,e+u,t+n,e+r-f,a,o,s)||lo(t+n-f,e+r,t+h,e+r,a,o,s)||lo(t,e+r-h,t,e+c,a,o,s)||Pp(t+n-u,e+u,u,1.5*Math.PI,2*Math.PI,a,o,s)||Pp(t+n-f,e+r-f,f,0,.5*Math.PI,a,o,s)||Pp(t+h,e+r-h,h,.5*Math.PI,Math.PI,a,o,s)||Pp(t+c,e+c,c,Math.PI,1.5*Math.PI,a,o,s)}function Pgt(t,e,n,r,i,a){var o=t.parsedStyle,s=o.pointerEvents,l=s===void 0?"auto":s,c=o.x,u=c===void 0?0:c,f=o.y,h=f===void 0?0:f,d=o.width,p=o.height;if(l==="non-transparent-pixel"){var v=i.config.offscreenCanvas,g=a.offscreenCanvasCreator.getOrCreateCanvas(v),y=a.offscreenCanvasCreator.getOrCreateContext(v,{willReadFrequently:!0});g.width=d,g.height=p,i.defaultStyleRendererFactory[q.IMAGE].render(y,bt(bt({},t.parsedStyle),{x:0,y:0}),t,void 0,void 0,void 0);var m=y.getImageData(e.x-u,e.y-h,1,1).data;return m.every(function(b){return b!==0})}return!0}var Cgt=function(t){Et(e,t);function e(){var n=t.apply(this,_t([],et(arguments),!1))||this;return n.name="canvas-picker",n}return e.prototype.init=function(){var n,r=function(){return!0},i=(n={},n[q.CIRCLE]=ygt,n[q.ELLIPSE]=mgt,n[q.RECT]=Agt,n[q.LINE]=wgt,n[q.POLYLINE]=Tgt,n[q.POLYGON]=Mgt,n[q.PATH]=Ogt,n[q.TEXT]=r,n[q.GROUP]=null,n[q.IMAGE]=Pgt,n[q.HTML]=null,n[q.MESH]=null,n);this.context.pointInPathPickerFactory=i,this.addRenderingPlugin(new ggt)},e.prototype.destroy=function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()},e}(Do),kgt=function(){function t(e){this.canvasRendererPluginOptions=e,this.removedRBushNodeAABBs=[],this.renderQueue=[],this.restoreStack=[],this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=Qt(),this.dprMatrix=Qt(),this.tmpMat4=Qt(),this.vec3a=Bt(),this.vec3b=Bt(),this.vec3c=Bt(),this.vec3d=Bt()}return t.prototype.apply=function(e,n){var r=this;this.context=e;var i=e.config,a=e.camera,o=e.renderingService,s=e.renderingContext,l=e.rBushRoot,c=e.pathGeneratorFactory;this.rBush=l,this.pathGeneratorFactory=c;var u=e.contextService,f=s.root.ownerDocument.defaultView,h=function(v){var g=v.target,y=g.rBushNode;y.aabb&&r.removedRBushNodeAABBs.push(y.aabb)},d=function(v){var g=v.target,y=g.rBushNode;y.aabb&&r.removedRBushNodeAABBs.push(y.aabb)};o.hooks.init.tap(t.tag,function(){f.addEventListener(Ct.UNMOUNTED,h),f.addEventListener(Ct.CULLED,d);var v=u.getDPR(),g=i.width,y=i.height,m=u.getContext();r.clearRect(m,0,0,g*v,y*v,i.background)}),o.hooks.destroy.tap(t.tag,function(){f.removeEventListener(Ct.UNMOUNTED,h),f.removeEventListener(Ct.CULLED,d),r.renderQueue=[],r.removedRBushNodeAABBs=[],r.restoreStack=[]}),o.hooks.beginFrame.tap(t.tag,function(){var v,g=u.getContext(),y=u.getDPR(),m=i.width,b=i.height,x=r.canvasRendererPluginOptions,_=x.dirtyObjectNumThreshold,w=x.dirtyObjectRatioThreshold,S=o.getStats(),O=S.total,M=S.rendered,T=M/O;r.clearFullScreen=r.clearFullScreenLastFrame||!(!((v=f.context.renderingPlugins[1])===null||v===void 0)&&v.isFirstTimeRenderingFinished)||o.disableDirtyRectangleRendering()||M>_&&T>w,g&&(g.resetTransform?g.resetTransform():g.setTransform(1,0,0,1,0,0),r.clearFullScreen&&r.clearRect(g,0,0,m*y,b*y,i.background))});var p=function(v,g){v.isVisible()&&!v.isCulled()&&r.renderDisplayObject(v,g,r.context,r.restoreStack,n);var y=v.sortable.sorted||v.childNodes;y.forEach(function(m){p(m,g)})};o.hooks.endFrame.tap(t.tag,function(){if(s.root.childNodes.length===0){r.clearFullScreenLastFrame=!0;return}r.clearFullScreenLastFrame=!1;var v=u.getContext(),g=u.getDPR();if(Qa(r.dprMatrix,[g,g,1]),Nn(r.vpMatrix,r.dprMatrix,a.getOrthoMatrix()),r.clearFullScreen)p(s.root,v);else{var y=r.safeMergeAABB.apply(r,_t([r.mergeDirtyAABBs(r.renderQueue)],et(r.removedRBushNodeAABBs.map(function(F){var j=F.minX,z=F.minY,G=F.maxX,V=F.maxY,Q=new Ze;return Q.setMinMax([j,z,0],[G,V,0]),Q})),!1));if(r.removedRBushNodeAABBs=[],Ze.isEmpty(y)){r.renderQueue=[];return}var m=r.convertAABB2Rect(y),b=m.x,x=m.y,_=m.width,w=m.height,S=cn(r.vec3a,[b,x,0],r.vpMatrix),O=cn(r.vec3b,[b+_,x,0],r.vpMatrix),M=cn(r.vec3c,[b,x+w,0],r.vpMatrix),T=cn(r.vec3d,[b+_,x+w,0],r.vpMatrix),A=Math.min(S[0],O[0],T[0],M[0]),P=Math.min(S[1],O[1],T[1],M[1]),E=Math.max(S[0],O[0],T[0],M[0]),C=Math.max(S[1],O[1],T[1],M[1]),k=Math.floor(A),L=Math.floor(P),R=Math.ceil(E-A),D=Math.ceil(C-P);v.save(),r.clearRect(v,k,L,R,D,i.background),v.beginPath(),v.rect(k,L,R,D),v.clip(),v.setTransform(r.vpMatrix[0],r.vpMatrix[1],r.vpMatrix[4],r.vpMatrix[5],r.vpMatrix[12],r.vpMatrix[13]);var I=i.renderer.getConfig().enableDirtyRectangleRenderingDebug;I&&f.dispatchEvent(new le(hr.DIRTY_RECTANGLE,{dirtyRect:{x:k,y:L,width:R,height:D}}));var N=r.searchDirtyObjects(y);N.sort(function(F,j){return F.sortable.renderOrder-j.sortable.renderOrder}).forEach(function(F){F&&F.isVisible()&&!F.isCulled()&&r.renderDisplayObject(F,v,r.context,r.restoreStack,n)}),v.restore(),r.renderQueue.forEach(function(F){r.saveDirtyAABB(F)}),r.renderQueue=[]}r.restoreStack.forEach(function(){v.restore()}),r.restoreStack=[]}),o.hooks.render.tap(t.tag,function(v){r.clearFullScreen||r.renderQueue.push(v)})},t.prototype.clearRect=function(e,n,r,i,a,o){e.clearRect(n,r,i,a),o&&(e.fillStyle=o,e.fillRect(n,r,i,a))},t.prototype.renderDisplayObject=function(e,n,r,i,a){var o=e.nodeName,s=i[i.length-1];s&&!(e.compareDocumentPosition(s)&vn.DOCUMENT_POSITION_CONTAINS)&&(n.restore(),i.pop());var l=this.context.styleRendererFactory[o],c=this.pathGeneratorFactory[o],u=e.parsedStyle.clipPath;if(u){this.applyWorldTransform(n,u);var f=this.pathGeneratorFactory[u.nodeName];f&&(n.save(),i.push(e),n.beginPath(),f(n,u.parsedStyle),n.closePath(),n.clip())}l&&(this.applyWorldTransform(n,e),n.save(),this.applyAttributesToContext(n,e)),c&&(n.beginPath(),c(n,e.parsedStyle),e.nodeName!==q.LINE&&e.nodeName!==q.PATH&&e.nodeName!==q.POLYLINE&&n.closePath()),l&&(l.render(n,e.parsedStyle,e,r,this,a),n.restore()),e.renderable.dirty=!1},t.prototype.convertAABB2Rect=function(e){var n=e.getMin(),r=e.getMax(),i=Math.floor(n[0]),a=Math.floor(n[1]),o=Math.ceil(r[0]),s=Math.ceil(r[1]),l=o-i,c=s-a;return{x:i,y:a,width:l,height:c}},t.prototype.mergeDirtyAABBs=function(e){var n=new Ze;return e.forEach(function(r){var i=r.getRenderBounds();n.add(i);var a=r.renderable.dirtyRenderBounds;a&&n.add(a)}),n},t.prototype.searchDirtyObjects=function(e){var n=et(e.getMin(),2),r=n[0],i=n[1],a=et(e.getMax(),2),o=a[0],s=a[1],l=this.rBush.search({minX:r,minY:i,maxX:o,maxY:s});return l.map(function(c){var u=c.displayObject;return u})},t.prototype.saveDirtyAABB=function(e){var n=e.renderable;n.dirtyRenderBounds||(n.dirtyRenderBounds=new Ze);var r=e.getRenderBounds();r&&n.dirtyRenderBounds.update(r.center,r.halfExtents)},t.prototype.applyAttributesToContext=function(e,n){var r=n.parsedStyle,i=r.stroke,a=r.fill,o=r.opacity,s=r.lineDash,l=r.lineDashOffset;s&&e.setLineDash(s),Ot(l)||(e.lineDashOffset=l),Ot(o)||(e.globalAlpha*=o),!Ot(i)&&!Array.isArray(i)&&!i.isNone&&(e.strokeStyle=n.attributes.stroke),!Ot(a)&&!Array.isArray(a)&&!a.isNone&&(e.fillStyle=n.attributes.fill)},t.prototype.applyWorldTransform=function(e,n,r){r?(hc(this.tmpMat4,n.getLocalTransform()),Nn(this.tmpMat4,r,this.tmpMat4),Nn(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(hc(this.tmpMat4,n.getWorldTransform()),Nn(this.tmpMat4,this.vpMatrix,this.tmpMat4)),e.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])},t.prototype.safeMergeAABB=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=new Ze;return e.forEach(function(i){r.add(i)}),r},t.tag="CanvasRenderer",t}(),jo=function(){function t(e){this.imagePool=e}return t.prototype.render=function(e,n,r,i,a,o){var s=n.fill,l=n.fillRule,c=n.opacity,u=c===void 0?1:c,f=n.fillOpacity,h=f===void 0?1:f,d=n.stroke,p=n.strokeOpacity,v=p===void 0?1:p,g=n.lineWidth,y=g===void 0?1:g,m=n.lineCap,b=n.lineJoin,x=n.shadowType,_=n.shadowColor,w=n.shadowBlur,S=n.filter,O=n.miterLimit,M=s&&!s.isNone,T=d&&!d.isNone&&y>0,A=(s==null?void 0:s.alpha)===0,P=!!(S&&S.length),E=!Ot(_)&&w>0,C=r.nodeName,k=x==="inner",L=T&&E&&(C===q.PATH||C===q.LINE||C===q.POLYLINE||A||k);M&&(e.globalAlpha=u*h,L||xg(r,e,E),wj(e,r,s,l,i,a,o,this.imagePool),L||this.clearShadowAndFilter(e,P,E)),T&&(e.globalAlpha=u*v,e.lineWidth=y,Ot(O)||(e.miterLimit=O),Ot(m)||(e.lineCap=m),Ot(b)||(e.lineJoin=b),L&&(k&&(e.globalCompositeOperation="source-atop"),xg(r,e,!0),k&&(Qx(e,r,d,i,a,o,this.imagePool),e.globalCompositeOperation="source-over",this.clearShadowAndFilter(e,P,!0))),Qx(e,r,d,i,a,o,this.imagePool))},t.prototype.clearShadowAndFilter=function(e,n,r){if(r&&(e.shadowColor="transparent",e.shadowBlur=0),n){var i=e.filter;!Ot(i)&&i.indexOf("drop-shadow")>-1&&(e.filter=i.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}},t}();function xg(t,e,n){var r=t.parsedStyle,i=r.filter,a=r.shadowColor,o=r.shadowBlur,s=r.shadowOffsetX,l=r.shadowOffsetY;i&&i.length&&(e.filter=t.style.filter),n&&(e.shadowColor=a.toString(),e.shadowBlur=o||0,e.shadowOffsetX=s||0,e.shadowOffsetY=l||0)}function xj(t,e,n,r,i,a,o){var s,l;if(t.image.nodeName==="rect"){var c=t.image.parsedStyle,u=c.width,f=c.height;l=r.contextService.getDPR();var h=r.config.offscreenCanvas;s=a.offscreenCanvasCreator.getOrCreateCanvas(h),s.width=u*l,s.height=f*l;var d=a.offscreenCanvasCreator.getOrCreateContext(h),p=[];t.image.forEach(function(g){i.renderDisplayObject(g,d,r,p,a)}),p.forEach(function(){d.restore()})}var v=o.getOrCreatePatternSync(t,n,s,l,e.getGeometryBounds().min,function(){e.renderable.dirty=!0,r.renderingService.dirtify()});return v}function _j(t,e,n,r){var i;if(t.type===$i.LinearGradient||t.type===$i.RadialGradient){var a=e.getGeometryBounds(),o=a&&a.halfExtents[0]*2||1,s=a&&a.halfExtents[1]*2||1,l=a&&a.min||[0,0];i=r.getOrCreateGradient(bt(bt({type:t.type},t.value),{min:l,width:o,height:s}),n)}return i}function wj(t,e,n,r,i,a,o,s,l){l===void 0&&(l=!1),Array.isArray(n)?n.forEach(function(c){t.fillStyle=_j(c,e,t,s),l||(r?t.fill(r):t.fill())}):(dh(n)&&(t.fillStyle=xj(n,e,t,i,a,o,s)),l||(r?t.fill(r):t.fill()))}function Qx(t,e,n,r,i,a,o,s){s===void 0&&(s=!1),Array.isArray(n)?n.forEach(function(l){t.strokeStyle=_j(l,e,t,o),s||t.stroke()}):(dh(n)&&(t.strokeStyle=xj(n,e,t,r,i,a,o)),s||t.stroke())}var Lgt=function(){function t(e){this.imagePool=e}return t.prototype.render=function(e,n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o,l=n.width,c=n.height,u=n.src,f=n.shadowColor,h=n.shadowBlur,d,p=l,v=c;if(Ye(u)?d=this.imagePool.getImageSync(u):(p||(p=u.width),v||(v=u.height),d=u),d){var g=!Ot(f)&&h>0;xg(r,e,g);try{e.drawImage(d,a,s,p,v)}catch{}}},t}(),Dgt=function(){function t(e){this.imagePool=e}return t.prototype.render=function(e,n,r,i,a,o){r.getBounds();var s=n,l=s.lineWidth,c=l===void 0?1:l,u=s.textAlign,f=u===void 0?"start":u,h=s.textBaseline,d=h===void 0?"alphabetic":h,p=s.lineJoin,v=p===void 0?"miter":p,g=s.miterLimit,y=g===void 0?10:g,m=s.letterSpacing,b=m===void 0?0:m,x=s.stroke,_=s.fill,w=s.fillRule,S=s.fillOpacity,O=S===void 0?1:S,M=s.strokeOpacity,T=M===void 0?1:M,A=s.opacity,P=A===void 0?1:A,E=s.metrics,C=s.x,k=C===void 0?0:C,L=s.y,R=L===void 0?0:L,D=s.dx,I=s.dy,N=s.shadowColor,F=s.shadowBlur,j=E.font,z=E.lines,G=E.height,V=E.lineHeight,Q=E.lineMetrics;e.font=j,e.lineWidth=c,e.textAlign=f==="middle"?"center":f;var Y=d;!o.enableCSSParsing&&Y==="alphabetic"&&(Y="bottom"),e.lineJoin=v,Ot(y)||(e.miterLimit=y);var H=R;d==="middle"?H+=-G/2-V/2:d==="bottom"||d==="alphabetic"||d==="ideographic"?H+=-G:(d==="top"||d==="hanging")&&(H+=-V);var tt=k+(D||0);H+=I||0,z.length===1&&(Y==="bottom"?(Y="middle",H-=.5*G):Y==="top"&&(Y="middle",H+=.5*G)),e.textBaseline=Y;var Z=!Ot(N)&&F>0;xg(r,e,Z);for(var W=0;W<z.length;W++){var K=c/2+tt;H+=V,!Ot(x)&&!x.isNone&&c&&this.drawLetterSpacing(e,r,z[W],Q[W],f,K,H,b,_,w,O,x,T,P,!0,i,a,o),Ot(_)||this.drawLetterSpacing(e,r,z[W],Q[W],f,K,H,b,_,w,O,x,T,P,!1,i,a,o)}},t.prototype.drawLetterSpacing=function(e,n,r,i,a,o,s,l,c,u,f,h,d,p,v,g,y,m){if(l===0){v?this.strokeText(e,n,r,o,s,h,d,g,y,m):this.fillText(e,n,r,o,s,c,u,f,p,g,y,m);return}var b=e.textAlign;e.textAlign="left";var x=o;a==="center"||a==="middle"?x=o-i.width/2:(a==="right"||a==="end")&&(x=o-i.width);for(var _=Array.from(r),w=e.measureText(r).width,S=0,O=0;O<_.length;++O){var M=_[O];v?this.strokeText(e,n,M,x,s,h,d,g,y,m):this.fillText(e,n,M,x,s,c,u,f,p,g,y,m),S=e.measureText(r.substring(O+1)).width,x+=w-S+l,w=S}e.textAlign=b},t.prototype.fillText=function(e,n,r,i,a,o,s,l,c,u,f,h){wj(e,n,o,s,u,f,h,this.imagePool,!0);var d,p=!Ot(l)&&l!==1;p&&(d=e.globalAlpha,e.globalAlpha=l*c),e.fillText(r,i,a),p&&(e.globalAlpha=d)},t.prototype.strokeText=function(e,n,r,i,a,o,s,l,c,u){Qx(e,n,o,l,c,u,this.imagePool,!0);var f,h=!Ot(s)&&s!==1;h&&(f=e.globalAlpha,e.globalAlpha=s),e.strokeText(r,i,a),h&&(e.globalAlpha=f)},t}();(function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(jo);(function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(jo);(function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(jo);(function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(jo);(function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(jo);(function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(jo);(function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(jo);var Igt=function(t){Et(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this;return r.options=n,r.name="canvas-renderer",r}return e.prototype.init=function(){var n,r=bt({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),i=this.context.imagePool,a=new jo(i),o=(n={},n[q.CIRCLE]=a,n[q.ELLIPSE]=a,n[q.RECT]=a,n[q.IMAGE]=new Lgt(i),n[q.TEXT]=new Dgt(i),n[q.LINE]=a,n[q.POLYLINE]=a,n[q.POLYGON]=a,n[q.PATH]=a,n[q.GROUP]=void 0,n[q.HTML]=void 0,n[q.MESH]=void 0,n);this.context.defaultStyleRendererFactory=o,this.context.styleRendererFactory=o,this.addRenderingPlugin(new kgt(r))},e.prototype.destroy=function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory},e}(Do),Rgt=function(){function t(){}return t.prototype.apply=function(e,n){var r=this,i=e.renderingService,a=e.renderingContext,o=e.config;this.context=e;var s=a.root.ownerDocument.defaultView,l=function(w){i.hooks.pointerMove.call(w)},c=function(w){i.hooks.pointerUp.call(w)},u=function(w){i.hooks.pointerDown.call(w)},f=function(w){i.hooks.pointerOver.call(w)},h=function(w){i.hooks.pointerOut.call(w)},d=function(w){i.hooks.pointerCancel.call(w)},p=function(w){i.hooks.pointerWheel.call(w)},v=function(w){i.hooks.click.call(w)},g=function(w){n.globalThis.document.addEventListener("pointermove",l,!0),w.addEventListener("pointerdown",u,!0),w.addEventListener("pointerleave",h,!0),w.addEventListener("pointerover",f,!0),n.globalThis.addEventListener("pointerup",c,!0),n.globalThis.addEventListener("pointercancel",d,!0)},y=function(w){w.addEventListener("touchstart",u,!0),w.addEventListener("touchend",c,!0),w.addEventListener("touchmove",l,!0),w.addEventListener("touchcancel",d,!0)},m=function(w){n.globalThis.document.addEventListener("mousemove",l,!0),w.addEventListener("mousedown",u,!0),w.addEventListener("mouseout",h,!0),w.addEventListener("mouseover",f,!0),n.globalThis.addEventListener("mouseup",c,!0)},b=function(w){n.globalThis.document.removeEventListener("pointermove",l,!0),w.removeEventListener("pointerdown",u,!0),w.removeEventListener("pointerleave",h,!0),w.removeEventListener("pointerover",f,!0),n.globalThis.removeEventListener("pointerup",c,!0)},x=function(w){w.removeEventListener("touchstart",u,!0),w.removeEventListener("touchend",c,!0),w.removeEventListener("touchmove",l,!0),w.removeEventListener("touchcancel",d,!0)},_=function(w){n.globalThis.document.removeEventListener("mousemove",l,!0),w.removeEventListener("mousedown",u,!0),w.removeEventListener("mouseout",h,!0),w.removeEventListener("mouseover",f,!0),n.globalThis.removeEventListener("mouseup",c,!0)};i.hooks.init.tap(t.tag,function(){var w=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(w.style.msContentZooming="none",w.style.msTouchAction="none"):s.supportsPointerEvents&&(w.style.touchAction="none"),s.supportsPointerEvents?g(w):m(w),s.supportsTouchEvents&&y(w),o.useNativeClickEvent&&w.addEventListener("click",v,!0),w.addEventListener("wheel",p,{passive:!0,capture:!0})}),i.hooks.destroy.tap(t.tag,function(){var w=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(w.style.msContentZooming="",w.style.msTouchAction=""):s.supportsPointerEvents&&(w.style.touchAction=""),s.supportsPointerEvents?b(w):_(w),s.supportsTouchEvents&&x(w),o.useNativeClickEvent&&w.removeEventListener("click",v,!0),w.removeEventListener("wheel",p,!0)})},t.tag="DOMInteraction",t}(),Ngt=function(t){Et(e,t);function e(){var n=t.apply(this,_t([],et(arguments),!1))||this;return n.name="dom-interaction",n}return e.prototype.init=function(){this.addRenderingPlugin(new Rgt)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Do),Bgt="g-canvas-camera",Fgt=function(){function t(){this.displayObjectHTMLElementMap=new WeakMap}return t.prototype.joinTransformMatrix=function(e){return"matrix(".concat([e[0],e[1],e[4],e[5],e[12],e[13]].join(","),")")},t.prototype.apply=function(e,n){var r=this,i=e.camera,a=e.renderingContext,o=e.renderingService;this.context=e;var s=a.root.ownerDocument.defaultView,l=s.context.eventService.nativeHTMLMap,c=function(v,g){g.style.transform=r.joinTransformMatrix(v.getWorldTransform())},u=function(v){var g=v.target;if(g.nodeName===q.HTML){r.$camera||(r.$camera=r.createCamera(i));var y=r.getOrCreateEl(g);if(r.$camera.appendChild(y),n.enableCSSParsing){var m=g.ownerDocument.documentElement.attributes;Object.keys(m).forEach(function(b){y.style[b]=m[b]})}Object.keys(g.attributes).forEach(function(b){r.updateAttribute(b,g)}),c(g,y),l.set(y,g)}},f=function(v){var g=v.target;if(g.nodeName===q.HTML&&r.$camera){var y=r.getOrCreateEl(g);y&&(y.remove(),l.delete(y))}},h=function(v){var g=v.target;if(g.nodeName===q.HTML){var y=v.attrName;r.updateAttribute(y,g)}},d=function(v){var g=v.target;if(g.nodeName===q.HTML){var y=r.getOrCreateEl(g);c(g,y)}},p=function(){if(r.$camera){var v=r.context.config,g=v.width,y=v.height;r.$camera.style.width="".concat(g||0,"px"),r.$camera.style.height="".concat(y||0,"px")}};o.hooks.init.tap(t.tag,function(){s.addEventListener(hr.RESIZE,p),s.addEventListener(Ct.MOUNTED,u),s.addEventListener(Ct.UNMOUNTED,f),s.addEventListener(Ct.ATTR_MODIFIED,h),s.addEventListener(Ct.BOUNDS_CHANGED,d)}),o.hooks.endFrame.tap(t.tag,function(){r.$camera&&a.renderReasons.has(bo.CAMERA_CHANGED)&&(r.$camera.style.transform=r.joinTransformMatrix(i.getOrthoMatrix()))}),o.hooks.destroy.tap(t.tag,function(){r.$camera&&r.$camera.remove(),s.removeEventListener(hr.RESIZE,p),s.removeEventListener(Ct.MOUNTED,u),s.removeEventListener(Ct.UNMOUNTED,f),s.removeEventListener(Ct.ATTR_MODIFIED,h),s.removeEventListener(Ct.BOUNDS_CHANGED,d)})},t.prototype.createCamera=function(e){var n=this.context.config,r=n.document,i=n.width,a=n.height,o=this.context.contextService.getDomElement(),s=o.parentNode;if(s){var l=Bgt,c=s.querySelector("#"+l);if(!c){var u=(r||document).createElement("div");c=u,u.id=l,u.style.position="absolute",u.style.left="".concat(o.offsetLeft||0,"px"),u.style.top="".concat(o.offsetTop||0,"px"),u.style.transformOrigin="left top",u.style.transform=this.joinTransformMatrix(e.getOrthoMatrix()),u.style.overflow="hidden",u.style.pointerEvents="none",u.style.width="".concat(i||0,"px"),u.style.height="".concat(a||0,"px"),s.appendChild(u)}return c}return null},t.prototype.getOrCreateEl=function(e){var n=this.context.config.document,r=this.displayObjectHTMLElementMap.get(e);return r||(r=(n||document).createElement("div"),e.parsedStyle.$el=r,this.displayObjectHTMLElementMap.set(e,r),e.id&&(r.id=e.id),e.name&&r.setAttribute("name",e.name),e.className&&(r.className=e.className),r.style.position="absolute",r.style["will-change"]="transform",r.style.transform=this.joinTransformMatrix(e.getWorldTransform())),r},t.prototype.updateAttribute=function(e,n){var r=this.getOrCreateEl(n);switch(e){case"innerHTML":var i=n.parsedStyle.innerHTML;Ye(i)?r.innerHTML=i:(r.innerHTML="",r.appendChild(i));break;case"x":r.style.left="".concat(n.parsedStyle.x,"px");break;case"y":r.style.top="".concat(n.parsedStyle.y,"px");break;case"transformOrigin":var a=n.parsedStyle.transformOrigin;r.style["transform-origin"]="".concat(a[0].value," ").concat(a[1].value);break;case"width":if(this.context.enableCSSParsing){var o=n.computedStyleMap().get("width");r.style.width=o.toString()}else{var o=n.parsedStyle.width;r.style.width=we(o)?"".concat(o,"px"):o.toString()}break;case"height":if(this.context.enableCSSParsing){var s=n.computedStyleMap().get("height");r.style.height=s.toString()}else{var s=n.parsedStyle.height;r.style.height=we(s)?"".concat(s,"px"):s.toString()}break;case"zIndex":var l=n.parsedStyle.zIndex;r.style["z-index"]="".concat(l);break;case"visibility":var c=n.parsedStyle.visibility;r.style.visibility=c;break;case"pointerEvents":var u=n.parsedStyle.pointerEvents,f=u===void 0?"auto":u;r.style.pointerEvents=f;break;case"opacity":var h=n.parsedStyle.opacity;r.style.opacity="".concat(h);break;case"fill":var d=n.parsedStyle.fill,p="";tg(d)?d.isNone?p="transparent":p=n.getAttribute("fill"):Array.isArray(d)?p=n.getAttribute("fill"):dh(d),r.style.background=p;break;case"stroke":var v=n.parsedStyle.stroke,g="";tg(v)?v.isNone?g="transparent":g=n.getAttribute("stroke"):Array.isArray(v)?g=n.getAttribute("stroke"):dh(v),r.style["border-color"]=g,r.style["border-style"]="solid";break;case"lineWidth":var y=n.parsedStyle.lineWidth;r.style["border-width"]="".concat(y||0,"px");break;case"lineDash":r.style["border-style"]="dashed";break;case"filter":var m=n.style.filter;r.style.filter=m;break;default:!Ot(n.style[e])&&n.style[e]!==""&&(r.style[e]=n.style[e])}},t.tag="HTMLRendering",t}(),jgt=function(t){Et(e,t);function e(){var n=t.apply(this,_t([],et(arguments),!1))||this;return n.name="html-renderer",n}return e.prototype.init=function(){this.addRenderingPlugin(new Fgt)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Do),zgt=function(){function t(e){this.canvasConfig=e,this.imageCache={},this.gradientCache={},this.patternCache={}}return t.prototype.getImageSync=function(e,n){return this.imageCache[e]?n&&n(this.imageCache[e]):this.getOrCreateImage(e).then(function(r){n&&n(r)}),this.imageCache[e]},t.prototype.getOrCreateImage=function(e){var n=this;if(this.imageCache[e])return Promise.resolve(this.imageCache[e]);var r=this.canvasConfig.createImage;return new Promise(function(i,a){var o;r?o=r(e):Kh&&(o=new window.Image),o&&(o.onload=function(){n.imageCache[e]=o,i(o)},o.onerror=function(s){a(s)},o.crossOrigin="Anonymous",o.src=e)})},t.prototype.getOrCreatePatternSync=function(e,n,r,i,a,o){var s=this.generatePatternKey(e);if(s&&this.patternCache[s])return this.patternCache[s];var l=e.image,c=e.repetition,u=e.transform,f,h=!1;Ye(l)?f=this.getImageSync(l,o):r?(f=r,h=!0):f=l;var d=f&&n.createPattern(f,c);if(d){var p=void 0;u?p=q4(Bw(u),new jn({})):p=Us(Qt()),h&&e3(p,p,[1/i,1/i,1]),d.setTransform({a:p[0],b:p[1],c:p[4],d:p[5],e:p[12]+a[0],f:p[13]+a[1]})}return s&&d&&(this.patternCache[s]=d),d},t.prototype.getOrCreateGradient=function(e,n){var r=this.generateGradientKey(e),i=e.type,a=e.steps,o=e.min,s=e.width,l=e.height,c=e.angle,u=e.cx,f=e.cy,h=e.size;if(this.gradientCache[r])return this.gradientCache[r];var d=null;if(i===$i.LinearGradient){var p=_it(o,s,l,c),v=p.x1,g=p.y1,y=p.x2,m=p.y2;d=n.createLinearGradient(v,g,y,m)}else if(i===$i.RadialGradient){var b=wit(o,s,l,u,f,h),x=b.x,_=b.y,w=b.r;d=n.createRadialGradient(x,_,0,x,_,w)}return d&&(a.forEach(function(S){var O=S.offset,M=S.color;O.unit===rt.kPercentage&&(d==null||d.addColorStop(O.value/100,M.toString()))}),this.gradientCache[r]=d),this.gradientCache[r]},t.prototype.generateGradientKey=function(e){var n=e.type,r=e.min,i=e.width,a=e.height,o=e.steps,s=e.angle,l=e.cx,c=e.cy,u=e.size;return"gradient-".concat(n,"-").concat((s==null?void 0:s.toString())||0,"-").concat((l==null?void 0:l.toString())||0,"-").concat((c==null?void 0:c.toString())||0,"-").concat((u==null?void 0:u.toString())||0,"-").concat(r[0],"-").concat(r[1],"-").concat(i,"-").concat(a,"-").concat(o.map(function(f){var h=f.offset,d=f.color;return"".concat(h).concat(d)}).join("-"))},t.prototype.generatePatternKey=function(e){var n=e.image,r=e.repetition;if(Ye(n))return"pattern-".concat(n,"-").concat(r);if(n.nodeName==="rect")return"pattern-".concat(n.entity,"-").concat(r)},t}(),$gt=function(){function t(){}return t.prototype.apply=function(e){var n=e.renderingService,r=e.renderingContext,i=e.imagePool,a=r.root.ownerDocument.defaultView,o=function(c,u,f){var h=c.parsedStyle,d=h.width,p=h.height;d&&!p?c.setAttribute("height",f/u*d):!d&&p&&c.setAttribute("width",u/f*p)},s=function(c){var u=c.target,f=u.nodeName,h=u.attributes;if(f===q.IMAGE){var d=h.src,p=h.keepAspectRatio;Ye(d)&&i.getImageSync(d,function(v){var g=v.width,y=v.height;p&&o(u,g,y),u.renderable.dirty=!0,n.dirtify()})}},l=function(c){var u=c.target,f=c.attrName,h=c.newValue;u.nodeName===q.IMAGE&&f==="src"&&Ye(h)&&i.getOrCreateImage(h).then(function(d){var p=d.width,v=d.height;u.attributes.keepAspectRatio&&o(u,p,v),u.renderable.dirty=!0,n.dirtify()})};n.hooks.init.tap(t.tag,function(){a.addEventListener(Ct.MOUNTED,s),a.addEventListener(Ct.ATTR_MODIFIED,l)}),n.hooks.destroy.tap(t.tag,function(){a.removeEventListener(Ct.MOUNTED,s),a.removeEventListener(Ct.ATTR_MODIFIED,l)})},t.tag="LoadImage",t}(),Ggt=function(t){Et(e,t);function e(){var n=t.apply(this,_t([],et(arguments),!1))||this;return n.name="image-loader",n}return e.prototype.init=function(){this.context.imagePool=new zgt(this.context.config),this.addRenderingPlugin(new $gt)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Do),Wgt=function(){function t(e){this.renderingContext=e.renderingContext,this.canvasConfig=e.config}return t.prototype.init=function(){var e=this.canvasConfig,n=e.container,r=e.canvas;if(r)this.$canvas=r,n&&r.parentElement!==n&&n.appendChild(r),this.$container=r.parentElement,this.canvasConfig.container=this.$container;else if(n&&(this.$container=Ye(n)?document.getElementById(n):n,this.$container)){var i=document.createElement("canvas");this.$container.appendChild(i),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=i}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)},t.prototype.getContext=function(){return this.context},t.prototype.getDomElement=function(){return this.$canvas},t.prototype.getDPR=function(){return this.dpr},t.prototype.getBoundingClientRect=function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()},t.prototype.destroy=function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)},t.prototype.resize=function(e,n){var r=this.canvasConfig.devicePixelRatio,i=r||Kh&&window.devicePixelRatio||1;i=i>=1?Math.ceil(i):1,this.dpr=i,this.$canvas&&(this.$canvas.width=this.dpr*e,this.$canvas.height=this.dpr*n,Cat(this.$canvas,e,n)),this.renderingContext.renderReasons.add(bo.CAMERA_CHANGED)},t.prototype.applyCursorStyle=function(e){this.$container&&this.$container.style&&(this.$container.style.cursor=e)},t.prototype.toDataURL=function(e){return e===void 0&&(e={}),pc(this,void 0,void 0,function(){var n,r;return vc(this,function(i){return n=e.type,r=e.encoderOptions,[2,this.context.canvas.toDataURL(n,r)]})})},t}(),Hgt=function(t){Et(e,t);function e(){var n=t.apply(this,_t([],et(arguments),!1))||this;return n.name="canvas-context-register",n}return e.prototype.init=function(){this.context.ContextService=Wgt},e.prototype.destroy=function(){delete this.context.ContextService},e}(Do),Sj=function(t){Et(e,t);function e(n){var r=t.call(this,n)||this;return r.registerPlugin(new Hgt),r.registerPlugin(new Ggt),r.registerPlugin(new fgt),r.registerPlugin(new Igt),r.registerPlugin(new Ngt),r.registerPlugin(new Cgt),r.registerPlugin(new jgt),r}return e}(Yrt),Ygt=function(){function t(e){this.dragndropPluginOptions=e}return t.prototype.apply=function(e){var n=this,r=e.renderingService,i=e.renderingContext,a=i.root.ownerDocument,o=a.defaultView,s=function(l){var c=l.target,u=c===a,f=u&&n.dragndropPluginOptions.isDocumentDraggable?a:c.closest&&c.closest("[draggable=true]");if(f){var h=!1,d=l.timeStamp,p=[l.clientX,l.clientY],v=null,g=[l.clientX,l.clientY],y=function(b){return pc(n,void 0,void 0,function(){var x,_,w,S,O,M;return vc(this,function(T){switch(T.label){case 0:if(!h){if(x=b.timeStamp-d,_=sr([b.clientX,b.clientY],p),x<=this.dragndropPluginOptions.dragstartTimeThreshold||_<=this.dragndropPluginOptions.dragstartDistanceThreshold)return[2];b.type="dragstart",f.dispatchEvent(b),h=!0}return b.type="drag",b.dx=b.clientX-g[0],b.dy=b.clientY-g[1],f.dispatchEvent(b),g=[b.clientX,b.clientY],u?[3,2]:(w=this.dragndropPluginOptions.overlap==="pointer"?[b.canvasX,b.canvasY]:c.getBounds().center,[4,a.elementsFromPoint(w[0],w[1])]);case 1:S=T.sent(),O=S[S.indexOf(c)+1],M=(O==null?void 0:O.closest("[droppable=true]"))||(this.dragndropPluginOptions.isDocumentDroppable?a:null),v!==M&&(v&&(b.type="dragleave",b.target=v,v.dispatchEvent(b)),M&&(b.type="dragenter",b.target=M,M.dispatchEvent(b)),v=M,v&&(b.type="dragover",b.target=v,v.dispatchEvent(b))),T.label=2;case 2:return[2]}})})};o.addEventListener("pointermove",y);var m=function(b){if(h){b.detail={preventClick:!0};var x=b.clone();v&&(x.type="drop",x.target=v,v.dispatchEvent(x)),x.type="dragend",f.dispatchEvent(x),h=!1}o.removeEventListener("pointermove",y)};c.addEventListener("pointerup",m,{once:!0}),c.addEventListener("pointerupoutside",m,{once:!0})}};r.hooks.init.tap(t.tag,function(){o.addEventListener("pointerdown",s)}),r.hooks.destroy.tap(t.tag,function(){o.removeEventListener("pointerdown",s)})},t.tag="Dragndrop",t}(),Oj=function(t){Et(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this;return r.options=n,r.name="dragndrop",r}return e.prototype.init=function(){this.addRenderingPlugin(new Ygt(bt({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e.prototype.setOptions=function(n){Object.assign(this.plugins[0].dragndropPluginOptions,n)},e}(Do),Vgt="*",Mj=function(){function t(){this._events={}}return t.prototype.on=function(e,n,r){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:n,once:!!r}),this},t.prototype.once=function(e,n){return this.on(e,n,!0)},t.prototype.emit=function(e){for(var n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this._events[e]||[],o=this._events[Vgt]||[],s=function(l){for(var c=l.length,u=0;u<c;u++)if(l[u]){var f=l[u],h=f.callback,d=f.once;d&&(l.splice(u,1),l.length===0&&delete n._events[e],c--,u--),h.apply(n,r)}};s(a),s(o)},t.prototype.off=function(e,n){if(!e)this._events={};else if(!n)delete this._events[e];else{for(var r=this._events[e]||[],i=r.length,a=0;a<i;a++)r[a].callback===n&&(r.splice(a,1),i--,a--);r.length===0&&delete this._events[e]}return this},t.prototype.getEvents=function(){return this._events},t}();const ee={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CHANGE_DATA:"beforechangedata",AFTER_CHANGE_DATA:"afterchangedata",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},Xgt=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]];var Ugt={}.toString,J0=function(t,e){return Ugt.call(t)==="[object "+e+"]"};const Tj=function(t){return J0(t,"Function")},Aj=function(t){return Array.isArray?Array.isArray(t):J0(t,"Array")},qgt=function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"};function Zgt(t,e){if(t){var n;if(Aj(t))for(var r=0,i=t.length;r<i&&(n=e(t[r],r),n!==!1);r++);else if(qgt(t)){for(var a in t)if(t.hasOwnProperty(a)&&(n=e(t[a],a),n===!1))break}}}var Kgt=function(t){return typeof t=="object"&&t!==null},Ck=function(t){if(!Kgt(t)||!J0(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};const Qgt=function(t){return J0(t,"String")};var Jgt=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return Zgt(t,function(n,r){Tj(t)&&r==="prototype"||e.push(n)}),e};const t0t=function(t,e){if(!Tj(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=t.apply(this,r);return o.set(a,s),s};return n.cache=new Map,n};var e0t=5;function Ej(t,e,n,r){n=n||0,r=r||e0t;for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];a!==null&&Ck(a)?(Ck(t[i])||(t[i]={}),n<r?Ej(t[i],a,n+1,r):t[i]=e[i]):Aj(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var Pj=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Ej(t,e[r]);return t};const IS=function(t){return t};var Cp;t0t(function(t,e){e===void 0&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return Cp||(Cp=document.createElement("canvas").getContext("2d")),Cp.font=[a,o,i,n+"px",r].join(" "),Cp.measureText(Qgt(t)?t:"").width},function(t,e){return e===void 0&&(e={}),AJ([t],Jgt(e)).join("")});function Cj(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t?e.reduce(function(r,i){return function(a){return i(r(a))}},t):IS}function kj(t){return t instanceof Float32Array||t instanceof Array}var Lj=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Dj=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};function n0t(t){return function(e){for(var n=[],r=0;r<e.length-1;r+=2){var i=[e[r],e[r+1]],a=t(i);n.push.apply(n,Dj([],Lj(a),!1))}return n}}function r0t(t){return function(e){for(var n=[],r=0;r<e.length-1;r+=3){var i=[e[r],e[r+1],e[r+2]],a=t(i);n.push.apply(n,Dj([],Lj(a),!1))}return n}}function Ij(t,e,n){for(;t<e;)t+=Math.PI*2;for(;t>n;)t-=Math.PI*2;return t}var i0t=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},a0t=function(t,e,n,r,i){var a=i0t(t,2),o=a[0],s=a[1],l=Hc();return HQ(l,[o,s])},kk=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},o0t=function(t,e,n,r,i){var a=new xe({range:[e,e+r]}),o=new xe({range:[n,n+i]});return{transform:function(s){var l=kk(s,2),c=l[0],u=l[1];return[a.map(c),o.map(u)]},untransform:function(s){var l=kk(s,2),c=l[0],u=l[1];return[a.invert(c),o.invert(u)]}}},s0t=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},l0t=function(t,e,n,r,i){var a=s0t(t,1),o=a[0];return o(e,n,r,i)},c0t=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},u0t=function(t,e,n,r,i){var a=c0t(t,1),o=a[0];return o},x1=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},f0t=function(t,e,n,r,i){var a=x1(t,4),o=a[0],s=a[1],l=a[2],c=a[3],u=new xe({range:[l,c]}),f=new xe({range:[o,s]}),h=i/r,d=h>1?1:h,p=h>1?1/h:1;return{transform:function(v){var g=x1(v,2),y=g[0],m=g[1],b=f.map(y),x=u.map(m),_=x*Math.cos(b)*d,w=x*Math.sin(b)*p,S=_*.5+.5,O=w*.5+.5;return[S,O]},untransform:function(v){var g=x1(v,2),y=g[0],m=g[1],b=(y-.5)*2/d,x=(m-.5)*2/p,_=Math.sqrt(Math.pow(b,2)+Math.pow(x,2)),w=Math.atan2(x,b),S=Ij(w,o,s),O=f.invert(S),M=u.invert(_);return[O,M]}}},Lk=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},h0t=function(t,e,n,r,i){return{transform:function(a){var o=Lk(a,2),s=o[0],l=o[1];return[l,s]},untransform:function(a){var o=Lk(a,2),s=o[0],l=o[1];return[l,s]}}},d0t=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},ty=function(t,e,n,r,i){var a=d0t(t,2),o=a[0],s=a[1],l=Hc();return VQ(l,[o,s])},RS=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},NS=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},p0t=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ty.apply(void 0,NS([[-1,-1]],RS(e),!1))},v0t=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ty.apply(void 0,NS([[-1,1]],RS(e),!1))},g0t=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ty.apply(void 0,NS([[1,-1]],RS(e),!1))},y0t=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},m0t=function(t,e,n,r,i){var a=y0t(t,1),o=a[0],s=Hc();return YQ(s,o)},_1=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},b0t=function(t,e,n,r,i){var a=_1(t,4),o=a[0],s=a[1],l=a[2],c=a[3],u=(s-0)/(2*Math.PI)+1,f=(c-l)/u,h=f/(Math.PI*2),d=new xe({range:[l,l+f*.99]}),p=new xe({range:[o,s]}),v=i/r,g=v>1?1:v,y=v>1?1/v:1;return{transform:function(m){var b=_1(m,2),x=b[0],_=b[1],w=p.map(x),S=d.map(_),O=Math.cos(w)*(h*w+S)*g,M=Math.sin(w)*(h*w+S)*y,T=O*.5+.5,A=M*.5+.5;return[T,A]},untransform:function(m){var b=_1(m,2),x=b[0],_=b[1],w=(x-.5)*2/g,S=(_-.5)*2/y,O=Math.sqrt(Math.pow(w,2)+Math.pow(S,2)),M=Math.atan2(S,w)+Math.floor(O/f)*Math.PI*2,T=Ij(M,o,s),A=O-h*T,P=p.invert(T),E=d.invert(A);return[P,E]}}},x0t=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},_0t=function(t,e,n,r,i){var a=x0t(t,4),o=a[0],s=a[1],l=a[2],c=a[3],u=new xe({range:[l,c]});return{transform:function(f){for(var h=[],d=f.length,p=new gN({domain:new Array(d).fill(0).map(function(b,x){return x}),range:[o,s]}),v=0;v<d;v++){var g=f[v],y=p.map(v),m=u.map(g);h.push(y,m)}return h},untransform:function(f){for(var h=[],d=0;d<f.length;d+=2){var p=f[d+1];h.push(u.invert(p))}return h}}},rc=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a};function Rj(t){return 1/Math.tan(t)}var w0t=function(t,e,n,r,i){var a=rc(t,1),o=a[0],s=Rj(o);return{transform:function(l){var c=rc(l,2),u=c[0],f=c[1],h=u+f*s;return[h,f]},untransform:function(l){var c=rc(l,2),u=c[0],f=c[1],h=u-f*s;return[h,f]}}},S0t=function(t,e,n,r,i){var a=rc(t,1),o=a[0],s=Rj(o);return{transform:function(l){var c=rc(l,2),u=c[0],f=c[1],h=f+u*s;return[u,h]},untransform:function(l){var c=rc(l,2),u=c[0],f=c[1],h=f-u*s;return[u,h]}}},Jr=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a};function wh(t,e,n,r,i){var a=t<e,o=(a?e-r:i-e)||i-r,s=a?-1:1;return s*o*(n+1)/(n+o/((t-e)*s))+e}function Sh(t,e,n,r,i){var a=t<e,o=(a?e-r:i-e)||i-r,s=a?-1:1;return o/(o*(n+1)/(t-e)-n*s)+e}function _g(t,e,n){if(!n)return t;var r=new xe({range:[0,1],domain:[0,e]});return r.map(t)}var O0t=function(t,e,n,r,i){var a=Jr(t,3),o=a[0],s=a[1],l=a[2],c=l===void 0?!1:l,u=_g(o,r,c);return{transform:function(f){var h=Jr(f,2),d=h[0],p=h[1],v=wh(d,u,s,0,1);return[v,p]},untransform:function(f){var h=Jr(f,2),d=h[0],p=h[1],v=Sh(d,u,s,0,1);return[v,p]}}},M0t=function(t,e,n,r,i){var a=Jr(t,3),o=a[0],s=a[1],l=a[2],c=l===void 0?!1:l,u=_g(o,i,c);return{transform:function(f){var h=Jr(f,2),d=h[0],p=h[1],v=wh(p,u,s,0,1);return[d,v]},untransform:function(f){var h=Jr(f,2),d=h[0],p=h[1],v=Sh(p,u,s,0,1);return[d,v]}}},T0t=function(t,e,n,r,i){var a=Jr(t,5),o=a[0],s=a[1],l=a[2],c=a[3],u=a[4],f=u===void 0?!1:u,h=_g(o,r,f),d=_g(s,i,f);return{transform:function(p){var v=Jr(p,2),g=v[0],y=v[1],m=wh(g,h,l,0,1),b=wh(y,d,c,0,1);return[m,b]},untransform:function(p){var v=Jr(p,2),g=v[0],y=v[1],m=Sh(g,h,l,0,1),b=Sh(y,d,c,0,1);return[m,b]}}},A0t=function(t,e,n,r,i){var a=Jr(t,5),o=a[0],s=a[1],l=a[2],c=a[3],u=a[4],f=u===void 0?!1:u,h=new xe({range:[0,r]}),d=new xe({range:[0,i]}),p=f?o:h.map(o),v=f?s:d.map(s);return{transform:function(g){var y=Jr(g,2),m=y[0],b=y[1],x=h.map(m)-p,_=d.map(b)-v,w=Math.sqrt(x*x+_*_);if(w>l)return[m,b];var S=wh(w,0,c,0,l),O=Math.atan2(_,x),M=p+S*Math.cos(O),T=v+S*Math.sin(O);return[h.invert(M),d.invert(T)]},untransform:function(g){var y=Jr(g,2),m=y[0],b=y[1],x=h.map(m)-p,_=d.map(b)-v,w=Math.sqrt(x*x+_*_);if(w>l)return[m,b];var S=Sh(w,0,c,0,l),O=Math.atan2(_,x),M=p+S*Math.cos(O),T=v+S*Math.sin(O);return[h.invert(M),d.invert(T)]}}},Dk=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},E0t=function(t,e,n,r,i,a,o){var s=new xe({range:[e,e+i]}),l=new xe({range:[n,n+a]}),c=new xe({range:[r,r+o]});return{transform:function(u){var f=Dk(u,3),h=f[0],d=f[1],p=f[2];return[s.map(h),l.map(d),c.map(p)]},untransform:function(u){var f=Dk(u,3),h=f[0],d=f[1],p=f[2];return[s.invert(h),l.invert(d),c.invert(p)]}}},P0t=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},C0t=function(t,e,n,r,i,a,o){var s=P0t(t,3),l=s[0],c=s[1],u=s[2];return Ka(Qt(),[l,c,u])},Ik=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},k0t=function(t,e,n,r,i,a,o){return{transform:function(s){var l=Ik(s,3),c=l[0],u=l[1],f=l[2];return[u,c,f]},untransform:function(s){var l=Ik(s,3),c=l[0],u=l[1],f=l[2];return[u,c,f]}}},L0t=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},D0t=function(t,e,n,r,i,a,o){var s=L0t(t,3),l=s[0],c=s[1],u=s[2];return Qa(Qt(),[l,c,u])},Sl=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Ol=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},I0t=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},R0t=function(){function t(e){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:o0t,translate:a0t,custom:l0t,matrix:u0t,polar:f0t,transpose:h0t,scale:ty,"shear.x":w0t,"shear.y":S0t,reflect:p0t,"reflect.x":v0t,"reflect.y":g0t,rotate:m0t,helix:b0t,parallel:_0t,fisheye:T0t,"fisheye.x":O0t,"fisheye.y":M0t,"fisheye.circular":A0t},this.update(e)}return t.prototype.update=function(e){this.options=Pj({},this.options,e),this.recoordinate()},t.prototype.clone=function(){return new t(this.options)},t.prototype.getOptions=function(){return this.options},t.prototype.clear=function(){this.update({transformations:[]})},t.prototype.getSize=function(){var e=this.options,n=e.width,r=e.height;return[n,r]},t.prototype.getCenter=function(){var e=this.options,n=e.x,r=e.y,i=e.width,a=e.height;return[(n*2+i)/2,(r*2+a)/2]},t.prototype.transform=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:Ol(Ol([],Sl(r),!1),[Ol([],Sl(e),!1)],!1)}),this},t.prototype.map=function(e){return this.output(e)},t.prototype.invert=function(e){return this.input(e)},t.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},t.prototype.compose=function(e){var n,r;e===void 0&&(e=!1);var i=e?Ol([],Sl(this.options.transformations),!1).reverse():this.options.transformations,a=e?function(S){return S.untransform}:function(S){return S.transform},o=[],s=[],l=function(S,O){return O===void 0&&(O=!0),s.push(O?n0t(S):S)};try{for(var c=I0t(i),u=c.next();!u.done;u=c.next()){var f=Sl(u.value),h=f[0],d=f.slice(1),p=this.transformers[h];if(p){var v=this.options,g=v.x,y=v.y,m=v.width,b=v.height,x=p(Ol([],Sl(d),!1),g,y,m,b);if(kj(x))o.push(x);else{if(o.length){var _=this.createMatrixTransform(o,e);l(_),o.splice(0,o.length)}var w=a(x)||IS;l(w,h!=="parallel")}}}}catch(S){n={error:S}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(o.length){var w=this.createMatrixTransform(o,e);l(w)}return Cj.apply(void 0,Ol([],Sl(s),!1))},t.prototype.createMatrixTransform=function(e,n){var r=Hc();return n&&e.reverse(),e.forEach(function(i){return XQ(r,r,i)}),n&&GQ(r,zQ(r)),function(i){var a=[i[0],i[1],1];return p3(a,a,r),[a[0],a[1]]}},t}(),Ml=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Tl=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},N0t=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B0t=function(){function t(e){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:E0t,translate3D:C0t,scale3D:D0t,transpose3D:k0t},this.update(e)}return t.prototype.update=function(e){this.options=Pj({},this.options,e),this.recoordinate()},t.prototype.clone=function(){return new t(this.options)},t.prototype.getOptions=function(){return this.options},t.prototype.clear=function(){this.update({transformations:[]})},t.prototype.getSize=function(){var e=this.options,n=e.width,r=e.height,i=e.depth;return[n,r,i]},t.prototype.getCenter=function(){var e=this.options,n=e.x,r=e.y,i=e.z,a=e.width,o=e.height,s=e.depth;return[(n*2+a)/2,(r*2+o)/2,(i*2+s)/2]},t.prototype.transform=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:Tl(Tl([],Ml(r),!1),[Tl([],Ml(e),!1)],!1)}),this},t.prototype.map=function(e){return this.output(e)},t.prototype.invert=function(e){return this.input(e)},t.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},t.prototype.compose=function(e){var n,r;e===void 0&&(e=!1);var i=e?Tl([],Ml(this.options.transformations),!1).reverse():this.options.transformations,a=e?function(M){return M.untransform}:function(M){return M.transform},o=[],s=[],l=function(M,T){return T===void 0&&(T=!0),s.push(T?r0t(M):M)};try{for(var c=N0t(i),u=c.next();!u.done;u=c.next()){var f=Ml(u.value),h=f[0],d=f.slice(1),p=this.transformers[h];if(p){var v=this.options,g=v.x,y=v.y,m=v.z,b=v.width,x=v.height,_=v.depth,w=p(Tl([],Ml(d),!1),g,y,m,b,x,_);if(kj(w))o.push(w);else{if(o.length){var S=this.createMatrixTransform(o,e);l(S),o.splice(0,o.length)}var O=a(w)||IS;l(O,!0)}}}}catch(M){n={error:M}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(o.length){var O=this.createMatrixTransform(o,e);l(O)}return Cj.apply(void 0,Tl([],Ml(s),!1))},t.prototype.createMatrixTransform=function(e,n){var r=Qt();return n&&e.reverse(),e.forEach(function(i){return nw(r,r,i)}),n&&yi(r,tw(r)),function(i){var a=[i[0],i[1],i[2],1];return jl(a,a,r),[a[0],a[1],a[2]]}},t}(),F0t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function id(t){return(e,...n)=>U({},t(e,...n),e)}function il(t){return(e,...n)=>U({},e,t(e,...n))}function j0t(t){return t instanceof Date?!1:typeof t=="object"}function BS(t,e){if(!t)return e;if(Array.isArray(t))return t;if(j0t(t)){const{value:n=e}=t,r=F0t(t,["value"]);return Object.assign(Object.assign({},r),{value:n})}return t}var z0t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Nj=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{x:n=0,y:r=0,width:i,height:a,data:o}=t;return e.map(s=>{var{data:l,x:c,y:u,width:f,height:h}=s,d=z0t(s,["data","x","y","width","height"]);return Object.assign(Object.assign({},d),{data:BS(l,o),x:c??n,y:u??r,width:f??i,height:h??a})})};Nj.props={};var $0t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Bj=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{direction:n="row",ratio:r=e.map(()=>1),padding:i=0,data:a}=t,[o,s,l,c]=n==="col"?["y","height","width","x"]:["x","width","height","y"],u=r.reduce((v,g)=>v+g),f=t[s]-i*(e.length-1),h=r.map(v=>f*(v/u)),d=[];let p=t[o]||0;for(let v=0;v<h.length;v+=1){const g=e[v],{data:y}=g,m=$0t(g,["data"]),b=BS(y,a);d.push(Object.assign({[o]:p,[s]:h[v],[c]:t[c]||0,[l]:t[l],data:b},m)),p+=h[v]+i}return d};Bj.props={};var w1=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Fj=()=>t=>{const{children:e}=t,n=w1(t,["children"]);if(!Array.isArray(e))return[];const{data:r,scale:i={},axis:a={},legend:o={},encode:s={},transform:l=[]}=n,c=w1(n,["data","scale","axis","legend","encode","transform"]),u=e.map(f=>{var{data:h,scale:d={},axis:p={},legend:v={},encode:g={},transform:y=[]}=f,m=w1(f,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:BS(h,r),scale:U({},i,d),encode:U({},s,g),transform:[...l,...y],axis:p&&a?U({},a,p):!1,legend:v&&o?U({},o,v):!1},m)});return[Object.assign(Object.assign({},c),{marks:u,type:"standardView"})]};Fj.props={};var G0t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const jj=({static:t=!1}={})=>e=>{const{width:n,height:r,depth:i,paddingLeft:a,paddingRight:o,paddingTop:s,paddingBottom:l,padding:c,inset:u,insetLeft:f,insetTop:h,insetRight:d,insetBottom:p,margin:v,marginLeft:g,marginBottom:y,marginTop:m,marginRight:b,data:x,coordinate:_,theme:w,component:S,interaction:O,x:M,y:T,z:A,key:P,frame:E,labelTransform:C,parentKey:k,clip:L,viewStyle:R,title:D}=e,I=G0t(e,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:M,y:T,z:A,key:P,width:n,height:r,depth:i,padding:c,paddingLeft:a,paddingRight:o,paddingTop:s,inset:u,insetLeft:f,insetTop:h,insetRight:d,insetBottom:p,paddingBottom:l,theme:w,coordinate:_,component:S,interaction:O,frame:E,labelTransform:C,margin:v,marginLeft:g,marginBottom:y,marginTop:m,marginRight:b,parentKey:k,clip:L,style:R},!t&&{title:D}),{marks:[Object.assign(Object.assign(Object.assign({},I),{key:`${P}-0`,data:x}),t&&{title:D})]})]};jj.props={};class ad{constructor(e){this.$value=e}static of(e){return new ad(e)}call(e,...n){return this.$value=e(this.$value,...n),this}value(){return this.$value}}var W0t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const H0t=id(t=>{const{encode:e,data:n,scale:r,shareSize:i=!1}=t,{x:a,y:o}=e,s=(l,c)=>{var u;if(l===void 0||!i)return{};const f=Pe(n,p=>p[l]),h=((u=r==null?void 0:r[c])===null||u===void 0?void 0:u.domain)||Array.from(f.keys()),d=h.map(p=>f.has(p)?f.get(p).length:1);return{domain:h,flex:d}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:a===void 0?null:{position:"top"}},a===void 0&&{paddingInner:0}),s(a,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:o===void 0?null:{position:"right"}},o===void 0&&{paddingInner:0}),s(o,"y"))}}}),FS=il(t=>{const{data:e,scale:n,legend:r}=t,i=[t];let a,o,s;for(;i.length;){const h=i.shift(),{children:d,encode:p={},scale:v={},legend:g={}}=h,{color:y}=p,{color:m}=v,{color:b}=g;y!==void 0&&(a=y),m!==void 0&&(o=m),b!==void 0&&(s=b),Array.isArray(d)&&i.push(...d)}const l=()=>{var h;const d=(h=n==null?void 0:n.color)===null||h===void 0?void 0:h.domain;if(d!==void 0)return[d];if(a===void 0)return[void 0];const p=typeof a=="function"?a:g=>g[a],v=e.map(p);return v.some(g=>typeof g=="number")?[wa(v)]:[Array.from(new Set(v)),"ordinal"]},c=typeof a=="string"?a:"",[u,f]=l();return Object.assign({encode:{color:{type:"column",value:u??[]}},scale:{color:U({},o,{domain:u,type:f})}},r===void 0&&{legend:{color:U({title:c},s)}})}),jS=id(()=>({animate:{enterType:"fadeIn"}})),zS=il(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),$S=il(()=>({type:"cell"})),zj=il(t=>{const{data:e}=t;return{data:{type:"inline",value:e,transform:[{type:"custom",callback:()=>{const{data:r,encode:i}=t,{x:a,y:o}=i,s=a?Array.from(new Set(r.map(u=>u[a]))):[],l=o?Array.from(new Set(r.map(u=>u[o]))):[];return(()=>{if(s.length&&l.length){const u=[];for(const f of s)for(const h of l)u.push({[a]:f,[o]:h});return u}if(s.length)return s.map(u=>({[a]:u}));if(l.length)return l.map(u=>({[o]:u}))})()}}]}}}),$j=il((t,e=Y0t,n=V0t,r=X0t,i={})=>{const{data:a,encode:o,children:s,scale:l,x:c=0,y:u=0,shareData:f=!1,key:h}=t,{value:d}=a,{x:p,y:v}=o,{color:g}=l,{domain:y}=g;return{children:(b,x,_)=>{const{x:w,y:S}=x,{paddingLeft:O,paddingTop:M,marginLeft:T,marginTop:A}=_,{domain:P}=w.getOptions(),{domain:E}=S.getOptions(),C=Zs(b),k=b.map(e),L=b.map(({x:j,y:z})=>[w.invert(j),S.invert(z)]),D=L.map(([j,z])=>G=>{const{[p]:V,[v]:Q}=G;return(p!==void 0?V===j:!0)&&(v!==void 0?Q===z:!0)}).map(j=>d.filter(j)),I=f?Jt(D,j=>j.length):void 0,N=L.map(([j,z])=>({columnField:p,columnIndex:P.indexOf(j),columnValue:j,columnValuesLength:P.length,rowField:v,rowIndex:E.indexOf(z),rowValue:z,rowValuesLength:E.length})),F=N.map(j=>Array.isArray(s)?s:[s(j)].flat(1));return C.flatMap(j=>{const[z,G,V,Q]=k[j],Y=N[j],H=D[j];return F[j].map(Z=>{var W,K,{scale:ot,key:at,facet:ft=!0,axis:Tt={},legend:dt={}}=Z,mt=W0t(Z,["scale","key","facet","axis","legend"]);const Gt=((W=ot==null?void 0:ot.y)===null||W===void 0?void 0:W.guide)||Tt.y,Oe=((K=ot==null?void 0:ot.x)===null||K===void 0?void 0:K.guide)||Tt.x,Ve={x:{tickCount:p?5:void 0},y:{tickCount:v?5:void 0}},Me=ft?H:H.length===0?[]:d,dn={color:{domain:y}},Be={x:Rk(Oe,n)(Y,Me),y:Rk(Gt,r)(Y,Me)};return Object.assign(Object.assign({key:`${at}-${j}`,data:Me,margin:0,x:z+O+c+T,y:G+M+u+A,parentKey:h,width:V,height:Q,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!Me.length,dataDomain:I,scale:U(Ve,ot,dn),axis:U({},Tt,Be),legend:!1},mt),i)})})}}});function Y0t(t){const{points:e}=t;return xw(e)}function ey(t,e){return e.length?U({title:!1,tick:null,label:null},t):U({title:!1,tick:null,label:null,grid:null},t)}function V0t(t){return(e,n)=>{const{rowIndex:r,rowValuesLength:i,columnIndex:a,columnValuesLength:o}=e;if(r!==i-1)return ey(t,n);const s=a!==o-1?!1:void 0,l=n.length?void 0:null;return U({title:s,grid:l},t)}}function X0t(t){return(e,n)=>{const{rowIndex:r,columnIndex:i}=e;if(i!==0)return ey(t,n);const a=r!==0?!1:void 0,o=n.length?void 0:null;return U({title:a,grid:o},t)}}function Rk(t,e){return typeof t=="function"?t:t===null||t===!1?()=>null:e(t)}const Gj=()=>t=>[ad.of(t).call($S).call(FS).call(jS).call(H0t).call(zS).call(zj).call($j).value()];Gj.props={};var Jx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const U0t=id(t=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),q0t=il(t=>{const{data:e,children:n,x:r=0,y:i=0,key:a}=t;return{children:(s,l,c)=>{const{x:u,y:f}=l,{paddingLeft:h,paddingTop:d,marginLeft:p,marginTop:v}=c,{domain:g}=u.getOptions(),{domain:y}=f.getOptions(),m=Zs(s),b=s.map(({points:S})=>xw(S)),x=s.map(({x:S,y:O})=>[u.invert(S),f.invert(O)]),_=x.map(([S,O])=>({columnField:S,columnIndex:g.indexOf(S),columnValue:S,columnValuesLength:g.length,rowField:O,rowIndex:y.indexOf(O),rowValue:O,rowValuesLength:y.length})),w=_.map(S=>Array.isArray(n)?n:[n(S)].flat(1));return m.flatMap(S=>{const[O,M,T,A]=b[S],[P,E]=x[S],C=_[S];return w[S].map(L=>{var R,D;const{scale:I,key:N,encode:F,axis:j,interaction:z}=L,G=Jx(L,["scale","key","encode","axis","interaction"]),V=(R=I==null?void 0:I.y)===null||R===void 0?void 0:R.guide,Q=(D=I==null?void 0:I.x)===null||D===void 0?void 0:D.guide,Y={x:{facet:!1},y:{facet:!1}},H={x:K0t(Q)(C,e),y:Q0t(V)(C,e)},tt={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:e,parentKey:a,key:`${N}-${S}`,x:O+h+r+p,y:M+d+i+v,width:T,height:A,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:U(Y,I),axis:U(tt,j,H),legend:!1,encode:U({},F,{x:P,y:E}),interaction:U({},z,{legendFilter:!1})},G)})})}}}),Z0t=il(t=>{const{encode:e}=t,n=Jx(t,["encode"]),{position:r=[],x:i=r,y:a=[...r].reverse()}=e,o=Jx(e,["position","x","y"]),s=[];for(const l of[i].flat(1))for(const c of[a].flat(1))s.push({$x:l,$y:c});return Object.assign(Object.assign({},n),{data:s,encode:Object.assign(Object.assign({},o),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[i].flat(1).length===1&&{x:{paddingInner:0}}),[a].flat(1).length===1&&{y:{paddingInner:0}})})});function K0t(t){return typeof t=="function"?t:t===null?()=>null:(e,n)=>{const{rowIndex:r,rowValuesLength:i}=e;if(r!==i-1)return ey(t,n)}}function Q0t(t){return typeof t=="function"?t:t===null?()=>null:(e,n)=>{const{columnIndex:r}=e;if(r!==0)return ey(t,n)}}const J0t=()=>t=>[ad.of(t).call($S).call(FS).call(q0t).call(Z0t).call(jS).call(zS).call(U0t).value()];var tyt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const eyt=id(t=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),nyt=id(t=>({coordinate:{type:"polar"}})),ryt=t=>{const{encode:e}=t,n=tyt(t,["encode"]),{position:r}=e;return Object.assign(Object.assign({},n),{encode:{x:r}})};function Nk(t){return e=>null}function iyt(t){const{points:e}=t,[n,r,i,a]=e,o=Ne(n,a),s=$e(n,a),l=$e(r,i),c=VN(s,l),u=1/Math.sin(c/2),f=o/(1+u),h=f*Math.sqrt(2),[d,p]=i,g=_c(s)+c/2,y=f*u,m=d+y*Math.sin(g),b=p-y*Math.cos(g);return[m-h/2,b-h/2,h,h]}const ayt=()=>t=>[ad.of(t).call($S).call(ryt).call(FS).call(nyt).call(zj).call($j,iyt,Nk,Nk,{frame:!1}).call(jS).call(zS).call(eyt).value()];function oyt(t,e,n){const i=n,a=[0,i],o=[-i+1,1];if(t==="normal")return a;if(t==="reverse")return o;if(t==="alternate")return e%2===0?a:o;if(t==="reverse-alternate")return e%2===0?o:a}function syt(t,e,n){const r=[t];for(;r.length;){const i=r.pop();i.animate=U({enter:{duration:e},update:{duration:e,easing:n,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:e}},i.animate||{});const{children:a}=i;Array.isArray(a)&&r.push(...a)}return t}const Wj=()=>t=>{const{children:e=[],duration:n=1e3,iterationCount:r=1,direction:i="normal",easing:a="ease-in-out-sine"}=t,o=e.length;if(!Array.isArray(e)||o===0)return[];const{key:s}=e[0],l=e.map(c=>Object.assign(Object.assign({},c),{key:s})).map(c=>syt(c,n,a));return function*(){let c=0,u;for(;r==="infinite"||c<r;){const[f,h]=oyt(i,c,o);for(let d=f;d<h;d+=1){const p=Math.abs(d);u!==p&&(yield l[p]),u=p}c++}}};Wj.props={};var lyt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Hj=()=>t=>{const{type:e,data:n,scale:r,encode:i,style:a,animate:o,key:s,state:l}=t,c=lyt(t,["type","data","scale","encode","style","animate","key","state"]);return[Object.assign(Object.assign({type:"geoView"},c),{children:[{type:"geoPath",key:`${s}-0`,data:{value:n},scale:r,encode:i,style:a,animate:o,state:l}]})]};Hj.props={};var wt=1e-6,Yj=1e-12,Wt=Math.PI,Ke=Wt/2,Bk=Wt/4,Pr=Wt*2,Dn=180/Wt,je=Wt/180,qt=Math.abs,Jc=Math.atan,Ia=Math.atan2,Ft=Math.cos,kp=Math.ceil,Vj=Math.exp,wg=Math.log,S1=Math.pow,Lt=Math.sin,qr=Math.sign||function(t){return t>0?1:t<0?-1:0},br=Math.sqrt,GS=Math.tan;function Xj(t){return t>1?0:t<-1?Wt:Math.acos(t)}function ni(t){return t>1?Ke:t<-1?-Ke:Math.asin(t)}function Zr(){}function Sg(t,e){t&&jk.hasOwnProperty(t.type)&&jk[t.type](t,e)}var Fk={Feature:function(t,e){Sg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Sg(n[r].geometry,e)}},jk={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){t_(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t_(n[r],e,0)},Polygon:function(t,e){zk(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)zk(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Sg(n[r],e)}};function t_(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function zk(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)t_(t[n],e,1);e.polygonEnd()}function Dl(t,e){t&&Fk.hasOwnProperty(t.type)?Fk[t.type](t,e):Sg(t,e)}function e_(t){return[Ia(t[1],t[0]),ni(t[2])]}function Dc(t){var e=t[0],n=t[1],r=Ft(n);return[r*Ft(e),r*Lt(e),Lt(n)]}function Lp(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Og(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function O1(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Dp(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function n_(t){var e=br(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function r_(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function i_(t,e){return qt(t)>Wt&&(t-=Math.round(t/Pr)*Pr),[t,e]}i_.invert=i_;function Uj(t,e,n){return(t%=Pr)?e||n?r_(Gk(t),Wk(e,n)):Gk(t):e||n?Wk(e,n):i_}function $k(t){return function(e,n){return e+=t,qt(e)>Wt&&(e-=Math.round(e/Pr)*Pr),[e,n]}}function Gk(t){var e=$k(t);return e.invert=$k(-t),e}function Wk(t,e){var n=Ft(t),r=Lt(t),i=Ft(e),a=Lt(e);function o(s,l){var c=Ft(l),u=Ft(s)*c,f=Lt(s)*c,h=Lt(l),d=h*n+u*r;return[Ia(f*i-d*a,u*n-h*r),ni(d*i+f*a)]}return o.invert=function(s,l){var c=Ft(l),u=Ft(s)*c,f=Lt(s)*c,h=Lt(l),d=h*i-f*a;return[Ia(f*i+h*a,u*n+d*r),ni(d*n-u*r)]},o}function cyt(t){t=Uj(t[0]*je,t[1]*je,t.length>2?t[2]*je:0);function e(n){return n=t(n[0]*je,n[1]*je),n[0]*=Dn,n[1]*=Dn,n}return e.invert=function(n){return n=t.invert(n[0]*je,n[1]*je),n[0]*=Dn,n[1]*=Dn,n},e}function uyt(t,e,n,r,i,a){if(n){var o=Ft(e),s=Lt(e),l=r*n;i==null?(i=e+r*Pr,a=e-l/2):(i=Hk(o,i),a=Hk(o,a),(r>0?i<a:i>a)&&(i+=r*Pr));for(var c,u=i;r>0?u>a:u<a;u-=l)c=e_([o,-s*Ft(u),-s*Lt(u)]),t.point(c[0],c[1])}}function Hk(t,e){e=Dc(e),e[0]-=t,n_(e);var n=Xj(-e[1]);return((-e[2]<0?-n:n)+Pr-wt)%Pr}function qj(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Zr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function hv(t,e){return qt(t[0]-e[0])<wt&&qt(t[1]-e[1])<wt}function Ip(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Zj(t,e,n,r,i){var a=[],o=[],s,l;if(t.forEach(function(p){if(!((v=p.length-1)<=0)){var v,g=p[0],y=p[v],m;if(hv(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),s=0;s<v;++s)i.point((g=p[s])[0],g[1]);i.lineEnd();return}y[0]+=2*wt}a.push(m=new Ip(g,p,null,!0)),o.push(m.o=new Ip(g,null,m,!1)),a.push(m=new Ip(y,p,null,!1)),o.push(m.o=new Ip(y,null,m,!0))}}),!!a.length){for(o.sort(e),Yk(a),Yk(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var c=a[0],u,f;;){for(var h=c,d=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(s=0,l=u.length;s<l;++s)i.point((f=u[s])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,s=u.length-1;s>=0;--s)i.point((f=u[s])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,d=!d}while(!h.v);i.lineEnd()}}}function Yk(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function M1(t){return qt(t[0])<=Wt?t[0]:qr(t[0])*((qt(t[0])+Wt)%Pr-Wt)}function fyt(t,e){var n=M1(e),r=e[1],i=Lt(r),a=[Lt(n),-Ft(n),0],o=0,s=0,l=new Is;i===1?r=Ke+wt:i===-1&&(r=-Ke-wt);for(var c=0,u=t.length;c<u;++c)if(h=(f=t[c]).length)for(var f,h,d=f[h-1],p=M1(d),v=d[1]/2+Bk,g=Lt(v),y=Ft(v),m=0;m<h;++m,p=x,g=w,y=S,d=b){var b=f[m],x=M1(b),_=b[1]/2+Bk,w=Lt(_),S=Ft(_),O=x-p,M=O>=0?1:-1,T=M*O,A=T>Wt,P=g*w;if(l.add(Ia(P*M*Lt(T),y*S+P*Ft(T))),o+=A?O+M*Pr:O,A^p>=n^x>=n){var E=Og(Dc(d),Dc(b));n_(E);var C=Og(a,E);n_(C);var k=(A^O>=0?-1:1)*ni(C[2]);(r>k||r===k&&(E[0]||E[1]))&&(s+=A^O>=0?1:-1)}}return(o<-wt||o<wt&&l<-Yj)^s&1}function Kj(t,e,n,r){return function(i){var a=e(i),o=qj(),s=e(o),l=!1,c,u,f,h={point:d,lineStart:v,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=b,u=[],c=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=g,u=A3(u);var x=fyt(c,r);u.length?(l||(i.polygonStart(),l=!0),Zj(u,dyt,x,n,i)):x&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(x,_){t(x,_)&&i.point(x,_)}function p(x,_){a.point(x,_)}function v(){h.point=p,a.lineStart()}function g(){h.point=d,a.lineEnd()}function y(x,_){f.push([x,_]),s.point(x,_)}function m(){s.lineStart(),f=[]}function b(){y(f[0][0],f[0][1]),s.lineEnd();var x=s.clean(),_=o.result(),w,S=_.length,O,M,T;if(f.pop(),c.push(f),f=null,!!S){if(x&1){if(M=_[0],(O=M.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),w=0;w<O;++w)i.point((T=M[w])[0],T[1]);i.lineEnd()}return}S>1&&x&2&&_.push(_.pop().concat(_.shift())),u.push(_.filter(hyt))}}return h}}function hyt(t){return t.length>1}function dyt(t,e){return((t=t.x)[0]<0?t[1]-Ke-wt:Ke-t[1])-((e=e.x)[0]<0?e[1]-Ke-wt:Ke-e[1])}const Vk=Kj(function(){return!0},pyt,gyt,[-Wt,-Ke]);function pyt(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?Wt:-Wt,l=qt(a-e);qt(l-Wt)<wt?(t.point(e,n=(n+o)/2>0?Ke:-Ke),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&l>=Wt&&(qt(e-r)<wt&&(e-=r*wt),qt(a-s)<wt&&(a-=s*wt),n=vyt(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function vyt(t,e,n,r){var i,a,o=Lt(t-n);return qt(o)>wt?Jc((Lt(e)*(a=Ft(r))*Lt(n)-Lt(r)*(i=Ft(e))*Lt(t))/(i*a*o)):(e+r)/2}function gyt(t,e,n,r){var i;if(t==null)i=n*Ke,r.point(-Wt,i),r.point(0,i),r.point(Wt,i),r.point(Wt,0),r.point(Wt,-i),r.point(0,-i),r.point(-Wt,-i),r.point(-Wt,0),r.point(-Wt,i);else if(qt(t[0]-e[0])>wt){var a=t[0]<e[0]?Wt:-Wt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function yyt(t){var e=Ft(t),n=2*je,r=e>0,i=qt(e)>wt;function a(u,f,h,d){uyt(d,t,n,h,u,f)}function o(u,f){return Ft(u)*Ft(f)>e}function s(u){var f,h,d,p,v;return{lineStart:function(){p=d=!1,v=1},point:function(g,y){var m=[g,y],b,x=o(g,y),_=r?x?0:c(g,y):x?c(g+(g<0?Wt:-Wt),y):0;if(!f&&(p=d=x)&&u.lineStart(),x!==d&&(b=l(f,m),(!b||hv(f,b)||hv(m,b))&&(m[2]=1)),x!==d)v=0,x?(u.lineStart(),b=l(m,f),u.point(b[0],b[1])):(b=l(f,m),u.point(b[0],b[1],2),u.lineEnd()),f=b;else if(i&&f&&r^x){var w;!(_&h)&&(w=l(m,f,!0))&&(v=0,r?(u.lineStart(),u.point(w[0][0],w[0][1]),u.point(w[1][0],w[1][1]),u.lineEnd()):(u.point(w[1][0],w[1][1]),u.lineEnd(),u.lineStart(),u.point(w[0][0],w[0][1],3)))}x&&(!f||!hv(f,m))&&u.point(m[0],m[1]),f=m,d=x,h=_},lineEnd:function(){d&&u.lineEnd(),f=null},clean:function(){return v|(p&&d)<<1}}}function l(u,f,h){var d=Dc(u),p=Dc(f),v=[1,0,0],g=Og(d,p),y=Lp(g,g),m=g[0],b=y-m*m;if(!b)return!h&&u;var x=e*y/b,_=-e*m/b,w=Og(v,g),S=Dp(v,x),O=Dp(g,_);O1(S,O);var M=w,T=Lp(S,M),A=Lp(M,M),P=T*T-A*(Lp(S,S)-1);if(!(P<0)){var E=br(P),C=Dp(M,(-T-E)/A);if(O1(C,S),C=e_(C),!h)return C;var k=u[0],L=f[0],R=u[1],D=f[1],I;L<k&&(I=k,k=L,L=I);var N=L-k,F=qt(N-Wt)<wt,j=F||N<wt;if(!F&&D<R&&(I=R,R=D,D=I),j?F?R+D>0^C[1]<(qt(C[0]-k)<wt?R:D):R<=C[1]&&C[1]<=D:N>Wt^(k<=C[0]&&C[0]<=L)){var z=Dp(M,(-T+E)/A);return O1(z,S),[C,e_(z)]}}}function c(u,f){var h=r?t:Wt-t,d=0;return u<-h?d|=1:u>h&&(d|=2),f<-h?d|=4:f>h&&(d|=8),d}return Kj(o,s,a,r?[0,-t]:[-Wt,t-Wt])}function myt(t,e,n,r,i,a){var o=t[0],s=t[1],l=e[0],c=e[1],u=0,f=1,h=l-o,d=c-s,p;if(p=n-o,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>u&&(u=p)}if(p=i-o,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<f&&(f=p)}if(p=r-s,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>u&&(u=p)}if(p=a-s,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<f&&(f=p)}return u>0&&(t[0]=o+u*h,t[1]=s+u*d),f<1&&(e[0]=o+f*h,e[1]=s+f*d),!0}}}}}var Qu=1e9,Rp=-Qu;function Qj(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,f,h){var d=0,p=0;if(c==null||(d=o(c,f))!==(p=o(u,f))||l(c,u)<0^f>0)do h.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+f+4)%4)!==p);else h.point(u[0],u[1])}function o(c,u){return qt(c[0]-t)<wt?u>0?0:3:qt(c[0]-n)<wt?u>0?2:1:qt(c[1]-e)<wt?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var f=o(c,1),h=o(u,1);return f!==h?f-h:f===0?u[1]-c[1]:f===1?c[0]-u[0]:f===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,f=qj(),h,d,p,v,g,y,m,b,x,_,w,S={point:O,lineStart:P,lineEnd:E,polygonStart:T,polygonEnd:A};function O(k,L){i(k,L)&&u.point(k,L)}function M(){for(var k=0,L=0,R=d.length;L<R;++L)for(var D=d[L],I=1,N=D.length,F=D[0],j,z,G=F[0],V=F[1];I<N;++I)j=G,z=V,F=D[I],G=F[0],V=F[1],z<=r?V>r&&(G-j)*(r-z)>(V-z)*(t-j)&&++k:V<=r&&(G-j)*(r-z)<(V-z)*(t-j)&&--k;return k}function T(){u=f,h=[],d=[],w=!0}function A(){var k=M(),L=w&&k,R=(h=A3(h)).length;(L||R)&&(c.polygonStart(),L&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),R&&Zj(h,s,k,a,c),c.polygonEnd()),u=c,h=d=p=null}function P(){S.point=C,d&&d.push(p=[]),_=!0,x=!1,m=b=NaN}function E(){h&&(C(v,g),y&&x&&f.rejoin(),h.push(f.result())),S.point=O,x&&u.lineEnd()}function C(k,L){var R=i(k,L);if(d&&p.push([k,L]),_)v=k,g=L,y=R,_=!1,R&&(u.lineStart(),u.point(k,L));else if(R&&x)u.point(k,L);else{var D=[m=Math.max(Rp,Math.min(Qu,m)),b=Math.max(Rp,Math.min(Qu,b))],I=[k=Math.max(Rp,Math.min(Qu,k)),L=Math.max(Rp,Math.min(Qu,L))];myt(D,I,t,e,n,r)?(x||(u.lineStart(),u.point(D[0],D[1])),u.point(I[0],I[1]),R||u.lineEnd(),w=!1):R&&(u.lineStart(),u.point(k,L),w=!1)}m=k,b=L,x=R}return S}}function Xk(t,e,n){var r=zl(t,e-wt,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function Uk(t,e,n){var r=zl(t,e-wt,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function byt(){var t,e,n,r,i,a,o,s,l=10,c=l,u=90,f=360,h,d,p,v,g=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return zl(kp(r/u)*u,n,u).map(p).concat(zl(kp(s/f)*f,o,f).map(v)).concat(zl(kp(e/l)*l,t,l).filter(function(b){return qt(b%u)>wt}).map(h)).concat(zl(kp(a/c)*c,i,c).filter(function(b){return qt(b%f)>wt}).map(d))}return y.lines=function(){return m().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(v(o).slice(1),p(n).reverse().slice(1),v(s).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],s=+b[0][1],o=+b[1][1],r>n&&(b=r,r=n,n=b),s>o&&(b=s,s=o,o=b),y.precision(g)):[[r,s],[n,o]]},y.extentMinor=function(b){return arguments.length?(e=+b[0][0],t=+b[1][0],a=+b[0][1],i=+b[1][1],e>t&&(b=e,e=t,t=b),a>i&&(b=a,a=i,i=b),y.precision(g)):[[e,a],[t,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(u=+b[0],f=+b[1],y):[u,f]},y.stepMinor=function(b){return arguments.length?(l=+b[0],c=+b[1],y):[l,c]},y.precision=function(b){return arguments.length?(g=+b,h=Xk(a,i,90),d=Uk(e,t,g),p=Xk(s,o,90),v=Uk(r,n,g),y):g},y.extentMajor([[-180,-90+wt],[180,90-wt]]).extentMinor([[-180,-80-wt],[180,80+wt]])}function xyt(){return byt()()}const Oh=t=>t;var T1=new Is,a_=new Is,Jj,tz,o_,s_,ma={point:Zr,lineStart:Zr,lineEnd:Zr,polygonStart:function(){ma.lineStart=_yt,ma.lineEnd=Syt},polygonEnd:function(){ma.lineStart=ma.lineEnd=ma.point=Zr,T1.add(qt(a_)),a_=new Is},result:function(){var t=T1/2;return T1=new Is,t}};function _yt(){ma.point=wyt}function wyt(t,e){ma.point=ez,Jj=o_=t,tz=s_=e}function ez(t,e){a_.add(s_*t-o_*e),o_=t,s_=e}function Syt(){ez(Jj,tz)}var Ic=1/0,Mg=Ic,Mh=-Ic,Tg=Mh,Ag={point:Oyt,lineStart:Zr,lineEnd:Zr,polygonStart:Zr,polygonEnd:Zr,result:function(){var t=[[Ic,Mg],[Mh,Tg]];return Mh=Tg=-(Mg=Ic=1/0),t}};function Oyt(t,e){t<Ic&&(Ic=t),t>Mh&&(Mh=t),e<Mg&&(Mg=e),e>Tg&&(Tg=e)}var l_=0,c_=0,Ju=0,Eg=0,Pg=0,Hl=0,u_=0,f_=0,tf=0,nz,rz,Ni,Bi,Ur={point:Hs,lineStart:qk,lineEnd:Zk,polygonStart:function(){Ur.lineStart=Ayt,Ur.lineEnd=Eyt},polygonEnd:function(){Ur.point=Hs,Ur.lineStart=qk,Ur.lineEnd=Zk},result:function(){var t=tf?[u_/tf,f_/tf]:Hl?[Eg/Hl,Pg/Hl]:Ju?[l_/Ju,c_/Ju]:[NaN,NaN];return l_=c_=Ju=Eg=Pg=Hl=u_=f_=tf=0,t}};function Hs(t,e){l_+=t,c_+=e,++Ju}function qk(){Ur.point=Myt}function Myt(t,e){Ur.point=Tyt,Hs(Ni=t,Bi=e)}function Tyt(t,e){var n=t-Ni,r=e-Bi,i=br(n*n+r*r);Eg+=i*(Ni+t)/2,Pg+=i*(Bi+e)/2,Hl+=i,Hs(Ni=t,Bi=e)}function Zk(){Ur.point=Hs}function Ayt(){Ur.point=Pyt}function Eyt(){iz(nz,rz)}function Pyt(t,e){Ur.point=iz,Hs(nz=Ni=t,rz=Bi=e)}function iz(t,e){var n=t-Ni,r=e-Bi,i=br(n*n+r*r);Eg+=i*(Ni+t)/2,Pg+=i*(Bi+e)/2,Hl+=i,i=Bi*t-Ni*e,u_+=i*(Ni+t),f_+=i*(Bi+e),tf+=i*3,Hs(Ni=t,Bi=e)}function az(t){this._context=t}az.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Pr);break}}},result:Zr};var h_=new Is,A1,oz,sz,ef,nf,Th={point:Zr,lineStart:function(){Th.point=Cyt},lineEnd:function(){A1&&lz(oz,sz),Th.point=Zr},polygonStart:function(){A1=!0},polygonEnd:function(){A1=null},result:function(){var t=+h_;return h_=new Is,t}};function Cyt(t,e){Th.point=lz,oz=ef=t,sz=nf=e}function lz(t,e){ef-=t,nf-=e,h_.add(br(ef*ef+nf*nf)),ef=t,nf=e}let Kk,Cg,Qk,Jk;class tL{constructor(e){this._append=e==null?cz:kyt(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Qk||this._append!==Cg){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Qk=r,Cg=this._append,Jk=this._,this._=i}this._+=Jk;break}}}result(){const e=this._;return this._="",e.length?e:null}}function cz(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function kyt(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return cz;if(e!==Kk){const n=10**e;Kk=e,Cg=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Cg}function uz(t,e){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Dl(s,i(a))),a.result()}return o.area=function(s){return Dl(s,i(ma)),ma.result()},o.measure=function(s){return Dl(s,i(Th)),Th.result()},o.bounds=function(s){return Dl(s,i(Ag)),Ag.result()},o.centroid=function(s){return Dl(s,i(Ur)),Ur.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,Oh):(t=s).stream,o):t},o.context=function(s){return arguments.length?(a=s==null?(e=null,new tL(n)):new az(e=s),typeof r!="function"&&a.pointRadius(r),o):e},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return e===null&&(a=new tL(n)),o},o.projection(t).digits(n).context(e)}function ny(t){return function(e){var n=new d_;for(var r in t)n[r]=t[r];return n.stream=e,n}}function d_(){}d_.prototype={constructor:d_,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function WS(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Dl(n,t.stream(Ag)),e(Ag.result()),r!=null&&t.clipExtent(r),t}function ry(t,e,n){return WS(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,l])},n)}function HS(t,e,n){return ry(t,[[0,0],e],n)}function YS(t,e,n){return WS(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function VS(t,e,n){return WS(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var eL=16,Lyt=Ft(30*je);function nL(t,e){return+e?Iyt(t,e):Dyt(t)}function Dyt(t){return ny({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Iyt(t,e){function n(r,i,a,o,s,l,c,u,f,h,d,p,v,g){var y=c-r,m=u-i,b=y*y+m*m;if(b>4*e&&v--){var x=o+h,_=s+d,w=l+p,S=br(x*x+_*_+w*w),O=ni(w/=S),M=qt(qt(w)-1)<wt||qt(a-f)<wt?(a+f)/2:Ia(_,x),T=t(M,O),A=T[0],P=T[1],E=A-r,C=P-i,k=m*E-y*C;(k*k/b>e||qt((y*E+m*C)/b-.5)>.3||o*h+s*d+l*p<Lyt)&&(n(r,i,a,o,s,l,A,P,M,x/=S,_/=S,w,v,g),g.point(A,P),n(A,P,M,x,_,w,c,u,f,h,d,p,v,g))}}return function(r){var i,a,o,s,l,c,u,f,h,d,p,v,g={point:y,lineStart:m,lineEnd:x,polygonStart:function(){r.polygonStart(),g.lineStart=_},polygonEnd:function(){r.polygonEnd(),g.lineStart=m}};function y(O,M){O=t(O,M),r.point(O[0],O[1])}function m(){f=NaN,g.point=b,r.lineStart()}function b(O,M){var T=Dc([O,M]),A=t(O,M);n(f,h,u,d,p,v,f=A[0],h=A[1],u=O,d=T[0],p=T[1],v=T[2],eL,r),r.point(f,h)}function x(){g.point=y,r.lineEnd()}function _(){m(),g.point=w,g.lineEnd=S}function w(O,M){b(i=O,M),a=f,o=h,s=d,l=p,c=v,g.point=b}function S(){n(f,h,u,d,p,v,a,o,i,s,l,c,eL,r),g.lineEnd=x,x()}return g}}var Ryt=ny({point:function(t,e){this.stream.point(t*je,e*je)}});function Nyt(t){return ny({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Byt(t,e,n,r,i){function a(o,s){return o*=r,s*=i,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},a}function rL(t,e,n,r,i,a){if(!a)return Byt(t,e,n,r,i);var o=Ft(a),s=Lt(a),l=o*t,c=s*t,u=o/t,f=s/t,h=(s*n-o*e)/t,d=(s*e+o*n)/t;function p(v,g){return v*=r,g*=i,[l*v-c*g+e,n-c*v-l*g]}return p.invert=function(v,g){return[r*(u*v-f*g+h),i*(d-f*v-u*g)]},p}function ra(t){return XS(function(){return t})()}function XS(t){var e,n=150,r=480,i=250,a=0,o=0,s=0,l=0,c=0,u,f=0,h=1,d=1,p=null,v=Vk,g=null,y,m,b,x=Oh,_=.5,w,S,O,M,T;function A(k){return O(k[0]*je,k[1]*je)}function P(k){return k=O.invert(k[0],k[1]),k&&[k[0]*Dn,k[1]*Dn]}A.stream=function(k){return M&&T===k?M:M=Ryt(Nyt(u)(v(w(x(T=k)))))},A.preclip=function(k){return arguments.length?(v=k,p=void 0,C()):v},A.postclip=function(k){return arguments.length?(x=k,g=y=m=b=null,C()):x},A.clipAngle=function(k){return arguments.length?(v=+k?yyt(p=k*je):(p=null,Vk),C()):p*Dn},A.clipExtent=function(k){return arguments.length?(x=k==null?(g=y=m=b=null,Oh):Qj(g=+k[0][0],y=+k[0][1],m=+k[1][0],b=+k[1][1]),C()):g==null?null:[[g,y],[m,b]]},A.scale=function(k){return arguments.length?(n=+k,E()):n},A.translate=function(k){return arguments.length?(r=+k[0],i=+k[1],E()):[r,i]},A.center=function(k){return arguments.length?(a=k[0]%360*je,o=k[1]%360*je,E()):[a*Dn,o*Dn]},A.rotate=function(k){return arguments.length?(s=k[0]%360*je,l=k[1]%360*je,c=k.length>2?k[2]%360*je:0,E()):[s*Dn,l*Dn,c*Dn]},A.angle=function(k){return arguments.length?(f=k%360*je,E()):f*Dn},A.reflectX=function(k){return arguments.length?(h=k?-1:1,E()):h<0},A.reflectY=function(k){return arguments.length?(d=k?-1:1,E()):d<0},A.precision=function(k){return arguments.length?(w=nL(S,_=k*k),C()):br(_)},A.fitExtent=function(k,L){return ry(A,k,L)},A.fitSize=function(k,L){return HS(A,k,L)},A.fitWidth=function(k,L){return YS(A,k,L)},A.fitHeight=function(k,L){return VS(A,k,L)};function E(){var k=rL(n,0,0,h,d,f).apply(null,e(a,o)),L=rL(n,r-k[0],i-k[1],h,d,f);return u=Uj(s,l,c),S=r_(e,L),O=r_(u,S),w=nL(S,_),C()}function C(){return M=T=null,A}return function(){return e=t.apply(this,arguments),A.invert=e.invert&&P,E()}}function US(t){var e=0,n=Wt/3,r=XS(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*je,n=a[1]*je):[e*Dn,n*Dn]},i}function Fyt(t){var e=Ft(t);function n(r,i){return[r*e,Lt(i)/e]}return n.invert=function(r,i){return[r/e,ni(i*e)]},n}function fz(t,e){var n=Lt(t),r=(n+Lt(e))/2;if(qt(r)<wt)return Fyt(t);var i=1+n*(2*r-n),a=br(i)/r;function o(s,l){var c=br(i-2*r*Lt(l))/r;return[c*Lt(s*=r),a-c*Ft(s)]}return o.invert=function(s,l){var c=a-l,u=Ia(s,qt(c))*qr(c);return c*r<0&&(u-=Wt*qr(s)*qr(c)),[u/r,ni((i-(s*s+c*c)*r*r)/(2*r))]},o}function kg(){return US(fz).scale(155.424).center([0,33.6442])}function hz(){return kg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function jyt(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function zyt(){var t,e,n=hz(),r,i=kg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=kg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,c={point:function(h,d){l=[h,d]}};function u(h){var d=h[0],p=h[1];return l=null,r.point(d,p),l||(a.point(d,p),l)||(s.point(d,p),l)}u.invert=function(h){var d=n.scale(),p=n.translate(),v=(h[0]-p[0])/d,g=(h[1]-p[1])/d;return(g>=.12&&g<.234&&v>=-.425&&v<-.214?i:g>=.166&&g<.234&&v>=-.214&&v<-.115?o:n).invert(h)},u.stream=function(h){return t&&e===h?t:t=jyt([n.stream(e=h),i.stream(h),o.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),o.precision(h),f()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),o.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var d=n.scale(),p=+h[0],v=+h[1];return r=n.translate(h).clipExtent([[p-.455*d,v-.238*d],[p+.455*d,v+.238*d]]).stream(c),a=i.translate([p-.307*d,v+.201*d]).clipExtent([[p-.425*d+wt,v+.12*d+wt],[p-.214*d-wt,v+.234*d-wt]]).stream(c),s=o.translate([p-.205*d,v+.212*d]).clipExtent([[p-.214*d+wt,v+.166*d+wt],[p-.115*d-wt,v+.234*d-wt]]).stream(c),f()},u.fitExtent=function(h,d){return ry(u,h,d)},u.fitSize=function(h,d){return HS(u,h,d)},u.fitWidth=function(h,d){return YS(u,h,d)},u.fitHeight=function(h,d){return VS(u,h,d)};function f(){return t=e=null,u}return u.scale(1070)}function dz(t){return function(e,n){var r=Ft(e),i=Ft(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Lt(e),a*Lt(n)]}}function od(t){return function(e,n){var r=br(e*e+n*n),i=t(r),a=Lt(i),o=Ft(i);return[Ia(e*a,r*o),ni(r&&n*a/r)]}}var qS=dz(function(t){return br(2/(1+t))});qS.invert=od(function(t){return 2*ni(t/2)});function $yt(){return ra(qS).scale(124.75).clipAngle(180-.001)}var ZS=dz(function(t){return(t=Xj(t))&&t/Lt(t)});ZS.invert=od(function(t){return t});function Gyt(){return ra(ZS).scale(79.4188).clipAngle(180-.001)}function sd(t,e){return[t,wg(GS((Ke+e)/2))]}sd.invert=function(t,e){return[t,2*Jc(Vj(e))-Ke]};function Wyt(){return pz(sd).scale(961/Pr)}function pz(t){var e=ra(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,l,c;e.scale=function(f){return arguments.length?(r(f),u()):r()},e.translate=function(f){return arguments.length?(i(f),u()):i()},e.center=function(f){return arguments.length?(n(f),u()):n()},e.clipExtent=function(f){return arguments.length?(f==null?o=s=l=c=null:(o=+f[0][0],s=+f[0][1],l=+f[1][0],c=+f[1][1]),u()):o==null?null:[[o,s],[l,c]]};function u(){var f=Wt*r(),h=e(cyt(e.rotate()).invert([0,0]));return a(o==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:t===sd?[[Math.max(h[0]-f,o),s],[Math.min(h[0]+f,l),c]]:[[o,Math.max(h[1]-f,s)],[l,Math.min(h[1]+f,c)]])}return u()}function Np(t){return GS((Ke+t)/2)}function vz(t,e){var n=Ft(t),r=t===e?Lt(t):wg(n/Ft(e))/wg(Np(e)/Np(t)),i=n*S1(Np(t),r)/r;if(!r)return sd;function a(o,s){i>0?s<-Ke+wt&&(s=-Ke+wt):s>Ke-wt&&(s=Ke-wt);var l=i/S1(Np(s),r);return[l*Lt(r*o),i-l*Ft(r*o)]}return a.invert=function(o,s){var l=i-s,c=qr(r)*br(o*o+l*l),u=Ia(o,qt(l))*qr(l);return l*r<0&&(u-=Wt*qr(o)*qr(l)),[u/r,2*Jc(S1(i/c,1/r))-Ke]},a}function Hyt(){return US(vz).scale(109.5).parallels([30,30])}function Ah(t,e){return[t,e]}Ah.invert=Ah;function Yyt(){return ra(Ah).scale(152.63)}function gz(t,e){var n=Ft(t),r=t===e?Lt(t):(n-Ft(e))/(e-t),i=n/r+t;if(qt(r)<wt)return Ah;function a(o,s){var l=i-s,c=r*o;return[l*Lt(c),i-l*Ft(c)]}return a.invert=function(o,s){var l=i-s,c=Ia(o,qt(l))*qr(l);return l*r<0&&(c-=Wt*qr(o)*qr(l)),[c/r,i-qr(r)*br(o*o+l*l)]},a}function Vyt(){return US(gz).scale(131.154).center([0,13.9389])}var Tf=1.340264,Af=-.081106,Ef=893e-6,Pf=.003796,Lg=br(3)/2,Xyt=12;function KS(t,e){var n=ni(Lg*Lt(e)),r=n*n,i=r*r*r;return[t*Ft(n)/(Lg*(Tf+3*Af*r+i*(7*Ef+9*Pf*r))),n*(Tf+Af*r+i*(Ef+Pf*r))]}KS.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,s,l;a<Xyt&&(s=n*(Tf+Af*r+i*(Ef+Pf*r))-e,l=Tf+3*Af*r+i*(7*Ef+9*Pf*r),n-=o=s/l,r=n*n,i=r*r*r,!(qt(o)<Yj));++a);return[Lg*t*(Tf+3*Af*r+i*(7*Ef+9*Pf*r))/Ft(n),ni(Lt(n)/Lg)]};function Uyt(){return ra(KS).scale(177.158)}function QS(t,e){var n=Ft(e),r=Ft(t)*n;return[n*Lt(t)/r,Lt(e)/r]}QS.invert=od(Jc);function qyt(){return ra(QS).scale(144.049).clipAngle(60)}function Zyt(){var t=1,e=0,n=0,r=1,i=1,a=0,o,s,l=null,c,u,f,h=1,d=1,p=ny({point:function(x,_){var w=b([x,_]);this.stream.point(w[0],w[1])}}),v=Oh,g,y;function m(){return h=t*r,d=t*i,g=y=null,b}function b(x){var _=x[0]*h,w=x[1]*d;if(a){var S=w*o-_*s;_=_*o+w*s,w=S}return[_+e,w+n]}return b.invert=function(x){var _=x[0]-e,w=x[1]-n;if(a){var S=w*o+_*s;_=_*o-w*s,w=S}return[_/h,w/d]},b.stream=function(x){return g&&y===x?g:g=p(v(y=x))},b.postclip=function(x){return arguments.length?(v=x,l=c=u=f=null,m()):v},b.clipExtent=function(x){return arguments.length?(v=x==null?(l=c=u=f=null,Oh):Qj(l=+x[0][0],c=+x[0][1],u=+x[1][0],f=+x[1][1]),m()):l==null?null:[[l,c],[u,f]]},b.scale=function(x){return arguments.length?(t=+x,m()):t},b.translate=function(x){return arguments.length?(e=+x[0],n=+x[1],m()):[e,n]},b.angle=function(x){return arguments.length?(a=x%360*je,s=Lt(a),o=Ft(a),m()):a*Dn},b.reflectX=function(x){return arguments.length?(r=x?-1:1,m()):r<0},b.reflectY=function(x){return arguments.length?(i=x?-1:1,m()):i<0},b.fitExtent=function(x,_){return ry(b,x,_)},b.fitSize=function(x,_){return HS(b,x,_)},b.fitWidth=function(x,_){return YS(b,x,_)},b.fitHeight=function(x,_){return VS(b,x,_)},b}function JS(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}JS.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(qt(i)>wt&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function Kyt(){return ra(JS).scale(175.295)}function tO(t,e){return[Ft(e)*Lt(t),Lt(e)]}tO.invert=od(ni);function Qyt(){return ra(tO).scale(249.5).clipAngle(90+wt)}function eO(t,e){var n=Ft(e),r=1+Ft(t)*n;return[n*Lt(t)/r,Lt(e)/r]}eO.invert=od(function(t){return 2*Jc(t)});function Jyt(){return ra(eO).scale(250).clipAngle(142)}function nO(t,e){return[wg(GS((Ke+e)/2)),-t]}nO.invert=function(t,e){return[-e,2*Jc(Vj(t))-Ke]};function tmt(){var t=pz(nO),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const emt=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:hz,geoAlbersUsa:zyt,geoAzimuthalEqualArea:$yt,geoAzimuthalEqualAreaRaw:qS,geoAzimuthalEquidistant:Gyt,geoAzimuthalEquidistantRaw:ZS,geoConicConformal:Hyt,geoConicConformalRaw:vz,geoConicEqualArea:kg,geoConicEqualAreaRaw:fz,geoConicEquidistant:Vyt,geoConicEquidistantRaw:gz,geoEqualEarth:Uyt,geoEqualEarthRaw:KS,geoEquirectangular:Yyt,geoEquirectangularRaw:Ah,geoGnomonic:qyt,geoGnomonicRaw:QS,geoIdentity:Zyt,geoMercator:Wyt,geoMercatorRaw:sd,geoNaturalEarth1:Kyt,geoNaturalEarth1Raw:JS,geoOrthographic:Qyt,geoOrthographicRaw:tO,geoProjection:ra,geoProjectionMutator:XS,geoStereographic:Jyt,geoStereographicRaw:eO,geoTransverseMercator:tmt,geoTransverseMercatorRaw:nO},Symbol.toStringTag,{value:"Module"}));var nmt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function rmt(t){if(typeof t=="function")return t;const e=`geo${Co(t)}`,n=emt[e];if(!n)throw new Error(`Unknown coordinate: ${t}`);return n}function imt(t){return{type:"FeatureCollection",features:t.flatMap(e=>amt(e).features)}}function amt(t){const e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!t||!t.type)return null;const n=e[t.type];if(!n)return null;if(n==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if(n==="feature")return{type:"FeatureCollection",features:[t]};if(n==="featureCollection")return t}function omt(t,e){var n;for(const[r,i]of Object.entries(e))(n=t[r])===null||n===void 0||n.call(t,i)}function smt(t,e,n,r){const i=()=>{const s=e.filter(yz);return s.find(c=>c.sphere)?{type:"Sphere"}:imt(s.filter(c=>!c.sphere).flatMap(c=>c.data.value))},{outline:a=i()}=r,{size:o="fitExtent"}=r;if(o==="fitExtent")return lmt(t,a,n);if(o==="fitWidth")return cmt(t,a,n)}function lmt(t,e,n){const{x:r,y:i,width:a,height:o}=n;t.fitExtent([[r,i],[a,o]],e)}function cmt(t,e,n){const{width:r,height:i}=n,[[a,o],[s,l]]=uz(t.fitWidth(r,e)).bounds(e),c=Math.ceil(l-o),u=Math.min(Math.ceil(s-a),c),f=t.scale()*(u-1)/u,[h,d]=t.translate(),p=d+(i-c)/2;t.scale(f).translate([h,p]).precision(.2)}function umt(t){const{data:e}=t;if(Array.isArray(e))return Object.assign(Object.assign({},t),{data:{value:e}});const{type:n}=e;return n==="graticule10"?Object.assign(Object.assign({},t),{data:{value:[xyt()]}}):n==="sphere"?Object.assign(Object.assign({},t),{sphere:!0,data:{value:[{type:"Sphere"}]}}):t}function yz(t){return t.type==="geoPath"}const mz=()=>t=>{const{children:e,coordinate:n={}}=t;if(!Array.isArray(e))return[];const{type:r="equalEarth"}=n,i=nmt(n,["type"]),a=rmt(r),o=e.map(umt);let s;function l(){return[["custom",(f,h,d,p)=>{const v=a();smt(v,o,{x:f,y:h,width:d,height:p},i),omt(v,i),s=uz(v);const y=new xe({domain:[f,f+d]}),m=new xe({domain:[h,h+p]}),b=_=>{const w=v(_);if(!w)return[null,null];const[S,O]=w;return[y.map(S),m.map(O)]},x=_=>{if(!_)return null;const[w,S]=_,O=[y.invert(w),m.invert(S)];return v.invert(O)};return{transform:_=>b(_),untransform:_=>x(_)}}]]}function c(f){const{style:h,tooltip:d={}}=f;return Object.assign(Object.assign({},f),{type:"path",tooltip:pg(d,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},h),{d:p=>s(p)||[]})})}const u=f=>yz(f)?c(f):f;return[Object.assign(Object.assign({},t),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:l},children:o.flatMap(u)})]};mz.props={};function bz(t,e){const{__data__:n}=t,{markKey:r,index:i,seriesIndex:a}=n,{markState:o}=e,s=Array.from(o.keys()).find(l=>l.key===r);if(s)return a?a.map(l=>s.data[l]):s.data[i]}function fmt(t){return cy(t,e=>e.className==="component")}function hmt(t){return cy(t,e=>e.className==="element")}function dmt(t){return cy(t,e=>e.className==="label")}function pn(t,e,n,r=i=>!0){return i=>{if(!r(i))return;n.emit(`plot:${t}`,i);const{target:a}=i;if(!a)return;const{className:o}=a;if(o==="plot")return;const s=hmt(a),l=fmt(a),c=dmt(a),u=s||l||c;if(!u)return;const{className:f,markType:h}=u,d=Object.assign(Object.assign({},i),{nativeEvent:!0});f==="element"?(d.data={data:bz(u,e)},n.emit(`element:${t}`,d),n.emit(`${h}:${t}`,d)):f==="label"?(d.data={data:u.attributes.datum},n.emit(`label:${t}`,d),n.emit(`${o}:${t}`,d)):(n.emit(`component:${t}`,d),n.emit(`${o}:${t}`,d))}}function xz(){return(t,e,n)=>{const{container:r,view:i}=t,a=pn(ee.CLICK,i,n,S=>S.detail===1),o=pn(ee.DBLCLICK,i,n,S=>S.detail===2),s=pn(ee.POINTER_TAP,i,n),l=pn(ee.POINTER_DOWN,i,n),c=pn(ee.POINTER_UP,i,n),u=pn(ee.POINTER_OVER,i,n),f=pn(ee.POINTER_OUT,i,n),h=pn(ee.POINTER_MOVE,i,n),d=pn(ee.POINTER_ENTER,i,n),p=pn(ee.POINTER_LEAVE,i,n),v=pn(ee.POINTER_UPOUTSIDE,i,n),g=pn(ee.DRAG_START,i,n),y=pn(ee.DRAG,i,n),m=pn(ee.DRAG_END,i,n),b=pn(ee.DRAG_ENTER,i,n),x=pn(ee.DRAG_LEAVE,i,n),_=pn(ee.DRAG_OVER,i,n),w=pn(ee.DROP,i,n);return r.addEventListener("click",a),r.addEventListener("click",o),r.addEventListener("pointertap",s),r.addEventListener("pointerdown",l),r.addEventListener("pointerup",c),r.addEventListener("pointerover",u),r.addEventListener("pointerout",f),r.addEventListener("pointermove",h),r.addEventListener("pointerenter",d),r.addEventListener("pointerleave",p),r.addEventListener("pointerupoutside",v),r.addEventListener("dragstart",g),r.addEventListener("drag",y),r.addEventListener("dragend",m),r.addEventListener("dragenter",b),r.addEventListener("dragleave",x),r.addEventListener("dragover",_),r.addEventListener("drop",w),()=>{r.removeEventListener("click",a),r.removeEventListener("click",o),r.removeEventListener("pointertap",s),r.removeEventListener("pointerdown",l),r.removeEventListener("pointerup",c),r.removeEventListener("pointerover",u),r.removeEventListener("pointerout",f),r.removeEventListener("pointermove",h),r.removeEventListener("pointerenter",d),r.removeEventListener("pointerleave",p),r.removeEventListener("pointerupoutside",v),r.removeEventListener("dragstart",g),r.removeEventListener("drag",y),r.removeEventListener("dragend",m),r.removeEventListener("dragenter",b),r.removeEventListener("dragleave",x),r.removeEventListener("dragover",_),r.removeEventListener("drop",w)}}}xz.props={reapplyWhenUpdate:!0};function pmt(){return{"component.axisRadar":tj,"component.axisLinear":Bo,"component.axisArc":KF,"component.legendContinuousBlock":ej,"component.legendContinuousBlockSize":nj,"component.legendContinuousSize":kS,"interaction.event":xz,"composition.mark":jj,"composition.view":Fj,"shape.label.label":p8}}var vmt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Le(t,e){const n=Object.assign(Object.assign({},pmt()),e),r=a=>{if(typeof a!="string")return a;const o=`${t}.${a}`;return n[o]||gc(`Unknown Component: ${o}`)};return[(a,o)=>{const{type:s}=a,l=vmt(a,["type"]);s||gc("Plot type is required!");const c=r(s);return c==null?void 0:c(l,o)},r]}function _z(t){const{canvas:e,group:n}=t;return(e==null?void 0:e.document)||(n==null?void 0:n.ownerDocument)||gc("Cannot find library document")}var iL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function gmt(t,e,n){const[r]=Le("coordinate",n),{innerHeight:i,innerWidth:a,insetLeft:o,insetTop:s,insetRight:l,insetBottom:c}=t,{coordinates:u=[]}=e,f=wmt(u),h=f[0].type==="cartesian3D",d=Object.assign(Object.assign({},t),{x:o,y:s,width:a-o-l,height:i-c-s,transformations:f.flatMap(r)});return h?new B0t(d):new R0t(d)}function wz(t,e){const{coordinate:n={},coordinates:r}=t,i=iL(t,["coordinate","coordinates"]);if(r)return t;const{type:a,transform:o=[]}=n,s=iL(n,["type","transform"]);if(!a)return Object.assign(Object.assign({},i),{coordinates:o});const[,l]=Le("coordinate",e),{transform:c=!1}=l(a).props||{};if(c)throw new Error(`Unknown coordinate: ${a}.`);return Object.assign(Object.assign({},i),{coordinates:[Object.assign({type:a},s),...o]})}function wi(t,e){return t.filter(n=>n.type===e)}function Os(t){return wi(t,"polar").length>0}function ymt(t){return wi(t,"helix").length>0}function ic(t){return wi(t,"transpose").length%2===1}function mmt(t){return wi(t,"parallel").length>0}function Sz(t){return wi(t,"theta").length>0}function bmt(t){return wi(t,"reflect").length>0}function Cf(t){return wi(t,"radial").length>0}function xmt(t){return wi(t,"radar").length>0}function _mt(t){return wi(t,"reflectY").length>0}function wmt(t){return t.find(e=>e.type==="cartesian"||e.type==="cartesian3D")?t:[...t,{type:"cartesian"}]}function It(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Smt=It("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Omt=It("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Mmt=It("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Tmt=It("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Amt=It("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Emt=It("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Pmt=It("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Cmt=It("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),kmt=It("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Lmt=It("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Dmt=It("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Imt(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function Rmt(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return Imt((n-r/e)*e,o,i,a,s)}}const rO=t=>()=>t;function Oz(t,e){return function(n){return t+n*e}}function Nmt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Bmt(t,e){var n=e-t;return n?Oz(t,n>180||n<-180?n-360*Math.round(n/360):n):rO(isNaN(t)?e:t)}function Fmt(t){return(t=+t)==1?ac:function(e,n){return n-e?Nmt(e,n,t):rO(isNaN(e)?n:e)}}function ac(t,e){var n=e-t;return n?Oz(t,n):rO(isNaN(t)?e:t)}(function t(e){var n=Fmt(e);function r(i,a){var o=n((i=uh(i)).r,(a=uh(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=ac(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r})(1);function jmt(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=uh(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var zmt=jmt(Rmt);function Mz(t){return function e(n){n=+n;function r(i,a){var o=t((i=Zi(i)).h,(a=Zi(a)).h),s=ac(i.s,a.s),l=ac(i.l,a.l),c=ac(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=s(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=e,r}(1)}Mz(Bmt);var iO=Mz(ac);const Se=t=>zmt(t[t.length-1]);var Tz=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(It);const $mt=Se(Tz);var Az=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(It);const Gmt=Se(Az);var Ez=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(It);const Wmt=Se(Ez);var Pz=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(It);const Hmt=Se(Pz);var Cz=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(It);const Ymt=Se(Cz);var kz=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(It);const Vmt=Se(kz);var Lz=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(It);const Xmt=Se(Lz);var Dz=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(It);const Umt=Se(Dz);var Iz=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(It);const qmt=Se(Iz);var Rz=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(It);const Zmt=Se(Rz);var Nz=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(It);const Kmt=Se(Nz);var Bz=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(It);const Qmt=Se(Bz);var Fz=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(It);const Jmt=Se(Fz);var jz=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(It);const t1t=Se(jz);var zz=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(It);const e1t=Se(zz);var $z=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(It);const n1t=Se($z);var Gz=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(It);const r1t=Se(Gz);var Wz=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(It);const i1t=Se(Wz);var Hz=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(It);const a1t=Se(Hz);var Yz=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(It);const o1t=Se(Yz);var Vz=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(It);const s1t=Se(Vz);var Xz=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(It);const l1t=Se(Xz);var Uz=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(It);const c1t=Se(Uz);var qz=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(It);const u1t=Se(qz);var Zz=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(It);const f1t=Se(Zz);var Kz=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(It);const h1t=Se(Kz);var Qz=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(It);const d1t=Se(Qz);function p1t(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const v1t=iO(Zi(300,.5,0),Zi(-240,.5,1));var g1t=iO(Zi(-100,.75,.35),Zi(80,1.5,.8)),y1t=iO(Zi(260,.75,.35),Zi(80,1.5,.8)),Bp=Zi();function m1t(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Bp.h=360*t-100,Bp.s=1.5-1.5*e,Bp.l=.8-.9*e,Bp+""}var Fp=uh(),b1t=Math.PI/3,x1t=Math.PI*2/3;function _1t(t){var e;return t=(.5-t)*Math.PI,Fp.r=255*(e=Math.sin(t))*e,Fp.g=255*(e=Math.sin(t+b1t))*e,Fp.b=255*(e=Math.sin(t+x1t))*e,Fp+""}function w1t(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function iy(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const S1t=iy(It("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var O1t=iy(It("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),M1t=iy(It("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),T1t=iy(It("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const p_=Object.freeze(Object.defineProperty({__proto__:null,interpolateBlues:l1t,interpolateBrBG:$mt,interpolateBuGn:Zmt,interpolateBuPu:Kmt,interpolateCividis:p1t,interpolateCool:y1t,interpolateCubehelixDefault:v1t,interpolateGnBu:Qmt,interpolateGreens:c1t,interpolateGreys:u1t,interpolateInferno:M1t,interpolateMagma:O1t,interpolateOrRd:Jmt,interpolateOranges:d1t,interpolatePRGn:Gmt,interpolatePiYG:Wmt,interpolatePlasma:T1t,interpolatePuBu:e1t,interpolatePuBuGn:t1t,interpolatePuOr:Hmt,interpolatePuRd:n1t,interpolatePurples:f1t,interpolateRainbow:m1t,interpolateRdBu:Ymt,interpolateRdGy:Vmt,interpolateRdPu:r1t,interpolateRdYlBu:Xmt,interpolateRdYlGn:Umt,interpolateReds:h1t,interpolateSinebow:_1t,interpolateSpectral:qmt,interpolateTurbo:w1t,interpolateViridis:S1t,interpolateWarm:g1t,interpolateYlGn:a1t,interpolateYlGnBu:i1t,interpolateYlOrBr:o1t,interpolateYlOrRd:s1t,schemeAccent:Omt,schemeBlues:Xz,schemeBrBG:Tz,schemeBuGn:Rz,schemeBuPu:Nz,schemeCategory10:Smt,schemeDark2:Mmt,schemeGnBu:Bz,schemeGreens:Uz,schemeGreys:qz,schemeObservable10:Tmt,schemeOrRd:Fz,schemeOranges:Qz,schemePRGn:Az,schemePaired:Amt,schemePastel1:Emt,schemePastel2:Pmt,schemePiYG:Ez,schemePuBu:zz,schemePuBuGn:jz,schemePuOr:Pz,schemePuRd:$z,schemePurples:Zz,schemeRdBu:Cz,schemeRdGy:kz,schemeRdPu:Gz,schemeRdYlBu:Lz,schemeRdYlGn:Dz,schemeReds:Kz,schemeSet1:Cmt,schemeSet2:kmt,schemeSet3:Lmt,schemeSpectral:Iz,schemeTableau10:Dmt,schemeYlGn:Hz,schemeYlGnBu:Wz,schemeYlOrBr:Yz,schemeYlOrRd:Vz},Symbol.toStringTag,{value:"Module"}));function A1t(t,e,n,r,i,a){const{guide:o={}}=n,s=B1t(t,e,n);if(typeof s!="string")return n;const l=F1t(s,t,e,n),c=I1t(s,l,n);return Object.assign(Object.assign(Object.assign({},n),z1t(s,t,e,n,r)),{domain:c,range:j1t(s,t,e,n,c,i,a),expectedDomain:l,guide:o,name:t,type:s})}function E1t(t,e){const n={};for(const r of t){const{values:i,name:a}=r,o=e[a];for(const s of i){const{name:l,value:c}=s;n[l]=c.map(u=>o.map(u))}}return n}function P1t(t,e){const n=Array.from(t.values()).flatMap(i=>i.channels);ow(n,i=>i.map(a=>e.get(a.scale.uid)),i=>i.name).filter(([,i])=>i.some(a=>typeof a.getOptions().groupTransform=="function")&&i.every(a=>a.getTicks)).map(i=>i[1]).forEach(i=>{const a=i.map(o=>o.getOptions().groupTransform)[0];a(i)})}function C1t(t,e){var n;const{components:r=[]}=e,i=["scale","encode","axis","legend","data","transform"],a=Array.from(new Set(t.flatMap(s=>s.channels.map(l=>l.scale)))),o=new Map(a.map(s=>[s.name,s]));for(const s of r){const l=D1t(s);for(const c of l){const u=o.get(c),f=((n=s.scale)===null||n===void 0?void 0:n[c])||{},{independent:h=!1}=f;if(u&&!h){const{guide:d}=u,p=typeof d=="boolean"?{}:d;u.guide=U({},p,s),Object.assign(u,f)}else{const d=Object.assign(Object.assign({},f),{expectedDomain:f.domain,name:c,guide:J2(s,i)});a.push(d)}}}return a}function k1t(t){if(!t||!Array.isArray(t))return[Rs,Rs];let e,n;return[a=>{var o;e=a.map.bind(a),n=(o=a.invert)===null||o===void 0?void 0:o.bind(a);const s=t.filter(([h])=>typeof h=="function"),l=t.filter(([h])=>typeof h!="function"),c=new Map(l);if(a.map=h=>{for(const[d,p]of s)if(d(h))return p;return c.has(h)?c.get(h):e(h)},!n)return a;const u=new Map(l.map(([h,d])=>[d,h])),f=new Map(s.map(([h,d])=>[d,h]));return a.invert=h=>f.has(h)?h:u.has(h)?u.get(h):n(h),a},a=>(e!==null&&(a.map=e),n!==null&&(a.invert=n),a)]}function aL(t,e){const n=Object.keys(t);for(const r of Object.values(e)){const{name:i}=r.getOptions();if(!(i in t))t[i]=r;else{const a=n.filter(l=>l.startsWith(i)).map(l=>+(l.replace(i,"")||0)),o=Jt(a)+1,s=`${i}${o}`;t[s]=r,r.getOptions().key=s}}return t}function oL(t,e){const[n]=Le("scale",e),{relations:r}=t,[i]=k1t(r),a=n(t);return i(a)}function L1t(t){const e=t.flatMap(n=>Array.from(n.values())).flatMap(n=>n.channels.map(r=>r.scale));sL(e,"x"),sL(e,"y")}function D1t(t){const{channels:e=[],type:n,scale:r={}}=t,i=["shape","color","opacity","size"];return e.length!==0?e:n==="axisX"?["x"]:n==="axisY"?["y"]:n==="legends"?Object.keys(r).filter(a=>i.includes(a)):[]}function sL(t,e){const n=t.filter(({name:a,facet:o=!0})=>o&&a===e),r=n.flatMap(a=>a.domain),i=n.every(Jz)?wa(r):n.every(t9)?Array.from(new Set(r)):null;if(i!==null)for(const a of n)a.domain=i}function I1t(t,e,n){const{ratio:r}=n;return r==null?e:Jz({type:t})?R1t(e,r,t):t9({type:t})?N1t(e,r):e}function R1t(t,e,n){const r=t.map(Number),i=new xe({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*e]});return n==="time"?t.map(a=>new Date(i.map(a))):t.map(a=>i.map(a))}function N1t(t,e){const n=Math.round(t.length*e);return t.slice(0,n)}function Jz(t){const{type:e}=t;return typeof e!="string"?!1:["linear","log","pow","time"].includes(e)}function t9(t){const{type:e}=t;return typeof e!="string"?!1:["band","point","ordinal"].includes(e)}function B1t(t,e,n){const{type:r,domain:i,range:a,quantitative:o,ordinal:s}=n;return r!==void 0?r:Q1t(e)?"identity":typeof a=="string"?"linear":(i||a||[]).length>2?E1(t,s):i!==void 0?fL([i])?E1(t,s):hL(e)?"time":cL(t,a,o):fL(e)?E1(t,s):hL(e)?"time":cL(t,a,o)}function F1t(t,e,n,r){const{domain:i}=r;if(i!==void 0)return i;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return uL(X1t(n,r),r);case"band":case"ordinal":case"point":return U1t(n);case"quantile":return q1t(n);case"sequential":return uL(Z1t(n),r);default:return[]}}function j1t(t,e,n,r,i,a,o){const{range:s}=r;if(typeof s=="string")return $1t(s);if(s!==void 0)return s;const{rangeMin:l,rangeMax:c}=r;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":{const u=lL(n,r,i,a,o),[f,h]=K1t(e,u);return[l??f,c??h]}case"band":case"point":return[l??(e==="size"?5:0),c??(e==="size"?10:1)];case"ordinal":return lL(n,r,i,a,o);case"sequential":return;case"constant":return[n[0][0]];default:return[]}}function z1t(t,e,n,r,i){switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":return H1t(i,r);case"band":case"point":return Y1t(t,e,i,r);case"sequential":return W1t(r);default:return r}}function lL(t,e,n,r,i){const[a]=Le("palette",i),{category10:o,category20:s}=r,l=Btt(n).length<=o.length?o:s,{palette:c=l,offset:u}=e;if(Array.isArray(c))return c;try{return a({type:c})}catch{const h=G1t(c,n,u);if(h)return h;throw new Error(`Unknown Component: ${c} `)}}function $1t(t){return t.split("-")}function G1t(t,e,n=r=>r){if(!t)return null;const r=Co(t),i=p_[`scheme${r}`],a=p_[`interpolate${r}`];if(!i&&!a)return null;if(i){if(!i.some(Array.isArray))return i;const o=i[e.length];if(o)return o}return e.map((o,s)=>a(n(s/e.length)))}function W1t(t){const{palette:e="ylGnBu",offset:n}=t,r=Co(e),i=p_[`interpolate${r}`];if(!i)throw new Error(`Unknown palette: ${r}`);return{interpolator:n?a=>i(n(a)):i}}function H1t(t,e){const{interpolate:n=Vh,nice:r=!1,tickCount:i=5}=e;return Object.assign(Object.assign({},e),{interpolate:n,nice:r,tickCount:i})}function Y1t(t,e,n,r){if(r.padding!==void 0||r.paddingInner!==void 0||r.paddingOuter!==void 0)return Object.assign(Object.assign({},r),{unknown:NaN});const i=V1t(t,e,n),{paddingInner:a=i,paddingOuter:o=i}=r;return Object.assign(Object.assign({},r),{paddingInner:a,paddingOuter:o,padding:i,unknown:NaN})}function V1t(t,e,n){return e==="enterDelay"||e==="enterDuration"||e==="size"?0:t==="band"?Sz(n)?0:.1:t==="point"?.5:0}function E1(t,e){return e||(J1t(t)?"point":"ordinal")}function cL(t,e,n){return n||(t!=="color"||e?"linear":"sequential")}function uL(t,e){if(t.length===0)return t;const{domainMin:n,domainMax:r}=e,[i,a]=t;return[n??i,r??a]}function X1t(t,e){const{zero:n=!1}=e;let r=1/0,i=-1/0;for(const a of t)for(const o of a)pe(o)&&(r=Math.min(r,+o),i=Math.max(i,+o));return r===1/0?[]:n?[Math.min(0,r),i]:[r,i]}function U1t(t){return Array.from(new Set(t.flat()))}function q1t(t){return t.flat().sort()}function Z1t(t){let e=1/0,n=-1/0;for(const r of t)for(const i of r)pe(i)&&(e=Math.min(e,+i),n=Math.max(n,+i));return e===1/0?[]:[e<0?-n:e,n]}function K1t(t,e){return t==="enterDelay"?[0,1e3]:t=="enterDuration"?[300,1e3]:t.startsWith("y")||t.startsWith("position")?[1,0]:t==="color"?[Ntt(e),C3(e)]:t==="opacity"?[0,1]:t==="size"?[1,10]:[0,1]}function fL(t){return aO(t,e=>{const n=typeof e;return n==="string"||n==="boolean"})}function hL(t){return aO(t,e=>e instanceof Date)}function Q1t(t){return aO(t,yc)}function aO(t,e){for(const n of t)if(n.some(e))return!0;return!1}function J1t(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t.startsWith("size")}function tbt(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t==="enterDelay"||t==="enterDuration"||t==="updateDelay"||t==="updateDuration"||t==="exitDelay"||t==="exitDuration"}function ebt(t){if(!t||!t.type)return!1;if(typeof t.type=="function")return!0;const{type:e,domain:n,range:r,interpolator:i}=t,a=n&&n.length>0,o=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(e)&&a&&o||["sequential"].includes(e)&&a&&(o||i)||["constant","identity"].includes(e)&&o)}const nbt={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},rbt={threshold:"threshold",quantize:"quantize",quantile:"quantile"},ibt={ordinal:"ordinal",band:"band",point:"point"},abt={constant:"constant"};var zo=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function obt(t,e,n){const{coordinates:r=[],title:i}=e,[,a]=Le("component",n),o=t.filter(({guide:u})=>u!==null),s=[],l=gbt(e,t,n);if(s.push(...l),i){const{props:u}=a("title"),{defaultPosition:f,defaultOrientation:h,defaultOrder:d,defaultSize:p,defaultCrossPadding:v}=u,g=typeof i=="string"?{title:i}:i;s.push(Object.assign({type:"title",position:f,orientation:h,order:d,crossPadding:v[0],defaultSize:p},g))}return fbt(o,r).forEach(([u,f])=>{const{props:h}=a(u),{defaultPosition:d,defaultPlane:p="xy",defaultOrientation:v,defaultSize:g,defaultOrder:y,defaultLength:m,defaultPadding:b=[0,0],defaultCrossPadding:x=[0,0]}=h,_=U({},...f),{guide:w,field:S}=_,O=Array.isArray(w)?w:[w];for(const M of O){const[T,A]=pbt(u,d,v,M,f,o,r);if(!T&&!A)continue;const P=T==="left"||T==="right",E=P?b[1]:b[0],C=P?x[1]:x[0],{size:k,order:L=y,length:R=m,padding:D=E,crossPadding:I=C}=M;s.push(Object.assign(Object.assign({title:S},M),{defaultSize:g,length:R,position:T,plane:p,orientation:A,padding:D,order:L,crossPadding:I,size:k,type:u,scales:f}))}}),s}function dL(t,e,n,r,i){const[a]=Le("component",r),{scaleInstances:o,scale:s,bbox:l}=t,c=zo(t,["scaleInstances","scale","bbox"]),u={bbox:l,library:r};return a(c)({coordinate:e,library:r,markState:i,scales:o,theme:n,value:u,scale:s})}function sbt(t){return t.map(e=>{const n=U(e,e.style);return delete n.style,n})}function e9(t,e){const n=["left","right","bottom","top"];return iw(t,({type:a,position:o,group:s})=>n.includes(o)?s===void 0?a.startsWith("legend")?`legend-${o}`:Symbol("independent"):s==="independent"?Symbol("independent"):s:Symbol("independent")).flatMap(([,a])=>{if(a.length===1)return a[0];if(e!==void 0){const u=a.filter(v=>v.length!==void 0).map(v=>v.length),f=Qr(u);if(f>e)return a.forEach(v=>v.group=Symbol("independent")),a;const h=e-f,d=a.length-u.length,p=h/d;a.forEach(v=>{v.length===void 0&&(v.length=p)})}const o=Jt(a,u=>u.size),s=Jt(a,u=>u.order),l=Jt(a,u=>u.crossPadding),c=a[0].position;return{type:"group",size:o,order:s,position:c,children:a,crossPadding:l}})}function lbt(t,e){const n=["shape","size","color","opacity"],r=(h,d)=>h==="constant"&&d==="size",i=t.filter(({type:h,name:d})=>typeof h=="string"&&n.includes(d)&&!r(h,d)),a=i.filter(({type:h})=>h==="constant"),o=i.filter(({type:h})=>h!=="constant"),l=iw(o,h=>h.field?h.field:Symbol("independent")).map(([h,d])=>[h,[...d,...a]]).filter(([,h])=>h.some(d=>d.type!=="constant")),c=new Map(l);if(c.size===0)return[];const u=h=>h.sort(([d],[p])=>d.localeCompare(p));return Array.from(c).map(([,h])=>{const p=Ftt(h).sort((v,g)=>g.length-v.length).map(v=>({combination:v,option:v.map(g=>[g.name,cbt(g)])}));for(const{option:v,combination:g}of p)if(!v.every(y=>y[1]==="constant")&&v.every(y=>y[1]==="discrete"||y[1]==="constant"))return["legendCategory",g];for(const[v,g]of Xgt)for(const{option:y,combination:m}of p)if(g.some(b=>Fv(u(b),u(y))))return[v,m];return null}).filter(pe)}function cbt(t){const{type:e}=t;return typeof e!="string"?null:e in nbt?"continuous":e in ibt?"discrete":e in rbt?"distribution":e in abt?"constant":null}function ubt(t,e){return t.map(n=>{const{name:r}=n;if(ymt(e)||Sz(e)||ic(e)&&(Os(e)||Cf(e)))return null;if(r.startsWith("x"))return Os(e)?["axisArc",[n]]:Cf(e)?["axisLinear",[n]]:[ic(e)?"axisY":"axisX",[n]];if(r.startsWith("y"))return Os(e)?["axisLinear",[n]]:Cf(e)?["axisArc",[n]]:[ic(e)?"axisX":"axisY",[n]];if(r.startsWith("z"))return["axisZ",[n]];if(r.startsWith("position")){if(xmt(e))return["axisRadar",[n]];if(!Os(e))return["axisY",[n]]}return null}).filter(pe)}function fbt(t,e){const n=t.filter(r=>ebt(r));return[...lbt(n),...ubt(n,e)]}function v_(t){const e=wi(t,"polar");if(e.length){const r=e[e.length-1],{startAngle:i,endAngle:a}=BR(r);return[i,a]}const n=wi(t,"radial");if(n.length){const r=n[n.length-1],{startAngle:i,endAngle:a}=jR(r);return[i,a]}return[-Math.PI/2,Math.PI/2*3]}function hbt(t){const e=/position(\d*)/g.exec(t);return e?+e[1]:null}function dbt(t,e,n,r,i){const{name:a}=n[0];if(t==="axisRadar"){const o=r.filter(f=>f.name.startsWith("position")),s=hbt(a);if(a===o.slice(-1)[0].name||s===null)return[null,null];const[l,c]=v_(i);return["center",(c-l)/(o.length-1)*s+l]}if(t==="axisY"&&mmt(i))return ic(i)?["center","horizontal"]:["center","vertical"];if(t==="axisLinear"){const[o]=v_(i);return["center",o]}return t==="axisArc"?e[0]==="inner"?["inner",null]:["outer",null]:Os(i)?["center",null]:Cf(i)?["center",null]:t==="axisX"&&bmt(i)||t==="axisX"&&_mt(i)?["top",null]:e}function pbt(t,e,n,r,i,a,o){const[s]=v_(o),l=[r.position||e,s??n];return typeof t=="string"&&t.startsWith("axis")?dbt(t,l,i,a,o):typeof t=="string"&&t.startsWith("legend")&&Os(o)&&r.position==="center"?["center","vertical"]:l}function vbt(t,e,n=[]){return t==="x"?ic(n)?`${e}Y`:`${e}X`:t==="y"?ic(n)?`${e}X`:`${e}Y`:null}function gbt(t,e,n){const[,r]=Le("component",n),{coordinates:i}=t;function a(o,s,l,c){const u=vbt(s,o,i);if(!c||!u)return;const{props:f}=r(u),{defaultPosition:h,defaultSize:d,defaultOrder:p,defaultCrossPadding:[v]}=f;return Object.assign(Object.assign({position:h,defaultSize:d,order:p,type:u,crossPadding:v},c),{scales:[l]})}return e.filter(o=>o.slider||o.scrollbar).flatMap(o=>{const{slider:s,scrollbar:l,name:c}=o;return[a("slider",c,o,s),a("scrollbar",c,o,l)]}).filter(o=>!!o)}function n9(t,e,n,r,i,a){const{type:o}=t;if(!["left","right","bottom","top"].includes(r)||typeof o!="string")return;const l=o;return(l.startsWith("axis")?_bt:l.startsWith("group")?ybt:l.startsWith("legendContinuous")?wbt:l==="legendCategory"?Sbt:l.startsWith("slider")?xbt:l==="title"?bbt:l.startsWith("scrollbar")?mbt:()=>{})(t,e,n,r,i,a)}function ybt(t,e,n,r,i,a){const{children:o}=t,s=Jt(o,c=>c.crossPadding);o.forEach(c=>c.crossPadding=s),o.forEach(c=>n9(c,e,n,r,i,a));const l=Jt(o,c=>c.size);t.size=l,o.forEach(c=>c.size=l)}function mbt(t,e,n,r,i,a){const{trackSize:o=6}=U({},i.scrollbar,t);t.size=o}function bbt(t,e,n,r,i,a){const o=U({},i.title,t),{title:s,subtitle:l,spacing:c=0}=o,u=zo(o,["title","subtitle","spacing"]);if(s){const f=nt(u,"title"),h=Dg(s,f);t.size=h.height}if(l){const f=nt(u,"subtitle"),h=Dg(l,f);t.size+=c+h.height}}function xbt(t,e,n,r,i,a){const o=()=>{const{slider:u}=i;return U({},u,t)},{trackSize:s,handleIconSize:l}=o(),c=Math.max(s,l*2.4);t.size=c}function _bt(t,e,n,r,i,a){var o;t.transform=t.transform||[{type:"hide"}];const s=r==="left"||r==="right",l=r9(t,r,i),{tickLength:c=0,labelSpacing:u=0,titleSpacing:f=0,labelAutoRotate:h}=l,d=zo(l,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),p=ay(t,a),v=oy(d,p),g=c+u;if(v&&v.length){const m=Jt(v,x=>x.width),b=Jt(v,x=>x.height);if(s)t.size=m+g;else{const{tickFilter:x,labelTransform:_}=t;Tbt(p,v,e,n,x)&&!_&&h!==!1&&h!==null?(t.labelTransform="rotate(90)",t.size=m+g):(t.labelTransform=(o=t.labelTransform)!==null&&o!==void 0?o:"rotate(0)",t.size=b+g)}}else t.size=c;const y=sy(d);y&&(s?t.size+=f+y.width:t.size+=f+y.height)}function wbt(t,e,n,r,i,a){const s=(()=>{const{legendContinuous:x}=i;return U({},x,t)})(),{labelSpacing:l=0,titleSpacing:c=0}=s,u=zo(s,["labelSpacing","titleSpacing"]),f=r==="left"||r==="right",h=nt(u,"ribbon"),{size:d}=h,p=nt(u,"handleIcon"),{size:v}=p,g=Math.max(d,v*2.4);t.size=g;const y=ay(t,a),m=oy(u,y);if(m){const x=f?"width":"height",_=Jt(m,w=>w[x]);t.size+=_+l}const b=sy(u);b&&(f?t.size=Math.max(t.size,b.width):t.size+=c+b.height)}function Sbt(t,e,n,r,i,a){const s=(()=>{const{legendCategory:C}=i,{title:k}=t,[L,R]=Array.isArray(k)?[k,void 0]:[void 0,k];return U({title:L},C,Object.assign(Object.assign({},t),{title:R}))})(),{itemSpacing:l,itemMarkerSize:c,titleSpacing:u,rowPadding:f,colPadding:h,maxCols:d=1/0,maxRows:p=1/0}=s,v=zo(s,["itemSpacing","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:g,length:y}=t,m=C=>Math.min(C,p),b=C=>Math.min(C,d),x=r==="left"||r==="right",_=y===void 0?e+(x?0:n[0]+n[1]):y,w=sy(v),S=ay(t,a),O=oy(v,S,"itemLabel"),M=Math.max(O[0].height,c)+f,T=(C,k=0)=>c+C+l[0]+k;x?(()=>{let C=-1/0,k=0,L=1,R=0,D=-1/0,I=-1/0;const N=w?w.height:0,F=_-N;for(const{width:j}of O){const z=T(j,h);C=Math.max(C,z),k+M>F?(L++,D=Math.max(D,R),I=Math.max(I,k),R=1,k=M):(k+=M,R++)}L<=1&&(D=R,I=k),t.size=C*b(L),t.length=I+N,U(t,{cols:b(L),gridRow:D})})():typeof g=="number"?(()=>{const C=Math.ceil(O.length/g),k=Jt(O,L=>T(L.width))*g;t.size=M*m(C)-f,t.length=Math.min(k,_)})():(()=>{let C=1,k=0,L=-1/0;for(const{width:R}of O){const D=T(R,h);k+D>_?(L=Math.max(L,k),k=D,C++):k+=D}C===1&&(L=k),t.size=M*m(C)-f,t.length=L})(),w&&(x?t.size=Math.max(t.size,w.width):t.size+=u+w.height)}function ay(t,e){const[n]=Le("scale",e),{scales:r,tickCount:i,tickMethod:a}=t,o=r.find(s=>s.type!=="constant"&&s.type!=="identity");return i!==void 0&&(o.tickCount=i),a!==void 0&&(o.tickMethod=a),n(o)}function oy(t,e,n="label"){const{labelFormatter:r,tickFilter:i,label:a=!0}=t,o=zo(t,["labelFormatter","tickFilter","label"]);if(!a)return null;const s=Obt(e,r,i),l=nt(o,n),c=s.map((h,d)=>Object.fromEntries(Object.entries(l).map(([p,v])=>[p,typeof v=="function"?v(h,d):v]))),u=s.map((h,d)=>{const p=c[d];return Dg(h,p)});if(!c.some(h=>h.transform)){const h=s.map((d,p)=>p);t.indexBBox=new Map(h.map(d=>[d,[s[d],u[d]]]))}return u}function sy(t){const e=c=>c===!1||c===null,{title:n}=t,r=zo(t,["title"]);if(e(n)||n===void 0)return null;const i=nt(r,"title"),{direction:a,transform:o}=i,s=Array.isArray(n)?n.join(","):n;return typeof s!="string"?null:Dg(s,Object.assign(Object.assign({},i),{transform:o||(a==="vertical"?"rotate(-90)":"")}))}function r9(t,e,n){const{title:r}=t,[i,a]=Array.isArray(r)?[r,void 0]:[void 0,r],{axis:o,[`axis${uw(e)}`]:s}=n;return U({title:i},o,s,Object.assign(Object.assign({},t),{title:a}))}function i9(t,e){const n=t.getTicks?t.getTicks():t.getOptions().domain;return e?n.filter(e):n}function Obt(t,e,n){const i=i9(t,n).map(o=>typeof o=="number"?og(o):o),a=e?typeof e=="string"?No(e):e:t.getFormatter?t.getFormatter():o=>`${o}`;return i.map(a)}function Mbt(t,e){return t.getBandWidth?t.getBandWidth(e)/2:0}function Tbt(t,e,n,r,i){if(Qr(e,d=>d.width)>n)return!0;const o=t.clone();o.update({range:[0,n]});const s=i9(t,i),l=s.map(d=>o.map(d)+Mbt(o,d)),c=s.map((d,p)=>p),u=-r[0],f=n+r[1],h=(d,p)=>{const{width:v}=p;return[d-v/2,d+v/2]};for(let d=0;d<c.length;d++){const p=l[d],[v,g]=h(p,e[d]);if(v<u||g>f)return!0;const y=l[d+1];if(y){const[m]=h(y,e[d+1]);if(g>m)return!0}}return!1}function Dg(t,e){const n=Abt(t),r=zo(e,["filter"]);return n.attr(Object.assign(Object.assign({},r),{visibility:"none"})),n.getBBox()}function Abt(t){return t instanceof jn?t:new Ki({style:{text:`${t}`}})}function Ebt(t){const e=t.find(({type:i})=>i==="axisX"),n=t.find(({type:i})=>i==="axisY"),r=t.find(({type:i})=>i==="axisZ");e&&n&&r&&(e.plane="xy",n.plane="xy",r.plane="yz",r.origin=[e.bbox.x,e.bbox.y,0],r.eulerAngles=[0,-90,0],r.bbox.x=e.bbox.x,r.bbox.y=e.bbox.y,t.push(Object.assign(Object.assign({},e),{plane:"xz",showLabel:!1,showTitle:!1,origin:[e.bbox.x,e.bbox.y,0],eulerAngles:[-90,0,0]})),t.push(Object.assign(Object.assign({},n),{plane:"yz",showLabel:!1,showTitle:!1,origin:[n.bbox.x+n.bbox.width,n.bbox.y,0],eulerAngles:[0,-90,0]})),t.push(Object.assign(Object.assign({},r),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}function Pbt(t,e,n,r){var i,a;const{width:o,height:s,depth:l,x:c=0,y:u=0,z:f=0,inset:h=(i=n.inset)!==null&&i!==void 0?i:0,insetLeft:d=h,insetTop:p=h,insetBottom:v=h,insetRight:g=h,margin:y=(a=n.margin)!==null&&a!==void 0?a:0,marginLeft:m=y,marginBottom:b=y,marginTop:x=y,marginRight:_=y,padding:w=n.padding,paddingBottom:S=w,paddingLeft:O=w,paddingRight:M=w,paddingTop:T=w}=kbt(t,e,n,r),A=1/4,P=(Z,W,K,ot,at)=>{const{marks:ft}=e;if(ft.length===0)return[ot,at];if(Z-ot-at-Z*A>0)return[ot,at];const mt=Z*(1-A);return[W==="auto"?mt*ot/(ot+at):ot,K==="auto"?mt*at/(ot+at):at]},E=Z=>Z==="auto"?20:Z??20,C=E(T),k=E(S),L=pL(t,s-C-k,[C+x,k+b],["left","right"],e,n,r),{paddingLeft:R,paddingRight:D}=L,I=o-m-_,[N,F]=P(I,O,M,R,D),j=I-N-F,z=pL(t,j,[N+m,F+_],["bottom","top"],e,n,r),{paddingTop:G,paddingBottom:V}=z,Q=s-b-x,[Y,H]=P(Q,S,T,V,G),tt=Q-Y-H;return{width:o,height:s,depth:l,insetLeft:d,insetTop:p,insetBottom:v,insetRight:g,innerWidth:j,innerHeight:tt,paddingLeft:N,paddingRight:F,paddingTop:H,paddingBottom:Y,marginLeft:m,marginBottom:b,marginTop:x,marginRight:_,x:c,y:u,z:f}}function Cbt(t){const{height:e,width:n,padding:r=0,paddingLeft:i=r,paddingRight:a=r,paddingTop:o=r,paddingBottom:s=r,margin:l=16,marginLeft:c=l,marginRight:u=l,marginTop:f=l,marginBottom:h=l,inset:d=0,insetLeft:p=d,insetRight:v=d,insetTop:g=d,insetBottom:y=d}=t,m=_=>_==="auto"?20:_,b=n-m(i)-m(a)-c-u-p-v,x=e-m(o)-m(s)-f-h-g-y;return{width:b,height:x}}function kbt(t,e,n,r){const{coordinates:i}=e;if(!Os(i)&&!Cf(i))return e;const a=t.filter(y=>typeof y.type=="string"&&y.type.startsWith("axis"));if(a.length===0)return e;const o=a.map(y=>{const m=y.type==="axisArc"?"arc":"linear";return r9(y,m,n)}),s=Jt(o,y=>{var m;return(m=y.labelSpacing)!==null&&m!==void 0?m:0}),l=a.flatMap((y,m)=>{const b=o[m],x=ay(y,r);return oy(b,x)}).filter(pe),c=Jt(l,y=>y.height)+s,u=a.flatMap((y,m)=>{const b=o[m];return sy(b)}).filter(y=>y!==null),f=u.length===0?0:Jt(u,y=>y.height),{inset:h=c,insetLeft:d=h,insetBottom:p=h,insetTop:v=h+f,insetRight:g=h}=e;return Object.assign(Object.assign({},e),{insetLeft:d,insetBottom:p,insetTop:v,insetRight:g})}function pL(t,e,n,r,i,a,o){const s=Pe(t,p=>p.position),{padding:l=a.padding,paddingLeft:c=l,paddingRight:u=l,paddingBottom:f=l,paddingTop:h=l}=i,d={paddingBottom:f,paddingLeft:c,paddingTop:h,paddingRight:u};for(const p of r){const v=`padding${uw(l8(p))}`,g=s.get(p)||[],y=d[v],m=M=>{M.size===void 0&&(M.size=M.defaultSize)},b=M=>{M.type==="group"?(M.children.forEach(m),M.size=Jt(M.children,T=>T.size)):M.size=M.defaultSize},x=M=>{M.size||(y!=="auto"?b(M):(n9(M,e,n,p,a,o),m(M)))},_=M=>{M.type.startsWith("axis")&&M.labelAutoHide===void 0&&(M.labelAutoHide=!0)},w=p==="bottom"||p==="top",S=Er(g,M=>M.order),O=g.filter(M=>M.type.startsWith("axis")&&M.order==S);if(O.length&&(O[0].crossPadding=0),typeof y=="number")g.forEach(m),g.forEach(_);else if(g.length===0)d[v]=0;else{const M=w?e+n[0]+n[1]:e,T=e9(g,M);T.forEach(x);const A=T.reduce((P,{size:E,crossPadding:C=12})=>P+E+C,0);d[v]=A}}return d}function Lbt(t,e,n){const r=Pe(t,w=>`${w.plane||"xy"}-${w.position}`),{paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:l,marginTop:c,marginBottom:u,marginRight:f,innerHeight:h,innerWidth:d,insetBottom:p,insetLeft:v,insetRight:g,insetTop:y,height:m,width:b,depth:x}=n,_={xy:P1({width:b,height:m,paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:l,marginTop:c,marginBottom:u,marginRight:f,innerHeight:h,innerWidth:d,insetBottom:p,insetLeft:v,insetRight:g,insetTop:y}),yz:P1({width:x,height:m,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:x,innerHeight:m,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:P1({width:b,height:x,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:b,innerHeight:x,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[w,S]of r.entries()){const[O,M]=w.split("-"),T=_[O][M],[A,P]=k3(S,E=>typeof E.type!="string"?!1:!!(M==="center"||E.type.startsWith("axis")&&["inner","outer"].includes(M)));A.length&&Dbt(A,e,T,M),P.length&&Gbt(S,e,T)}}function P1({width:t,height:e,paddingLeft:n,paddingRight:r,paddingTop:i,paddingBottom:a,marginLeft:o,marginTop:s,marginBottom:l,marginRight:c,innerHeight:u,innerWidth:f,insetBottom:h,insetLeft:d,insetRight:p,insetTop:v}){const g=n+o,y=i+s,m=r+c,b=a+l,x=t-o-c,_=[g+d,y+v,f-d-p,u-v-h,"center",null,null];return{top:[g,0,f,y,"vertical",!0,ze,o,x],right:[t-m,y,m,u,"horizontal",!1,ze],bottom:[g,e-b,f,b,"vertical",!1,ze,o,x],left:[0,y,g,u,"horizontal",!0,ze],"top-left":[g,0,f,y,"vertical",!0,ze],"top-right":[g,0,f,y,"vertical",!0,ze],"bottom-left":[g,e-b,f,b,"vertical",!1,ze],"bottom-right":[g,e-b,f,b,"vertical",!1,ze],center:_,inner:_,outer:_}}function Dbt(t,e,n,r){const[i,a]=k3(t,o=>!!(typeof o.type=="string"&&o.type.startsWith("axis")));Ibt(i,e,n,r),Wbt(a,e,n)}function Ibt(t,e,n,r){r==="center"?urt(e)?$bt(t,e,n):ce(e)?Bbt(t,e,n):P0(e)&&Fbt(t,e,n,t[0].orientation):r==="inner"?Rbt(t,e,n):r==="outer"&&Nbt(t,e,n)}function Rbt(t,e,n){const[r,i,,a]=n,[o,s]=e.getCenter(),[l]=C0(e),c=a/2,u=l*c,f=o-u,h=s-u;for(let d=0;d<t.length;d++){const p=t[d];p.bbox={x:r+f,y:i+h,width:u*2,height:u*2}}}function Nbt(t,e,n){const[r,i,a,o]=n;for(const s of t)s.bbox={x:r,y:i,width:a,height:o}}function Bbt(t,e,n){const[r,i,a,o]=n;for(const s of t)s.bbox={x:r,y:i,width:a,height:o}}function Fbt(t,e,n,r){r==="horizontal"?zbt(t,e,n):r==="vertical"&&jbt(t,e,n)}function jbt(t,e,n){const[r,i,,a]=n,o=new Array(t.length).fill(0),l=e.map(o).filter((c,u)=>u%2===0).map(c=>c+r);for(let c=0;c<t.length;c++){const u=t[c],f=l[c],h=l[c+1]-f;u.bbox={x:f,y:i,width:h,height:a}}}function zbt(t,e,n){const[r,i,a]=n,o=new Array(t.length).fill(0),l=e.map(o).filter((c,u)=>u%2===1).map(c=>c+i);for(let c=0;c<t.length;c++){const u=t[c],f=l[c],h=l[c+1]-f;u.bbox={x:r,y:f,width:a,height:h}}}function $bt(t,e,n,r){const[i,a,o,s]=n;for(const l of t)l.bbox={x:i,y:a,width:o,height:s},l.radar={index:t.indexOf(l),count:t.length}}function Gbt(t,e,n){const[r,i,a,o,s,l,c,u,f]=n,[h,d,p,v,g,y,m,b]=s==="vertical"?["y",i,"x",r,"height",o,"width",a]:["x",r,"y",i,"width",a,"height",o];t.sort((M,T)=>c==null?void 0:c(M.order,T.order));const x=M=>M==="title"||M==="group"||M.startsWith("legend"),_=(M,T,A)=>A===void 0?T:x(M)?A:T,w=(M,T,A)=>A===void 0?T:x(M)?A:T,S=l?d+y:d;for(let M=0,T=S;M<t.length;M++){const A=t[M],{crossPadding:P=0,type:E}=A,{size:C}=A;A.bbox={[h]:l?T-C-P:T+P,[p]:w(E,v,u),[g]:C,[m]:_(E,b,f)},T+=(C+P)*(l?-1:1)}const O=t.filter(M=>M.type==="group");for(const M of O){const{bbox:T,children:A}=M,P=T[m],E=P/A.length,C=A.reduce((I,N)=>{var F;const j=(F=N.layout)===null||F===void 0?void 0:F.justifyContent;return j||I},"flex-start"),k=A.map((I,N)=>{const{length:F=E,padding:j=0}=I;return F+(N===A.length-1?0:j)}),L=Qr(k),R=P-L,D=C==="flex-start"?0:C==="center"?R/2:R;for(let I=0,N=T[p]+D;I<A.length;I++){const F=A[I],{padding:j=0}=F,z=I===A.length-1?0:j;F.bbox={[g]:T[g],[h]:T[h],[p]:N,[m]:k[I]-z},U(F,{layout:{justifyContent:C}}),N+=k[I]}}}function Wbt(t,e,n){if(t.length===0)return;const[r,i,a,o]=n,[s]=C0(e),l=o/2*s/Math.sqrt(2),c=r+a/2,u=i+o/2;for(let f=0;f<t.length;f++){const h=t[f];h.bbox={x:c-l,y:u-l,width:l*2,height:l*2}}}var Hbt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},Rc=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Ybt(t,e,n){const{encode:r={},scale:i={},transform:a=[]}=e,o=Rc(e,["encode","scale","transform"]);return[t,Object.assign(Object.assign({},o),{encode:r,scale:i,transform:a})]}function a9(t,e,n){return Hbt(this,void 0,void 0,function*(){const{library:r}=n,{data:i}=e,[a]=Le("data",r),o=ixt(i),{transform:s=[]}=o,u=[Rc(o,["transform"]),...s].map(d=>a(d,n)),f=yield Ltt(u)(i),h=i&&!Array.isArray(i)&&!Array.isArray(f)?{value:f}:f;return[Array.isArray(f)?Zs(f):[],Object.assign(Object.assign({},e),{data:h})]})}function Vbt(t,e,n){const{encode:r}=e;if(!r)return[t,e];const i={};for(const[a,o]of Object.entries(r))if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=`${a}${s===0?"":s}`;i[l]=o[s]}else i[a]=o;return[t,Object.assign(Object.assign({},e),{encode:i})]}function Xbt(t,e,n){const{encode:r,data:i}=e;if(!r)return[t,e];const a=qi(r,o=>ext(o)?o:{type:nxt(i,o),value:o});return[t,Object.assign(Object.assign({},e),{encode:a})]}function Ubt(t,e,n){const{encode:r}=e;if(!r)return[t,e];const i=qi(r,(a,o)=>{const{type:s}=a;return s!=="constant"||tbt(o)?a:Object.assign(Object.assign({},a),{constant:!0})});return[t,Object.assign(Object.assign({},e),{encode:i})]}function qbt(t,e,n){const{encode:r,data:i}=e;if(!r)return[t,e];const{library:a}=n,o=sxt(a),s=qi(r,l=>o(i,l));return[t,Object.assign(Object.assign({},e),{encode:s})]}function Zbt(t,e,n){const{tooltip:r={}}=e;return ka(r)?[t,e]:Array.isArray(r)?[t,Object.assign(Object.assign({},e),{tooltip:{items:r}})]:yc(r)&&z8(r)?[t,Object.assign(Object.assign({},e),{tooltip:r})]:[t,Object.assign(Object.assign({},e),{tooltip:{items:[r]}})]}function Kbt(t,e,n){const{data:r,encode:i,tooltip:a={}}=e;if(ka(a))return[t,e];const o=f=>{if(!f)return f;if(typeof f=="string")return t.map(h=>({name:f,value:r[h][f]}));if(yc(f)){const{field:h,channel:d,color:p,name:v=h,valueFormatter:g=w=>w}=f,y=typeof g=="string"?No(g):g,m=d&&i[d],b=m&&i[d].field,x=v||b||d,_=[];for(const w of t){const S=h?r[w][h]:m?i[d].value[w]:null;_[w]={name:x,color:p,value:y(S)}}return _}if(typeof f=="function"){const h=[];for(const d of t){const p=f(r[d],d,r,i);yc(p)?h[d]=p:h[d]={value:p}}return h}return f},{title:s,items:l=[]}=a,c=Rc(a,["title","items"]),u=Object.assign({title:o(s),items:Array.isArray(l)?l.map(o):[]},c);return[t,Object.assign(Object.assign({},e),{tooltip:u})]}function Qbt(t,e,n){const{encode:r}=e,i=Rc(e,["encode"]);if(!r)return[t,e];const a=Object.entries(r),o=a.filter(([,l])=>{const{value:c}=l;return Array.isArray(c[0])}).flatMap(([l,c])=>{const u=[[l,new Array(t.length).fill(void 0)]],{value:f}=c,h=Rc(c,["value"]);for(let d=0;d<f.length;d++){const p=f[d];if(Array.isArray(p))for(let v=0;v<p.length;v++){const g=u[v]||[`${l}${v}`,new Array(t).fill(void 0)];g[1][d]=p[v],u[v]=g}}return u.map(([d,p])=>[d,Object.assign({type:"column",value:p},h)])}),s=Object.fromEntries([...a,...o]);return[t,Object.assign(Object.assign({},i),{encode:s})]}function Jbt(t,e,n){const{axis:r={},legend:i={},slider:a={},scrollbar:o={}}=e,s=(c,u)=>{if(typeof c=="boolean")return c?{}:null;const f=c[u];return f===void 0||f?f:null},l=typeof r=="object"?Array.from(new Set(["x","y","z",...Object.keys(r)])):["x","y","z"];return U(e,{scale:Object.assign(Object.assign({},Object.fromEntries(l.map(c=>{const u=s(o,c);return[c,Object.assign({guide:s(r,c),slider:s(a,c),scrollbar:u},u&&{ratio:u.ratio===void 0?.5:u.ratio})]}))),{color:{guide:s(i,"color")},size:{guide:s(i,"size")},shape:{guide:s(i,"shape")},opacity:{guide:s(i,"opacity")}})}),[t,e]}function txt(t,e,n){const{animate:r}=e;return r||r===void 0?[t,e]:(U(e,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[t,e])}function ext(t){if(typeof t!="object"||t instanceof Date||t===null)return!1;const{type:e}=t;return pe(e)}function nxt(t,e){return typeof e=="function"?"transform":typeof e=="string"&&rxt(t,e)?"field":"constant"}function rxt(t,e){return Array.isArray(t)?t.some(n=>n[e]!==void 0):!1}function ixt(t){if(we(t))return{type:"inline",value:t};if(!t)return{type:"inline",value:null};if(Array.isArray(t))return{type:"inline",value:t};const{type:e="inline"}=t,n=Rc(t,["type"]);return Object.assign(Object.assign({},n),{type:e})}var o9=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},axt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function oxt(t,e,n){return o9(this,void 0,void 0,function*(){const[r,i]=yield lxt(t,e,n),{encode:a,scale:o,data:s,tooltip:l}=i;if(Array.isArray(s)===!1)return null;const{channels:c}=e,u=ow(Object.entries(a).filter(([,h])=>pe(h)),h=>h.map(([d,p])=>Object.assign({name:d},p)),([h])=>{var d;const p=(d=/([^\d]+)\d*$/.exec(h))===null||d===void 0?void 0:d[1],v=c.find(g=>g.name===p);return v!=null&&v.independent?h:p}),f=c.filter(h=>{const{name:d,required:p}=h;if(u.find(([v])=>v===d))return!0;if(p)throw new Error(`Missing encoding for channel: ${d}.`);return!1}).flatMap(h=>{const{name:d,scale:p,scaleKey:v,range:g,quantitative:y,ordinal:m}=h;return u.filter(([x])=>x.startsWith(d)).map(([x,_],w)=>{const S=_.some(L=>L.visual),O=_.some(L=>L.constant),M=o[x]||{},{independent:T=!1,key:A=v||x,type:P=O?"constant":S?"identity":p}=M,E=axt(M,["independent","key","type"]),C=P==="constant",k=C?void 0:g;return{name:x,values:_,scaleKey:T||C?Symbol("independent"):A,scale:Object.assign(Object.assign({type:P,range:k},E),{quantitative:y,ordinal:m})}})});return[i,Object.assign(Object.assign({},e),{index:r,channels:f,tooltip:l})]})}function sxt(t){const[e]=Le("encode",t);return(n,r)=>r===void 0||n===void 0?null:Object.assign(Object.assign({},r),{type:"column",value:e(r)(n),field:cxt(r)})}function lxt(t,e,n){return o9(this,void 0,void 0,function*(){const{library:r}=n,[i]=Le("transform",r),{preInference:a=[],postInference:o=[]}=e,{transform:s=[]}=t,l=[Ybt,a9,Vbt,Xbt,Ubt,qbt,Qbt,txt,Jbt,Zbt,...a.map(i),...s.map(i),...o.map(i),Kbt];let c=[],u=t;for(const f of l)[c,u]=yield f(c,u,n);return[c,u]})}function cxt(t){const{type:e,value:n}=t;return e==="field"&&typeof n=="string"?n:null}var Ma=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},Eo=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function oO(t,e,n){var r;return Ma(this,void 0,void 0,function*(){const{library:i}=n,[a]=Le("composition",i),[o]=Le("interaction",i),s=new Set(Object.keys(i).map(E=>{var C;return(C=/mark\.(.*)/.exec(E))===null||C===void 0?void 0:C[1]}).filter(pe)),l=new Set(Object.keys(i).map(E=>{var C;return(C=/component\.(.*)/.exec(E))===null||C===void 0?void 0:C[1]}).filter(pe)),c=E=>{const{type:C}=E;if(typeof C=="function"){const{props:k={}}=C,{composite:L=!0}=k;if(L)return"mark"}return typeof C!="string"?C:s.has(C)||l.has(C)?"mark":C},u=E=>c(E)==="mark",f=E=>c(E)==="standardView",h=E=>{const{type:C}=E;return typeof C!="string"?!1:!!l.has(C)},d=E=>{if(f(E))return[E];const C=c(E);return a({type:C,static:h(E)})(E)},p=[],v=new Map,g=new Map,y=[t],m=[];for(;y.length;){const E=y.shift();if(f(E)){const C=g.get(E),[k,L]=C?c9(C,E,i):yield s9(E,n);v.set(k,E),p.push(k);const R=L.flatMap(d).map(D=>wz(D,i));if(y.push(...R),R.every(f)){const D=yield Promise.all(R.map(I=>l9(I,n)));L1t(D);for(let I=0;I<R.length;I++){const N=R[I],F=D[I];g.set(N,F)}}}else{const C=u(E)?E:yield d9(E,n),k=d(C);Array.isArray(k)?y.push(...k):typeof k=="function"&&m.push(k())}}n.emitter.emit(ee.BEFORE_PAINT);const b=new Map,x=new Map,_=[];e.selectAll(Wi(Zx)).data(p,E=>E.key).join(E=>E.append("g").attr("className",Zx).attr("id",C=>C.key).call(vL).each(function(C,k,L){y_(C,gt(L),_,n),b.set(C,L)}),E=>E.call(vL).each(function(C,k,L){y_(C,gt(L),_,n),x.set(C,L)}),E=>E.each(function(C,k,L){const R=L.nameInteraction.values();for(const D of R)D.destroy()}).remove());const w=(E,C,k)=>Array.from(E.entries()).map(([L,R])=>{const D=k||new Map,I=(j,z=G=>G)=>D.set(j,z),N=v.get(L),F=fxt(gt(R),N,n);return{view:L,container:R,options:N,setState:I,update:(j,z)=>Ma(this,void 0,void 0,function*(){const V=cw(Array.from(D.values()))(N);return yield F(V,j,()=>{An(z)&&C(E,z,D)})})}}),S=(E=x,C,k)=>{var L;const R=w(E,S,k);for(const D of R){const{options:I,container:N}=D,F=N.nameInteraction;let j=Ig(I);C&&(j=j.filter(z=>C.includes(z[0])));for(const z of j){const[G,V]=z,Q=F.get(G);if(Q&&((L=Q.destroy)===null||L===void 0||L.call(Q)),V){const H=g_(D.view,G,V,o)(D,R,n.emitter);F.set(G,{destroy:H})}}}},O=w(b,S);for(const E of O){const{options:C}=E,k=new Map;E.container.nameInteraction=k;for(const L of Ig(C)){const[R,D]=L;if(D){const N=g_(E.view,R,D,o)(E,O,n.emitter);k.set(R,{destroy:N})}}}S();const{width:M,height:T}=t,A=[];for(const E of m){const C=new Promise(k=>Ma(this,void 0,void 0,function*(){for(const L of E){const R=Object.assign({width:M,height:T},L);yield oO(R,e,n)}k()}));A.push(C)}n.views=p,(r=n.animations)===null||r===void 0||r.forEach(E=>E==null?void 0:E.cancel()),n.animations=_,n.emitter.emit(ee.AFTER_PAINT);const P=_.filter(pe).map(Txt).map(E=>E.finished);return Promise.all([...P,...A])})}function vL(t){t.style("transform",e=>`translate(${e.layout.x}, ${e.layout.y})`)}function uxt(t){const[,e]=Le("interaction",t);return n=>{const[r,i]=n;try{return[r,e(r)]}catch{return[r,i.type]}}}function fxt(t,e,n){const{library:r}=n,i=uxt(r),a=l=>l[1]&&l[1].props&&l[1].props.reapplyWhenUpdate,s=Ig(e).map(i).filter(a).map(l=>l[0]);return(l,c,u)=>Ma(this,void 0,void 0,function*(){const f=[],[h,d]=yield s9(l,n);y_(h,t,f,n);for(const p of s.filter(v=>v!==c))hxt(p,t,l,h,n);for(const p of d)oO(p,t,n);return u(),{options:l,view:h}})}function hxt(t,e,n,r,i){var a;const{library:o}=i,[s]=Le("interaction",o),c=e.node().nameInteraction,u=Ig(n).find(([v])=>v===t),f=c.get(t);if(!f||((a=f.destroy)===null||a===void 0||a.call(f),!u[1]))return;const h=g_(r,t,u[1],s),d={options:n,view:r,container:e.node(),update:v=>Promise.resolve(v)},p=h(d,[],i.emitter);c.set(t,{destroy:p})}function s9(t,e){return Ma(this,void 0,void 0,function*(){const{library:n}=e,r=yield pxt(t,e),i=dxt(r);t.interaction=i.interaction,t.coordinate=i.coordinate,t.marks=[...i.marks,...i.components];const a=wz(i,n),o=yield l9(a,e);return c9(o,a,n)})}function dxt(t){const{coordinate:e={},interaction:n={},style:r={},marks:i}=t,a=Eo(t,["coordinate","interaction","style","marks"]),o=i.map(h=>h.coordinate||{}),s=i.map(h=>h.interaction||{}),l=i.map(h=>h.viewStyle||{}),c=[...o,e].reduceRight((h,d)=>U(h,d),{}),u=[n,...s].reduce((h,d)=>U(h,d),{}),f=[...l,r].reduce((h,d)=>U(h,d),{});return Object.assign(Object.assign({},a),{marks:i,coordinate:c,interaction:u,style:f})}function pxt(t,e){return Ma(this,void 0,void 0,function*(){const{library:n}=e,[r,i]=Le("mark",n),a=new Set(Object.keys(n).map(d=>{var p;return(p=/component\.(.*)/.exec(d))===null||p===void 0?void 0:p[1]}).filter(pe)),{marks:o}=t,s=[],l=[],c=[...o],{width:u,height:f}=Cbt(t),h={options:t,width:u,height:f};for(;c.length;){const[d]=c.splice(0,1),p=yield d9(d,e),{type:v=gc("G2Mark type is required."),key:g}=p;if(a.has(v))l.push(p);else{const{props:y={}}=i(v),{composite:m=!0}=y;if(!m)s.push(p);else{const{data:b}=p,x=Object.assign(Object.assign({},p),{data:b&&(Array.isArray(b)?b:b.value)}),_=yield r(x,h),w=Array.isArray(_)?_:[_];c.unshift(...w.map((S,O)=>Object.assign(Object.assign({},S),{key:`${g}-${O}`})))}}}return Object.assign(Object.assign({},t),{marks:s,components:l})})}function l9(t,e){return Ma(this,void 0,void 0,function*(){const{library:n}=e,[r]=Le("theme",n),[,i]=Le("mark",n),{theme:a,marks:o,coordinates:s=[]}=t,l=r(h9(a)),c=new Map;for(const f of o){const{type:h}=f,{props:d={}}=i(h),p=yield oxt(f,d,e);if(p){const[v,g]=p;c.set(v,g)}}const u=Pe(Array.from(c.values()).flatMap(f=>f.channels),({scaleKey:f})=>f);for(const f of u.values()){const h=f.reduce((x,{scale:_})=>U(x,_),{}),{scaleKey:d}=f[0],{values:p}=f[0],v=Array.from(new Set(p.map(x=>x.field).filter(pe))),g=U({guide:{title:v.length===0?void 0:v},field:v[0]},h),{name:y}=f[0],m=f.flatMap(({values:x})=>x.map(_=>_.value)),b=Object.assign(Object.assign({},A1t(y,m,g,s,l,n)),{uid:Symbol("scale"),key:d});f.forEach(x=>x.scale=b)}return c})}function g_(t,e,n,r){const i=t.theme,a=typeof e=="string"?i[e]||{}:{};return r(U(a,Object.assign({type:e},n)))}function c9(t,e,n){var r;const[i]=Le("mark",n),[a]=Le("theme",n),[o]=Le("labelTransform",n),{key:s,frame:l=!1,theme:c,clip:u,style:f={},labelTransform:h=[]}=e,d=a(h9(c)),p=Array.from(t.values()),v=C1t(p,e),g=sbt(obt(Cxt(Array.from(v),p,t),e,n)),y=Pbt(g,e,d,n),m=gmt(y,e,n),b=l?U({mainLineWidth:1,mainStroke:"#000"},f):f;Lbt(e9(g),m,y),Ebt(g);const x=new Map(Array.from(t.values()).flatMap(O=>{const{channels:M}=O;return M.map(({scale:T})=>[T.uid,oL(T,n)])}));P1t(t,x);const _={};for(const O of g){const{scales:M=[]}=O,T=[];for(const A of M){const{name:P,uid:E}=A,C=(r=x.get(E))!==null&&r!==void 0?r:oL(A,n);T.push(C),P==="y"&&C.update(Object.assign(Object.assign({},C.getOptions()),{xScale:_.x})),aL(_,{[P]:C})}O.scaleInstances=T}const w=[];for(const[O,M]of t.entries()){const{children:T,dataDomain:A,modifier:P,key:E}=O,{index:C,channels:k,tooltip:L}=M,R=Object.fromEntries(k.map(({name:Z,scale:W})=>[Z,W])),D=qi(R,({uid:Z})=>x.get(Z));aL(_,D);const I=E1t(k,D),N=i(O),[F,j,z]=yxt(N(C,D,I,m)),G=A||F.length,V=P?P(j,G,y):[],Q=Z=>{var W,K;return(K=(W=L.title)===null||W===void 0?void 0:W[Z])===null||K===void 0?void 0:K.value},Y=Z=>L.items.map(W=>W[Z]),H=F.map((Z,W)=>{const K=Object.assign({points:j[W],transform:V[W],index:Z,markKey:E,viewKey:s},L&&{title:Q(Z),items:Y(Z)});for(const[ot,at]of Object.entries(I))K[ot]=at[Z],z&&(K[`series${Co(ot)}`]=z[W].map(ft=>at[ft]));return z&&(K.seriesIndex=z[W]),z&&L&&(K.seriesItems=z[W].map(ot=>Y(ot)),K.seriesTitle=z[W].map(ot=>Q(ot))),K});M.data=H,M.index=F;const tt=T==null?void 0:T(H,D,y);w.push(...tt||[])}return[{layout:y,theme:d,coordinate:m,markState:t,key:s,clip:u,scale:_,style:b,components:g,labelTransform:cw(h.map(o))},w]}function y_(t,e,n,r){return Ma(this,void 0,void 0,function*(){const{library:i}=r,{components:a,theme:o,layout:s,markState:l,coordinate:c,key:u,style:f,clip:h,scale:d}=t,{x:p,y:v,width:g,height:y}=s,m=Eo(s,["x","y","width","height"]),b=["view","plot","main","content"],x=b.map((D,I)=>I),_=["a","margin","padding","inset"],w=b.map(D=>E3(Object.assign({},o.view,f),D)),S=_.map(D=>nt(m,D)),O=D=>D.style("x",I=>E[I].x).style("y",I=>E[I].y).style("width",I=>E[I].width).style("height",I=>E[I].height).each(function(I,N,F){kxt(gt(F),w[I])});let M=0,T=0,A=g,P=y;const E=x.map(D=>{const I=S[D],{left:N=0,top:F=0,bottom:j=0,right:z=0}=I;return M+=N,T+=F,A-=N+z,P-=F+j,{x:M,y:T,width:A,height:P}});e.selectAll(Wi(Ek)).data(x.filter(D=>pe(w[D])),D=>b[D]).join(D=>D.append("rect").attr("className",Ek).style("zIndex",-2).call(O),D=>D.call(O),D=>D.remove());const C=_xt(l),k=C?{duration:C[1]}:!1;for(const[,D]of iw(a,I=>`${I.type}-${I.position}`))D.forEach((I,N)=>I.index=N);const L=e.selectAll(Wi(Ak)).data(a,D=>`${D.type}-${D.position}-${D.index}`).join(D=>D.append("g").style("zIndex",({zIndex:I})=>I||-1).attr("className",Ak).append(I=>dL(U({animate:k,scale:d},I),c,o,i,l)),D=>D.transition(function(I,N,F){const{preserve:j=!1}=I;if(j)return;const z=dL(U({animate:k,scale:d},I),c,o,i,l),{attributes:G}=z,[V]=F.childNodes;return V.update(G,!1)})).transitions();n.push(...L.flat().filter(pe));const R=e.selectAll(Wi(bg)).data([s],()=>u).join(D=>D.append("rect").style("zIndex",0).style("fill","transparent").attr("className",bg).call(gL).call(yL,Array.from(l.keys())).call(mL,h),D=>D.call(yL,Array.from(l.keys())).call(I=>C?Pxt(I,C):gL(I)).call(mL,h)).transitions();n.push(...R.flat());for(const[D,I]of l.entries()){const{data:N}=I,{key:F,class:j,type:z}=D,G=e.select(`#${F}`),V=Oxt(D,I,t,r),Q=Mxt(D,I,t,i),Y=Axt(D,I,t,i),H=Ext(D,I,t,i),tt=wxt(e,G,j,"element"),Z=G.selectAll(Wi(va)).selectFacetAll(tt).data(N,W=>W.key,W=>W.groupKey).join(W=>W.append(V).attr("className",va).attr("markType",z).transition(function(K,ot,at){return Q(K,[at])}),W=>W.call(K=>{const ot=K.parent(),at=Dtt(ft=>{const[Tt,dt]=ft.getBounds().min;return[Tt,dt]});K.transition(function(ft,Tt,dt){Sxt(dt,ot,at);const mt=V(ft,Tt),Gt=Y(ft,[dt],[mt]);return Gt!==null||(dt.nodeName===mt.nodeName&&mt.nodeName!=="g"?fw(dt,mt):(dt.parentNode.replaceChild(mt,dt),mt.className=va,mt.markType=z,mt.__data__=dt.__data__)),Gt}).attr("markType",z).attr("className",va)}),W=>W.each(function(K,ot,at){at.__removed__=!0}).transition(function(K,ot,at){return H(K,[at])}).remove(),W=>W.append(V).attr("className",va).attr("markType",z).transition(function(K,ot,at){const{__fromElements__:ft}=at,Tt=Y(K,ft,[at]);return new ag(ft,null,at.parentNode).transition(Tt).remove(),Tt}),W=>W.transition(function(K,ot,at){const Tt=new ag([],at.__toData__,at.parentNode).append(V).attr("className",va).attr("markType",z).nodes();return Y(K,[at],Tt)}).remove()).transitions();n.push(...Z.flat())}vxt(t,e,n,i,r)})}function vxt(t,e,n,r,i){const[a]=Le("labelTransform",r),{markState:o,labelTransform:s}=t,l=e.select(Wi(qx)).node(),c=new Map,u=new Map,f=Array.from(o.entries()).flatMap(([g,y])=>{const{labels:m=[],key:b}=g,x=xxt(g,y,t,r,i),_=e.select(`#${b}`).selectAll(Wi(va)).nodes().filter(w=>!w.__removed__);return m.flatMap((w,S)=>{const O=Eo(w,["transform"]);return _.flatMap(M=>{const T=gxt(O,S,M);return T.forEach(A=>{c.set(A,x),u.set(A,w)}),T})})}),h=gt(l).selectAll(Wi(Kx)).data(f,g=>g.key).join(g=>g.append(y=>c.get(y)(y)).attr("className",Kx),g=>g.each(function(y,m,b){const _=c.get(y)(y);fw(b,_)}),g=>g.remove()).nodes(),d=Pe(h,g=>u.get(g.__data__)),{coordinate:p}=t,v={canvas:i.canvas,coordinate:p};for(const[g,y]of d){const{transform:m=[]}=g;cw(m.map(a))(y,v)}s&&s(h,v)}function gxt(t,e,n){const{seriesIndex:r,seriesKey:i,points:a,key:o,index:s}=n.__data__,l=bxt(n);if(!r)return[Object.assign(Object.assign({},t),{key:`${o}-${e}`,bounds:l,index:s,points:a,dependentElement:n})];const c=mxt(t),u=r.map((f,h)=>Object.assign(Object.assign({},t),{key:`${i[h]}-${e}`,bounds:[a[h]],index:f,points:a,dependentElement:n}));return c?c(u):u}function yxt([t,e,n]){if(n)return[t,e,n];const r=[],i=[];for(let a=0;a<t.length;a++){const o=t[a],s=e[a];s.every(([l,c])=>pe(l)&&pe(c))&&(r.push(o),i.push(s))}return[r,i]}function mxt(t){const{selector:e}=t;if(!e)return null;if(typeof e=="function")return e;if(e==="first")return n=>[n[0]];if(e==="last")return n=>[n[n.length-1]];throw new Error(`Unknown selector: ${e}`)}function bxt(t){const e=t.cloneNode(),n=t.getAnimations();e.style.visibility="hidden",n.forEach(o=>{const s=o.effect.getKeyframes();e.attr(s[s.length-1])}),t.parentNode.appendChild(e);const r=e.getLocalBounds();e.destroy();const{min:i,max:a}=r;return[i,a]}function xxt(t,e,n,r,i){const[a]=Le("shape",r),{data:o,encode:s}=t,{data:l,defaultLabelShape:c}=e,u=l.map(v=>v.points),f=qi(s,v=>v.value),{theme:h,coordinate:d}=n,p=Object.assign(Object.assign({},i),{document:_z(i),theme:h,coordinate:d});return v=>{const{index:g,points:y}=v,m=o[g],{formatter:b=R=>`${R}`,transform:x,style:_,render:w}=v,S=Eo(v,["formatter","transform","style","render"]),O=qi(Object.assign(Object.assign({},S),_),R=>u9(R,m,g,o,{channel:f})),{shape:M=c,text:T}=O,A=Eo(O,["shape","text"]),P=typeof b=="string"?No(b):b,E=Object.assign(Object.assign({},A),{text:P(T,m,g,o),datum:m}),C=Object.assign({type:`label.${M}`,render:w},A),k=a(C,p),L=f9(h,"label",M,"label");return k(y,E,L,u)}}function u9(t,e,n,r,i){return typeof t=="function"?t(e,n,r,i):typeof t!="string"?t:yc(e)&&e[t]!==void 0?e[t]:t}function _xt(t){let e=-1/0,n=1/0;for(const[r,i]of t){const{animate:a={}}=r,{data:o}=i,{enter:s={},update:l={},exit:c={}}=a,{type:u,duration:f=300,delay:h=0}=l,{type:d,duration:p=300,delay:v=0}=s,{type:g,duration:y=300,delay:m=0}=c;for(const b of o){const{updateType:x=u,updateDuration:_=f,updateDelay:w=h,enterType:S=d,enterDuration:O=p,enterDelay:M=v,exitDuration:T=y,exitDelay:A=m,exitType:P=g}=b;(x===void 0||x)&&(e=Math.max(e,_+w),n=Math.min(n,w)),(P===void 0||P)&&(e=Math.max(e,T+A),n=Math.min(n,A)),(S===void 0||S)&&(e=Math.max(e,O+M),n=Math.min(n,M))}}return e===-1/0?null:[n,e-n]}function wxt(t,e,n,r){return t.node().parentElement.findAll(a=>a.style.facet!==void 0&&a.style.facet===n&&a!==e.node()).flatMap(a=>a.getElementsByClassName(r))}function Sxt(t,e,n){if(!t.__facet__)return;const r=t.parentNode.parentNode,i=e.parentNode,[a,o]=n(r),[s,l]=n(i),c=`translate(${a-s}, ${o-l})`;Itt(t,c),e.append(t)}function Oxt(t,e,n,r){const{library:i}=r,[a]=Le("shape",i),{data:o,encode:s}=t,{defaultShape:l,data:c,shape:u}=e,f=qi(s,m=>m.value),h=c.map(m=>m.points),{theme:d,coordinate:p}=n,{type:v,style:g={}}=t,y=Object.assign(Object.assign({},r),{document:_z(r),coordinate:p,theme:d});return m=>{const{shape:b=l}=g,{shape:x=b,points:_,seriesIndex:w,index:S}=m,O=Eo(m,["shape","points","seriesIndex","index"]),M=Object.assign(Object.assign({},O),{index:S}),T=w?w.map(k=>o[k]):o[S],A=w||S,P=qi(g,k=>u9(k,T,A,o,{channel:f})),E=u[x]?u[x](P,y):a(Object.assign(Object.assign({},P),{type:p9(t,x)}),y),C=f9(d,v,x,l);return E(_,M,C,h)}}function f9(t,e,n,r){if(typeof e!="string")return;const{color:i}=t,a=t[e]||{},o=a[n]||a[r];return Object.assign({color:i},o)}function sO(t,e,n,r,i){var a,o;const[,s]=Le("shape",i),[l]=Le("animation",i),{defaultShape:c,shape:u}=n,{theme:f,coordinate:h}=r,p=`default${Co(t)}Animation`,{[p]:v}=((a=u[c])===null||a===void 0?void 0:a.props)||s(p9(e,c)).props,{[t]:g={}}=f,y=((o=e.animate)===null||o===void 0?void 0:o[t])||{},m={coordinate:h};return(b,x,_)=>{const{[`${t}Type`]:w,[`${t}Delay`]:S,[`${t}Duration`]:O,[`${t}Easing`]:M}=b,T=Object.assign({type:w||v},y);if(!T.type)return null;const E=l(T,m)(x,_,U(g,{delay:S,duration:O,easing:M}));return Array.isArray(E)?E:[E]}}function Mxt(t,e,n,r){return sO("enter",t,e,n,r)}function Txt(t){return t.finished.then(()=>{t.cancel()}),t}function Axt(t,e,n,r){return sO("update",t,e,n,r)}function Ext(t,e,n,r){return sO("exit",t,e,n,r)}function h9(t={}){if(typeof t=="string")return{type:t};const{type:e="light"}=t,n=Eo(t,["type"]);return Object.assign(Object.assign({},n),{type:e})}function Ig(t){const e={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:n={}}=t;return Object.entries(U(e,n)).reverse()}function d9(t,e){return Ma(this,void 0,void 0,function*(){const{data:n}=t,r=Eo(t,["data"]);if(n==null)return t;const[,{data:i}]=yield a9([],{data:n},e);return Object.assign({data:i},r)})}function gL(t){t.style("transform",e=>`translate(${e.paddingLeft+e.marginLeft}, ${e.paddingTop+e.marginTop})`).style("width",e=>e.innerWidth).style("height",e=>e.innerHeight)}function Pxt(t,e){const[n,r]=e;t.transition(function(i,a,o){const{transform:s,width:l,height:c}=o.style,{paddingLeft:u,paddingTop:f,innerWidth:h,innerHeight:d,marginLeft:p,marginTop:v}=i,g=[{transform:s,width:l,height:c},{transform:`translate(${u+p}, ${f+v})`,width:h,height:d}];return o.animate(g,{delay:n,duration:r,fill:"both"})})}function p9(t,e){const{type:n}=t;return typeof e=="string"?`${n}.${e}`:e}function yL(t,e){const n=a=>a.class!==void 0?`${a.class}`:"";t.nodes().length===0||(t.selectAll(Wi(Tk)).data(e,a=>a.key).join(a=>a.append("g").attr("className",Tk).attr("id",o=>o.key).style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.remove()),t.select(Wi(qx)).node())||t.append("g").attr("className",qx).style("zIndex",0)}function Wi(...t){return t.map(e=>`.${e}`).join("")}function mL(t,e){t.node()&&t.style("clipPath",n=>{if(!e)return null;const{paddingTop:r,paddingLeft:i,marginLeft:a,marginTop:o,innerWidth:s,innerHeight:l}=n;return new tl({style:{x:i+a,y:r+o,width:s,height:l}})})}function Cxt(t,e,n){var r;for(const[c]of n.entries())if(c.type==="cell")return t.filter(u=>u.name!=="shape");if(e.length!==1||t.some(c=>c.name==="shape"))return t;const{defaultShape:i}=e[0];if(!["point","line","rect","hollow"].includes(i))return t;const o={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},l={field:((r=t.find(c=>c.name==="color"))===null||r===void 0?void 0:r.field)||null,name:"shape",type:"constant",domain:[],range:[o[i]]};return[...t,l]}function kxt(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}function Lxt(t){const e=U({},t),n=new Map([[e,null]]),r=new Map([[null,-1]]),i=[e];for(;i.length;){const a=i.shift();if(a.key===void 0){const s=n.get(a),l=r.get(a),c=s===null?"0":`${s.key}-${l}`;a.key=c}const{children:o=[]}=a;if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=U({},o[s]);o[s]=l,n.set(l,a),r.set(l,s),i.push(l)}}return e}function Dxt(t,e){const n=new Sj;return n.registerPlugin(new Oj),new J4({width:t,height:e,container:document.createElement("div"),renderer:n})}function Ixt(t,e={},n=()=>{},r=i=>{throw i}){const{width:i=640,height:a=480,depth:o=0}=t,s=Lxt(t),{canvas:l=Dxt(i,a),emitter:c=new Mj,library:u}=e;e.canvas=l,e.emitter=c;const{width:f,height:h}=l.getConfig();(f!==i||h!==a)&&l.resize(i,a),c.emit(ee.BEFORE_RENDER);const d=gt(l.document.documentElement);return l.ready.then(()=>oO(Object.assign(Object.assign({},s),{width:i,height:a,depth:o}),d,e)).then(()=>{if(o){const[p,v]=l.document.documentElement.getPosition();l.document.documentElement.setPosition(p,v,-o/2)}l.requestAnimationFrame(()=>{c.emit(ee.AFTER_RENDER),n==null||n()})}).catch(p=>{r==null||r(p)}),Nxt(l.getConfig().container)}function bL(t,e={},n=!1){const{canvas:r,emitter:i}=e;r&&(Rxt(r),n?r.destroy():r.destroyChildren()),i.off()}function Rxt(t){const e=t.getRoot().querySelectorAll(`.${Zx}`);e==null||e.forEach(n=>{const{nameInteraction:r=new Map}=n;(r==null?void 0:r.size)>0&&Array.from(r==null?void 0:r.values()).forEach(i=>{i==null||i.destroy()})})}function Nxt(t){return typeof t=="string"?document.getElementById(t):t}const Bxt={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function Fxt(t,e){var n;return(n=t.style[e])!==null&&n!==void 0?n:Bxt[e]}function lO(t,e,n,r){t.style[e]=n,t.children.forEach(i=>lO(i,e,n))}function cO(t){lO(t,"visibility","hidden")}function ly(t){lO(t,"visibility","visible")}var kf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Po(t){return gt(t).selectAll(`.${va}`).nodes().filter(e=>!e.__removed__)}function v9(t,e){return m_(t,e).flatMap(({container:n})=>Po(n))}function m_(t,e){return e.filter(n=>n!==t&&n.options.parentKey===t.options.key)}function ia(t){return gt(t).select(`.${bg}`).node()}function g9(t){if(t.tagName==="g")return t.getRenderBounds();const e=t.getGeometryBounds(),n=new Ze;return n.setFromTransformedAABB(e,t.getWorldTransform()),n}function Eh(t,e){const{offsetX:n,offsetY:r}=e,i=g9(t),{min:[a,o],max:[s,l]}=i,c=n<a||n>s,u=r<o||r>l;return c||u?null:[n-a,r-o]}function C1(t,e){const{offsetX:n,offsetY:r}=e,[i,a,o,s]=jxt(t);return[Math.min(o,Math.max(i,n))-i,Math.min(s,Math.max(a,r))-a]}function jxt(t){const e=t.getRenderBounds(),{min:[n,r],max:[i,a]}=e;return[n,r,i,a]}function y9(t){return e=>e.__data__.color}function uO(t){return e=>e.__data__.x}function Ys(t){const e=Array.isArray(t)?t:[t],n=new Map(e.flatMap(r=>Array.from(r.markState.keys()).map(a=>[Rg(r.key,a.key),a.data])));return r=>{const{index:i,markKey:a,viewKey:o}=r.__data__;return n.get(Rg(o,a))[i]}}function Ta(t,e=(r,i)=>r,n=(r,i,a)=>r.setAttribute(i,a)){const r="__states__",i="__ordinal__",a=u=>{const{[r]:f=[],[i]:h={}}=u,d=f.reduce((p,v)=>Object.assign(Object.assign({},p),t[v]),h);if(Object.keys(d).length!==0){for(const[p,v]of Object.entries(d)){const g=Fxt(u,p),y=e(v,u);n(u,p,y),p in h||(h[p]=g)}u[i]=h}},o=u=>{u[r]||(u[r]=[])};return{setState:(u,...f)=>{o(u),u[r]=[...f],a(u)},removeState:(u,...f)=>{o(u);for(const h of f){const d=u[r].indexOf(h);d!==-1&&u[r].splice(d,1)}a(u)},hasState:(u,f)=>(o(u),u[r].indexOf(f)!==-1)}}function zxt(t){return t===void 0?!0:typeof t!="object"?!1:Object.keys(t).length===0}function Rg(t,e){return`${t},${e}`}function Nc(t,e){const r=(Array.isArray(t)?t:[t]).flatMap(a=>a.marks.map(o=>[Rg(a.key,o.key),o.state])),i={};for(const a of e){const[o,s]=Array.isArray(a)?a:[a,{}];i[o]=r.reduce((l,c)=>{const[u,f={}]=c,h=zxt(f[o])?s:f[o];for(const[d,p]of Object.entries(h)){const v=l[d],g=(y,m,b,x)=>{const _=Rg(x.__data__.viewKey,x.__data__.markKey);return u!==_?v==null?void 0:v(y,m,b,x):typeof p!="function"?p:p(y,m,b,x)};l[d]=g}return l},{})}return i}function ld(t,e){const n=new Map(t.map((i,a)=>[i,a])),r=e?t.map(e):t;return(i,a)=>{if(typeof i!="function")return i;const o=n.get(a),s=e?e(a):a;return i(s,o,r,a)}}function m9(t){var{link:e=!1,valueof:n=(u,f)=>u,coordinate:r}=t,i=kf(t,["link","valueof","coordinate"]);const a="element-link";if(!e)return[()=>{},()=>{}];const o=u=>u.__data__.points,s=(u,f)=>{const[,h,d]=u,[p,,,v]=f;return[h,p,v,d]};return[u=>{var f;if(u.length<=1)return;const h=mi(u,(d,p)=>{const{x:v}=d.__data__,{x:g}=p.__data__;return v-g});for(let d=1;d<h.length;d++){const p=ii(),v=h[d-1],g=h[d],[y,m,b,x]=s(o(v),o(g));p.moveTo(...y),p.lineTo(...m),p.lineTo(...b),p.lineTo(...x),p.closePath();const _=qi(i,M=>n(M,v)),{fill:w=v.getAttribute("fill")}=_,S=kf(_,["fill"]),O=new Qn({className:a,style:Object.assign({d:p.toString(),fill:w,zIndex:-2},S)});(f=v.link)===null||f===void 0||f.remove(),v.parentNode.appendChild(O),v.link=O}},u=>{var f;(f=u.link)===null||f===void 0||f.remove(),u.link=null}]}function b9(t,e,n){const r=i=>{const{transform:a}=t.style;return a?`${a} ${i}`:i};if(ce(n)){const{points:i}=t.__data__,[a,o]=ke(n)?j0(i):i,s=n.getCenter(),l=$e(a,s),c=$e(o,s),u=ti(l),f=VN(l,c),h=u+f/2,d=e*Math.cos(h),p=e*Math.sin(h);return r(`translate(${d}, ${p})`)}return ke(n)?r(`translate(${e}, 0)`):r(`translate(0, ${-e})`)}function x9(t){var{document:e,background:n,scale:r,coordinate:i,valueof:a}=t,o=kf(t,["document","background","scale","coordinate","valueof"]);const s="element-background";if(!n)return[()=>{},()=>{}];const l=(y,m,b)=>{const x=y.invert(m),_=m+y.getBandWidth(x)/2,w=y.getStep(x)/2,S=w*b;return[_-w+S,_+w-S]},c=(y,m)=>{const{x:b}=r;if(!Mf(b))return[0,1];const{__data__:x}=y,{x:_}=x,[w,S]=l(b,_,m);return[w,S]},u=(y,m)=>{const{y:b}=r;if(!Mf(b))return[0,1];const{__data__:x}=y,{y:_}=x,[w,S]=l(b,_,m);return[w,S]},f=(y,m)=>{const{padding:b}=m,[x,_]=c(y,b),[w,S]=u(y,b),O=[[x,w],[_,w],[_,S],[x,S]].map(P=>i.map(P)),{__data__:M}=y,{y:T,y1:A}=M;return uB(e,O,{y:T,y1:A},i,m)},h=(y,m)=>{const{transform:b="scale(1.2, 1.2)",transformOrigin:x="center center",stroke:_=""}=m,w=kf(m,["transform","transformOrigin","stroke"]),S=Object.assign({transform:b,transformOrigin:x,stroke:_},w),O=y.cloneNode(!0);for(const[M,T]of Object.entries(S))O.style[M]=T;return O},d=()=>{const{x:y,y:m}=r;return[y,m].some(Mf)};return[y=>{y.background&&y.background.remove();const m=qi(o,P=>a(P,y)),{fill:b="#CCD6EC",fillOpacity:x=.3,zIndex:_=-2,padding:w=.001,lineWidth:S=0}=m,O=kf(m,["fill","fillOpacity","zIndex","padding","lineWidth"]),M=Object.assign(Object.assign({},O),{fill:b,fillOpacity:x,zIndex:_,padding:w,lineWidth:S}),A=(d()?f:h)(y,M);A.className=s,y.parentNode.parentNode.appendChild(A),y.background=A},y=>{var m;(m=y.background)===null||m===void 0||m.remove(),y.background=null},y=>y.className===s]}function Za(t,e){const r=t.getRootNode().defaultView.getContextService().getDomElement();r!=null&&r.style&&(t.cursor=r.style.cursor,r.style.cursor=e)}function $xt(t){Za(t,t.cursor)}function fO(t,e,n){return t.find(r=>Object.entries(e).every(([i,a])=>n(r)[i]===a))}function Ng(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function Du(t,e=!1){const n=SQ(t,r=>!!r).map((r,i)=>[i===0?"M":"L",...r]);return e&&n.push(["Z"]),n}function _9(t){return t.querySelectorAll(".element")}function Gxt(t,e,n=0){const r=[["M",...e[1]]],i=Ng(t,e[1]),a=Ng(t,e[0]);return i===0?r.push(["L",...e[3]],["A",a,a,0,n,1,...e[0]],["Z"]):r.push(["A",i,i,0,n,0,...e[2]],["L",...e[3]],["A",a,a,0,n,1,...e[0]],["Z"]),r}function cy(t,e){if(e(t))return t;let n=t.parent;for(;n&&!e(n);)n=n.parent;return n}var Wxt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Hxt(t,{elements:e,datum:n,groupKey:r=f=>f,link:i=!1,background:a=!1,delay:o=60,scale:s,coordinate:l,emitter:c,state:u={}}){var f;const h=e(t),d=new Set(h),p=Pe(h,r),v=ld(h,n),[g,y]=m9(Object.assign({elements:h,valueof:v,link:i,coordinate:l},nt(u.active,"link"))),[m,b,x]=x9(Object.assign({document:t.ownerDocument,scale:s,coordinate:l,background:a,valueof:v},nt(u.active,"background"))),_=U(u,{active:Object.assign({},((f=u.active)===null||f===void 0?void 0:f.offset)&&{transform:(...R)=>{const D=u.active.offset(...R),[,I]=R;return b9(h[I],D,l)}})}),{setState:w,removeState:S,hasState:O}=Ta(_,v);let M;const T=R=>{const{target:D,nativeEvent:I=!0}=R;if(!d.has(D))return;M&&clearTimeout(M);const N=r(D),F=p.get(N),j=new Set(F);for(const z of h)j.has(z)?O(z,"active")||w(z,"active"):(w(z,"inactive"),y(z)),z!==D&&b(z);m(D),g(F),I&&c.emit("element:highlight",{nativeEvent:I,data:{data:n(D),group:F.map(n)}})},A=()=>{M&&clearTimeout(M),M=setTimeout(()=>{P(),M=null},o)},P=(R=!0)=>{for(const D of h)S(D,"active","inactive"),b(D),y(D);R&&c.emit("element:unhighlight",{nativeEvent:R})},E=R=>{const{target:D}=R;a&&!x(D)||!a&&!d.has(D)||(o>0?A():P())},C=()=>{P()};t.addEventListener("pointerover",T),t.addEventListener("pointerout",E),t.addEventListener("pointerleave",C);const k=R=>{const{nativeEvent:D}=R;D||P(!1)},L=R=>{const{nativeEvent:D}=R;if(D)return;const{data:I}=R.data,N=fO(h,I,n);N&&T({target:N,nativeEvent:!1})};return c.on("element:highlight",L),c.on("element:unhighlight",k),()=>{t.removeEventListener("pointerover",T),t.removeEventListener("pointerout",E),t.removeEventListener("pointerleave",C),c.off("element:highlight",L),c.off("element:unhighlight",k);for(const R of h)b(R),y(R)}}function uy(t){var{delay:e,createGroup:n,background:r=!1,link:i=!1}=t,a=Wxt(t,["delay","createGroup","background","link"]);return(o,s,l)=>{const{container:c,view:u,options:f}=o,{scale:h,coordinate:d}=u,p=ia(c);return Hxt(p,Object.assign({elements:Po,datum:Ys(u),groupKey:n?n(u):void 0,coordinate:d,scale:h,state:Nc(f,[["active",r?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:r,link:i,delay:e,emitter:l},a))}}uy.props={reapplyWhenUpdate:!0};function w9(t){return uy(Object.assign(Object.assign({},t),{createGroup:uO}))}w9.props={reapplyWhenUpdate:!0};function S9(t){return uy(Object.assign(Object.assign({},t),{createGroup:y9}))}S9.props={reapplyWhenUpdate:!0};var Yxt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Vxt(t,{elements:e,datum:n,groupKey:r=f=>f,link:i=!1,single:a=!1,coordinate:o,background:s=!1,scale:l,emitter:c,state:u={}}){var f;const h=e(t),d=new Set(h),p=Pe(h,r),v=ld(h,n),[g,y]=m9(Object.assign({link:i,elements:h,valueof:v,coordinate:o},nt(u.selected,"link"))),[m,b]=x9(Object.assign({document:t.ownerDocument,background:s,coordinate:o,scale:l,valueof:v},nt(u.selected,"background"))),x=U(u,{selected:Object.assign({},((f=u.selected)===null||f===void 0?void 0:f.offset)&&{transform:(...C)=>{const k=u.selected.offset(...C),[,L]=C;return b9(h[L],k,o)}})}),{setState:_,removeState:w,hasState:S}=Ta(x,v),O=(C=!0)=>{for(const k of h)w(k,"selected","unselected"),y(k),b(k);C&&c.emit("element:unselect",{nativeEvent:!0})},M=(C,k,L=!0)=>{if(S(k,"selected"))O();else{const R=r(k),D=p.get(R),I=new Set(D);for(const N of h)I.has(N)?_(N,"selected"):(_(N,"unselected"),y(N)),N!==k&&b(N);if(g(D),m(k),!L)return;c.emit("element:select",Object.assign(Object.assign({},C),{nativeEvent:L,data:{data:[n(k),...D.map(n)]}}))}},T=(C,k,L=!0)=>{const R=r(k),D=p.get(R),I=new Set(D);if(S(k,"selected")){if(!h.some(F=>!I.has(F)&&S(F,"selected")))return O();for(const F of D)_(F,"unselected"),y(F),b(F)}else{const N=D.some(F=>S(F,"selected"));for(const F of h)I.has(F)?_(F,"selected"):S(F,"selected")||_(F,"unselected");!N&&i&&g(D),m(k)}L&&c.emit("element:select",Object.assign(Object.assign({},C),{nativeEvent:L,data:{data:h.filter(N=>S(N,"selected")).map(n)}}))},A=C=>{const{target:k,nativeEvent:L=!0}=C;return d.has(k)?a?M(C,k,L):T(C,k,L):O()};t.addEventListener("click",A);const P=C=>{const{nativeEvent:k,data:L}=C;if(k)return;const R=a?L.data.slice(0,1):L.data;for(const D of R){const I=fO(h,D,n);A({target:I,nativeEvent:!1})}},E=()=>{O(!1)};return c.on("element:select",P),c.on("element:unselect",E),()=>{for(const C of h)y(C);t.removeEventListener("click",A),c.off("element:select",P),c.off("element:unselect",E)}}function fy(t){var{createGroup:e,background:n=!1,link:r=!1}=t,i=Yxt(t,["createGroup","background","link"]);return(a,o,s)=>{const{container:l,view:c,options:u}=a,{coordinate:f,scale:h}=c,d=ia(l);return Vxt(d,Object.assign({elements:Po,datum:Ys(c),groupKey:e?e(c):void 0,coordinate:f,scale:h,state:Nc(u,[["selected",n?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:n,link:r,emitter:s},i))}}fy.props={reapplyWhenUpdate:!0};function O9(t){return fy(Object.assign(Object.assign({},t),{createGroup:uO}))}O9.props={reapplyWhenUpdate:!0};function M9(t){return fy(Object.assign(Object.assign({},t),{createGroup:y9}))}M9.props={reapplyWhenUpdate:!0};var Xxt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},Uxt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function qxt(t){const{transform:e=[]}=t,n=e.find(i=>i.type==="normalizeY");if(n)return n;const r={type:"normalizeY"};return e.push(r),t.transform=e,r}function Zxt(t,e,n){const[r]=Array.from(t.entries()).filter(([i])=>i.type===e).map(([i])=>{const{encode:a}=i,o=s=>{const l=a[s];return[s,l?l.value:void 0]};return Object.fromEntries(n.map(o))});return r}function T9(t){var{wait:e=20,leading:n,trailing:r=!1,labelFormatter:i=o=>`${o}`}=t,a=Uxt(t,["wait","leading","trailing","labelFormatter"]);return o=>{const{view:s,container:l,update:c,setState:u}=o,{markState:f,scale:h,coordinate:d}=s,p=Zxt(f,"line",["x","y","series"]);if(!p)return;const{y:v,x:g,series:y=[]}=p,m=v.map((R,D)=>D),b=mi(m.map(R=>g[R])),x=ia(l),_=l.getElementsByClassName(va),w=l.getElementsByClassName(Kx),O=Pe(w,R=>R.__data__.key.split("-")[0]),M=new qc({style:Object.assign({x1:0,y1:0,x2:0,y2:x.getAttribute("height"),stroke:"black",lineWidth:1},nt(a,"rule"))}),T=new Ki({style:Object.assign({x:0,y:x.getAttribute("height"),text:"",fontSize:10},nt(a,"label"))});M.append(T),x.appendChild(M);const A=(R,D,I)=>{const[N]=R.invert(I),F=D.invert(N);return b[ctt(b,F)]},P=(R,D)=>{M.setAttribute("x1",R[0]),M.setAttribute("x2",R[0]),T.setAttribute("text",i(D))};let E;const C=R=>Xxt(this,void 0,void 0,function*(){const{x:D}=h,I=A(d,D,R);P(R,I),u("chartIndex",F=>{const j=U({},F),z=j.marks.find(H=>H.type==="line"),V=Jt(aw(m,H=>Jt(H,tt=>+v[tt])/Er(H,tt=>+v[tt]),H=>y[H]).values()),Q=[1/V,V];U(z,{scale:{y:{domain:Q}}});const Y=qxt(z);Y.groupBy="color",Y.basis=(H,tt)=>{const Z=H[yo(W=>g[+W]).center(H,I)];return tt[Z]};for(const H of j.marks)H.animate=!1;return j}),E=(yield c("chartIndex")).view}),k=R=>{const{scale:D,coordinate:I}=E,{x:N,y:F}=D,j=A(I,N,R);P(R,j);for(const z of _){const{seriesIndex:G,key:V}=z.__data__,Q=G[yo(ot=>g[+ot]).center(G,j)],Y=[0,F.map(1)],H=[0,F.map(v[Q]/v[G[0]])],[,tt]=I.map(Y),[,Z]=I.map(H),W=tt-Z;z.setAttribute("transform",`translate(0, ${W})`);const K=O.get(V)||[];for(const ot of K)ot.setAttribute("dy",W)}},L=Ls(R=>{const D=Eh(x,R);D&&k(D)},e,{leading:n,trailing:r});return C([0,0]),x.addEventListener("pointerenter",L),x.addEventListener("pointermove",L),x.addEventListener("pointerleave",L),()=>{M.remove(),x.removeEventListener("pointerenter",L),x.removeEventListener("pointermove",L),x.removeEventListener("pointerleave",L)}}}T9.props={reapplyWhenUpdate:!0};function Kxt(t){const{coordinate:e={}}=t,{transform:n=[]}=e,r=n.find(a=>a.type==="fisheye");if(r)return r;const i={type:"fisheye"};return n.push(i),e.transform=n,t.coordinate=e,i}function Qxt({wait:t=30,leading:e,trailing:n=!1}){return r=>{const{options:i,update:a,setState:o,container:s}=r,l=ia(s),c=Ls(u=>{const f=Eh(l,u);if(!f){o("fisheye"),a();return}o("fisheye",h=>{const d=U({},h,{interaction:{tooltip:{preserve:!0}}});for(const y of d.marks)y.animate=!1;const[p,v]=f,g=Kxt(d);return g.focusX=p,g.focusY=v,g.visual=!0,d}),a()},t,{leading:e,trailing:n});return l.addEventListener("pointerenter",c),l.addEventListener("pointermove",c),l.addEventListener("pointerleave",c),()=>{l.removeEventListener("pointerenter",c),l.removeEventListener("pointermove",c),l.removeEventListener("pointerleave",c)}}}var Vs=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Bg(t,e){return e?typeof e=="string"?document.querySelector(e):e:t.ownerDocument.defaultView.getContextService().getDomElement().parentElement}function Jxt(t){const e=t.getRenderBounds(),{min:[n,r],max:[i,a]}=e;return{x:n,y:r,width:i-n,height:a-r}}function t_t(t,e){const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:n.x-r.x,y:n.y-r.y}}function e_t(t,e,n,r,i,a,o,s={},l=[10,10]){const c={".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},u=new Cut({className:"tooltip",style:{x:e,y:n,container:o,data:[],bounding:a,position:r,enterable:i,title:"",offset:l,template:{prefixCls:"g2-"},style:U(c,s)}});return t.appendChild(u.HTMLTooltipElement),u}function A9({root:t,data:e,x:n,y:r,render:i,event:a,single:o,position:s="right-bottom",enterable:l=!1,css:c,mount:u,bounding:f,offset:h}){const d=Bg(t,u),p=Bg(t),v=o?p:t,g=f||Jxt(t),y=t_t(p,d),{tooltipElement:m=e_t(d,n,r,s,l,g,y,c,h)}=v,{items:b,title:x=""}=e;m.update(Object.assign({x:n,y:r,data:b,title:x,position:s,enterable:l},i!==void 0&&{content:i(a,{items:b,title:x})})),v.tooltipElement=m}function eo({root:t,single:e,emitter:n,nativeEvent:r=!0,event:i=null}){r&&n.emit("tooltip:hide",{nativeEvent:r});const a=Bg(t),o=e?a:t,{tooltipElement:s}=o;s&&s.hide(i==null?void 0:i.clientX,i==null?void 0:i.clientY),k9(t),L9(t),D9(t)}function b_({root:t,single:e}){const n=Bg(t),r=e?n:t;if(!r)return;const{tooltipElement:i}=r;i&&(i.destroy(),r.tooltipElement=void 0),k9(t),L9(t),D9(t)}function E9(t){const{value:e}=t;return Object.assign(Object.assign({},t),{value:e===void 0?"undefined":e})}function n_t(t){const{__data__:e}=t,{title:n,items:r=[]}=e,i=r.filter(pe).map(a=>{var{color:o=P9(t)}=a,s=Vs(a,["color"]);return Object.assign(Object.assign({},s),{color:o})}).map(E9);return Object.assign(Object.assign({},n&&{title:n}),{items:i})}function r_t(t,e){const{color:n,series:r,facet:i=!1}=t,{color:a,series:o}=e,s=l=>l&&l.invert&&!(l instanceof xc)&&!(l instanceof yw);if(s(r))return r.clone().invert(o);if(o&&r instanceof xc&&r.invert(o)!==a&&!i)return r.invert(o);if(s(n)){const l=n.invert(a);return Array.isArray(l)?null:l}return null}function P9(t){const e=t.getAttribute("fill"),n=t.getAttribute("stroke"),{__data__:r}=t,{color:i=e&&e!=="transparent"?e:n}=r;return i}function xL(t,e=n=>n){const n=new Map(t.map(r=>[e(r),r]));return Array.from(n.values())}function C9(t,e,n,r=t.map(a=>a.__data__),i={}){const a=l=>l instanceof Date?+l:l,o=xL(r.map(l=>l.title),a).filter(pe),s=r.flatMap((l,c)=>{const u=t[c],{items:f=[],title:h}=l,d=f.filter(pe),p=n!==void 0?n:f.length<=1;return d.map(v=>{var{color:g=P9(u)||i.color,name:y}=v,m=Vs(v,["color","name"]);const b=r_t(e,l),x=p?b||y:y||b;return Object.assign(Object.assign({},m),{color:g,name:x||h})})}).map(E9);return Object.assign(Object.assign({},o.length>0&&{title:o.join(",")}),{items:xL(s,l=>`(${a(l.name)}, ${a(l.value)}, ${a(l.color)})`)})}function i_t(t,e,n,r){var{plotWidth:i,plotHeight:a,mainWidth:o,mainHeight:s,startX:l,startY:c,transposed:u,polar:f,insetLeft:h,insetTop:d}=r,p=Vs(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const v=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},p),g=(w,S,O)=>{const M=new Ao({style:Object.assign({cx:w,cy:S,r:O},v)});return t.appendChild(M),M},y=(w,S,O,M)=>{const T=new qc({style:Object.assign({x1:w,x2:S,y1:O,y2:M},v)});return t.appendChild(T),T},b=((w,S)=>{if(S.length===1)return S[0];const O=S.map(T=>Ne(T,w)),M=Wh(O,T=>T);return S[M]})(n,e),x=()=>u?[l+b[0],l+b[0],c,c+a]:[l,l+i,b[1]+c,b[1]+c],_=()=>{const w=l+h+o/2,S=c+d+s/2,O=Ne([w,S],b);return[w,S,O]};if(f){const[w,S,O]=_(),M=t.ruleX||g(w,S,O);M.style.cx=w,M.style.cy=S,M.style.r=O,t.ruleX=M}else{const[w,S,O,M]=x(),T=t.ruleX||y(w,S,O,M);T.style.x1=w,T.style.x2=S,T.style.y1=O,T.style.y2=M,t.ruleX=T}}function a_t(t,e,n){var{plotWidth:r,plotHeight:i,mainWidth:a,mainHeight:o,startX:s,startY:l,transposed:c,polar:u,insetLeft:f,insetTop:h}=n,d=Vs(n,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const p=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},d),v=e.map(M=>M[1]),g=e.map(M=>M[0]),y=ih(v),m=ih(g),b=()=>{if(u){const M=Math.min(a,o)/2,T=s+f+a/2,A=l+h+o/2,P=ti($e([m,y],[T,A])),E=T+M*Math.cos(P),C=A+M*Math.sin(P);return[T,E,A,C]}return c?[s,s+r,y+l,y+l]:[m+s,m+s,l,l+i]},[x,_,w,S]=b(),O=()=>{const M=new qc({style:Object.assign({x1:x,x2:_,y1:w,y2:S},p)});return t.appendChild(M),M};if(g.length>0){const M=t.ruleY||O();M.style.x1=x,M.style.x2=_,M.style.y1=w,M.style.y2=S,t.ruleY=M}}function k9(t){t.ruleY&&(t.ruleY.remove(),t.ruleY=void 0)}function L9(t){t.ruleX&&(t.ruleX.remove(),t.ruleX=void 0)}function o_t(t,{data:e,style:n,theme:r}){t.markers&&t.markers.forEach(o=>o.remove());const{type:i=""}=n,a=e.filter(o=>{const[{x:s,y:l}]=o;return pe(s)&&pe(l)}).map(o=>{const[{color:s,element:l},c]=o,u=s||l.style.fill||l.style.stroke||r.color,f=i==="hollow"?"transparent":u,h=i==="hollow"?u:"#fff";return new Ao({className:"g2-tooltip-marker",style:Object.assign({cx:c[0],cy:c[1],fill:f,r:4,stroke:h,lineWidth:2},n)})});for(const o of a)t.appendChild(o);t.markers=a}function D9(t){t.markers&&(t.markers.forEach(e=>e.remove()),t.markers=[])}function _L(t,e){return Array.from(t.values()).some(n=>{var r;return(r=n.interaction)===null||r===void 0?void 0:r[e]})}function ua(t,e){return t===void 0?e:t}function I9(t){const{title:e,items:n}=t;return n.length===0&&e===void 0}function s_t(t){return Array.from(t.values()).some(e=>{var n;return((n=e.interaction)===null||n===void 0?void 0:n.seriesTooltip)&&e.tooltip})}function wL(t,e){var{elements:n,sort:r,filter:i,scale:a,coordinate:o,crosshairs:s,crosshairsX:l,crosshairsY:c,render:u,groupName:f,emitter:h,wait:d=50,leading:p=!0,trailing:v=!1,startX:g=0,startY:y=0,body:m=!0,single:b=!0,position:x,enterable:_,mount:w,bounding:S,theme:O,offset:M,disableNative:T=!1,marker:A=!0,preserve:P=!1,style:E={},css:C={}}=e,k=Vs(e,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css"]);const L=n(t),R=ke(o),D=ce(o),I=U(E,k),{innerWidth:N,innerHeight:F,width:j,height:z,insetLeft:G,insetTop:V}=o.getOptions(),Q=[],Y=[];for(const ct of L){const{__data__:xt}=ct,{seriesX:Dt,title:Rt,items:fe}=xt;Dt?Q.push(ct):(Rt||fe)&&Y.push(ct)}const H=ct=>ct.markType==="interval",tt=Y.length&&Y.every(H)&&!ce(o),Z=ct=>ct.__data__.x,K=!!a.x.getBandWidth&&Y.length>0;Q.sort((ct,xt)=>{const Dt=R?0:1,Rt=fe=>fe.getBounds().min[Dt];return R?Rt(xt)-Rt(ct):Rt(ct)-Rt(xt)});const ot=ct=>{const xt=R?1:0,{min:Dt,max:Rt}=ct.getLocalBounds();return mi([Dt[xt],Rt[xt]])};tt?L.sort((ct,xt)=>Z(ct)-Z(xt)):Y.sort((ct,xt)=>{const[Dt,Rt]=ot(ct),[fe,Xe]=ot(xt),Ue=(Dt+Rt)/2,_n=(fe+Xe)/2;return R?_n-Ue:Ue-_n});const at=new Map(Q.map(ct=>{const{__data__:xt}=ct,{seriesX:Dt}=xt,Rt=Dt.map((Xe,Ue)=>Ue),fe=mi(Rt,Xe=>Dt[+Xe]);return[ct,[fe,Dt]]})),{x:ft}=a,Tt=ft!=null&&ft.getBandWidth?ft.getBandWidth()/2:0,dt=ct=>{const[xt]=o.invert(ct);return xt-Tt},mt=(ct,xt,Dt,Rt)=>{const{_x:fe}=ct,Xe=fe!==void 0?ft.map(fe):dt(xt),Ue=Rt.filter(pe),[_n,Cr]=mi([Ue[0],Ue[Ue.length-1]]),si=_n===Cr;if(!K&&(Xe<_n||Xe>Cr)&&!si)return null;const al=yo(aa=>Rt[+aa]).center,tu=al(Dt,Xe);return Dt[tu]},Gt=tt?(ct,xt)=>{const Dt=yo(Z).center,Rt=Dt(xt,dt(ct)),fe=xt[Rt];return Pe(xt,Z).get(Z(fe))}:(ct,xt)=>{const Rt=ct[R?1:0],fe=xt.filter(_n=>{const[Cr,si]=ot(_n);return Rt>=Cr&&Rt<=si});if(!K||fe.length>0)return fe;const Xe=yo(_n=>{const[Cr,si]=ot(_n);return(Cr+si)/2}).center,Ue=Xe(xt,Rt);return[xt[Ue]].filter(pe)},Oe=(ct,xt)=>{const{__data__:Dt}=ct;return Object.fromEntries(Object.entries(Dt).filter(([Rt])=>Rt.startsWith("series")&&Rt!=="series").map(([Rt,fe])=>{const Xe=fe[xt];return[qR(Rt.replace("series","")),Xe]}))},Ve=Ls(ct=>{var xt;const Dt=Eh(t,ct);if(!Dt)return;const Rt=g9(t),fe=Rt.min[0],Xe=Rt.min[1],Ue=[Dt[0]-g,Dt[1]-y];if(!Ue)return;const _n=Gt(Ue,Y),Cr=[],si=[];for(const en of Q){const[nu,py]=at.get(en),ru=mt(ct,Ue,nu,py);if(ru!==null){Cr.push(en);const ud=Oe(en,ru),{x:M7,y:T7}=ud,A7=o.map([(M7||0)+Tt,T7||0]);si.push([Object.assign(Object.assign({},ud),{element:en}),A7])}}const al=Array.from(new Set(si.map(en=>en[0].x))),tu=al[Wh(al,en=>Math.abs(en-dt(Ue)))],aa=si.filter(en=>en[0].x===tu),hy=[...aa.map(en=>en[0]),..._n.map(en=>en.__data__)],cd=[...Cr,..._n],eu=C9(cd,a,f,hy,O);if(r&&eu.items.sort((en,nu)=>r(en)-r(nu)),i&&(eu.items=eu.items.filter(i)),cd.length===0||I9(eu)){Me(ct);return}if(m&&A9({root:t,data:eu,x:Dt[0]+fe,y:Dt[1]+Xe,render:u,event:ct,single:b,position:x,enterable:_,mount:w,bounding:S,css:C,offset:M}),s||l||c){const en=nt(I,"crosshairs"),nu=Object.assign(Object.assign({},en),nt(I,"crosshairsX")),py=Object.assign(Object.assign({},en),nt(I,"crosshairsY")),ru=aa.map(ud=>ud[1]);l&&i_t(t,ru,Dt,Object.assign(Object.assign({},nu),{plotWidth:N,plotHeight:F,mainWidth:j,mainHeight:z,insetLeft:G,insetTop:V,startX:g,startY:y,transposed:R,polar:D})),c&&a_t(t,ru,Object.assign(Object.assign({},py),{plotWidth:N,plotHeight:F,mainWidth:j,mainHeight:z,insetLeft:G,insetTop:V,startX:g,startY:y,transposed:R,polar:D}))}if(A){const en=nt(I,"marker");o_t(t,{data:aa,style:en,theme:O})}const dy=(xt=aa[0])===null||xt===void 0?void 0:xt[0].x,O7=dy??dt(Ue);h.emit("tooltip:show",Object.assign(Object.assign({},ct),{nativeEvent:!0,data:{data:{x:kc(a.x,O7,!0)}}}))},d,{leading:p,trailing:v}),Me=ct=>{eo({root:t,single:b,emitter:h,event:ct})},dn=()=>{b_({root:t,single:b})},Be=ct=>{var xt,{nativeEvent:Dt,data:Rt,offsetX:fe,offsetY:Xe}=ct,Ue=Vs(ct,["nativeEvent","data","offsetX","offsetY"]);if(Dt)return;const _n=(xt=Rt==null?void 0:Rt.data)===null||xt===void 0?void 0:xt.x,si=a.x.map(_n),[al,tu]=o.map([si,.5]),aa=t.getRenderBounds(),hy=aa.min[0],cd=aa.min[1];Ve(Object.assign(Object.assign({},Ue),{offsetX:fe!==void 0?fe:hy+al,offsetY:Xe!==void 0?Xe:cd+tu,_x:_n}))},zn=()=>{eo({root:t,single:b,emitter:h,nativeEvent:!1})},ue=()=>{sn(),dn()},ye=()=>{xn()},xn=()=>{T||(t.addEventListener("pointerenter",Ve),t.addEventListener("pointermove",Ve),t.addEventListener("pointerleave",ct=>{Eh(t,ct)||Me(ct)}))},sn=()=>{T||(t.removeEventListener("pointerenter",Ve),t.removeEventListener("pointermove",Ve),t.removeEventListener("pointerleave",Me))};return xn(),h.on("tooltip:show",Be),h.on("tooltip:hide",zn),h.on("tooltip:disable",ue),h.on("tooltip:enable",ye),()=>{sn(),h.off("tooltip:show",Be),h.off("tooltip:hide",zn),h.off("tooltip:disable",ue),h.off("tooltip:enable",ye),P?eo({root:t,single:b,emitter:h,nativeEvent:!1}):dn()}}function l_t(t,{elements:e,coordinate:n,scale:r,render:i,groupName:a,sort:o,filter:s,emitter:l,wait:c=50,leading:u=!0,trailing:f=!1,groupKey:h=A=>A,single:d=!0,position:p,enterable:v,datum:g,view:y,mount:m,bounding:b,theme:x,offset:_,shared:w=!1,body:S=!0,disableNative:O=!1,preserve:M=!1,css:T={}}){var A,P;const E=e(t),C=Pe(E,h),k=W=>W.markType==="interval",L=E.every(k)&&!ce(n),R=r.x,D=r.series,I=(P=(A=R==null?void 0:R.getBandWidth)===null||A===void 0?void 0:A.call(R))!==null&&P!==void 0?P:0,N=D?W=>W.__data__.x+W.__data__.series*I:W=>W.__data__.x+I/2;L&&E.sort((W,K)=>N(W)-N(K));const F=W=>{const{target:K}=W;return cy(K,ot=>ot.classList?ot.classList.includes("element"):!1)},j=L?W=>{const K=Eh(t,W);if(!K)return;const[ot]=n.invert(K),at=ot,ft=yo(N).center,Tt=ft(E,at),dt=E[Tt];return!w&&E.find(Gt=>Gt!==dt&&N(Gt)===N(dt))?F(W):dt}:F,z=Ls(W=>{const K=j(W);if(!K){eo({root:t,single:d,emitter:l,event:W});return}const ot=h(K),at=C.get(ot);if(!at)return;const ft=at.length===1&&!w?n_t(at[0]):C9(at,r,a,void 0,x);if(o&&ft.items.sort((mt,Gt)=>o(mt)-o(Gt)),s&&(ft.items=ft.items.filter(s)),I9(ft)){eo({root:t,single:d,emitter:l,event:W});return}const{offsetX:Tt,offsetY:dt}=W;S&&A9({root:t,data:ft,x:Tt,y:dt,render:i,event:W,single:d,position:p,enterable:v,mount:m,bounding:b,css:T,offset:_}),l.emit("tooltip:show",Object.assign(Object.assign({},W),{nativeEvent:!0,data:{data:bz(K,y)}}))},c,{leading:u,trailing:f}),G=W=>{eo({root:t,single:d,emitter:l,event:W})},V=()=>{O||(t.addEventListener("pointermove",z),t.addEventListener("pointerleave",G))},Q=()=>{O||(t.removeEventListener("pointermove",z),t.removeEventListener("pointerleave",G))},Y=({nativeEvent:W,offsetX:K,offsetY:ot,data:at})=>{if(W)return;const{data:ft}=at,Tt=fO(E,ft,g);if(!Tt)return;const dt=Tt.getBBox(),{x:mt,y:Gt,width:Oe,height:Ve}=dt,Me=t.getBBox();z({target:Tt,offsetX:K!==void 0?K+Me.x:mt+Oe/2,offsetY:ot!==void 0?ot+Me.y:Gt+Ve/2})},H=({nativeEvent:W}={})=>{W||eo({root:t,single:d,emitter:l,nativeEvent:!1})},tt=()=>{Q(),b_({root:t,single:d})},Z=()=>{V()};return l.on("tooltip:show",Y),l.on("tooltip:hide",H),l.on("tooltip:enable",Z),l.on("tooltip:disable",tt),V(),()=>{Q(),l.off("tooltip:show",Y),l.off("tooltip:hide",H),M?eo({root:t,single:d,emitter:l,nativeEvent:!1}):b_({root:t,single:d})}}function R9(t){const{shared:e,crosshairs:n,crosshairsX:r,crosshairsY:i,series:a,name:o,item:s=()=>({}),facet:l=!1}=t,c=Vs(t,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(u,f,h)=>{const{container:d,view:p}=u,{scale:v,markState:g,coordinate:y,theme:m}=p,b=_L(g,"seriesTooltip"),x=_L(g,"crosshairs"),_=ia(d),w=ua(a,b),S=ua(n,x);if(w&&s_t(g)&&!l)return wL(_,Object.assign(Object.assign({},c),{theme:m,elements:Po,scale:v,coordinate:y,crosshairs:S,crosshairsX:ua(ua(r,n),!1),crosshairsY:ua(i,S),item:s,emitter:h}));if(w&&l){const O=f.filter(C=>C!==u&&C.options.parentKey===u.options.key),M=v9(u,f),T=O[0].view.scale,A=_.getBounds(),P=A.min[0],E=A.min[1];return Object.assign(T,{facet:!0}),wL(_.parentNode.parentNode,Object.assign(Object.assign({},c),{theme:m,elements:()=>M,scale:T,coordinate:y,crosshairs:ua(n,x),crosshairsX:ua(ua(r,n),!1),crosshairsY:ua(i,S),item:s,startX:P,startY:E,emitter:h}))}return l_t(_,Object.assign(Object.assign({},c),{datum:Ys(p),elements:Po,scale:v,coordinate:y,groupKey:e?uO():void 0,item:s,emitter:h,view:p,theme:m,shared:e}))}}R9.props={reapplyWhenUpdate:!0};var dv=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const N9="legend-category",c_t="legend-continuous",u_t="items-item",f_t="legend-category-item-marker",h_t="legend-category-item-label";function B9(t){return t.getElementsByClassName(f_t)[0]}function F9(t){return t.getElementsByClassName(h_t)[0]}function j9(t){return t.getElementsByClassName(u_t)}function hO(t){return t.getElementsByClassName(N9)}function z9(t){return t.getElementsByClassName(c_t)}function d_t(t,e){[...hO(t),...z9(t)].forEach(r=>{e(r,i=>i)})}function x_(t){let e=t.parentNode;for(;e&&!e.__data__;)e=e.parentNode;return e.__data__}function p_t(t,{legends:e,marker:n,label:r,datum:i,filter:a,emitter:o,channel:s,state:l={}}){const c=new Map,u=new Map,f=new Map,{unselected:h={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=l,d={unselected:nt(h,"marker")},p={unselected:nt(h,"label")},{setState:v,removeState:g}=Ta(d,void 0),{setState:y,removeState:m}=Ta(p,void 0),b=Array.from(e(t));let x=b.map(i);const _=()=>{for(const O of b){const M=i(O),T=n(O),A=r(O);x.includes(M)?(g(T,"unselected"),m(A,"unselected")):(v(T,"unselected"),y(A,"unselected"))}};for(const O of b){const M=()=>{Za(t,"pointer")},T=()=>{$xt(t)},A=P=>dv(this,void 0,void 0,function*(){const E=i(O),C=x.indexOf(E);C===-1?x.push(E):x.splice(C,1),yield a(x),_();const{nativeEvent:k=!0}=P;k&&(x.length===b.length?o.emit("legend:reset",{nativeEvent:k}):o.emit("legend:filter",Object.assign(Object.assign({},P),{nativeEvent:k,data:{channel:s,values:x}})))});O.addEventListener("click",A),O.addEventListener("pointerenter",M),O.addEventListener("pointerout",T),c.set(O,A),u.set(O,M),f.set(O,T)}const w=O=>dv(this,void 0,void 0,function*(){const{nativeEvent:M}=O;if(M)return;const{data:T}=O,{channel:A,values:P}=T;A===s&&(x=P,yield a(x),_())}),S=O=>dv(this,void 0,void 0,function*(){const{nativeEvent:M}=O;M||(x=b.map(i),yield a(x),_())});return o.on("legend:filter",w),o.on("legend:reset",S),()=>{for(const O of b)O.removeEventListener("click",c.get(O)),O.removeEventListener("pointerenter",u.get(O)),O.removeEventListener("pointerout",f.get(O)),o.off("legend:filter",w),o.off("legend:reset",S)}}function v_t(t,{legend:e,filter:n,emitter:r,channel:i}){const a=({detail:{value:o}})=>{n(o),r.emit({nativeEvent:!0,data:{channel:i,values:o}})};return e.addEventListener("valuechange",a),()=>{e.removeEventListener("valuechange",a)}}function $9(t,{legend:e,channel:n,value:r,ordinal:i,channels:a,allChannels:o,facet:s=!1}){return dv(this,void 0,void 0,function*(){const{view:l,update:c,setState:u}=t;u(e,f=>{const{marks:h}=f,d=h.map(p=>{if(p.type==="legends")return p;const{transform:v=[]}=p,g=v.findIndex(({type:b})=>b.startsWith("group")||b.startsWith("bin")),y=[...v];y.splice(g+1,0,{type:"filter",[n]:{value:r,ordinal:i}});const m=Object.fromEntries(a.map(b=>[b,{domain:l.scale[b].getOptions().domain}]));return U({},p,Object.assign(Object.assign({transform:y,scale:m},!i&&{animate:!1}),{legend:s?!1:Object.fromEntries(o.map(b=>[b,{preserve:!0}]))}))});return Object.assign(Object.assign({},f),{marks:d})}),yield c()})}function g_t(t,e){for(const n of t)$9(n,Object.assign(Object.assign({},e),{facet:!0}))}function y_t(){return(t,e,n)=>{const{container:r}=t,i=e.filter(f=>f!==t),a=i.length>0,o=f=>x_(f).scales.map(h=>h.name),s=[...hO(r),...z9(r)],l=s.flatMap(o),c=a?Ls(g_t,50,{trailing:!0}):Ls($9,50,{trailing:!0}),u=s.map(f=>{const{name:h,domain:d}=x_(f).scales[0],p=o(f),v={legend:f,channel:h,channels:p,allChannels:l};return f.className===N9?p_t(r,{legends:j9,marker:B9,label:F9,datum:g=>{const{__data__:y}=g,{index:m}=y;return d[m]},filter:g=>{const y=Object.assign(Object.assign({},v),{value:g,ordinal:!0});c(a?i:t,y)},state:f.attributes.state,channel:h,emitter:n}):v_t(r,{legend:f,filter:g=>{const y=Object.assign(Object.assign({},v),{value:g,ordinal:!1});c(a?i:t,y)},emitter:n,channel:h})});return()=>{u.forEach(f=>f())}}}function m_t(){return(t,e,n)=>{const{container:r,view:i,options:a}=t,o=hO(r),s=Po(r),l=d=>x_(d).scales[0].name,c=d=>{const{scale:{[d]:p}}=i;return p},u=Nc(a,["active","inactive"]),f=ld(s,Ys(i)),h=[];for(const d of o){const p=N=>{const{data:F}=d.attributes,{__data__:j}=N,{index:z}=j;return F[z].label},v=l(d),g=j9(d),y=c(v),m=Pe(s,N=>y.invert(N.__data__[v])),{state:b={}}=d.attributes,{inactive:x={}}=b,{setState:_,removeState:w}=Ta(u,f),S={inactive:nt(x,"marker")},O={inactive:nt(x,"label")},{setState:M,removeState:T}=Ta(S),{setState:A,removeState:P}=Ta(O),E=N=>{for(const F of g){const j=B9(F),z=F9(F);F===N||N===null?(T(j,"inactive"),P(z,"inactive")):(M(j,"inactive"),A(z,"inactive"))}},C=(N,F)=>{const j=p(F),z=new Set(m.get(j));for(const V of s)z.has(V)?_(V,"active"):_(V,"inactive");E(F);const{nativeEvent:G=!0}=N;G&&n.emit("legend:highlight",Object.assign(Object.assign({},N),{nativeEvent:G,data:{channel:v,value:j}}))},k=new Map;for(const N of g){const F=j=>{C(j,N)};N.addEventListener("pointerover",F),k.set(N,F)}const L=N=>{for(const j of s)w(j,"inactive","active");E(null);const{nativeEvent:F=!0}=N;F&&n.emit("legend:unhighlight",{nativeEvent:F})},R=N=>{const{nativeEvent:F,data:j}=N;if(F)return;const{channel:z,value:G}=j;if(z!==v)return;const V=g.find(Q=>p(Q)===G);V&&C({nativeEvent:!1},V)},D=N=>{const{nativeEvent:F}=N;F||L({nativeEvent:!1})};d.addEventListener("pointerleave",L),n.on("legend:highlight",R),n.on("legend:unhighlight",D);const I=()=>{d.removeEventListener(L),n.off("legend:highlight",R),n.off("legend:unhighlight",D);for(const[N,F]of k)N.removeEventListener(F)};h.push(I)}return()=>h.forEach(d=>d())}}var zr=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function b_t(t,e){const[n,r,i,a]=t,[o,s,l,c]=e;return!(o>i||l<n||s>a||c<r)}function x_t(t,e,n,r,i){const[a,o,s,l]=i;return[Math.max(a,Math.min(t,n)),Math.max(o,Math.min(e,r)),Math.min(s,Math.max(t,n)),Math.min(l,Math.max(e,r))]}function __t(t){const{width:e,height:n}=t.getBBox();return[0,0,e,n]}function fa(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}const SL=Tc(t=>{const e=t.attributes,{x:n,y:r,width:i,height:a,class:o,renders:s={},handleSize:l=10,document:c}=e,u=zr(e,["x","y","width","height","class","renders","handleSize","document"]);if(!c||i===void 0||a===void 0||n===void 0||r===void 0)return;const f=l/2,h=(G,V,Q)=>{G.handle||(G.handle=Q.createElement("rect"),G.append(G.handle));const{handle:Y}=G;return Y.attr(V),Y},d=nt(zm(u,"handleNW","handleNE"),"handleN"),{render:p=h}=d,v=zr(d,["render"]),g=nt(u,"handleE"),{render:y=h}=g,m=zr(g,["render"]),b=nt(zm(u,"handleSE","handleSW"),"handleS"),{render:x=h}=b,_=zr(b,["render"]),w=nt(u,"handleW"),{render:S=h}=w,O=zr(w,["render"]),M=nt(u,"handleNW"),{render:T=h}=M,A=zr(M,["render"]),P=nt(u,"handleNE"),{render:E=h}=P,C=zr(P,["render"]),k=nt(u,"handleSE"),{render:L=h}=k,R=zr(k,["render"]),D=nt(u,"handleSW"),{render:I=h}=D,N=zr(D,["render"]),F=(G,V)=>{const{id:Q}=G,Y=V(G,G.attributes,c);Y.id=Q,Y.style.draggable=!0},j=G=>()=>{const V=Tc(Q=>F(Q,G));return new V({})},z=gt(t).attr("className",o).style("transform",`translate(${n}, ${r})`).style("draggable",!0);z.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(fa,Object.assign(Object.assign({width:i,height:a},zm(u,"handle")),{transform:void 0})),z.maybeAppend("handle-n",j(p)).style("x",f).style("y",-f).style("width",i-l).style("height",l).style("fill","transparent").call(fa,v),z.maybeAppend("handle-e",j(y)).style("x",i-f).style("y",f).style("width",l).style("height",a-l).style("fill","transparent").call(fa,m),z.maybeAppend("handle-s",j(x)).style("x",f).style("y",a-f).style("width",i-l).style("height",l).style("fill","transparent").call(fa,_),z.maybeAppend("handle-w",j(S)).style("x",-f).style("y",f).style("width",l).style("height",a-l).style("fill","transparent").call(fa,O),z.maybeAppend("handle-nw",j(T)).style("x",-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(fa,A),z.maybeAppend("handle-ne",j(E)).style("x",i-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(fa,C),z.maybeAppend("handle-se",j(L)).style("x",i-f).style("y",a-f).style("width",l).style("height",l).style("fill","transparent").call(fa,R),z.maybeAppend("handle-sw",j(I)).style("x",-f).style("y",a-f).style("width",l).style("height",l).style("fill","transparent").call(fa,N)});function dO(t,e){var{brushed:n=()=>{},brushended:r=()=>{},brushcreated:i=()=>{},brushstarted:a=()=>{},brushupdated:o=()=>{},extent:s=__t(t),brushRegion:l=(Y,H,tt,Z,W)=>[Y,H,tt,Z],reverse:c=!1,fill:u="#777",fillOpacity:f="0.3",stroke:h="#fff",selectedHandles:d=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=e,p=zr(e,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let v=null,g=null,y=null,m=null,b=null,x=!1;const[_,w,S,O]=s;Za(t,"crosshair"),t.style.draggable=!0;const M=(Y,H,tt)=>{if(a(tt),m&&m.remove(),b&&b.remove(),v=[Y,H],c)return T();A()},T=()=>{b=new Qn({style:Object.assign(Object.assign({},p),{fill:u,fillOpacity:f,stroke:h,pointerEvents:"none"})}),m=new SL({style:{x:0,y:0,width:0,height:0,draggable:!0,document:t.ownerDocument},className:"mask"}),t.appendChild(b),t.appendChild(m)},A=()=>{m=new SL({style:Object.assign(Object.assign({document:t.ownerDocument,x:0,y:0},p),{fill:u,fillOpacity:f,stroke:h,draggable:!0}),className:"mask"}),t.appendChild(m)},P=(Y=!0)=>{m&&m.remove(),b&&b.remove(),v=null,g=null,y=null,x=!1,m=null,b=null,r(Y)},E=(Y,H,tt=!0)=>{const[Z,W,K,ot]=x_t(Y[0],Y[1],H[0],H[1],s),[at,ft,Tt,dt]=l(Z,W,K,ot,s);return c?k(at,ft,Tt,dt):C(at,ft,Tt,dt),n(at,ft,Tt,dt,tt),[at,ft,Tt,dt]},C=(Y,H,tt,Z)=>{m.style.x=Y,m.style.y=H,m.style.width=tt-Y,m.style.height=Z-H},k=(Y,H,tt,Z)=>{b.style.d=`
      M${_},${w}L${S},${w}L${S},${O}L${_},${O}Z
      M${Y},${H}L${Y},${Z}L${tt},${Z}L${tt},${H}Z
    `,m.style.x=Y,m.style.y=H,m.style.width=tt-Y,m.style.height=Z-H},L=Y=>{const H=(ft,Tt,dt,mt,Gt)=>ft+Tt<mt?mt-Tt:ft+dt>Gt?Gt-dt:ft,tt=Y[0]-y[0],Z=Y[1]-y[1],W=H(tt,v[0],g[0],_,S),K=H(Z,v[1],g[1],w,O),ot=[v[0]+W,v[1]+K],at=[g[0]+W,g[1]+K];E(ot,at)},R={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},D=Y=>N(Y)||I(Y),I=Y=>{const{id:H}=Y;return d.indexOf(H)===-1?!1:new Set(Object.keys(R)).has(H)},N=Y=>Y===m.getElementById("selection"),F=Y=>{const{target:H}=Y,[tt,Z]=C1(t,Y);if(!m||!D(H)){M(tt,Z,Y),x=!0;return}D(H)&&(y=[tt,Z])},j=Y=>{const{target:H}=Y,tt=C1(t,Y);if(!v)return;if(!y)return E(v,tt);if(N(H))return L(tt);const[Z,W]=[tt[0]-y[0],tt[1]-y[1]],{id:K}=H;if(R[K]){const[ot,at,ft,Tt]=R[K].vector;return E([v[0]+Z*ot,v[1]+W*at],[g[0]+Z*ft,g[1]+W*Tt])}},z=Y=>{if(y){y=null;const{x:K,y:ot,width:at,height:ft}=m.style;v=[K,ot],g=[K+at,ot+ft],o(K,ot,K+at,ot+ft,Y);return}g=C1(t,Y);const[H,tt,Z,W]=E(v,g);x=!1,i(H,tt,Z,W,Y)},G=Y=>{const{target:H}=Y;m&&!D(H)&&P()},V=Y=>{const{target:H}=Y;!m||!D(H)||x?Za(t,"crosshair"):N(H)?Za(t,"move"):I(H)&&Za(t,R[H.id].cursor)},Q=()=>{Za(t,"default")};return t.addEventListener("dragstart",F),t.addEventListener("drag",j),t.addEventListener("dragend",z),t.addEventListener("click",G),t.addEventListener("pointermove",V),t.addEventListener("pointerleave",Q),{mask:m,move(Y,H,tt,Z,W=!0){m||M(Y,H,{}),v=[Y,H],g=[tt,Z],E([Y,H],[tt,Z],W)},remove(Y=!0){m&&P(Y)},destroy(){m&&P(!1),Za(t,"default"),t.removeEventListener("dragstart",F),t.removeEventListener("drag",j),t.removeEventListener("dragend",z),t.removeEventListener("click",G),t.removeEventListener("pointermove",V),t.removeEventListener("pointerleave",Q)}}}function pO(t,e,n){return e.filter(r=>{if(r===t)return!1;const{interaction:i={}}=r.options;return Object.values(i).find(a=>a.brushKey===n)})}function w_t(t,e,n){return pO(t,e,n).map(r=>ia(r.container))}function S_t(t,e,n){return pO(t,e,n).map(r=>r.options)}function OL(t,e){var{elements:n,selectedHandles:r,siblings:i=j=>[],datum:a,brushRegion:o,extent:s,reverse:l,scale:c,coordinate:u,series:f=!1,key:h=j=>j,bboxOf:d=j=>{const{x:z,y:G,width:V,height:Q}=j.style;return{x:z,y:G,width:V,height:Q}},state:p={},emitter:v}=e,g=zr(e,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const y=n(t),m=i(t),b=m.flatMap(n),x=ld(y,a),_=nt(g,"mask"),{setState:w,removeState:S}=Ta(p,x),O=new Map,{width:M,height:T,x:A=0,y:P=0}=d(t),E=s||[0,0,M,T],C=()=>{for(const j of[...y,...b])S(j,"active","inactive")},k=(j,z,G,V)=>{var Q;for(const H of m)(Q=H.brush)===null||Q===void 0||Q.remove();const Y=new Set;for(const H of y){const{min:tt,max:Z}=H.getLocalBounds(),[W,K]=tt,[ot,at]=Z;b_t([W,K,ot,at],[j,z,G,V])?(w(H,"active"),Y.add(h(H))):w(H,"inactive")}for(const H of b)Y.has(h(H))?w(H,"active"):w(H,"inactive")},L=()=>{for(const j of y)S(j,"inactive");for(const j of O.values())j.remove();O.clear()},R=(j,z,G,V)=>{const Q=H=>{const tt=H.cloneNode();return tt.__data__=H.__data__,H.parentNode.appendChild(tt),O.set(H,tt),tt},Y=new tl({style:{x:j+A,y:z+P,width:G-j,height:V-z}});t.appendChild(Y);for(const H of y){const tt=O.get(H)||Q(H);tt.style.clipPath=Y,w(H,"inactive"),w(tt,"active")}},D=dO(t,Object.assign(Object.assign({},_),{extent:E,brushRegion:o,reverse:l,selectedHandles:r,brushended:j=>{const z=f?L:C;j&&v.emit("brush:remove",{nativeEvent:!0}),z()},brushed:(j,z,G,V,Q)=>{const Y=fv(j,z,G,V,c,u);Q&&v.emit("brush:highlight",{nativeEvent:!0,data:{selection:Y}}),(f?R:k)(j,z,G,V)},brushcreated:(j,z,G,V,Q)=>{const Y=fv(j,z,G,V,c,u);v.emit("brush:end",Object.assign(Object.assign({},Q),{nativeEvent:!0,data:{selection:Y}}))},brushupdated:(j,z,G,V,Q)=>{const Y=fv(j,z,G,V,c,u);v.emit("brush:end",Object.assign(Object.assign({},Q),{nativeEvent:!0,data:{selection:Y}}))},brushstarted:j=>{v.emit("brush:start",j)}})),I=({nativeEvent:j,data:z})=>{if(j)return;const{selection:G}=z,[V,Q,Y,H]=Fvt(G,c,u);D.move(V,Q,Y,H,!1)};v.on("brush:highlight",I);const N=({nativeEvent:j}={})=>{j||D.remove(!1)};v.on("brush:remove",N);const F=D.destroy.bind(D);return D.destroy=()=>{v.off("brush:highlight",I),v.off("brush:remove",N),F()},D}function vO(t){var{facet:e,brushKey:n}=t,r=zr(t,["facet","brushKey"]);return(i,a,o)=>{const{container:s,view:l,options:c}=i,u=ia(s),f={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},h=["active",["inactive",{opacity:.5}]],{scale:d,coordinate:p}=l;if(e){const g=u.getBounds(),y=g.min[0],m=g.min[1],b=g.max[0],x=g.max[1];return OL(u.parentNode.parentNode,Object.assign(Object.assign({elements:()=>v9(i,a),datum:Ys(m_(i,a).map(_=>_.view)),brushRegion:(_,w,S,O)=>[_,w,S,O],extent:[y,m,b,x],state:Nc(m_(i,a).map(_=>_.options),h),emitter:o,scale:d,coordinate:p,selectedHandles:void 0},f),r))}const v=OL(u,Object.assign(Object.assign({elements:Po,key:g=>g.__data__.key,siblings:()=>w_t(i,a,n),datum:Ys([l,...pO(i,a,n).map(g=>g.view)]),brushRegion:(g,y,m,b)=>[g,y,m,b],extent:void 0,state:Nc([c,...S_t(i,a,n)],h),emitter:o,scale:d,coordinate:p,selectedHandles:void 0},f),r));return u.brush=v,()=>v.destroy()}}function gO(t,e,n,r,i){const[,a,,o]=i;return[t,a,n,o]}function O_t(t){return vO(Object.assign(Object.assign({},t),{brushRegion:gO,selectedHandles:["handle-e","handle-w"]}))}function yO(t,e,n,r,i){const[a,,o]=i;return[a,e,o,r]}function M_t(t){return vO(Object.assign(Object.assign({},t),{brushRegion:yO,selectedHandles:["handle-n","handle-s"]}))}var mO=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const T_t="axis",A_t="axis-line",E_t="axis-main-group",G9="axis-hot-area";function P_t(t){return t.getElementsByClassName(T_t)}function W9(t){return t.getElementsByClassName(A_t)[0]}function C_t(t){return t.getElementsByClassName(E_t)[0]}function H9(t){return C_t(t).getLocalBounds()}function k_t(t,e){var{cross:n,offsetX:r,offsetY:i}=e,a=mO(e,["cross","offsetX","offsetY"]);const o=H9(t),s=W9(t),[l]=s.getLocalBounds().min,[c,u]=o.min,[f,h]=o.max,d=(f-c)*2;return{brushRegion:yO,hotZone:new tl({className:G9,style:Object.assign({width:n?d/2:d,transform:`translate(${(n?c:l-d/2).toFixed(2)}, ${u})`,height:h-u},a)}),extent:n?(p,v,g,y)=>[-1/0,v,1/0,y]:(p,v,g,y)=>[Math.floor(c-r),v,Math.ceil(f-r),y]}}function L_t(t,e){var{offsetY:n,offsetX:r,cross:i=!1}=e,a=mO(e,["offsetY","offsetX","cross"]);const o=H9(t),s=W9(t),[,l]=s.getLocalBounds().min,[c,u]=o.min,[f,h]=o.max,d=h-u;return{brushRegion:gO,hotZone:new tl({className:G9,style:Object.assign({width:f-c,height:i?d:d*2,transform:`translate(${c}, ${i?u:l-d})`},a)}),extent:i?(p,v,g,y)=>[p,-1/0,g,1/0]:(p,v,g,y)=>[p,Math.floor(u-n),g,Math.ceil(h-n)]}}function D_t(t,e){var{axes:n,elements:r,points:i,horizontal:a,datum:o,offsetY:s,offsetX:l,reverse:c=!1,state:u={},emitter:f,coordinate:h}=e,d=mO(e,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const p=r(t),v=n(t),g=ld(p,o),{setState:y,removeState:m}=Ta(u,g),b=new Map,x=nt(d,"mask"),_=I=>Array.from(b.values()).every(([N,F,j,z])=>I.some(([G,V])=>G>=N&&G<=j&&V>=F&&V<=z)),w=v.map(I=>I.attributes.scale),S=I=>I.length>2?[I[0],I[I.length-1]]:I,O=new Map,M=()=>{O.clear();for(let I=0;I<v.length;I++){const N=w[I],{domain:F}=N.getOptions();O.set(I,S(F))}};M();const T=(I,N)=>{const F=[];for(const z of p){const G=i(z);_(G)?(y(z,"active"),F.push(z)):y(z,"inactive")}if(O.set(I,P(F,I)),!N)return;const j=()=>{if(!E)return Array.from(O.values());const z=[];for(const[G,V]of O){const Q=w[G],{name:Y}=Q.getOptions();Y==="x"?z[0]=V:z[1]=V}return z};f.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:j()}})},A=I=>{for(const N of p)m(N,"active","inactive");M(),I&&f.emit("brushAxis:remove",{nativeEvent:!0})},P=(I,N)=>{const F=w[N],{name:j}=F.getOptions(),z=I.map(G=>{const V=G.__data__;return F.invert(V[j])});return S(so(F,z))},E=v.some(a)&&v.some(I=>!a(I)),C=[];for(let I=0;I<v.length;I++){const N=v[I],F=a(N)?L_t:k_t,{hotZone:j,brushRegion:z,extent:G}=F(N,{offsetY:s,offsetX:l,cross:E,zIndex:999,fill:"transparent"});N.parentNode.appendChild(j);const V=dO(j,Object.assign(Object.assign({},x),{reverse:c,brushRegion:z,brushended(Q){b.delete(N),Array.from(b.entries()).length===0?A(Q):T(I,Q)},brushed(Q,Y,H,tt,Z){b.set(N,G(Q,Y,H,tt)),T(I,Z)}}));C.push(V)}const k=(I={})=>{const{nativeEvent:N}=I;N||C.forEach(F=>F.remove(!1))},L=(I,N,F)=>{const[j,z]=I,G=Y=>Y.getStep?Y.getStep():0,V=R(j,N,F),Q=R(z,N,F)+G(N);return a(F)?[V,-1/0,Q,1/0]:[-1/0,V,1/0,Q]},R=(I,N,F)=>{const{height:j,width:z}=h.getOptions(),G=N.clone();return a(F)?G.update({range:[0,z]}):G.update({range:[j,0]}),G.map(I)},D=I=>{const{nativeEvent:N}=I;if(N)return;const{selection:F}=I.data;for(let j=0;j<C.length;j++){const z=F[j],G=C[j],V=v[j];if(z){const Q=w[j];G.move(...L(z,Q,V),!1)}else G.remove(!1)}};return f.on("brushAxis:remove",k),f.on("brushAxis:highlight",D),()=>{C.forEach(I=>I.destroy()),f.off("brushAxis:remove",k),f.off("brushAxis:highlight",D)}}function I_t(t){return(e,n,r)=>{const{container:i,view:a,options:o}=e,s=ia(i),{x:l,y:c}=s.getBBox(),{coordinate:u}=a;return D_t(i,Object.assign({elements:Po,axes:P_t,offsetY:c,offsetX:l,points:f=>f.__data__.points,horizontal:f=>{const{startPos:[h,d],endPos:[p,v]}=f.attributes;return h!==p&&d===v},datum:Ys(a),state:Nc(o,["active",["inactive",{opacity:.5}]]),coordinate:u,emitter:r},t))}}var R_t=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},Y9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function N_t(t=300){let e=null;return n=>{const{timeStamp:r}=n;return e!==null&&r-e<t?(e=r,!0):(e=r,!1)}}function B_t(t,e){var{filter:n,reset:r,brushRegion:i,extent:a,reverse:o,emitter:s,scale:l,coordinate:c,selection:u,series:f=!1}=e,h=Y9(e,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const d=nt(h,"mask"),{width:p,height:v}=t.getBBox(),g=a||[0,0,p,v],y=N_t(),m=dO(t,Object.assign(Object.assign({},d),{extent:g,brushRegion:i,reverse:o,brushcreated:b}));t.addEventListener("click",x);function b(w,S,O,M,T){T.nativeEvent=!0,n(u(w,S,O,M),T),m.remove()}function x(w){y(w)&&(w.nativeEvent=!0,r(w))}const _=({nativeEvent:w,data:S})=>{if(w)return;const{selection:O}=S;n(O,{nativeEvent:!1})};return s.on("brush:filter",_),()=>{m.destroy(),s.off("brush:filter",_),t.removeEventListener("click",x)}}function bO(t){var{hideX:e=!0,hideY:n=!0}=t,r=Y9(t,["hideX","hideY"]);return(i,a,o)=>{const{container:s,view:l,options:c,update:u,setState:f}=i,h=ia(s),d={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let p=!1,v=!1,g=l;const{scale:y,coordinate:m}=l;return B_t(h,Object.assign(Object.assign({brushRegion:(b,x,_,w)=>[b,x,_,w],selection:(b,x,_,w)=>{const{scale:S,coordinate:O}=g;return fv(b,x,_,w,S,O)},filter:(b,x)=>R_t(this,void 0,void 0,function*(){if(v)return;v=!0;const[_,w]=b;f("brushFilter",O=>{const{marks:M}=O,T=M.map(A=>U({axis:Object.assign(Object.assign({},e&&{x:{transform:[{type:"hide"}]}}),n&&{y:{transform:[{type:"hide"}]}})},A,{scale:{x:{domain:_,nice:!1},y:{domain:w,nice:!1}}}));return Object.assign(Object.assign({},c),{marks:T,clip:!0})}),o.emit("brush:filter",Object.assign(Object.assign({},x),{data:{selection:[_,w]}})),g=(yield u()).view,v=!1,p=!0}),reset:b=>{if(v||!p)return;const{scale:x}=l,{x:_,y:w}=x,S=_.getOptions().domain,O=w.getOptions().domain;o.emit("brush:filter",Object.assign(Object.assign({},b),{data:{selection:[S,O]}})),p=!1,g=l,f("brushFilter"),u()},extent:void 0,emitter:o,scale:y,coordinate:m},d),r))}}function F_t(t){return bO(Object.assign(Object.assign({hideX:!0},t),{brushRegion:gO}))}function j_t(t){return bO(Object.assign(Object.assign({hideY:!0},t),{brushRegion:yO}))}var z_t=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const $_t="slider";function G_t(t,e,n,r=!1,i="x",a="y"){const{marks:o}=t,s=o.map(l=>{var c,u;return U({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},l,{scale:e,[n]:Object.assign(Object.assign({},((c=l[n])===null||c===void 0?void 0:c[i])&&{[i]:Object.assign({preserve:!0},r&&{ratio:null})}),((u=l[n])===null||u===void 0?void 0:u[a])&&{[a]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},t),{marks:s,clip:!0,animate:!1})}function W_t(t,e,n){const[r,i]=t,a=n?l=>1-l:l=>l,o=kc(e,a(r),!0),s=kc(e,a(i),!1);return so(e,[o,s])}function jp(t){return[t[0],t[t.length-1]]}function V9({initDomain:t={},className:e=$_t,prefix:n="slider",setValue:r=(c,u)=>c.setValues(u),hasState:i=!1,wait:a=50,leading:o=!0,trailing:s=!1,getInitValues:l=c=>{var u;const f=(u=c==null?void 0:c.attributes)===null||u===void 0?void 0:u.values;if(f[0]!==0||f[1]!==1)return f}}){return(c,u,f)=>{const{container:h,view:d,update:p,setState:v}=c,g=h.getElementsByClassName(e);if(!g.length)return()=>{};let y=!1;const{scale:m,coordinate:b,layout:x}=d,{paddingLeft:_,paddingTop:w,paddingBottom:S,paddingRight:O}=x,{x:M,y:T}=m,A=ke(b),P=L=>{const R=L==="vertical"?"y":"x",D=L==="vertical"?"x":"y";return A?[D,R]:[R,D]},E=new Map,C=new Set,k={x:t.x||M.getOptions().domain,y:t.y||T.getOptions().domain};for(const L of g){const{orientation:R}=L.attributes,[D,I]=P(R),N=`${n}${Co(D)}:filter`,F=D==="x",{ratio:j}=M.getOptions(),{ratio:z}=T.getOptions(),G=H=>{if(H.data){const{selection:ot}=H.data,[at=jp(k.x),ft=jp(k.y)]=ot;return F?[so(M,at,j),so(T,ft,z)]:[so(T,ft,z),so(M,at,j)]}const{value:tt}=H.detail,Z=m[D],W=W_t(tt,Z,A&&R==="horizontal"),K=k[I];return[W,K]},V=Ls(H=>z_t(this,void 0,void 0,function*(){const{initValue:tt=!1}=H;if(y&&!tt)return;y=!0;const{nativeEvent:Z=!0}=H,[W,K]=G(H);if(k[D]=W,k[I]=K,Z){const ot=F?W:K,at=F?K:W;f.emit(N,Object.assign(Object.assign({},H),{nativeEvent:Z,data:{selection:[jp(ot),jp(at)]}}))}v(L,ot=>Object.assign(Object.assign({},G_t(ot,{[D]:{domain:W,nice:!1}},n,i,D,I)),{paddingLeft:_,paddingTop:w,paddingBottom:S,paddingRight:O})),yield p(),y=!1}),a,{leading:o,trailing:s}),Q=H=>{const{nativeEvent:tt}=H;if(tt)return;const{data:Z}=H,{selection:W}=Z,[K,ot]=W;L.dispatchEvent(new le("valuechange",{data:Z,nativeEvent:!1}));const at=F?mg(K,M):mg(ot,T);r(L,at)};f.on(N,Q),L.addEventListener("valuechange",V),E.set(L,V),C.add([N,Q]);const Y=l(L);Y&&L.dispatchEvent(new le("valuechange",{detail:{value:Y},nativeEvent:!1,initValue:!0}))}return()=>{for(const[L,R]of E)L.removeEventListener("valuechange",R);for(const[L,R]of C)f.off(L,R)}}}const ML="g2-scrollbar";function H_t(t={}){return(e,n,r)=>{const{view:i,container:a}=e;if(!a.getElementsByClassName(ML).length)return()=>{};const{scale:s}=i,{x:l,y:c}=s,u={x:[...l.getOptions().domain],y:[...c.getOptions().domain]};return l.update({domain:l.getOptions().expectedDomain}),c.update({domain:c.getOptions().expectedDomain}),V9(Object.assign(Object.assign({},t),{initDomain:u,className:ML,prefix:"scrollbar",hasState:!0,setValue:(h,d)=>h.setValue(d[0]),getInitValues:h=>{const d=h.slider.attributes.values;if(d[0]!==0)return d}}))(e,n,r)}}var Y_t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function V_t(t,e,n){return`<${t} style="${Object.entries(n).map(([r,i])=>`${rft(r)}:${i}`).join(";")}">${e}</${t}>`}const X_t={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function TL(t){return t.nodeName!=="text"?!1:!!t.isOverflowing()}function X9(t){var{offsetX:e=8,offsetY:n=8}=t,r=Y_t(t,["offsetX","offsetY"]);return i=>{const{container:a}=i,[o,s]=a.getBounds().min,l=nt(r,"tip"),c=new Set,u=h=>{const{target:d}=h;if(!TL(d)){h.stopPropagation();return}const{offsetX:p,offsetY:v}=h,g=p+e-o,y=v+n-s;if(d.tip){d.tip.style.x=g,d.tip.style.y=y;return}const{text:m}=d.style,b=new N0({className:"poptip",style:{innerHTML:V_t("div",m,Object.assign(Object.assign({},X_t),l)),x:g,y}});a.appendChild(b),d.tip=b,c.add(b)},f=h=>{const{target:d}=h;if(!TL(d)){h.stopPropagation();return}d.tip&&(d.tip.remove(),d.tip=null,c.delete(d.tip))};return a.addEventListener("pointerover",u),a.addEventListener("pointerout",f),()=>{a.removeEventListener("pointerover",u),a.removeEventListener("pointerout",f),c.forEach(h=>h.remove())}}}X9.props={reapplyWhenUpdate:!0};var U_t=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},q_t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Z_t(t){return gt(t).select(`.${bg}`).node()}const K_t={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function Q_t(t={}){const{originData:e=[],layout:n}=t,r=q_t(t,["originData","layout"]),i=U({},K_t,r),a=nt(i,"breadCrumb"),o=nt(i,"active");return s=>{const{update:l,setState:c,container:u,options:f}=s,h=Z_t(u),d=f.marks[0],{state:p}=d,v=new mn;h.appendChild(v);const g=(x,_)=>U_t(this,void 0,void 0,function*(){if(v.removeChildren(),_){let w="",S=a.y,O=0;const M=[],T=h.getBBox().width,A=x.map((P,E)=>{w=`${w}${P}/`,M.push(P);const C=new Ki({name:w.replace(/\/$/,""),style:Object.assign(Object.assign({text:P,x:O,path:[...M],depth:E},a),{y:S})});v.appendChild(C),O+=C.getBBox().width;const k=new Ki({style:Object.assign(Object.assign({x:O,text:" / "},a),{y:S})});return v.appendChild(k),O+=k.getBBox().width,O>T&&(S=v.getBBox().height+a.y,O=0,C.attr({x:O,y:S}),O+=C.getBBox().width,k.attr({x:O,y:S}),O+=k.getBBox().width),E===jv(x)-1&&k.remove(),C});A.forEach((P,E)=>{if(E===jv(A)-1)return;const C=Object.assign({},P.attributes);P.attr("cursor","pointer"),P.addEventListener("mouseenter",()=>{P.attr(o)}),P.addEventListener("mouseleave",()=>{P.attr(C)}),P.addEventListener("click",()=>{g(Re(P,["style","path"]),Re(P,["style","depth"]))})})}d_t(u,c),c("treemapDrillDown",w=>{const{marks:S}=w,O=x.join("/"),M=S.map(T=>{if(T.type!=="rect")return T;let A=e;if(_){const E=e.filter(D=>{const I=Re(D,["id"]);return I&&(I.match(`${O}/`)||O.match(I))}).map(D=>({value:D.height===0?Re(D,["value"]):void 0,name:Re(D,["id"])})),{paddingLeft:C,paddingBottom:k,paddingRight:L}=n,R=Object.assign(Object.assign({},n),{paddingTop:(n.paddingTop||v.getBBox().height+10)/(_+1),paddingLeft:C/(_+1),paddingBottom:k/(_+1),paddingRight:L/(_+1),path:D=>D.name,layer:D=>D.depth===_+1});A=J8(E,R,{value:"value"})[0]}else A=e.filter(E=>E.depth===1);const P=[];return A.forEach(({path:E})=>{P.push(zh(E))}),U({},T,{data:A,scale:{color:{domain:P}}})});return Object.assign(Object.assign({},w),{marks:M})}),yield l(void 0,["legendFilter"])}),y=x=>{const _=x.target;if(Re(_,["markType"])!=="rect")return;const w=Re(_,["__data__","key"]),S=fc(e,O=>O.id===w);Re(S,"height")&&g(Re(S,"path"),Re(S,"depth"))};h.addEventListener("click",y);const m=VR(Object.assign(Object.assign({},p.active),p.inactive)),b=()=>{_9(h).forEach(_=>{const w=Re(_,["style","cursor"]),S=fc(e,O=>O.id===Re(_,["__data__","key"]));if(w!=="pointer"&&(S!=null&&S.height)){_.style.cursor="pointer";const O=FQ(_.attributes,m);_.addEventListener("mouseenter",()=>{_.attr(p.active)}),_.addEventListener("mouseleave",()=>{_.attr(U(O,p.inactive))})}})};return b(),h.addEventListener("mousemove",b),()=>{v.remove(),h.removeEventListener("click",y),h.removeEventListener("mousemove",b)}}}var k1=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},J_t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const t2t={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},L1="movePoint",AL=t=>{const e=t.target,{markType:n}=e;n==="line"&&(e.attr("_lineWidth",e.attr("lineWidth")||1),e.attr("lineWidth",e.attr("_lineWidth")+3)),n==="interval"&&(e.attr("_opacity",e.attr("opacity")||1),e.attr("opacity",.7*e.attr("_opacity")))},EL=t=>{const e=t.target,{markType:n}=e;n==="line"&&e.attr("lineWidth",e.attr("_lineWidth")),n==="interval"&&e.attr("opacity",e.attr("_opacity"))},e2t=(t,e,n)=>e.map(r=>["x","color"].reduce((a,o)=>{const s=n[o];return s&&r[s]!==t[s]?!1:a},!0)?Object.assign(Object.assign({},r),t):r),n2t=t=>{const e=Re(t,["__data__","y"]),r=Re(t,["__data__","y1"])-e,{__data__:{data:i,encode:a,transform:o},childNodes:s}=t.parentNode,l=fc(o,({type:f})=>f==="normalizeY"),c=Re(a,["y","field"]),u=i[s.indexOf(t)][c];return(f,h=!1)=>l||h?f/(1-f)/(r/(1-r))*u:f},r2t=(t,e)=>{const n=Re(t,["__data__","seriesItems",e,"0","value"]),r=Re(t,["__data__","seriesIndex",e]),{__data__:{data:i,encode:a,transform:o}}=t.parentNode,s=fc(o,({type:u})=>u==="normalizeY"),l=Re(a,["y","field"]),c=i[r][l];return u=>s?n===1?u:u/(1-u)/(n/(1-n))*c:u},PL=(t,e,n)=>{t.forEach((r,i)=>{r.attr("stroke",e[1]===i?n.activeStroke:n.stroke)})},CL=(t,e,n,r)=>{const i=new Qn({style:n}),a=new Ki({style:r});return e.appendChild(a),t.appendChild(i),[i,a]},kL=(t,e)=>{if(!Re(t,["options","range","indexOf"]))return;const r=t.options.range.indexOf(e);return t.sortedDomain[r]},D1=(t,e,n)=>{const r=Ng(t,e),a=Ng(t,n)/r,o=t[0]+(e[0]-t[0])*a,s=t[1]+(e[1]-t[1])*a;return[o,s]};function i2t(t={}){const{selection:e=[],precision:n=2}=t,r=J_t(t,["selection","precision"]),i=Object.assign(Object.assign({},t2t),r||{}),a=nt(i,"path"),o=nt(i,"label"),s=nt(i,"point");return(l,c,u)=>{const{update:f,setState:h,container:d,view:p,options:{marks:v,coordinate:g}}=l,y=ia(d);let m=_9(y),b,x=e;const{transform:_=[],type:w}=g,S=!!fc(_,({type:D})=>D==="transpose"),O=w==="polar",M=w==="theta",T=!!fc(m,({markType:D})=>D==="area");T&&(m=m.filter(({markType:D})=>D==="area"));const A=new mn({style:{zIndex:2}});y.appendChild(A);const P=()=>{u.emit("element-point:select",{nativeEvent:!0,data:{selection:x}})},E=(D,I)=>{u.emit("element-point:moved",{nativeEvent:!0,data:{changeData:D,data:I}})},C=D=>{const I=D.target;x=[I.parentNode.childNodes.indexOf(I)],P(),L(I)},k=D=>{const{data:{selection:I},nativeEvent:N}=D;if(N)return;x=I;const F=Re(m,[x==null?void 0:x[0]]);F&&L(F)},L=D=>{const{attributes:I,markType:N,__data__:F}=D,{stroke:j}=I,{points:z,seriesTitle:G,color:V,title:Q,seriesX:Y,y1:H}=F;if(S&&N!=="interval")return;const{scale:tt,coordinate:Z}=(b==null?void 0:b.view)||p,{color:W,y:K,x:ot}=tt,at=Z.getCenter();A.removeChildren();let ft;const Tt=(dt,mt,Gt,Oe)=>k1(this,void 0,void 0,function*(){return h("elementPointMove",Ve=>{var Me;const dn=(((Me=b==null?void 0:b.options)===null||Me===void 0?void 0:Me.marks)||v).map(Be=>{if(!Oe.includes(Be.type))return Be;const{data:zn,encode:ue}=Be,xn=Object.keys(ue).reduce((ct,xt)=>{const Dt=ue[xt];return xt==="x"&&(ct[Dt]=dt),xt==="y"&&(ct[Dt]=mt),xt==="color"&&(ct[Dt]=Gt),ct},{}),sn=e2t(xn,zn,ue);return E(xn,sn),U({},Be,{data:sn,animate:!1})});return Object.assign(Object.assign({},Ve),{marks:dn})}),yield f("elementPointMove")});if(["line","area"].includes(N))z.forEach((dt,mt)=>{const Gt=ot.invert(Y[mt]);if(!Gt)return;const Oe=new Ao({name:L1,style:Object.assign({cx:dt[0],cy:dt[1],fill:j},s)}),Ve=r2t(D,mt);Oe.addEventListener("mousedown",Me=>{const dn=Z.output([Y[mt],0]),Be=G==null?void 0:G.length;d.attr("cursor","move"),x[1]!==mt&&(x[1]=mt,P()),PL(A.childNodes,x,s);const[zn,ue]=CL(A,Oe,a,o),ye=sn=>{const ct=dt[1]+sn.clientY-ft[1];if(T)if(O){const xt=dt[0]+sn.clientX-ft[0],[Dt,Rt]=D1(at,dn,[xt,ct]),[,fe]=Z.output([1,K.output(0)]),[,Xe]=Z.invert([Dt,fe-(z[mt+Be][1]-Rt)]),Ue=(mt+1)%Be,_n=(mt-1+Be)%Be,Cr=Du([z[_n],[Dt,Rt],G[Ue]&&z[Ue]]);ue.attr("text",Ve(K.invert(Xe)).toFixed(n)),zn.attr("d",Cr),Oe.attr("cx",Dt),Oe.attr("cy",Rt)}else{const[,xt]=Z.output([1,K.output(0)]),[,Dt]=Z.invert([dt[0],xt-(z[mt+Be][1]-ct)]),Rt=Du([z[mt-1],[dt[0],ct],G[mt+1]&&z[mt+1]]);ue.attr("text",Ve(K.invert(Dt)).toFixed(n)),zn.attr("d",Rt),Oe.attr("cy",ct)}else{const[,xt]=Z.invert([dt[0],ct]),Dt=Du([z[mt-1],[dt[0],ct],z[mt+1]]);ue.attr("text",K.invert(xt).toFixed(n)),zn.attr("d",Dt),Oe.attr("cy",ct)}};ft=[Me.clientX,Me.clientY],window.addEventListener("mousemove",ye);const xn=()=>k1(this,void 0,void 0,function*(){if(d.attr("cursor","default"),window.removeEventListener("mousemove",ye),d.removeEventListener("mouseup",xn),he(ue.attr("text")))return;const sn=Number(ue.attr("text")),ct=kL(W,V);b=yield Tt(Gt,sn,ct,["line","area"]),ue.remove(),zn.remove(),L(D)});d.addEventListener("mouseup",xn)}),A.appendChild(Oe)}),PL(A.childNodes,x,s);else if(N==="interval"){let dt=[(z[0][0]+z[1][0])/2,z[0][1]];S?dt=[z[0][0],(z[0][1]+z[1][1])/2]:M&&(dt=z[0]);const mt=n2t(D),Gt=new Ao({name:L1,style:Object.assign(Object.assign({cx:dt[0],cy:dt[1],fill:j},s),{stroke:s.activeStroke})});Gt.addEventListener("mousedown",Oe=>{d.attr("cursor","move");const Ve=kL(W,V),[Me,dn]=CL(A,Gt,a,o),Be=ue=>{if(S){const ye=dt[0]+ue.clientX-ft[0],[xn]=Z.output([K.output(0),K.output(0)]),[,sn]=Z.invert([xn+(ye-z[2][0]),dt[1]]),ct=Du([[ye,z[0][1]],[ye,z[1][1]],z[2],z[3]],!0);dn.attr("text",mt(K.invert(sn)).toFixed(n)),Me.attr("d",ct),Gt.attr("cx",ye)}else if(M){const ye=dt[1]+ue.clientY-ft[1],xn=dt[0]+ue.clientX-ft[0],[sn,ct]=D1(at,[xn,ye],dt),[xt,Dt]=D1(at,[xn,ye],z[1]),Rt=Z.invert([sn,ct])[1],fe=H-Rt;if(fe<0)return;const Xe=Gxt(at,[[sn,ct],[xt,Dt],z[2],z[3]],fe>.5?1:0);dn.attr("text",mt(fe,!0).toFixed(n)),Me.attr("d",Xe),Gt.attr("cx",sn),Gt.attr("cy",ct)}else{const ye=dt[1]+ue.clientY-ft[1],[,xn]=Z.output([1,K.output(0)]),[,sn]=Z.invert([dt[0],xn-(z[2][1]-ye)]),ct=Du([[z[0][0],ye],[z[1][0],ye],z[2],z[3]],!0);dn.attr("text",mt(K.invert(sn)).toFixed(n)),Me.attr("d",ct),Gt.attr("cy",ye)}};ft=[Oe.clientX,Oe.clientY],window.addEventListener("mousemove",Be);const zn=()=>k1(this,void 0,void 0,function*(){if(d.attr("cursor","default"),d.removeEventListener("mouseup",zn),window.removeEventListener("mousemove",Be),he(dn.attr("text")))return;const ue=Number(dn.attr("text"));b=yield Tt(Q,ue,Ve,[N]),dn.remove(),Me.remove(),L(D)});d.addEventListener("mouseup",zn)}),A.appendChild(Gt)}};m.forEach((D,I)=>{x[0]===I&&L(D),D.addEventListener("click",C),D.addEventListener("mouseenter",AL),D.addEventListener("mouseleave",EL)});const R=D=>{const I=D==null?void 0:D.target;(!I||I.name!==L1&&!m.includes(I))&&(x=[],P(),A.removeChildren())};return u.on("element-point:select",k),u.on("element-point:unselect",R),d.addEventListener("mousedown",R),()=>{A.remove(),u.off("element-point:select",k),u.off("element-point:unselect",R),d.removeEventListener("mousedown",R),m.forEach(D=>{D.removeEventListener("click",C),D.removeEventListener("mouseenter",AL),D.removeEventListener("mouseleave",EL)})}}}var LL={},I1={},R1=34,Iu=10,N1=13;function U9(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function a2t(t,e){var n=U9(t);return function(r,i){return e(n(r),i,t)}}function DL(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function or(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function o2t(t){return t<0?"-"+or(-t,6):t>9999?"+"+or(t,6):or(t,4)}function s2t(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":o2t(t.getUTCFullYear())+"-"+or(t.getUTCMonth()+1,2)+"-"+or(t.getUTCDate(),2)+(i?"T"+or(e,2)+":"+or(n,2)+":"+or(r,2)+"."+or(i,3)+"Z":r?"T"+or(e,2)+":"+or(n,2)+":"+or(r,2)+"Z":n||e?"T"+or(e,2)+":"+or(n,2)+"Z":"")}function l2t(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(f,h){var d,p,v=i(f,function(g,y){if(d)return d(g,y-1);p=g,d=h?a2t(g,h):U9(g)});return v.columns=p||[],v}function i(f,h){var d=[],p=f.length,v=0,g=0,y,m=p<=0,b=!1;f.charCodeAt(p-1)===Iu&&--p,f.charCodeAt(p-1)===N1&&--p;function x(){if(m)return I1;if(b)return b=!1,LL;var w,S=v,O;if(f.charCodeAt(S)===R1){for(;v++<p&&f.charCodeAt(v)!==R1||f.charCodeAt(++v)===R1;);return(w=v)>=p?m=!0:(O=f.charCodeAt(v++))===Iu?b=!0:O===N1&&(b=!0,f.charCodeAt(v)===Iu&&++v),f.slice(S+1,w-1).replace(/""/g,'"')}for(;v<p;){if((O=f.charCodeAt(w=v++))===Iu)b=!0;else if(O===N1)b=!0,f.charCodeAt(v)===Iu&&++v;else if(O!==n)continue;return f.slice(S,w)}return m=!0,f.slice(S,p)}for(;(y=x())!==I1;){for(var _=[];y!==LL&&y!==I1;)_.push(y),y=x();h&&(_=h(_,g++))==null||d.push(_)}return d}function a(f,h){return f.map(function(d){return h.map(function(p){return u(d[p])}).join(t)})}function o(f,h){return h==null&&(h=DL(f)),[h.map(u).join(t)].concat(a(f,h)).join(`
`)}function s(f,h){return h==null&&(h=DL(f)),a(f,h).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(t)}function u(f){return f==null?"":f instanceof Date?s2t(f):e.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}function c2t(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))u2t&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const u2t=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var f2t=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const q9=t=>{const{value:e,format:n=e.split(".").pop(),delimiter:r=",",autoType:i=!0}=t;return()=>f2t(void 0,void 0,void 0,function*(){const a=yield fetch(e);if(n==="csv"){const o=yield a.text();return l2t(r).parse(o,i?c2t:Rs)}else if(n==="json")return yield a.json();throw new Error(`Unknown format: ${n}.`)})};q9.props={};function h2t(t){return!t||Object.keys(t).length===0}const Z9=t=>{const{fields:e,key:n="key",value:r="value"}=t;return i=>h2t(e)?i:i.flatMap(a=>e.map(o=>Object.assign(Object.assign({},a),{[n]:o,[r]:a[o]})))};Z9.props={};function d2t(t){return t!=null&&!Number.isNaN(t)}const K9=t=>{const{callback:e=d2t}=t;return n=>n.filter(e)};K9.props={};const Q9=t=>{const{callback:e}=t;return n=>Array.isArray(n)?[...n].sort(e):n};Q9.props={};function p2t(t,e=[]){return e.reduce((n,r)=>(r in t&&(n[r]=t[r]),n),{})}const J9=t=>{const{fields:e}=t;return n=>n.map(r=>p2t(r,e))};J9.props={};function v2t(t){return Object.keys(t).length===0}const t7=t=>e=>{if(!t||v2t(t))return e;const n=r=>Object.entries(r).reduce((i,[a,o])=>(i[t[a]||a]=o,i),{});return e.map(n)};t7.props={};function g2t(t,e){return t.map(n=>{if(Array.isArray(n)){const[r,i=e]=n;return[r,i]}return[n,e]})}const e7=t=>{const{fields:e=[]}=t,n=g2t(e,!0);return r=>{const i=(a,o)=>n.reduce((s,[l,c=!0])=>s!==0?s:c?a[l]<o[l]?-1:+(a[l]!==o[l]):a[l]>o[l]?-1:+(a[l]!==o[l]),0);return[...r].sort(i)}};e7.props={};const n7=t=>{const{value:e}=t;return()=>e};n7.props={};const r7=t=>{const{callback:e=Rs}=t;return n=>e(n)};r7.props={};const i7=t=>{const{callback:e=Rs}=t;return n=>Array.isArray(n)?n.map(e):n};i7.props={};var y2t=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};function m2t(t,e){return{set(n,r,i){if(e[n]===void 0)return this;const a=r?r.call(null,e[n]):e[n];return i?i.call(null,a):typeof t[n]=="function"?t[n](a):t[n]=a,this},setAsync(n,r,i){return y2t(this,void 0,void 0,function*(){if(e[n]===void 0)return this;const a=r?yield r.call(null,e[n]):e[n];return i?i.call(null,a):typeof t[n]=="function"?t[n](a):t[n]=a,this})}}}const B1=Math.PI/180,rf=64,pv=2048;function b2t(t){return t.text}function x2t(){return"serif"}function IL(){return"normal"}function _2t(t){return t.value}function w2t(){return~~(Math.random()*2)*90}function S2t(){return 1}function O2t(){}function M2t(t,e,n,r){if(e.sprite)return;const i=t.context,a=t.ratio;i.clearRect(0,0,(rf<<5)/a,pv/a);let o=0,s=0,l=0;const c=n.length;for(--r;++r<c;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;let h=i.measureText(e.text+"m").width*a,d=e.size<<1;if(e.rotate){const p=Math.sin(e.rotate*B1),v=Math.cos(e.rotate*B1),g=h*v,y=h*p,m=d*v,b=d*p;h=Math.max(Math.abs(g+b),Math.abs(g-b))+31>>5<<5,d=~~Math.max(Math.abs(y+m),Math.abs(y-m))}else h=h+31>>5<<5;if(d>l&&(l=d),o+h>=rf<<5&&(o=0,s+=l,l=0),s+d>=pv)break;i.translate((o+(h>>1))/a,(s+(d>>1))/a),e.rotate&&i.rotate(e.rotate*B1),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=h,e.height=d,e.xoff=o,e.yoff=s,e.x1=h>>1,e.y1=d>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=h}const u=i.getImageData(0,0,(rf<<5)/a,pv/a).data,f=[];for(;--r>=0;){if(e=n[r],!e.hasText)continue;const h=e.width,d=h>>5;let p=e.y1-e.y0;for(let y=0;y<p*d;y++)f[y]=0;if(o=e.xoff,o==null)return;s=e.yoff;let v=0,g=-1;for(let y=0;y<p;y++){for(let m=0;m<h;m++){const b=d*y+(m>>5),x=u[(s+y)*(rf<<5)+(o+m)<<2]?1<<31-m%32:0;f[b]|=x,v|=x}v?g=y:(e.y0++,p--,y--,s++)}e.y1=e.y0+g,e.sprite=f.slice(0,(e.y1-e.y0)*d)}}function T2t(t,e,n){n>>=5;const r=t.sprite,i=t.width>>5,a=t.x-(i<<4),o=a&127,s=32-o,l=t.y1-t.y0;let c=(t.y+t.y0)*n+(a>>5),u;for(let f=0;f<l;f++){u=0;for(let h=0;h<=i;h++)if((u<<s|(h<i?(u=r[f*i+h])>>>o:0))&e[c+h])return!0;c+=n}return!1}function A2t(t,e){const n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function E2t(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function a7(t){const e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function P2t(t){const n=4*t[0]/t[1];let r=0,i=0;return function(a){const o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=n;break;case 1:i+=4;break;case 2:r-=n;break;default:i-=4;break}return[r,i]}}function RL(t){const e=[];let n=-1;for(;++n<t;)e[n]=0;return e}function C2t(){return document.createElement("canvas")}function ha(t){return typeof t=="function"?t:function(){return t}}const k2t={archimedean:a7,rectangular:P2t};function L2t(){let t=[256,256],e=b2t,n=x2t,r=_2t,i=IL,a=w2t,o=S2t,s=a7,l=Math.random,c=O2t,u=[],f=null,h=1/0,d=C2t;const p=IL,v={};v.start=function(){const[m,b]=t,x=g(d()),_=v.board?v.board:RL((t[0]>>5)*t[1]),w=u.length,S=[],O=u.map(function(P,E,C){return P.text=e.call(this,P,E,C),P.font=n.call(this,P,E,C),P.style=p.call(this,P,E,C),P.weight=i.call(this,P,E,C),P.rotate=a.call(this,P,E,C),P.size=~~r.call(this,P,E,C),P.padding=o.call(this,P,E,C),P}).sort(function(P,E){return E.size-P.size});let M=-1,T=v.board?[{x:0,y:0},{x:m,y:b}]:void 0;f&&clearInterval(f),f=setInterval(A,0),A();function A(){const P=Date.now();for(;Date.now()-P<h&&++M<w;){const E=O[M];E.x=m*(l()+.5)>>1,E.y=b*(l()+.5)>>1,M2t(x,E,O,M),E.hasText&&y(_,E,T)&&(c.call(null,"word",{cloud:v,word:E}),S.push(E),T?v.hasImage||A2t(T,E):T=[{x:E.x+E.x0,y:E.y+E.y0},{x:E.x+E.x1,y:E.y+E.y1}],E.x-=t[0]>>1,E.y-=t[1]>>1)}v._tags=S,v._bounds=T,M>=w&&(v.stop(),c.call(null,"end",{cloud:v,words:S,bounds:T}))}return v},v.stop=function(){return f&&(clearInterval(f),f=null),v};function g(m){m.width=m.height=1;const b=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(rf<<5)/b,m.height=pv/b;const x=m.getContext("2d");return x.fillStyle=x.strokeStyle="red",x.textAlign="center",x.textBaseline="middle",{context:x,ratio:b}}function y(m,b,x){const _=b.x,w=b.y,S=Math.sqrt(t[0]*t[0]+t[1]*t[1]),O=s(t),M=l()<.5?1:-1;let T,A=-M,P,E;for(;(T=O(A+=M))&&(P=~~T[0],E=~~T[1],!(Math.min(Math.abs(P),Math.abs(E))>=S));)if(b.x=_+P,b.y=w+E,!(b.x+b.x0<0||b.y+b.y0<0||b.x+b.x1>t[0]||b.y+b.y1>t[1])&&(!x||!T2t(b,m,t[0]))&&(!x||E2t(b,x))){const C=b.sprite,k=b.width>>5,L=t[0]>>5,R=b.x-(k<<4),D=R&127,I=32-D,N=b.y1-b.y0;let F,j=(b.y+b.y0)*L+(R>>5);for(let z=0;z<N;z++){F=0;for(let G=0;G<=k;G++)m[j+G]|=F<<I|(G<k?(F=C[z*k+G])>>>D:0);j+=L}return delete b.sprite,!0}return!1}return v.createMask=m=>{const b=document.createElement("canvas"),[x,_]=t;if(!x||!_)return;const w=x>>5,S=RL((x>>5)*_);b.width=x,b.height=_;const O=b.getContext("2d");O.drawImage(m,0,0,m.width,m.height,0,0,x,_);const M=O.getImageData(0,0,x,_).data;for(let T=0;T<_;T++)for(let A=0;A<x;A++){const P=w*T+(A>>5),E=T*x+A<<2,k=M[E]>=250&&M[E+1]>=250&&M[E+2]>=250?1<<31-A%32:0;S[P]|=k}v.board=S,v.hasImage=!0},v.timeInterval=function(m){h=m??1/0},v.words=function(m){u=m},v.size=function(m=[]){t=[+m[0],+m[1]]},v.text=function(m){e=ha(m)},v.font=function(m){n=ha(m)},v.fontWeight=function(m){i=ha(m)},v.rotate=function(m){a=ha(m)},v.canvas=function(m){d=ha(m)},v.spiral=function(m){s=k2t[m]||m},v.fontSize=function(m){r=ha(m)},v.padding=function(m){o=ha(m)},v.random=function(m){l=ha(m)},v.on=function(m){c=ha(m)},v}var D2t=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},I2t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const R2t={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return(~~(Math.random()*6)-3)*30}};function N2t(t){return new Promise((e,n)=>{if(t instanceof HTMLImageElement){e(t);return}if(typeof t=="string"){const r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=()=>e(r),r.onerror=()=>{console.error(`'image ${t} load failed !!!'`),n()};return}n()})}function B2t(t,e){if(typeof t=="function")return t;if(Array.isArray(t)){const[n,r]=t;if(!e)return()=>(r+n)/2;const[i,a]=e;return a===i?()=>(r+n)/2:({value:o})=>(r-n)/(a-i)*(o-i)+n}return()=>t}const o7=(t,e)=>n=>D2t(void 0,void 0,void 0,function*(){const r=Object.assign({},R2t,t,{canvas:e.createCanvas}),i=L2t();yield m2t(i,r).set("fontSize",m=>{const b=n.map(x=>x.value);return B2t(m,[Er(b),Jt(b)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",N2t,i.createMask),i.words([...n]);const a=i.start(),[o,s]=r.size,l=[{x:0,y:0},{x:o,y:s}],{_bounds:c=l,_tags:u,hasImage:f}=a,h=u.map(m=>{var{x:b,y:x,font:_}=m,w=I2t(m,["x","y","font"]);return Object.assign(Object.assign({},w),{x:b+o/2,y:x+s/2,fontFamily:_})}),[{x:d,y:p},{x:v,y:g}]=c,y={text:"",value:0,opacity:0,fontSize:0};return h.push(Object.assign(Object.assign({},y),{x:f?0:d,y:f?0:p}),Object.assign(Object.assign({},y),{x:f?o:v,y:f?s:g})),h});o7.props={};function NL(t){return typeof t=="string"?e=>e[t]:t}const s7=t=>{const{join:e,on:n,select:r=[],as:i=r,unknown:a=NaN}=t,[o,s]=n,l=NL(s),c=NL(o),u=aw(e,([f])=>f,f=>l(f));return f=>f.map(h=>{const d=u.get(c(h));return Object.assign(Object.assign({},h),r.reduce((p,v,g)=>(p[i[g]]=d?d[v]:a,p),{}))})};s7.props={};const l7=t=>{const{start:e,end:n}=t;return r=>r.slice(e,n)};l7.props={};var c7={exports:{}},u7={exports:{}};(function(t){var e=t.exports;t.exports.isNumber=function(n){return typeof n=="number"},t.exports.findMin=function(n){if(n.length===0)return 1/0;for(var r=n[0],i=1;i<n.length;i++)r=Math.min(r,n[i]);return r},t.exports.findMax=function(n){if(n.length===0)return-1/0;for(var r=n[0],i=1;i<n.length;i++)r=Math.max(r,n[i]);return r},t.exports.findMinMulti=function(n){for(var r=e.findMin(n[0]),i=1;i<n.length;i++)r=Math.min(r,e.findMin(n[i]));return r},t.exports.findMaxMulti=function(n){for(var r=e.findMax(n[0]),i=1;i<n.length;i++)r=Math.max(r,e.findMax(n[i]));return r},t.exports.inside=function(n,r,i){return n<=i&&i<=r}})(u7);var F2t=u7.exports;(function(t){var e=50,n=2,r=Math.log(2),i=t.exports,a=F2t;function o(l){return 1-Math.abs(l)}t.exports.getUnifiedMinMax=function(l,c){return i.getUnifiedMinMaxMulti([l],c)},t.exports.getUnifiedMinMaxMulti=function(l,c){c=c||{};var u=!1,f=!1,h=a.isNumber(c.width)?c.width:n,d=a.isNumber(c.size)?c.size:e,p=a.isNumber(c.min)?c.min:(u=!0,a.findMinMulti(l)),v=a.isNumber(c.max)?c.max:(f=!0,a.findMaxMulti(l)),g=v-p,y=g/(d-1);return u&&(p=p-2*h*y),f&&(v=v+2*h*y),{min:p,max:v}},t.exports.create=function(l,c){if(c=c||{},!l||l.length===0)return[];var u=a.isNumber(c.size)?c.size:e,f=a.isNumber(c.width)?c.width:n,h=i.getUnifiedMinMax(l,{size:u,width:f,min:c.min,max:c.max}),d=h.min,p=h.max,v=p-d,g=v/(u-1);if(v===0)return[{x:d,y:1}];for(var y=[],m=0;m<u;m++)y.push({x:d+m*g,y:0});var b=function(A){return Math.floor((A-d)/g)},x=s(o,f),_=x[f],w=x[f-1]-x[f-2],S=0;l.forEach(function(A){var P=b(A);if(!(P+f<0||P-f>=y.length)){var E=Math.max(P-f,0),C=P,k=Math.min(P+f,y.length-1),L=E-(P-f),R=P+f-k,D=x[-f-1+L]||0,I=x[-f-1+R]||0,N=_/(_-D-I);L>0&&(S+=N*(L-1)*w);var F=Math.max(0,P-f+1);a.inside(0,y.length-1,F)&&(y[F].y+=N*1*w),a.inside(0,y.length-1,C+1)&&(y[C+1].y-=N*2*w),a.inside(0,y.length-1,k+1)&&(y[k+1].y+=N*1*w)}});var O=S,M=0,T=0;return y.forEach(function(A){M+=A.y,O+=M,A.y=O,T+=O}),T>0&&y.forEach(function(A){A.y/=T}),y};function s(l,c){for(var u={},f=0,h=-c;h<=c;h++)f+=l(h/c),u[h]=f;return u}t.exports.getExpectedValueFromPdf=function(l){if(!(!l||l.length===0)){var c=0;return l.forEach(function(u){c+=u.x*u.y}),c}},t.exports.getXWithLeftTailArea=function(l,c){if(!(!l||l.length===0)){for(var u=0,f=0,h=0;h<l.length&&(f=h,u+=l[h].y,!(u>=c));h++);return l[f].x}},t.exports.getPerplexity=function(l){if(!(!l||l.length===0)){var c=0;return l.forEach(function(u){var f=Math.log(u.y);isFinite(f)&&(c+=u.y*f)}),c=-c/r,Math.pow(2,c)}}})(c7);var j2t=c7.exports;const z2t=P_(j2t),f7=t=>{const{field:e,groupBy:n,as:r=["y","size"],min:i,max:a,size:o=10,width:s}=t,[l,c]=r;return u=>Array.from(Pe(u,h=>n.map(d=>h[d]).join("-")).values()).map(h=>{const d=z2t.create(h.map(g=>g[e]),{min:i,max:a,size:o,width:s}),p=d.map(g=>g.x),v=d.map(g=>g.y);return Object.assign(Object.assign({},h[0]),{[l]:p,[c]:v})})};f7.props={};function $2t(t,e,n,r){r=r||{};var i=r.maxIterations||100,a=r.tolerance||1e-10,o=t(e),s=t(n),l=n-e;if(o*s>0)throw"Initial bisect points must have opposite signs";if(o===0)return e;if(s===0)return n;for(var c=0;c<i;++c){l/=2;var u=e+l,f=t(u);if(f*o>=0&&(e=u),Math.abs(l)<a||f===0)return u}return e+l}function __(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function BL(t,e){return __(t).map(function(){return __(e)})}function oc(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function w_(t){return Math.sqrt(oc(t,t))}function S_(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function ba(t,e,n,r,i){for(var a=0;a<t.length;++a)t[a]=e*n[a]+r*i[a]}function G2t(t,e,n){n=n||{};var r=n.maxIterations||e.length*200,i=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,o=n.minErrorDelta||1e-6,s=n.minErrorDelta||1e-5,l=n.rho!==void 0?n.rho:1,c=n.chi!==void 0?n.chi:2,u=n.psi!==void 0?n.psi:-.5,f=n.sigma!==void 0?n.sigma:.5,h,d=e.length,p=new Array(d+1);p[0]=e,p[0].fx=t(e),p[0].id=0;for(var v=0;v<d;++v){var g=e.slice();g[v]=g[v]?g[v]*i:a,p[v+1]=g,p[v+1].fx=t(g),p[v+1].id=v+1}function y(P){for(var E=0;E<P.length;E++)p[d][E]=P[E];p[d].fx=P.fx}for(var m=function(P,E){return P.fx-E.fx},b=e.slice(),x=e.slice(),_=e.slice(),w=e.slice(),S=0;S<r;++S){if(p.sort(m),n.history){var O=p.map(function(P){var E=P.slice();return E.fx=P.fx,E.id=P.id,E});O.sort(function(P,E){return P.id-E.id}),n.history.push({x:p[0].slice(),fx:p[0].fx,simplex:O})}for(h=0,v=0;v<d;++v)h=Math.max(h,Math.abs(p[0][v]-p[1][v]));if(Math.abs(p[0].fx-p[d].fx)<o&&h<s)break;for(v=0;v<d;++v){b[v]=0;for(var M=0;M<d;++M)b[v]+=p[M][v];b[v]/=d}var T=p[d];if(ba(x,1+l,b,-l,T),x.fx=t(x),x.fx<p[0].fx)ba(w,1+c,b,-c,T),w.fx=t(w),w.fx<x.fx?y(w):y(x);else if(x.fx>=p[d-1].fx){var A=!1;if(x.fx>T.fx?(ba(_,1+u,b,-u,T),_.fx=t(_),_.fx<T.fx?y(_):A=!0):(ba(_,1-u*l,b,u*l,T),_.fx=t(_),_.fx<x.fx?y(_):A=!0),A){if(f>=1)break;for(v=1;v<p.length;++v)ba(p[v],1-f,p[0],f,p[v]),p[v].fx=t(p[v])}}else y(x)}return p.sort(m),{fx:p[0].fx,x:p[0]}}function W2t(t,e,n,r,i,a,o){var s=n.fx,l=oc(n.fxprime,e),c=s,u=s,f=l,h=0;i=i||1,a=a||1e-6,o=o||.1;function d(v,g,y){for(var m=0;m<16;++m)if(i=(v+g)/2,ba(r.x,1,n.x,i,e),c=r.fx=t(r.x,r.fxprime),f=oc(r.fxprime,e),c>s+a*i*l||c>=y)g=i;else{if(Math.abs(f)<=-o*l)return i;f*(g-v)>=0&&(g=v),v=i,y=c}return 0}for(var p=0;p<10;++p){if(ba(r.x,1,n.x,i,e),c=r.fx=t(r.x,r.fxprime),f=oc(r.fxprime,e),c>s+a*i*l||p&&c>=u)return d(h,i,u);if(Math.abs(f)<=-o*l)return i;if(f>=0)return d(i,h,c);u=c,h=i,i*=2}return i}function H2t(t,e,n){var r={x:e.slice(),fx:0,fxprime:e.slice()},i={x:e.slice(),fx:0,fxprime:e.slice()},a=e.slice(),o,s,l=1,c;n=n||{},c=n.maxIterations||e.length*20,r.fx=t(r.x,r.fxprime),o=r.fxprime.slice(),S_(o,r.fxprime,-1);for(var u=0;u<c;++u){if(l=W2t(t,o,r,i,l),n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:l}),!l)S_(o,r.fxprime,-1);else{ba(a,1,i.fxprime,-1,r.fxprime);var f=oc(r.fxprime,r.fxprime),h=Math.max(0,oc(a,i.fxprime)/f);ba(o,h,o,-1,i.fxprime),s=r,r=i,i=s}if(w_(r.fxprime)<=1e-5)break}return n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:l}),r}const h7=1e-10;function d7(t,e){const n=V2t(t),r=n.filter(function(l){return Y2t(l,t)});let i=0,a=0,o;const s=[];if(r.length>1){const l=X2t(r);for(o=0;o<r.length;++o){const u=r[o];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}r.sort(function(u,f){return f.angle-u.angle});let c=r[r.length-1];for(o=0;o<r.length;++o){const u=r[o];a+=(c.x+u.x)*(u.y-c.y);const f={x:(u.x+c.x)/2,y:(u.y+c.y)/2};let h=null;for(let d=0;d<u.parentIndex.length;++d)if(c.parentIndex.indexOf(u.parentIndex[d])>-1){const p=t[u.parentIndex[d]],v=Math.atan2(u.x-p.x,u.y-p.y),g=Math.atan2(c.x-p.x,c.y-p.y);let y=g-v;y<0&&(y+=2*Math.PI);const m=g-y/2;let b=Ph(f,{x:p.x+p.radius*Math.sin(m),y:p.y+p.radius*Math.cos(m)});b>p.radius*2&&(b=p.radius*2),(h===null||h.width>b)&&(h={circle:p,width:b,p1:u,p2:c})}h!==null&&(s.push(h),i+=O_(h.circle.radius,h.width),c=u)}}else{let l=t[0];for(o=1;o<t.length;++o)t[o].radius<l.radius&&(l=t[o]);let c=!1;for(o=0;o<t.length;++o)if(Ph(t[o],l)>Math.abs(l.radius-t[o].radius)){c=!0;break}c?i=a=0:(i=l.radius*l.radius*Math.PI,s.push({circle:l,p1:{x:l.x,y:l.y+l.radius},p2:{x:l.x-h7,y:l.y+l.radius},width:l.radius*2}))}return a/=2,e&&(e.area=i+a,e.arcArea=i,e.polygonArea=a,e.arcs=s,e.innerPoints=r,e.intersectionPoints=n),i+a}function Y2t(t,e){for(let n=0;n<e.length;++n)if(Ph(t,e[n])>e[n].radius+h7)return!1;return!0}function V2t(t){const e=[];for(let n=0;n<t.length;++n)for(let r=n+1;r<t.length;++r){const i=v7(t[n],t[r]);for(let a=0;a<i.length;++a){const o=i[a];o.parentIndex=[n,r],e.push(o)}}return e}function O_(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function Ph(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function p7(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);const r=t-(n*n-e*e+t*t)/(2*n),i=e-(n*n-t*t+e*e)/(2*n);return O_(t,r)+O_(e,i)}function v7(t,e){const n=Ph(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];const a=(r*r-i*i+n*n)/(2*n),o=Math.sqrt(r*r-a*a),s=t.x+a*(e.x-t.x)/n,l=t.y+a*(e.y-t.y)/n,c=-(e.y-t.y)*(o/n),u=-(e.x-t.x)*(o/n);return[{x:s+c,y:l-u},{x:s-c,y:l+u}]}function X2t(t){const e={x:0,y:0};for(let n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function U2t(t,e){e=e||{},e.maxIterations=e.maxIterations||500;const n=e.initialLayout||Q2t,r=e.lossFunction||xO;t=q2t(t);const i=n(t,e),a=[],o=[];let s;for(s in i)i.hasOwnProperty(s)&&(a.push(i[s].x),a.push(i[s].y),o.push(s));const c=G2t(function(u){const f={};for(let h=0;h<o.length;++h){const d=o[h];f[d]={x:u[2*h],y:u[2*h+1],radius:i[d].radius}}return r(f,t)},a,e).x;for(let u=0;u<o.length;++u)s=o[u],i[s].x=c[2*u],i[s].y=c[2*u+1];return i}const g7=1e-10;function M_(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+g7?Math.abs(t-e):$2t(function(r){return p7(t,e,r)-n},0,t+e)}function q2t(t){t=t.slice();const e=[],n={};let r,i,a,o;for(r=0;r<t.length;++r){const s=t[r];s.sets.length==1?e.push(s.sets[0]):s.sets.length==2&&(a=s.sets[0],o=s.sets[1],n[[a,o]]=!0,n[[o,a]]=!0)}for(e.sort((s,l)=>s>l?1:-1),r=0;r<e.length;++r)for(a=e[r],i=r+1;i<e.length;++i)o=e[i],[a,o]in n||t.push({sets:[a,o],size:0});return t}function Z2t(t,e,n){const r=BL(e.length,e.length),i=BL(e.length,e.length);return t.filter(function(a){return a.sets.length==2}).map(function(a){const o=n[a.sets[0]],s=n[a.sets[1]],l=Math.sqrt(e[o].size/Math.PI),c=Math.sqrt(e[s].size/Math.PI),u=M_(l,c,a.size);r[o][s]=r[s][o]=u;let f=0;a.size+1e-10>=Math.min(e[o].size,e[s].size)?f=1:a.size<=1e-10&&(f=-1),i[o][s]=i[s][o]=f}),{distances:r,constraints:i}}function K2t(t,e,n,r){let i=0,a;for(a=0;a<e.length;++a)e[a]=0;for(a=0;a<n.length;++a){const o=t[2*a],s=t[2*a+1];for(let l=a+1;l<n.length;++l){const c=t[2*l],u=t[2*l+1],f=n[a][l],h=r[a][l],d=(c-o)*(c-o)+(u-s)*(u-s),p=Math.sqrt(d),v=d-f*f;h>0&&p<=f||h<0&&p>=f||(i+=2*v*v,e[2*a]+=4*v*(o-c),e[2*a+1]+=4*v*(s-u),e[2*l]+=4*v*(c-o),e[2*l+1]+=4*v*(u-s))}}return i}function Q2t(t,e){let n=twt(t,e);const r=e.lossFunction||xO;if(t.length>=8){const i=J2t(t,e),a=r(i,t),o=r(n,t);a+1e-8<o&&(n=i)}return n}function J2t(t,e){e=e||{};const n=e.restarts||10,r=[],i={};let a;for(a=0;a<t.length;++a){const v=t[a];v.sets.length==1&&(i[v.sets[0]]=r.length,r.push(v))}const o=Z2t(t,r,i);let s=o.distances;const l=o.constraints,c=w_(s.map(w_))/s.length;s=s.map(function(v){return v.map(function(g){return g/c})});const u=function(v,g){return K2t(v,g,s,l)};let f,h;for(a=0;a<n;++a){const v=__(s.length*2).map(Math.random);h=H2t(u,v,e),(!f||h.fx<f.fx)&&(f=h)}const d=f.x,p={};for(a=0;a<r.length;++a){const v=r[a];p[v.sets[0]]={x:d[2*a]*c,y:d[2*a+1]*c,radius:Math.sqrt(v.size/Math.PI)}}if(e.history)for(a=0;a<e.history.length;++a)S_(e.history[a].x,c);return p}function twt(t,e){const n=e&&e.lossFunction?e.lossFunction:xO,r={},i={};let a;for(let f=0;f<t.length;++f){const h=t[f];h.sets.length==1&&(a=h.sets[0],r[a]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:h.size,radius:Math.sqrt(h.size/Math.PI)},i[a]=[])}t=t.filter(function(f){return f.sets.length==2});for(let f=0;f<t.length;++f){const h=t[f];let d=h.hasOwnProperty("weight")?h.weight:1;const p=h.sets[0],v=h.sets[1];h.size+g7>=Math.min(r[p].size,r[v].size)&&(d=0),i[p].push({set:v,size:h.size,weight:d}),i[v].push({set:p,size:h.size,weight:d})}const o=[];for(a in i)if(i.hasOwnProperty(a)){let f=0;for(let h=0;h<i[a].length;++h)f+=i[a][h].size*i[a][h].weight;o.push({set:a,size:f})}function s(f,h){return h.size-f.size}o.sort(s);const l={};function c(f){return f.set in l}function u(f,h){r[h].x=f.x,r[h].y=f.y,l[h]=!0}u({x:0,y:0},o[0].set);for(let f=1;f<o.length;++f){const h=o[f].set,d=i[h].filter(c);if(a=r[h],d.sort(s),d.length===0)throw"ERROR: missing pairwise overlap information";const p=[];for(let y=0;y<d.length;++y){const m=r[d[y].set],b=M_(a.radius,m.radius,d[y].size);p.push({x:m.x+b,y:m.y}),p.push({x:m.x-b,y:m.y}),p.push({y:m.y+b,x:m.x}),p.push({y:m.y-b,x:m.x});for(let x=y+1;x<d.length;++x){const _=r[d[x].set],w=M_(a.radius,_.radius,d[x].size),S=v7({x:m.x,y:m.y,radius:b},{x:_.x,y:_.y,radius:w});for(let O=0;O<S.length;++O)p.push(S[O])}}let v=1e50,g=p[0];for(let y=0;y<p.length;++y){r[h].x=p[y].x,r[h].y=p[y].y;const m=n(r,t);m<v&&(v=m,g=p[y])}u(g,h)}return r}function xO(t,e){let n=0;function r(i){return i.map(function(a){return t[a]})}for(let i=0;i<e.length;++i){const a=e[i];let o;if(a.sets.length==1)continue;if(a.sets.length==2){const l=t[a.sets[0]],c=t[a.sets[1]];o=p7(l.radius,c.radius,Ph(l,c))}else o=d7(r(a.sets));const s=a.hasOwnProperty("weight")?a.weight:1;n+=s*(o-a.size)*(o-a.size)}return n}function ewt(t){const e=function(n){const r=Math.max.apply(null,t.map(function(a){return a[n]+a.radius})),i=Math.min.apply(null,t.map(function(a){return a[n]-a.radius}));return{max:r,min:i}};return{xRange:e("x"),yRange:e("y")}}function nwt(t,e,n,r){const i=[],a=[];for(const v in t)t.hasOwnProperty(v)&&(a.push(v),i.push(t[v]));e-=2*r,n-=2*r;const o=ewt(i),s=o.xRange,l=o.yRange;if(s.max==s.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),t;const c=e/(s.max-s.min),u=n/(l.max-l.min),f=Math.min(u,c),h=(e-(s.max-s.min)*f)/2,d=(n-(l.max-l.min)*f)/2,p={};for(let v=0;v<i.length;++v){const g=i[v];p[a[v]]={radius:f*g.radius,x:r+h+(g.x-s.min)*f,y:r+d+(g.y-l.min)*f}}return p}function rwt(t,e,n){const r=[],i=t-n,a=e;return r.push("M",i,a),r.push("A",n,n,0,1,0,i+2*n,a),r.push("A",n,n,0,1,0,i,a),r.join(" ")}function iwt(t){const e={};d7(t,e);const n=e.arcs;if(n.length===0)return"M 0 0";if(n.length==1){const r=n[0].circle;return rwt(r.x,r.y,r.radius)}else{const r=[`
M`,n[0].p2.x,n[0].p2.y];for(let i=0;i<n.length;++i){const a=n[i],o=a.circle.radius,s=a.width>o;r.push(`
A`,o,o,0,s?1:0,1,a.p1.x,a.p1.y)}return r.join(" ")}}const y7=t=>{const{sets:e="sets",size:n="size",as:r=["key","path"],padding:i=0}=t,[a,o]=r;return s=>{const l=s.map(f=>Object.assign(Object.assign({},f),{sets:f[e],size:f[n],[a]:f.sets.join("&")}));l.sort((f,h)=>f.sets.length-h.sets.length);const c=U2t(l);let u;return l.map(f=>{const h=f[e],d=({width:p,height:v})=>{u=u||nwt(c,p,v,i);const g=h.map(m=>u[m]);let y=iwt(g);return/[zZ]$/.test(y)||(y+=" Z"),y};return Object.assign(Object.assign({},f),{[o]:d})})}};y7.props={};const m7=()=>t=>(console.log("G2 data section:",t),t);m7.props={};function T_(t){const{min:e,max:n}=t;return[[e[0],e[1]],[n[0],n[1]]]}function FL(t,e){const[n,r]=t,[i,a]=e;return n>=i[0]&&n<=a[0]&&r>=i[1]&&r<=a[1]}function awt(t,e){const[n,r]=t;return!(FL(n,e)&&FL(r,e))}function owt(t,e){const[n,r]=t,[i,a]=e;return n[0]<a[0]&&r[0]>i[0]&&n[1]<a[1]&&r[1]>i[1]}const swt=t=>{const{priority:e}=t;return n=>{const r=[];return e&&n.sort(e),n.forEach(i=>{ly(i);const a=i.getLocalBounds();r.some(s=>owt(T_(a),T_(s.getLocalBounds())))?cO(i):r.push(i)}),n}};function lwt([t,e],[n,r]){return r>t&&e>n}function zp(){const t=new Map;return[r=>t.get(r),(r,i)=>t.set(r,i)]}function cwt(t){const e=t.cloneNode(!0),n=e.getElementById("connector");n&&e.removeChild(n);const{min:r,max:i}=e.getRenderBounds();return e.destroy(),{min:r,max:i}}const uwt=t=>{const{maxIterations:e=10,maxError:n=.1,padding:r=1}=t;return i=>{const a=i.length;if(a<=1)return i;const[o,s]=zp(),[l,c]=zp(),[u,f]=zp(),[h,d]=zp();for(const p of i){const{min:v,max:g}=cwt(p),[y,m]=v,[b,x]=g;s(p,m),c(p,m),f(p,x-m),d(p,[y,b])}for(let p=0;p<e;p++){i.sort((g,y)=>ze(l(g),l(y)));let v=0;for(let g=0;g<a-1;g++){const y=i[g];let m=g+1,b;for(;(b=i[m])&&!lwt(h(y),h(b));)m+=1;if(b){const x=l(y),_=u(y),w=l(b),S=w-(x+_);if(S<r){const O=(r-S)/2;v=Math.max(v,O),c(y,x-O),c(b,w+O)}}}if(v<n)break}for(const p of i)p.style.y+=l(p)-o(p);return i}};function fwt(t){return typeof t=="object"?t:Oa(t)}function F1(t){let e=t/255;return e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),e}function jL(t,e,n){return .2126*F1(t)+.7152*F1(e)+.0722*F1(n)}function b7(t,e){const{r:n,g:r,b:i}=t,{r:a,g:o,b:s}=e,l=jL(n,r,i),c=jL(a,o,s);return(Math.max(l,c)+.05)/(Math.min(l,c)+.05)}function hwt(t,e){const n=Yc(e,r=>b7(t,fwt(r)));return e[n]}const dwt=t=>{const{threshold:e=4.5,palette:n=["#000","#fff"]}=t;return r=>(r.forEach(i=>{const a=i.attr("dependentElement").parsedStyle.fill,o=i.parsedStyle.fill;b7(o,a)<e&&i.attr("fill",hwt(a,n))}),r)},pwt=()=>t=>(t.forEach(e=>{ly(e);const n=e.attr("bounds"),r=e.getLocalBounds();awt(T_(r),n)&&cO(e)}),t),vwt=(t,e)=>{const[[n,r],[i,a]]=e,[[o,s],[l,c]]=t;let u=0,f=0;return o<n?u=n-o:l>i&&(u=i-l),s<r?f=r-s:c>a&&(f=a-c),[u,f]},gwt=()=>(t,{canvas:e})=>{const{width:n,height:r}=e.getConfig();return t.forEach(i=>{ly(i);const{max:a,min:o}=i.getRenderBounds(),[s,l]=a,[c,u]=o,f=vwt([[c,u],[s,l]],[[0,0],[n,r]]);i.style.connector&&i.style.connectorPoints&&(i.style.connectorPoints[0][0]-=f[0],i.style.connectorPoints[0][1]-=f[1]),i.style.x+=f[0],i.style.y+=f[1]}),t};function ywt(){return{"data.fetch":q9,"data.inline":n7,"data.sortBy":e7,"data.sort":Q9,"data.filter":K9,"data.pick":J9,"data.rename":t7,"data.fold":Z9,"data.slice":l7,"data.custom":r7,"data.map":i7,"data.join":s7,"data.kde":f7,"data.log":m7,"data.wordCloud":o7,"transform.stackY":N3,"transform.binX":qN,"transform.bin":_w,"transform.dodgeX":X3,"transform.jitter":kN,"transform.jitterX":LN,"transform.jitterY":DN,"transform.symmetryY":IN,"transform.diffY":RN,"transform.stackEnter":U3,"transform.normalizeY":q3,"transform.select":O0,"transform.selectX":NN,"transform.selectY":BN,"transform.groupX":FN,"transform.groupY":jN,"transform.groupColor":zN,"transform.group":Uh,"transform.sortX":GN,"transform.sortY":HN,"transform.sortColor":WN,"transform.flexX":YN,"transform.pack":UN,"transform.sample":ZN,"transform.filter":KN,"coordinate.cartesian":NR,"coordinate.polar":Fh,"coordinate.transpose":q2,"coordinate.theta":FR,"coordinate.parallel":K2,"coordinate.fisheye":zR,"coordinate.radial":Z2,"coordinate.radar":$R,"encode.constant":GR,"encode.field":HR,"encode.transform":WR,"encode.column":YR,"mark.interval":w8,"mark.rect":S8,"mark.line":O8,"mark.point":M8,"mark.text":T8,"mark.cell":A8,"mark.area":E8,"mark.link":xS,"mark.image":P8,"mark.polygon":C8,"mark.box":k8,"mark.vector":L8,"mark.lineX":I8,"mark.lineY":D8,"mark.connector":R8,"mark.range":N8,"mark.rangeX":B8,"mark.rangeY":F8,"mark.path":W8,"mark.shape":aF,"mark.density":bF,"mark.heatmap":xF,"mark.wordCloud":TS,"palette.category10":wF,"palette.category20":SF,"scale.linear":MF,"scale.ordinal":TF,"scale.band":OF,"scale.identity":AF,"scale.point":EF,"scale.time":PF,"scale.log":CF,"scale.pow":kF,"scale.sqrt":RF,"scale.threshold":LF,"scale.quantile":DF,"scale.quantize":IF,"scale.sequential":NF,"scale.constant":BF,"theme.classic":FF,"theme.classicDark":zF,"theme.academy":$F,"theme.light":ES,"theme.dark":jF,"component.axisX":QF,"component.axisY":JF,"component.legendCategory":CS,"component.legendContinuous":Fo,"component.legends":lj,"component.title":rj,"component.sliderX":ij,"component.sliderY":aj,"component.scrollbarX":oj,"component.scrollbarY":sj,"animation.scaleInX":LS,"animation.scaleOutX":Hvt,"animation.scaleInY":cj,"animation.scaleOutY":Yvt,"animation.waveIn":pj,"animation.fadeIn":uj,"animation.fadeOut":fj,"animation.zoomIn":ngt,"animation.zoomOut":rgt,"animation.pathIn":vj,"animation.morphing":dj,"animation.growInX":gj,"animation.growInY":yj,"interaction.elementHighlight":uy,"interaction.elementHighlightByX":w9,"interaction.elementHighlightByColor":S9,"interaction.elementSelect":fy,"interaction.elementSelectByX":O9,"interaction.elementSelectByColor":M9,"interaction.fisheye":Qxt,"interaction.chartIndex":T9,"interaction.tooltip":R9,"interaction.legendFilter":y_t,"interaction.legendHighlight":m_t,"interaction.brushHighlight":vO,"interaction.brushXHighlight":O_t,"interaction.brushYHighlight":M_t,"interaction.brushAxisHighlight":I_t,"interaction.brushFilter":bO,"interaction.brushXFilter":F_t,"interaction.brushYFilter":j_t,"interaction.sliderFilter":V9,"interaction.scrollbarFilter":H_t,"interaction.poptip":X9,"interaction.treemapDrillDown":Q_t,"interaction.elementPointMove":i2t,"composition.spaceLayer":Nj,"composition.spaceFlex":Bj,"composition.facetRect":Gj,"composition.repeatMatrix":J0t,"composition.facetCircle":ayt,"composition.timingKeyframe":Wj,"labelTransform.overlapHide":swt,"labelTransform.overlapDodgeY":uwt,"labelTransform.overflowHide":pwt,"labelTransform.contrastReverse":dwt,"labelTransform.exceedAdjust":gwt}}function mwt(){return{"composition.geoView":mz,"composition.geoPath":Hj}}function bwt(){return{"data.arc":wS,"data.cluster":vF,"mark.forceGraph":dF,"mark.tree":yF,"mark.pack":eF,"mark.sankey":$8,"mark.chord":G8,"mark.treemap":tF}}function xwt(){return{"data.venn":y7,"mark.boxplot":iF,"mark.gauge":mF,"mark.wordCloud":TS,"mark.liquid":_F}}function _wt(){return Object.assign(Object.assign(Object.assign(Object.assign({},mwt()),bwt()),xwt()),ywt())}function wwt(t,e){class n extends t{constructor(i){super(Object.assign(Object.assign({},i),{lib:e}))}}return n}const Swt={},Al=t=>t?parseInt(t):0;function Owt(t){const e=getComputedStyle(t),n=t.clientWidth||Al(e.width),r=t.clientHeight||Al(e.height),i=Al(e.paddingLeft)+Al(e.paddingRight),a=Al(e.paddingTop)+Al(e.paddingBottom);return{width:n-i,height:r-a}}function j1(t,e){const n=[t];for(;n.length;){const r=n.shift();e&&e(r);const i=r.children||[];for(const a of i)n.push(a)}}class _O{constructor(e={},n){this.parentNode=null,this.children=[],this.index=0,this.type=n,this.value=e}map(e=n=>n){const n=e(this.value);return this.value=n,this}attr(e,n){return arguments.length===1?this.value[e]:this.map(r=>(r[e]=n,r))}append(e){const n=new e({});return n.children=[],this.push(n),n}push(e){return e.parentNode=this,e.index=this.children.length,this.children.push(e),this}remove(){const e=this.parentNode;if(e){const{children:n}=e,r=n.findIndex(i=>i===this);n.splice(r,1)}return this}getNodeByKey(e){let n=null;return j1(this,i=>{e===i.attr("key")&&(n=i)}),n}getNodesByType(e){const n=[];return j1(this,i=>{e===i.type&&n.push(i)}),n}getNodeByType(e){let n=null;return j1(this,r=>{n||e===r.type&&(n=r)}),n}call(e,...n){return e(this.map(),...n),this}getRoot(){let e=this;for(;e&&e.parentNode;)e=e.parentNode;return e}}var x7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const A_=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title"],_7="__remove__",w7="__callback__",zL=1,$L=1;function Mwt(t){if(t===void 0){const e=document.createElement("div");return e[_7]=!0,e}return typeof t=="string"?document.getElementById(t):t}function Twt(t){const e=t.parentNode;e&&e.removeChild(t)}function Awt(t){if(t.type!==null)return t;const e=t.children[t.children.length-1];for(const n of A_)e.attr(n,t.attr(n));return e}function GL(t){return Object.assign(Object.assign({},t.value),{type:t.type})}function z1(t,e){const{width:n,height:r,autoFit:i,depth:a=0}=t;let o=640,s=480;if(i){const{width:l,height:c}=Owt(e);o=l||o,s=c||s}return o=n||o,s=r||s,{width:Math.max(we(o)?o:zL,zL),height:Math.max(we(s)?s:$L,$L),depth:a}}function Ewt(t){const e=Awt(t),n=[e],r=new Map;for(r.set(e,GL(e));n.length;){const i=n.pop(),a=r.get(i),{children:o=[]}=i;for(const s of o)if(s.type===w7)a.children=s.value;else{const l=GL(s),{children:c=[]}=a;c.push(l),n.push(s),r.set(s,l),a.children=c}}return r.get(e)}function Pwt(t,e){return typeof t=="function"?!0:new Set(Object.keys(e)).has(t)}function Cwt(t,e){return typeof t!="function"&&new Set(Object.keys(e)).has(t)}function kwt(t,e,n,r,i){const{type:a}=t,{type:o=n||a}=e;if(Cwt(o,i)){for(const s of A_)t.attr(s)!==void 0&&e[s]===void 0&&(e[s]=t.attr(s));return e}if(Pwt(o,r)){const s={type:"view"},l=Object.assign({},e);for(const c of A_)l[c]!==void 0&&(s[c]=l[c],delete l[c]);return Object.assign(Object.assign({},s),{children:[l]})}return e}function Lwt(t,e,n){if(typeof t=="function")return e.mark;const i=Object.assign(Object.assign({},e),n)[t];if(!i)throw new Error(`Unknown mark: ${t}.`);return i}function Dwt(t,e,n){if(typeof t=="function"){const l=new _O;return l.value=t,l.type=w7,l}const{type:r,children:i}=t,a=x7(t,["type","children"]),o=Lwt(r,e,n),s=new o;return s.value=a,s.type=r,s}function Iwt(t,e){const{type:n,children:r}=e,i=x7(e,["type","children"]);t.type===n||n===void 0?P3(t.value,i):typeof n=="string"&&(t.type=n,t.value=i)}function Rwt(t,e,n,r){if(!t)return;const i=[[t,e]];for(;i.length;){const[a,o]=i.shift(),s=Dwt(o,n,r);Array.isArray(a.children)&&a.push(s);const{children:l}=o;if(Array.isArray(l))for(const c of l)i.push([s,c]);else typeof l=="function"&&i.push([s,l])}}function Nwt(t,e,n,r,i){const a=kwt(t,e,n,r,i),o=[[null,t,a]];for(;o.length;){const[s,l,c]=o.shift();if(!l)Rwt(s,c,r,i);else if(!c)l.remove();else{Iwt(l,c);const{children:u}=c,{children:f}=l;if(Array.isArray(u)&&Array.isArray(f)){const h=Math.max(u.length,f.length);for(let d=0;d<h;d++){const p=u[d],v=f[d];o.push([l,v,p])}}else typeof u=="function"&&o.push([l,null,u])}}}function Bwt(){let t,e;return[new Promise((r,i)=>{e=r,t=i}),e,t]}function Fwt(t,e,{key:n=e}){t.prototype[e]=function(r){return arguments.length===0?this.attr(n):this.attr(n,r)}}function jwt(t,e,{key:n=e}){t.prototype[e]=function(r){if(arguments.length===0)return this.attr(n);if(Array.isArray(r))return this.attr(n,r);const i=[...this.attr(n)||[],r];return this.attr(n,i)}}function zwt(t,e,{key:n=e}){t.prototype[e]=function(r,i){if(arguments.length===0)return this.attr(n);if(arguments.length===1&&typeof r!="string")return this.attr(n,r);const a=this.attr(n)||{};return a[r]=arguments.length===1?!0:i,this.attr(n,a)}}function $wt(t,e,n){t.prototype[e]=function(r){if(arguments.length===0)return this.attr(e);if(Array.isArray(r))return this.attr(e,{items:r});if(yc(r)&&(r.title!==void 0||r.items!==void 0))return this.attr(e,r);if(r===null||r===!1)return this.attr(e,r);const i=this.attr(e)||{},{items:a=[]}=i;return a.push(r),i.items=a,this.attr(e,i)}}function Gwt(t,e,{ctor:n}){t.prototype[e]=function(r){const i=this.append(n);return e==="mark"&&(i.type=r),i}}function Wwt(t,e,{ctor:n}){t.prototype[e]=function(){return this.type=null,this.append(n)}}function Fg(t){return e=>{for(const[n,r]of Object.entries(t)){const{type:i}=r;i==="value"?Fwt(e,n,r):i==="array"?jwt(e,n,r):i==="object"?zwt(e,n,r):i==="node"?Gwt(e,n,r):i==="container"?Wwt(e,n,r):i==="mix"&&$wt(e,n)}return e}}function WL(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,{type:"node",ctor:n}]))}const S7={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},Hwt=Object.assign(Object.assign({},S7),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),Ywt=Object.assign(Object.assign({},S7),{labelTransform:{type:"array"}});var Vwt=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};let jg=class extends _O{changeData(e){var n;const r=this.getRoot();if(r)return this.attr("data",e),!((n=this.children)===null||n===void 0)&&n.length&&this.children.forEach(i=>{i.attr("data",e)}),r==null?void 0:r.render()}getView(){const e=this.getRoot(),{views:n}=e.getContext();if(n!=null&&n.length)return n.find(r=>r.key===this._key)}getScale(){var e;return(e=this.getView())===null||e===void 0?void 0:e.scale}getScaleByChannel(e){const n=this.getScale();if(n)return n[e]}getCoordinate(){var e;return(e=this.getView())===null||e===void 0?void 0:e.coordinate}getTheme(){var e;return(e=this.getView())===null||e===void 0?void 0:e.theme}getGroup(){const e=this._key;return e?this.getRoot().getContext().canvas.getRoot().getElementById(e):void 0}show(){const e=this.getGroup();e&&!e.isVisible()&&ly(e)}hide(){const e=this.getGroup();e&&e.isVisible()&&cO(e)}};jg=Vwt([Fg(Ywt)],jg);var Xwt=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};let E_=class extends _O{changeData(e){const n=this.getRoot();if(n)return this.attr("data",e),n==null?void 0:n.render()}getMark(){var e;const n=(e=this.getRoot())===null||e===void 0?void 0:e.getView();if(!n)return;const{markState:r}=n,i=Array.from(r.keys()).find(a=>a.key===this.attr("key"));return r.get(i)}getScale(){var e;const n=(e=this.getRoot())===null||e===void 0?void 0:e.getView();if(n)return n==null?void 0:n.scale}getScaleByChannel(e){var n,r;const i=(n=this.getRoot())===null||n===void 0?void 0:n.getView();if(i)return(r=i==null?void 0:i.scale)===null||r===void 0?void 0:r[e]}getGroup(){const e=this.attr("key");return e?this.getRoot().getContext().canvas.getRoot().getElementById(e):void 0}};E_=Xwt([Fg(Hwt)],E_);var Uwt=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},qwt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Zwt="G2_CHART_KEY";class Kwt extends jg{constructor(e){const{container:n,canvas:r,renderer:i,plugins:a,lib:o,createCanvas:s}=e,l=qwt(e,["container","canvas","renderer","plugins","lib","createCanvas"]);super(l,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=ZR(()=>{this.forceFit()},300),this._renderer=i||new Sj,this._plugins=a||[],this._container=Mwt(n),this._emitter=new Mj,this._context={library:Object.assign(Object.assign({},o),Swt),emitter:this._emitter,canvas:r,createCanvas:s},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._context.canvas.getConfig().supportsCSSTransform=!0,this._bindAutoFit(),this._rendering=!0;const e=new Promise((a,o)=>Ixt(this._computedOptions(),this._context,this._createResolve(a),this._createReject(o))),[n,r,i]=Bwt();return e.then(r).catch(i).then(()=>this._renderTrailing()),n}options(e){if(arguments.length===0)return Ewt(this);const{type:n}=e;return n&&(this._previousDefinedType=n),Nwt(this,e,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(e,n,r){return this._emitter.on(e,n,r),this}once(e,n){return this._emitter.once(e,n),this}emit(e,...n){return this._emitter.emit(e,...n),this}off(e,n){return this._emitter.off(e,n),this}clear(){const e=this.options();this.emit(ee.BEFORE_CLEAR),this._reset(),bL(e,this._context,!1),this.emit(ee.AFTER_CLEAR)}destroy(){const e=this.options();this.emit(ee.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),bL(e,this._context,!0),this._container[_7]&&Twt(this._container),this.emit(ee.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:e,height:n}=z1(this.options(),this._container);if(e===this._width&&n===this._height)return Promise.resolve(this);this.emit(ee.BEFORE_CHANGE_SIZE);const r=this.render();return r.then(()=>{this.emit(ee.AFTER_CHANGE_SIZE)}),r}changeSize(e,n){if(e===this._width&&n===this._height)return Promise.resolve(this);this.emit(ee.BEFORE_CHANGE_SIZE),this.attr("width",e),this.attr("height",n);const r=this.render();return r.then(()=>{this.emit(ee.AFTER_CHANGE_SIZE)}),r}_create(){const{library:e}=this._context,n=a=>a.startsWith("mark.")||a==="component.axisX"||a==="component.axisY"||a==="component.legends",r=["mark.mark",...Object.keys(e).filter(n)];this._marks={};for(const a of r){const o=a.split(".").pop();class s extends E_{constructor(){super({},o)}}this._marks[o]=s,this[o]=function(l){const c=this.append(s);return o==="mark"&&(c.type=l),c}}const i=["composition.view",...Object.keys(e).filter(a=>a.startsWith("composition.")&&a!=="composition.mark")];this._compositions=Object.fromEntries(i.map(a=>{const o=a.split(".").pop();let s=class extends jg{constructor(){super({},o)}};return s=Uwt([Fg(WL(this._marks))],s),[o,s]}));for(const a of Object.values(this._compositions))Fg(WL(this._compositions))(a);for(const a of i){const o=a.split(".").pop();this[o]=function(){const s=this._compositions[o];return this.type=null,this.append(s)}}}_reset(){const e=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([n])=>n.startsWith("margin")||n.startsWith("padding")||n.startsWith("inset")||e.includes(n))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const e=this._trailingResolve.bind(this);this._trailingResolve=null,e(this)}).catch(e=>{const n=this._trailingReject.bind(this);this._trailingReject=null,n(e)}))}_createResolve(e){return()=>{this._rendering=!1,e(this)}}_createReject(e){return n=>{this._rendering=!1,e(n)}}_computedOptions(){const e=this.options(),{key:n=Zwt}=e,{width:r,height:i,depth:a}=z1(e,this._container);return this._width=r,this._height=i,this._key=n,Object.assign(Object.assign({key:this._key},e),{width:r,height:i,depth:a})}_createCanvas(){const{width:e,height:n}=z1(this.options(),this._container);this._plugins.push(new Oj),this._plugins.forEach(r=>this._renderer.registerPlugin(r)),this._context.canvas=new J4({container:this._container,width:e,height:n,renderer:this._renderer})}_addToTrailing(){var e;return(e=this._trailingResolve)===null||e===void 0||e.call(this,this),this._trailing=!0,new Promise((r,i)=>{this._trailingResolve=r,this._trailingReject=i})}_bindAutoFit(){const e=this.options(),{autoFit:n}=e;if(this._hasBindAutoFit){n||this._unbindAutoFit();return}n&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}const Qwt=Object.assign({},_wt()),Jwt=wwt(Kwt,Qwt),tSt={class:"flex flex-row justify-center items-center"},eSt=C_("div",{id:"main",class:"w-700px h-700px"},null,-1),nSt=C_("div",{class:"w-40px"},null,-1),hSt={__name:"chartTesting",setup(t){Mo([CK,AK,sK,zK,iZ,xQ]);const e=()=>{var i=document.getElementById("main"),a=lU(i),o;o={title:{text:"Accumulated Waterfall Chart"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(s){let l;return s[1]&&s[1].value!=="-"?l=s[1]:l=s[2],l&&l.name+"<br/>"+l.seriesName+" : "+l.value}},legend:{data:["Expenses","Income"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:function(){let s=[];for(let l=1;l<=11;l++)s.push("Nov "+l);return s}()},yAxis:{type:"value"},series:[{name:"Placeholder",type:"bar",stack:"Total",silent:!0,itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:[0,900,1245,1530,1376,1376,1511,1689,1856,1495,1292]},{name:"Income",type:"bar",stack:"Total",label:{show:!0,position:"top"},data:[900,345,393,"-","-",135,178,286,"-","-","-"]},{name:"Expenses",type:"bar",stack:"Total",label:{show:!0,position:"bottom"},data:["-","-","-",108,154,"-","-","-",119,361,203]}]},o&&a.setOption(o)},n=E7(null),r=i=>{const a=new Jwt({container:i,theme:"classicDark",autoFit:!0});a.interval().data([{month:"Jan.",profit:387264,start:0,end:387264},{month:"Feb.",profit:772096,start:387264,end:1159360},{month:"Mar.",profit:638075,start:1159360,end:1797435},{month:"Apr.",profit:-211386,start:1797435,end:1586049},{month:"May",profit:-138135,start:1586049,end:1447914},{month:"Jun",profit:-267238,start:1447914,end:1180676},{month:"Jul.",profit:431406,start:1180676,end:1612082},{month:"Aug.",profit:363018,start:1612082,end:1975100},{month:"Sep.",profit:-224638,start:1975100,end:1750462},{month:"Oct.",profit:-299867,start:1750462,end:1450595},{month:"Nov.",profit:607365,start:1450595,end:2057960},{month:"Dec.",profit:1106986,start:2057960,end:3164946},{month:"Total",start:0,end:3164946}]).encode("x","month").encode("y",["end","start"]).encode("color",o=>o.month==="Total"?"Total":o.profit>0?"Increase":"Decrease").axis("y",{labelFormatter:"~s"}).tooltip(["start","end"]),a.render()};return P7(()=>{e(),r(n.value)}),(i,a)=>(C7(),k7("div",tSt,[eSt,nSt,C_("div",{ref_key:"container",ref:n,class:"w-700px h-700px"},null,512)]))}};export{hSt as default};
